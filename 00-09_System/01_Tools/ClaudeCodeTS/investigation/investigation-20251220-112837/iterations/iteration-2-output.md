Reading prompt from stdin...
OpenAI Codex v0.73.0 (research preview)
--------
[1mworkdir:[0m /Users/ronaldeddings/ClaudeCodeTS
[1mmodel:[0m gpt-5.2
[1mprovider:[0m openai
[1mapproval:[0m never
[1msandbox:[0m danger-full-access
[1mreasoning effort:[0m high
[1mreasoning summaries:[0m auto
[1msession id:[0m 019b3cdc-5fca-7b93-8358-777f462b29b1
--------
[36muser[0m
==============================================
INVESTIGATION ITERATION 2: ENCYCLOPEDIA VERIFICATION
==============================================

You are verifying that CLI_ENCYCLOPEDIA.md accurately describes the original
CLI.js files, and that the TypeScript implementation matches.

MISSION: Verify encyclopedia accuracy against actual code.

AUTHORITATIVE INPUTS:
- Original ClaudeCodeCode/cli.js: @/Users/ronaldeddings/ClaudeCodeTS/bundles/ClaudeCodeCode/cli.js
- Original ClaudeAgentSDKCode/cli.js: @/Users/ronaldeddings/ClaudeCodeTS/bundles/ClaudeAgentSDKCode/cli.js
- TypeScript source: @/Users/ronaldeddings/ClaudeCodeTS/src
- Encyclopedia: @/Users/ronaldeddings/ClaudeCodeTS/CLI_ENCYCLOPEDIA.md
- Previous iteration findings: @/Users/ronaldeddings/ClaudeCodeTS/investigation/investigation-20251220-112837/iterations/iteration-1-output.md

INVESTIGATION TASKS:

1) ENCYCLOPEDIA SECTION AUDIT
   For EACH major section in CLI_ENCYCLOPEDIA.md:
   - Find the corresponding code in CLI.js
   - Verify the description is accurate
   - Note any discrepancies
   
2) UNDOCUMENTED CODE SEARCH
   Search CLI.js files for functionality NOT in the encyclopedia:
   
   ```bash
   # Find exported functions
   grep -oE 'exports\.[a-zA-Z]+|module\.exports' bundles/ClaudeCodeCode/cli.js | head -50
   
   # Find class definitions
   grep -oE 'class [A-Z][a-zA-Z]+' bundles/ClaudeCodeCode/cli.js | sort -u
   
   # Find major function patterns
   grep -oE 'function [a-zA-Z]+|async function [a-zA-Z]+|[a-zA-Z]+\s*=\s*async' bundles/ClaudeCodeCode/cli.js | head -50
   ```

3) TYPESCRIPT COVERAGE CHECK
   For each encyclopedia entry:
   - Is there corresponding TypeScript code?
   - Does the TypeScript match the encyclopedia description?
   
4) VERSION DISCREPANCY CHECK
   The encyclopedia mentions:
   - ClaudeAgentSDKCode/cli.js (2.0.67)
   - ClaudeCodeCode/cli.js (2.0.69)
   
   Verify:
   ```bash
   # Check for version strings in bundles
   grep -oE 'version["\s:]+[0-9]+\.[0-9]+\.[0-9]+' bundles/*/cli.js
   
   # Check TypeScript version
   grep -r "version" src/ --include="*.ts" | grep -v node_modules | head -20
   ```

5) CREATE VERIFICATION REPORT

Output file: investigation/iteration-2-encyclopedia-verification.md

Format:
```markdown
# Iteration 2: Encyclopedia Verification

## Section-by-Section Audit

### [Section Name from Encyclopedia]
- Encyclopedia says: [summary]
- CLI.js actually: [what code shows]
- TypeScript has: [what's implemented]
- Accuracy: ‚úÖ ACCURATE / ‚ö†Ô∏è PARTIAL / ‚ùå INACCURATE

[Repeat for each section]

## Undocumented Functionality Found
| Function/Class | In CLI.js | In Encyclopedia | In TypeScript |
|----------------|-----------|-----------------|---------------|
| | | | |

## Version Check
- Encyclopedia versions: 2.0.67, 2.0.69
- Actual bundle versions: [found]
- TypeScript version: [found or N/A]

## Encyclopedia Corrections Needed
1. [correction]
2. [correction]

## Missing TypeScript Coverage
1. [missing item]
2. [missing item]
```

Begin now.

[36mmcp:[0m context7 starting
[36mmcp:[0m figma starting
[36mmcp:[0m chrome-devtools starting
[36mmcp:[0m figma ready
[36mmcp:[0m context7 ready
[36mmcp:[0m chrome-devtools ready
[36mmcp startup:[0m ready: figma, context7, chrome-devtools

[35m[3mthinking[0m[0m
**Verifying encyclopedia accuracy**

I'm working on verifying the accuracy of the encyclopedia. First, I'll need to check the CLI_ENCYCLOPEDIA.md, both versions of cli.js, and the TypeScript source code in the local repository. I'll also look at previous outputs.

Next, I will create a markdown report in the investigation folder and execute the necessary commands, using systematic mapping for efficiency. I‚Äôll explore files and run parallel commands to list the tree and read the first lines of CLI_ENCYCLOPEDIA.
[35mPlan update[0m
[3mIteration 2 will cross-check the encyclopedia against both bundled CLI.js versions and the TypeScript source, then produce a verification report with discrepancies and missing coverage.[0m
  [36m‚Üí[0m Read encyclopedia and iteration-1 findings
  [2m‚Ä¢[0m [2mAudit each encyclopedia section vs bundles[0m
  [2m‚Ä¢[0m [2mSearch bundles for undocumented features[0m
  [2m‚Ä¢[0m [2mCheck TypeScript coverage in src[0m
  [2m‚Ä¢[0m [2mVerify versions and write report[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' investigation/investigation-20251220-112837/iterations/iteration-1-output.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 42ms:[0m
[2mReading prompt from stdin...
OpenAI Codex v0.73.0 (research preview)
--------
[1mworkdir:[0m /Users/ronaldeddings/ClaudeCodeTS
[1mmodel:[0m gpt-5.2
[1mprovider:[0m openai
[1mapproval:[0m never
[1msandbox:[0m danger-full-access
[1mreasoning effort:[0m high
[1mreasoning summaries:[0m auto
[1msession id:[0m 019b3cce-6e4b-7102-be55-292029cd5451
--------
[36muser[0m
==============================================
INVESTIGATION ITERATION 1: TOOL CALLING DEEP DIVE
==============================================

You are investigating whether the TypeScript implementation correctly covers
all tool calling functionality from the original CLI.js files.
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'ls -la bundles && ls -la bundles/ClaudeCodeCode bundles/ClaudeAgentSDKCode'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 32ms:[0m
[2mtotal 16
drwxr-xr-x   5 ronaldeddings  staff   160 Dec 17 14:08 .
drwxr-xr-x  27 ronaldeddings  staff   864 Dec 20 11:27 ..
-rw-r--r--@  1 ronaldeddings  staff  6148 Dec 17 14:08 .DS_Store
drwxr-xr-x  17 ronaldeddings  staff   544 Dec 16 07:57 ClaudeAgentSDKCode
drwxr-xr-x  14 ronaldeddings  staff   448 Dec 16 07:57 ClaudeCodeCode
bundles/ClaudeAgentSDKCode:
total 29400
drwxr-xr-x  17 ronaldeddings  staff       544 Dec 16 07:57 .
drwxr-xr-x   5 ronaldeddings  staff       160 Dec 17 14:08 ..
-rw-r--r--@  1 ronaldeddings  staff      6148 Dec 16 07:57 .DS_Store
-rw-r--r--   1 ronaldeddings  staff       551 Dec 15 07:25 bun.lock
-rwxr-xr-x   1 ronaldeddings  staff  10327863 Dec 15 07:25 cli.js
drwxr-xr-x   5 ronaldeddings  staff       160 Dec 15 07:25 entrypoints
-rw-r--r--   1 ronaldeddings  staff       147 Dec 15 07:25 LICENSE.md
-rw-r--r--   1 ronaldeddings  staff      1206 Dec 15 07:25 package.json
-rw-r--r--   1 ronaldeddings  staff      2044 Dec 15 07:25 README.md
-rw-r--r--   1 ronaldeddings  staff   2478606 Dec 15 07:25 resvg.wasm
-rw-r--r--   1 ronaldeddings  staff     65063 Dec 15 07:25 sdk-tools.d.ts
-rw-r--r--   1 ronaldeddings  staff        50 Dec 15 07:25 sdk.d.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'ls -la'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 25ms:[0m
[2mtotal 560
drwxr-xr-x   27 ronaldeddings  staff     864 Dec 20 11:27 .
drwxr-xr-x@ 288 ronaldeddings  staff    9216 Dec 20 11:28 ..
-rw-r--r--    1 ronaldeddings  staff   10244 Dec 20 07:16 .DS_Store
drwxr-xr-x   14 ronaldeddings  staff     448 Dec 20 11:43 .git
-rw-r--r--    1 ronaldeddings  staff      30 Dec 17 15:48 .gitignore
-rw-r--r--    1 ronaldeddings  staff    1755 Dec 18 08:06 bun.lock
drwxr-xr-x    5 ronaldeddings  staff     160 Dec 17 14:08 bundles
drwxr-xr-x   16 ronaldeddings  staff     512 Dec 20 09:45 changelogs
-rw-r--r--    1 ronaldeddings  staff  161222 Dec 19 07:59 CLI_ENCYCLOPEDIA.md
-rw-r--r--    1 ronaldeddings  staff    8625 Dec 15 07:25 CLI_FUNCTION_CLASS_MAP.md
drwxr-xr-x   12 ronaldeddings  staff     384 Dec 19 07:10 dist
drwxr-xr-x    6 ronaldeddings  staff     192 Dec 20 10:04 docs
drwxr-xr-x    3 ronaldeddings  staff      96 Dec 16 11:08 ignore
drwxr-xr-x    5 ronaldeddings  staff     160 Dec 20 05:11 implementation
-rw-r--r--    1 ronaldeddings  staff   17620 Dec 16 07:25 instruction.md
-rw-r--r--    1 ronaldeddings  staff   31254 Dec 20 11:28 investigate.sh
drwxr-xr-x    5 ronaldeddings  staff     160 Dec 20 11:43 investigation
drwxr-xr-x   11 ronaldeddings  staff     352 Dec 18 08:06 node_modules
-rw-r--r--    1 ronaldeddings  staff     556 Dec 18 08:06 package.json[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "ls -la investigation && find investigation -maxdepth 4 -type f -name 'iteration-1-output.md' -print"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 25ms:[0m
[2mtotal 24
drwxr-xr-x   5 ronaldeddings  staff    160 Dec 20 11:43 .
drwxr-xr-x  27 ronaldeddings  staff    864 Dec 20 11:27 ..
drwxr-xr-x   5 ronaldeddings  staff    160 Dec 20 11:27 investigation-20251220-112723
drwxr-xr-x   5 ronaldeddings  staff    160 Dec 20 11:28 investigation-20251220-112837
-rw-r--r--   1 ronaldeddings  staff  11447 Dec 20 11:43 iteration-1-tool-gaps.md
investigation/investigation-20251220-112837/iterations/iteration-1-output.md[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'ls -la src'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 22ms:[0m
[2mtotal 40
drwxr-xr-x  10 ronaldeddings  staff   320 Dec 17 15:32 .
drwxr-xr-x  27 ronaldeddings  staff   864 Dec 20 11:27 ..
-rw-r--r--@  1 ronaldeddings  staff  6148 Dec 20 07:14 .DS_Store
drwxr-xr-x   7 ronaldeddings  staff   224 Dec 20 10:08 cli
-rw-r--r--   1 ronaldeddings  staff  6023 Dec 20 10:12 cli.ts
drwxr-xr-x  20 ronaldeddings  staff   640 Dec 20 09:57 core
-rw-r--r--   1 ronaldeddings  staff    74 Dec 17 10:40 index.ts
drwxr-xr-x   8 ronaldeddings  staff   256 Dec 16 11:48 platform
drwxr-xr-x   6 ronaldeddings  staff   192 Dec 16 11:37 spec
drwxr-xr-x   6 ronaldeddings  staff   192 Dec 16 11:47 ui[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,200p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 22ms:[0m
[2m# CLI Encyclopedia (WIP) ‚Äî Rebuilding `cli.js` into TypeScript

This is an **encyclopedia-style** guide to the two bundled/minified CLIs:

- `ClaudeAgentSDKCode/cli.js` (Claude Code 2.0.67 bundle)
- `ClaudeCodeCode/cli.js` (Claude Code 2.0.69 bundle)

Goal: document *what each top-level function/class does* (including minified symbol meanings) so we can **extract** it into a clean TypeScript module graph.

Important constraints:

1. These are **bundled + minified** with **no source maps** (no `sourceMappingURL`, no `*.map` files). That means:
   - Many identifiers are arbitrary (`uQ`, `coB`, `qV5`, ‚Ä¶) and not stable across builds.
   - A symbol name alone is not meaningful without its **definition site** and **call sites**.
2. The bundle contains **a large amount of third-party code** (e.g., lodash, commander, AWS SDK, XML parsing, etc.). Rewriting those internals is usually the wrong goal; instead, we should treat them as **dependencies** in the TS rewrite.
3. Therefore, this encyclopedia is organized by **subsystems** and focuses first on **first-party/product logic** that should become your TS modules.

---

## How to read minified symbols (practical decoding rules)[0m



[35m[3mthinking[0m[0m
**Clarifying report structure**

I‚Äôm trying to figure out how to structure the report based on the chapters and major subsections in `CLI_ENCYCLOPEDIA.md`. With 3878 lines, there could be many sections, but we'll programmatically extract the headings. I'll use a command to retrieve headings and check the related code in `cli.js`, even though it‚Äôs minified. I need to verify if the line numbers in the references are accurate, possibly adding formatting adjustments to consider bundler changes. I'll check some sample references too.
[35m[3mthinking[0m[0m
**Planning the report summary**

I need to check the TypeScript implementation in the `src/cli` folder, looking specifically for `getMcpToolTimeoutMs` and others. The approach is to extract a list of major sections from the encyclopedia and summarize them by what the code shows and how accurate it is. Since the task specifies each major section, I‚Äôll interpret "major sections" as level 2 headings and chapters. Although it seems extensive, I can create a condensed audit by verifying claims with spot-checked code references. Precision is key here!
[35m[3mthinking[0m[0m
**Organizing verification process**

For sections without line numbers, I‚Äôll summarize general behavior and search for function or class names in the code. I can automate this by creating a script to parse the encyclopedia for references like `ClaudeAgentSDKCode/cli.js:####`. Using `rg` to find these patterns should be efficient. Instead of verifying every line, I‚Äôll focus on major sections, gathering relevant citations and verifying them within those sections. It seems best to focus on top-level chapters, including perhaps up to five of them for clarity!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "''^(# Chapter|## )" CLI_ENCYCLOPEDIA.md | head -200'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 58ms:[0m
[2m20:## How to read minified symbols (practical decoding rules)
44:## Canonicalization strategy for the TS rewrite
57:## TS rewrite notes (this repo)
82:# Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
98:## 1.1 Feature gates & timeouts
142:## 1.2 Endpoint discovery & mode selection
180:## 1.3 Error types
195:## 1.4 Analytics wrapper for MCP CLI commands
222:## 1.5 State file access & name normalization
275:## 1.6 Endpoint HTTP client (`/mcp`)
303:## 1.7 Direct-connect tool invocation (state-file mode)
331:## 1.8 CLI command group and subcommands (`commander`)
355:## 1.9 `--mcp-cli` entry
375:# Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
382:## 2.1 Constants and logging
397:## 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
437:# Chapter 3 ‚Äî CLI bootstrap / fast paths
439:## 3.1 Entry function: `dD5()` vs `XF5()`
469:# Chapter 4 ‚Äî Permissions, rules, and tool approval
483:## 4.1 Data model: `ToolPermissionContext`[0m


[35m[3mthinking[0m[0m
**Analyzing chapter structure**

There are 13 chapters, and I noticed that starting from Chapter 6, the headings are labeled as level 2 instead of top-level, which could be a style inconsistency. For our audit, we can treat all chapter headings uniformly. We'll need to check each major section for summaries, which means reading them and spot-checking code references for TypeScript coverage. It may be a lot, but I think we can generate a report on partial accuracy for later chapters, even if they're not implemented yet.
[35m[3mthinking[0m[0m
**Planning code analysis**

I plan to run specified grep commands on `ClaudeCodeCode/cli.js` for exports, classes, and function patterns. I might also analyze `ClaudeAgentSDKCode`, but the instructions suggest searching the CLI.js files for functionality not included in the encyclopedia. I‚Äôll check TS coverage for each encyclopedia entry and highlight major gaps. Additionally, I‚Äôll grep for version strings in bundles and the TS version in the source. I need to produce an output file named `iteration-2-encyclopedia-verification.md`, ensuring I accurately map any discrepancies. First, I'll scan the iteration-1 output file to see if there‚Äôs an actual report.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'tail -n 120 investigation/investigation-20251220-112837/iterations/iteration-1-output.md'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 45ms:[0m
[2m+| `ExitPlanMode` | ‚úÖ | ‚ùå | MISSING |
+| `Skill` | ‚úÖ | ‚ùå | MISSING |
+| `StructuredOutput` | ‚úÖ | ‚ùå | MISSING |
+| `LSP` (gated) | ‚úÖ | ‚ùå | MISSING |
+| `ListMcpResourcesTool` | ‚úÖ | ‚ùå | MISSING as a tool (TS has MCP client ops, but not as ToolDefinition) |
+| `ReadMcpResourceTool` | ‚úÖ | ‚ùå | MISSING as a tool (TS has MCP client ops, but not as ToolDefinition) |
+| `mcp` | ‚úÖ | ‚ùå | MISSING as a tool (upstream uses it as an MCP tool execution wrapper) |
+| `mcp__<server>__<tool>` | ‚úÖ | ‚ö†Ô∏è | PARTIAL: TS can build ToolDefinitions, but not connected to model tool calls |
+| `search.grep` | ‚ùå | ‚úÖ | TS-only tool (portable grep) |
+| `patch.apply` | ‚ùå | ‚úÖ | TS-only tool (edit-set patch applier) |
+
+Common tool categories audit:
+- bash/shell execution: upstream ‚úÖ (`Bash`) vs TS ‚ùå
+- file read/write/edit: upstream ‚úÖ (`Read`/`Write`/`Edit`) vs TS ‚ùå
+- web search/fetch: upstream ‚úÖ (`WebSearch`/`WebFetch`) vs TS ‚ùå
+- code execution: upstream ‚úÖ (via `Bash`) vs TS ‚ùå
+- editor tools: upstream ‚úÖ (`Edit`, `NotebookEdit`) vs TS ‚ùå
+- git tools: upstream ‚Äúvia Bash‚Äù ‚úÖ vs TS ‚ùå
+
+## Tool Execution Flow[0m




[35m[3mthinking[0m[0m
**Planning verification process**

I see that the report content is labeled with plus signs, which might be useful as a guide. Now I'm moving on to verifying the encyclopedia against the code. I‚Äôll create a report checking those claims like line numbers and function names. Since we may not have time to verify every detail, we‚Äôll at least cover each chapter (1-13) and the initial sections. For each major section, we‚Äôll mention relevant symbols and functions. I might sample some headings and lines for a thorough approach.
[35m[3mthinking[0m[0m
**Setting up code verification**

I want to use sed -n to examine segments in the encyclopedia for summary purposes, but accuracy really requires referencing the actual code. I‚Äôll rely on the line numbers provided. 

To implement an automated verification, I'll find all `ClaudeAgentSDKCode/cli.js:<line>` and `ClaudeCodeCode/cli.js:<line>` references for each chapter. Then, I'll extract the applicable code line and check that it corresponds to the expected function name or class. Writing a script in either Node or Python will take some time, but it will improve our coverage. I'll read file lines and identify patterns for headings related to chapters.
[35m[3mthinking[0m[0m
**Defining section ranges**

I need to gather the line range for each section, from the current heading to the next major heading of the same or higher level. I‚Äôm considering treating headings like "## 1.1" as major sections as well, even though they‚Äôre subheadings. The instructions call for major sections, which could include each of those subheadings. This might result in a large report, but it seems manageable. 

However, if I include all `## 1.1` sections, the report may end up being quite extensive. I‚Äôll ensure to align with what‚Äôs specified in the CLI_ENCYCLOPEDIA.md.
[35m[3mthinking[0m[0m
**Exploring chapter headings**

Okay, I've identified headings like 1.1 to 1.9, 2.1 to 2.2, 3.1, 4.1 to 4.10, and 5.1 to 5.8, plus "## Chapter 6..." but not any subsections inside. However, there might be subsections we haven't printed, especially since we only captured the first 200 lines. It seems later chapters could have more `##` headings, like "## Chapter 6 ‚Äî ‚Ä¶" and possible subheadings like "### 6.1". I‚Äôll need to check beyond line 1303 to explore the next set of headings. Let's grab the next 200 lines from the rg search.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "''^(# Chapter|## )" CLI_ENCYCLOPEDIA.md | sed -n '"'200,400p'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 77ms:[0m
[2m[0m

[35m[3mthinking[0m[0m
**Analyzing heading counts**

Wait, it seems like sed prints nothing because the rg output has fewer than 200 lines. I think there are only around 40 headings, which is manageable. The list ends around 3866 for the next chapters. So, it‚Äôs great that I can audit each heading I saw. Now I‚Äôm planning to count them and run a word count on the heading list to get an accurate number.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "''^(# Chapter|## )" CLI_ENCYCLOPEDIA.md | wc -l'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 64ms:[0m
[2m      47[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'find src/cli -maxdepth 3 -type f -print'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 74ms:[0m
[2msrc/cli/doctor.ts
src/cli/prompt.ts
src/cli/engineOnly.ts
src/cli/ripgrep.ts
src/cli/mcpCli.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "ls -la src/cli | sed -n '1,200p'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 29ms:[0m
[2mtotal 112
drwxr-xr-x   7 ronaldeddings  staff    224 Dec 20 10:08 .
drwxr-xr-x  10 ronaldeddings  staff    320 Dec 17 15:32 ..
-rw-r--r--   1 ronaldeddings  staff   5838 Dec 20 05:39 doctor.ts
-rw-r--r--   1 ronaldeddings  staff   2063 Dec 20 10:08 engineOnly.ts
-rw-r--r--   1 ronaldeddings  staff  17342 Dec 20 10:03 mcpCli.ts
-rw-r--r--   1 ronaldeddings  staff  18794 Dec 20 05:06 prompt.ts
-rw-r--r--   1 ronaldeddings  staff   3424 Dec 20 10:03 ripgrep.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/cli.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 22ms:[0m
[2m#!/usr/bin/env node
import fs from "node:fs";
import path from "node:path";
import { fileURLToPath } from "node:url";
import { computeMcpCliGateSnapshotFromEnv } from "./core/settings/effectiveConfig.js";
import { createEngine } from "./core/engine/createEngine.js";
import { createNodeHostCapabilities } from "./platform/node/host.js";
import { CliAdapter } from "./ui/cli/adapter.js";
import { runNodeCli } from "./ui/cli/nodeEntrypoint.js";
import { runMcpCli } from "./cli/mcpCli.js";
import { runNonInteractivePrompt } from "./cli/prompt.js";
import { runRipgrep } from "./cli/ripgrep.js";
import { runDoctor } from "./cli/doctor.js";
import { runEngineOnlyDiagnostics } from "./cli/engineOnly.js";

function readPackageVersion(): string {
  const here = path.dirname(fileURLToPath(import.meta.url));
  const candidates = [
    path.resolve(here, "..", "package.json"),
    path.resolve(here, "..", "..", "package.json")[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'ls -la src/cli && find src/cli -maxdepth 2 -type f -print'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 26ms:[0m
[2mtotal 112
drwxr-xr-x   7 ronaldeddings  staff    224 Dec 20 10:08 .
drwxr-xr-x  10 ronaldeddings  staff    320 Dec 17 15:32 ..
-rw-r--r--   1 ronaldeddings  staff   5838 Dec 20 05:39 doctor.ts
-rw-r--r--   1 ronaldeddings  staff   2063 Dec 20 10:08 engineOnly.ts
-rw-r--r--   1 ronaldeddings  staff  17342 Dec 20 10:03 mcpCli.ts
-rw-r--r--   1 ronaldeddings  staff  18794 Dec 20 05:06 prompt.ts
-rw-r--r--   1 ronaldeddings  staff   3424 Dec 20 10:03 ripgrep.ts
src/cli/doctor.ts
src/cli/prompt.ts
src/cli/engineOnly.ts
src/cli/ripgrep.ts
src/cli/mcpCli.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/cli/mcpCli.ts 2>/dev/null || echo 'no src/cli/mcpCli.ts'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 22ms:[0m
[2mimport { computeMcpCliGateSnapshotFromEnv, type EffectiveConfig } from "../core/settings/effectiveConfig.js";
import { McpClient, createMcpEndpointConfigProvider } from "../core/mcp/client.js";
import { createNodeHostCapabilities } from "../platform/node/host.js";
import type { McpEndpointConfig } from "../core/mcp/types.js";
import { ConfigMissingError } from "../core/mcp/errors.js";
import { createEndpointModeTelemetryDedupePolicy, createTelemetryReporter } from "../core/observability/telemetry.js";
import os from "node:os";
import path from "node:path";
import fs from "node:fs/promises";
import { canonicalizeLegacyToolIdentifier } from "../core/migration/toolMapping.js";

type McpCliGates = EffectiveConfig["mcpCli"];

function printHelp(): void {
  process.stdout.write(
    [
      "Usage: claude-ts --mcp-cli <command> [options]",
      "",
      "Commands:",
      "  servers                 List connected MCP servers (endpoint or state-file)",[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,240p' src/cli/prompt.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 24ms:[0m
[2mimport type { HostCapabilities } from "../core/types/host.js";
import Anthropic from "@anthropic-ai/sdk";
import crypto from "node:crypto";
import os from "node:os";
import path from "node:path";
import fs from "node:fs/promises";

type AnthropicContentBlock = { type: string; text?: string };

type AnthropicMessageResponse = {
  id?: string;
  type?: string;
  role?: string;
  content?: AnthropicContentBlock[];
  model?: string;
  stop_reason?: string | null;
};

const DEBUG = process.env.CLAUDE_TS_DEBUG === "1" || process.env.CLAUDE_TS_DEBUG === "true";
function debugLog(...args: unknown[]): void {[0m
[35mPlan update[0m
  [32m‚úì[0m Read encyclopedia and iteration-1 findings
  [36m‚Üí[0m Audit each encyclopedia section vs bundles
  [2m‚Ä¢[0m [2mSearch bundles for undocumented features[0m
  [2m‚Ä¢[0m [2mCheck TypeScript coverage in src[0m
  [2m‚Ä¢[0m [2mVerify versions and write report[0m





[35m[3mthinking[0m[0m
**Planning the audit process**

I need to conduct an audit, which involves reading each section of the encyclopedia to verify claims with code. It seems simplest to gather referenced symbols and line numbers by section heading, then check those lines in bundles while looking for TS presence. I‚Äôm considering creating a helper script that will parse the encyclopedia into sections based on key headings. For each section, I'll list the heading and gather bundle references to ensure accurate verification.
[35m[3mthinking[0m[0m
**Verifying code behavior**

It can be simple for some sections, while others may require deep analysis to verify. I plan to check that the referenced code includes the described behavior by looking within the function body. For each section, I can quickly sample check line numbers from the bundles using `sed`, as the encyclopedia typically provides function names and line numbers for validation. However, with 47 sections and multiple citations, an automated approach is needed to extract mappings of citations and expected identifiers from the markdown.
[35m[3mthinking[0m[0m
**Structuring the audit**

I noticed that within section 1.1 of the encyclopedia, there are subsections marked with '###' for each function. Our audit will focus on the major sections, allowing us to select key entries for verification. The user wants insights on all 47 major sections, so I'll summarize, stating: "Encyclopedia: describes functions a, b, c; Verified: those identifiers exist; TS: implemented in X." Each section will be treated as a group, verifying a subset of claims, especially those with clear TS mappings. This will be extensive yet manageable!
[35m[3mthinking[0m[0m
**Evaluating section accuracy**

For each major section, I can create a systematic approach to check accuracy. First, I'll verify if the encyclopedia cites specific bundle lines and names to ensure they exist. If behavior is described, I'll search for corresponding environment variable strings in the snippets. I plan to produce an "Accuracy" rating: ‚úÖ for accurate matching citations and behavior with TS present, ‚ö†Ô∏è for partial accuracy with some uncertainties, and ‚ùå for inaccuracies if there are contradictions. I'll also check for wrong line numbers or environment variables.
[35m[3mthinking[0m[0m
**Verifying encyclopedia references**

The encyclopedia references may rely on the current, potentially stable version of the files. I think I can quickly verify this with a sample, like checking line 4401 in `ClaudeAgentSDKCode/cli.js`. I‚Äôll use `sed` to display the surrounding lines and see if the reference is accurate. This way, I can ensure that the citations match the actual code in the file, making my audit more reliable.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4385,4425p' bundles/ClaudeAgentSDKCode/cli.js | sed -n '1,80p'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 76ms:[0m
[2mClaude configuration file at ${A} is corrupted: ${Z.message}
`);let Y=`${A}.corrupted.${Date.now()}`;try{G.copyFileSync(A,Y),f(`Corrupted config backed up to: ${Y}`,{level:"error"})}catch{}let J=`${A}.backup`;if(process.stdout.write(`
Claude configuration file at ${A} is corrupted
The corrupted file has been backed up to: ${Y}
`),G.existsSync(J))process.stdout.write(`A backup file exists at: ${J}
You can manually restore it by running: cp "${J}" "${A}"

`);else process.stdout.write(`
`)}return tv(Q)}}function a7(){let A=dY0(),Q=un(PD(),XN);if(!Q.projects)return QjA;let B=Q.projects[A]??QjA;if(typeof B.allowedTools==="string")B.allowedTools=d8(B.allowedTools)??[];return B}function oG(A){let Q=dY0();try{Tg2(PD(),XN,(B)=>{let G=B.projects?.[Q]??QjA,Z=A(G);if(Z===G)return B;return{...B,projects:{...B.projects,[Q]:Z}}})}catch(B){f(`Failed to save config with lock: ${B}`,{level:"error"});let G=un(PD(),XN),Z=G.projects?.[Q]??QjA,Y=A(Z);if(Y===Z)return;_g2(PD(),{...G,projects:{...G.projects,[Q]:Y}},XN)}}function si(){return YXA()!==null}function YXA(){if(cOA())return"development build";if(C0(process.env.DISABLE_AUTOUPDATER))return"DISABLE_AUTOUPDATER set";if(process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)return"CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC set";let A=c1();if(A.autoUpdates===!1&&(A.installMethod!=="native"||A.autoUpdatesProtectedForNative!==!0))return"config";return null}function yuA(){if(C0(process.env.DISABLE_COST_WARNINGS))return!1;if(LB())return!1;let Q=Od(),B=m$()!==null;if(!Q.hasToken&&!B)return!1;let G=c1(),Z=G.oauthAccount?.organizationRole,Y=G.oauthAccount?.workspaceRole;if(!Z||!Y)return!1;return["admin","billing"].includes(Z)||["workspace_admin","workspace_billing"].includes(Y)}function kz2(){if(!LB())return!1;let A=c3();if(A==="max"||A==="pro")return!0;let B=c1().oauthAccount?.organizationRole;return!!B&&["admin","billing","owner","primary_owner"].includes(B)}function d80(){if(!zG("tengu_c4w_usage_limit_notifications_enabled"))return!1;if(c3()==="team")return u7("tengu_teams_usage_limit_notifications","enabled",!1);return!0}function Bf(){let A=c1();if(A.userID)return A.userID;let Q=bW5(32).toString("hex");return i0((B)=>({...B,userID:Q})),Q}function m80(){let A=c1();if(A.anonymousId)return A.anonymousId;let Q=`claudecode.v1.${hW5()}`;return i0((B)=>({...B,anonymousId:Q})),Q}function Ag2(){if(!c1().firstStartTime){let Q=new Date().toISOString();i0((B)=>({...B,firstStartTime:B.firstStartTime??Q}))}}function yAA(A){let Q=cQ();if(A==="ExperimentalUltraClaudeMd")return yAA("User");switch(A){case"User":return zQA(uQ(),"CLAUDE.md");case"Local":return zQA(Q,"CLAUDE.local.md");case"Project":return zQA(Q,"CLAUDE.md");case"Managed":return zQA(VM(),"CLAUDE.md");case"ExperimentalUltraClaudeMd":return zQA(uQ(),"ULTRACLAUDE.md")}}function ba1(){return zQA(VM(),".claude","rules")}function ha1(){return zQA(uQ(),"rules")}var Rg2,QjA,XN,m8Y,d8Y,gg,mY0=!1,dY0;var vQ=q(()=>{wyA();p2();R8();sQ();pB();vI();rZ();u0();YQ();N9();V2();Q0();g1();gB();MT();w4();Rg2=o($m(),1),QjA={allowedTools:[],mcpContextUris:[],mcpServers:{},enabledMcpjsonServers:[],disabledMcpjsonServers:[],hasTrustDialogAccepted:!1,projectOnboardingSeenCount:0,hasClaudeMdExternalIncludesApproved:!1,hasClaudeMdExternalIncludesWarningShown:!1},XN={numStartups:0,installMethod:void 0,autoUpdates:void 0,theme:"dark",preferredNotifChannel:"auto",verbose:!1,editorMode:"normal",autoCompactEnabled:!0,hasSeenTasksHint:!1,hasSeenStashHint:!1,queuedCommandUpHintCount:0,diffTool:"auto",customApiKeyResponses:{approved:[],rejected:[]},env:{},tipsHistory:{},memoryUsageCount:0,promptQueueUseCount:0,todoFeatureEnabled:!0,showExpandedTodos:!1,messageIdleNotifThresholdMs:60000,autoConnectIde:!1,autoInstallIdeExtension:!0,checkpointingShadowRepos:[],fileCheckpointingEnabled:!0,terminalProgressBarEnabled:!0,cachedStatsigGates:{},cachedDynamicConfigs:{},cachedGrowthBookFeatures:{},respectGitignore:!0};m8Y={...XN,autoUpdates:!1},d8Y={...QjA};gg={config:null,mtime:0};dY0=Z0(()=>{let A=cQ();try{return fW5(gW5("git rev-parse --show-toplevel",{cwd:A,encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim())}catch{return Mg2(A)}})});async function jg2(){if(G71===null&&!B71)B71=mW5(),G71=await B71,B71=null,Ds.cache.clear?.()}function Fn(A){let Q=Ds(A);return{customIDs:{sessionId:Q.sessionId,organizationUUID:Q.organizationUuid,accountUUID:Q.accountUuid},userID:Q.deviceId,appVersion:Q.appVersion,email:Q.email,custom:{userType:Q.userType,organizationUuid:Q.organizationUuid,accountUuid:Q.accountUuid,subscriptionType:Q.subscriptionType??"",firstTokenTime:Q.firstTokenTime??0,...Q.githubActionsMetadata&&{githubActor:Q.githubActionsMetadata.actor,githubActorId:Q.githubActionsMetadata.actorId,githubRepository:Q.githubActionsMetadata.repository,githubRepositoryId:Q.githubActionsMetadata.repositoryId,githubRepositoryOwner:Q.githubActionsMetadata.repositoryOwner,githubRepositoryOwnerId:Q.githubActionsMetadata.repositoryOwnerId}}}}function MfQ(){return Ds(!0)}function uW5(){if(G71!==null)return G71;return}async function mW5(){return}var G71=null,B71=null,Ds;var tk=q(()=>{vQ();p2();u0();V2();Q3();Ds=Z0((A)=>{let Q=Bf(),B=c1(),G,Z;if(A){if(G=c3()??void 0,G&&B.claudeCodeFirstTokenDate){let X=new Date(B.claudeCodeFirstTokenDate).getTime();if(!isNaN(X))Z=X}}let Y=j8(),J=Y?.organizationUuid,I=Y?.accountUuid;return{deviceId:Q,sessionId:W0(),email:uW5(),appVersion:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION,organizationUuid:J,accountUuid:I,userType:"external",subscriptionType:G,firstTokenTime:Z,...process.env.GITHUB_ACTIONS==="true"&&{githubActionsMetadata:{actor:process.env.GITHUB_ACTOR,actorId:process.env.GITHUB_ACTOR_ID,repository:process.env.GITHUB_REPOSITORY,repositoryId:process.env.GITHUB_REPOSITORY_ID,repositoryOwner:process.env.GITHUB_REPOSITORY_OWNER,repositoryOwnerId:process.env.GITHUB_REPOSITORY_OWNER_ID}}}})});import{createHash as dW5}from"crypto";function Sg2(A){let Q=Fn(!0),B={networkConfig:{api:"https://statsig.anthropic.com/v1/"},environment:{tier:["test","dev"].includes("production")?"development":"production"},includeCurrentPageUrlWithEvents:!1,logLevel:Z71.LogLevel.None,storageProvider:new iW1,customUserCacheKeyFunc:(Y,J)=>{return dW5("sha1").update(Y).update(J.userID||"").digest("hex").slice(0,10)}},G=new Z71.StatsigClient(A,Q,B);G.on("error",()=>{FQ.head("https://api.anthropic.com/api/hello").catch(()=>{})});let Z=G.initializeAsync();return process.on("beforeExit",async()=>{await G.flush()}),process.on("exit",()=>{G.flush()}),{client:G,initialized:Z}}function BjA(A){return lY0()}function PiB(){pY0=!1,lY0.cache?.clear?.(),xg2.cache?.clear?.(),ug.cache?.clear?.(),pW5.cache?.clear?.(),JZ.cache?.clear?.()}function y12(){return iX()}async function t1A(){if(iX())return;try{let A=Fn(!0),Q=await ug(),B=xg2(),G=[];if(Q)G.push(Q.updateUserAsync(A));if(B)G.push(B.initialized.then(()=>B.client.updateUserAsync(A)));await Promise.all(G)}catch(A){r(A instanceof Error?A:Error(`Statsig: Force refresh failed: ${A}`))}}function yg2(){if(iX())return;let A=setInterval(()=>{t1A()},cW5);process.on("beforeExit",()=>{clearInterval(A)})}async function iY0(A,Q){if(iX())return;try{let[B,G]=await Promise.all([ug(),hd({model:Q.model})]);if(!B)return;let Z=kfQ(G,Q),Y={eventName:A,metadata:Z};B.logEvent(Y),await B.flush()}catch(B){}}function vg2(A,Q){iY0(A,Q)}function kg2(){return{...Pg2}}async function Oi(A,Q){if(iX())return Q;let B=BjA(A);if(!B)return Q;await B.initialized;let G=B.client.getDynamicConfig(A);if(Object.keys(G.value).length===0)return Q;return G.value}function u7(A,Q,B){let G=BjA(A);if(!G)return B;let Z=G.client.getExperiment(A);if(!Z)return B;return Z.get(Q,B)}function rfQ(A,Q){let B=BjA(A);if(!B)return Q;let G=B.client.getDynamicConfig(A);if(!G||Object.keys(G.value).length===0)return Q;return G.value}function zG(A){return iW5(A),c1().cachedStatsigGates[A]??!1}async function yP2(A){if(pY0)return zG(A);return JZ(A)}function C6A(A,Q){let G=c1().cachedDynamicConfigs?.[A];return lW5(A,Q).then((Z)=>{i0((Y)=>{if(Z===Y.cachedDynamicConfigs?.[A])return Y;return{...Y,cachedDynamicConfigs:{...Y.cachedDynamicConfigs,[A]:Z}}})}),G??Q}function VN2(A){i0((Q)=>{if(Q.cachedDynamicConfigs?.[A]===void 0)return Q;return{...Q,cachedDynamicConfigs:{...Q.cachedDynamicConfigs,[A]:void 0}}})}var cY0,Z71,cW5=21600000,Pg2,pY0=!1,lY0,xg2,ug,JZ,k01=(A,Q)=>{let[B,G]=cY0.default.useState(Q);return cY0.default.useEffect(()=>{Oi(A,Q).then(G)},[A,Q]),B},pW5,lW5,iW5;var w4=q(()=>{p2();m8();Wh0();Vh0();tk();Q0();g1();vQ();D6A();br();cY0=o(KA(),1),Z71=o(Xh0(),1),Pg2={};lY0=Z0(()=>{if(iX())return null;let A=Sg2(Dh0);return A.initialized.then(()=>{pY0=!0}),A}),xg2=Z0(()=>{if(iX()||!nW1)return null;return Sg2(nW1)});ug=Z0(async()=>{let A=lY0();if(!A)return null;return await A.initialized,A.client});JZ=Z0(async(A)=>{if(iX())return!1;let Q=BjA(A);if(!Q)return!1;await Q.initialized;let B=Q.client.checkGate(A);return Pg2[A]=B,B});pW5=Z0(async(A,Q)=>{if(iX())return Q;let B=BjA(A);if(!B)return Q;await B.initialized;let G=B.client.getExperiment(A);if(Object.keys(G.value).length===0)return Q;return G.value});lW5=Z0(Oi);iW5=Z0(async(A)=>{let Q=await JZ(A);i0((B)=>{if(B.cachedStatsigGates[A]===Q)return B;return{...B,cachedStatsigGates:{...B.cachedStatsigGates,[A]:Q}}})})});import{join as mg,posix as dn,sep as UQA}from"path";import{homedir as nW5,tmpdir as aW5}from"os";function mn(A){return A.toLowerCase()}function bg2(A,Q){if(pQ()==="windows"){let B=LS(A),G=LS(Q);return dn.relative(B,G)}return dn.relative(A,Q)}function scA(A){if(pQ()==="windows")return LS(A);return A}function sW5(){return wL.map((A)=>xF(A)).filter((A)=>A!==void 0)}function i10(A){let Q=a9(A),B=mn(Q);if(B.endsWith("/.claude/settings.json")||B.endsWith("/.claude/settings.local.json"))return!0;return sW5().some((G)=>mn(G)===B)}function tW5(A){if(i10(A))return!0;let Q=mg(cQ(),".claude","commands"),B=mg(cQ(),".claude","agents"),G=mg(cQ(),".claude","skills");return Qh(A,Q)||Qh(A,B)||Qh(A,G)}function eW5(A){if(!hg())return!1;let Q=a9(A);return Qh(Q,hg())}function hg2(A){let Q=sF();return A===Q}function Y71(){return mg(FH(s1()),W0(),"session-memory")+UQA}function $Q1(){return mg(Y71(),"summary.md")}function AK5(A){return A.startsWith(Y71())}function wXA(){return!1}function QK5(){return pQ()==="windows"?mg(aW5(),"claude")+UQA:"/tmp/claude/"}function gg2(){return mg(QK5(),Lc(cQ()))+UQA}function m51(){return mg(gg2(),W0(),"scratchpad")}function Qg2(){if(!wXA())throw Error("Scratchpad directory feature is not enabled");let A=jA(),Q=m51();if(!A.existsSync(Q))A.mkdirSync(Q);return Q}function BK5(A){if(!wXA())return!1;let Q=m51();return A===Q||A.startsWith(Q+UQA)}function GK5(A){let B=a9(A).split(UQA),G=B[B.length-1];if(A.startsWith("\\\\")||A.startsWith("//"))return!0;for(let Z of rW5){let Y=mn(Z);if(B.some((J)=>mn(J)===Y))return!0}if(G){let Z=mn(G);if(oW5.some((Y)=>mn(Y)===Z))return!0}return!1}function ug2(A){if(A.indexOf(":",2)!==-1)return!0;if(/~\d/.test(A))return!0;if(A.startsWith("\\\\?\\")||A.startsWith("\\\\.\\")||A.startsWith("//?/")||A.startsWith("//./"))return!0;if(/[.\s]+$/.test(A))return!0;if(/\.(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])$/i.test(A))return!0;if(/(^|\/|\\)\.{3,}(\/|\\|$)/.test(A))return!0;if(d81(A))return!0;return!1}function VB0(A){let Q=va(A);for(let B of Q)if(ug2(B))return{safe:!1,message:`Claude requested permissions to write to ${A}, which contains a suspicious Windows path pattern that requires manual approval.`};for(let B of Q)if(tW5(B))return{safe:!1,message:`Claude requested permissions to write to ${A}, but you haven't granted it yet.`};for(let B of Q)if(eW5(B));for(let B of Q)if(GK5(B))return{safe:!1,message:`Claude requested permissions to edit ${A} which is a sensitive file.`};return{safe:!0}}function HJA(A){return new Set([cQ(),...A.additionalWorkingDirectories.keys()])}function DT(A,Q){return va(A).every((G)=>Array.from(HJA(Q)).some((Z)=>Qh(G,Z)))}function Qh(A,Q){let B=a9(A),G=a9(Q),Z=B.replace(/^\/private\/var\//,"/var/").replace(/^\/private\/tmp(\/|$)/,"/tmp$1"),Y=G.replace(/^\/private\/var\//,"/var/").replace(/^\/private\/tmp(\/|$)/,"/tmp$1"),J=mn(Z),I=mn(Y),X=bg2(I,J);if(X==="")return!0;if(k8A(X))return!1;return!dn.isAbsolute(X)}function ZK5(A){switch(A){case"cliArg":case"command":case"session":return a9(cQ());case"userSettings":case"policySettings":case"projectSettings":case"localSettings":case"flagSettings":return J71(A)}}function nY0(A){return dn.join(nC,A)}function YK5({patternRoot:A,pattern:Q,rootPath:B}){let G=dn.join(A,Q);if(A===B)return nY0(Q);else if(G.startsWith(`${B}${nC}`)){let Z=G.slice(B.length);return nY0(Z)}else{let Z=dn.relative(B,A);if(!Z||Z.startsWith(`..${nC}`)||Z==="..")return null;else{let Y=dn.join(Z,Q);return nY0(Y)}}}function AZA(A,Q){let B=new Set(A.get(null)??[]);for(let[G,Z]of A.entries()){if(G===null)continue;for(let Y of Z){let J=YK5({patternRoot:G,pattern:Y,rootPath:Q});if(J)B.add(J)}}return Array.from(B)}function QZA(A){let Q=mg2(A,"read","deny"),B=new Map;for(let[G,Z]of Q.entries())B.set(G,Array.from(Z.keys()));return B}function JK5(A,Q){if(A.startsWith(`${nC}${nC}`)){let G=A.slice(1);if(pQ()==="windows"&&G.match(/^\/[a-z]\//i)){let Z=G[1]?.toUpperCase()??"C",Y=G.slice(2),J=`${Z}:\\`;return{relativePattern:Y.startsWith("/")?Y.slice(1):Y,root:J}}return{relativePattern:G,root:nC}}else if(A.startsWith(`~${nC}`))return{relativePattern:A.slice(1),root:nW5()};else if(A.startsWith(nC))return{relativePattern:A,root:ZK5(Q)};let B=A;if(A.startsWith(`.${nC}`))B=A.slice(2);return{relativePattern:B,root:null}}function mg2(A,Q,B){let G=(()=>{switch(Q){case"edit":return i6;case"read":return W5}})(),Z=_Y0(A,G,B),Y=new Map;for(let[J,I]of Z.entries()){let{relativePattern:X,root:W}=JK5(J,I.source),K=Y.get(W);if(K===void 0)K=new Map,Y.set(W,K);K.set(X,I)}return Y}function uE(A,Q,B,G){let Z=a9(A);if(pQ()==="windows"&&Z.includes("\\"))Z=LS(Z);let Y=mg2(Q,B,G);for(let[J,I]of Y.entries()){let X=Array.from(I.keys()).map((E)=>{let D=E;if(J===nC&&E.startsWith(nC))D=E.slice(1);if(D.endsWith("/**"))D=D.slice(0,-3);return D}),W=fg2.default().add(X),K=bg2(J??s1(),Z??s1());if(K.startsWith(`..${nC}`))continue;if(!K)continue;let V=W.test(K);if(V.ignored&&V.rule){let E=V.rule.pattern,D=E+"/**";if(I.has(D))return I.get(D)??null;if(J===nC&&!E.startsWith(nC)){E=nC+E;let H=E+"/**";if(I.has(H))return I.get(H)??null}return I.get(E)??null}}return null}function _p(A,Q,B){if(typeof A.getPath!=="function")return{behavior:"ask",message:`Claude requested permissions to use ${A.name}, but you haven't granted it yet.`};let G=A.getPath(Q),Z=va(G);for(let K of Z)if(K.startsWith("\\\\")||K.startsWith("//"))return{behavior:"ask",message:`Claude requested permissions to read from ${G}, which appears to be a UNC path that could access network resources.`,decisionReason:{type:"other",reason:"UNC path detected (defense-in-depth check)"}};for(let K of Z)if(ug2(K))return{behavior:"ask",message:`Claude requested permissions to read from ${G}, which contains a suspicious Windows path pattern that requires manual approval.`,decisionReason:{type:"other",reason:"Path contains suspicious Windows-specific patterns (alternate data streams, short names, long path prefixes, or three or more consecutive dots) that require manual verification"}};for(let K of Z){let V=uE(K,B,"read","deny");if(V)return{behavior:"deny",message:`Permission to read ${G} has been denied.`,decisionReason:{type:"rule",rule:V}}}for(let K of Z){let V=uE(K,B,"read","ask");if(V)return{behavior:"ask",message:`Claude requested permissions to read from ${G}, but you haven't granted it yet.`,decisionReason:{type:"rule",rule:V}}}let Y=OAA(A,Q,B);if(Y.behavior==="allow")return Y;if(DT(G,B))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"mode",mode:"default"}};let I=a9(G),X=XK5(I,Q);if(X.behavior!=="passthrough")return X;let W=uE(G,B,"read","allow");if(W)return{behavior:"allow",updatedInput:Q,decisionReason:{type:"rule",rule:W}};return{behavior:"ask",message:`Claude requested permissions to read from ${G}, but you haven't granted it yet.`,suggestions:hB1(G,"read",B),decisionReason:{type:"workingDir",reason:"Path is outside allowed working directories"}}}function OAA(A,Q,B){if(typeof A.getPath!=="function")return{behavior:"ask",message:`Claude requested permissions to use ${A.name}, but you haven't granted it yet.`};let G=A.getPath(Q),Z=va(G);for(let K of Z){let V=uE(K,B,"edit","deny");if(V)return{behavior:"deny",message:`Permission to edit ${G} has been denied.`,decisionReason:{type:"rule",rule:V}}}let Y=a9(G),J=IK5(Y,Q);if(J.behavior!=="passthrough")return J;let I=VB0(G);if(!I.safe)return{behavior:"ask",message:I.message,decisionReason:{type:"other",reason:I.message}};for(let K of Z){let V=uE(K,B,"edit","ask");if(V)return{behavior:"ask",message:`Claude requested permissions to write to ${G}, but you haven't granted it yet.`,decisionReason:{type:"rule",rule:V}}}let X=DT(G,B);if(B.mode==="acceptEdits"&&X)return{behavior:"allow",updatedInput:Q,decisionReason:{type:"mode",mode:B.mode}};let W=uE(G,B,"edit","allow");if(W)return{behavior:"allow",updatedInput:Q,decisionReason:{type:"rule",rule:W}};return{behavior:"ask",message:`Claude requested permissions to write to ${G}, but you haven't granted it yet.`,suggestions:hB1(G,"write",B),decisionReason:!X?{type:"workingDir",reason:"Path is outside allowed working directories"}:void 0}}function hB1(A,Q,B){let G=!DT(A,B);if(Q==="read"&&G){let Z=Pf(A);return va(Z).map((I)=>rcA(I,"session")).filter((I)=>I!==void 0)}if(Q==="write"||Q==="create"){let Z=[{type:"setMode",mode:"acceptEdits",destination:"session"}];if(G){let Y=Pf(A),J=va(Y);Z.push({type:"addDirectories",directories:J,destination:"session"})}return Z}return[{type:"setMode",mode:"acceptEdits",destination:"session"}]}function IK5(A,Q){if(hg2(A))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Plan files for current session are allowed for writing"}};if(BK5(A))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Scratchpad files for current session are allowed for writing"}};return{behavior:"passthrough",message:""}}function XK5(A,Q){let B=mg(FH(cQ()),"bash-outputs",W0());if(A.startsWith(B))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Bash output files from current session are allowed for reading"}};if(AK5(A))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Session memory files are allowed for reading"}};if(hg2(A))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Plan files for current session are allowed for reading"}};let G=ReA(),Z=G.endsWith(UQA)?G:G+UQA;if(A===G||A.startsWith(Z))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Tool result files are allowed for reading"}};let Y=gg2();if(A.startsWith(Y))return{behavior:"allow",updatedInput:Q,decisionReason:{type:"other",reason:"Project temp directory files are allowed for reading"}};return{behavior:"passthrough",message:""}}var fg2,oW5,rW5,nC;var mY=q(()=>{u0();w4();pB();ZY();v8A();x8();Z8();ZY();GV();rG();jE();gB();iI();YQ();qXA();zG0();tF();_AA();fg2=o(PsA(),1),oW5=[".gitconfig",".gitmodules",".bashrc",".bash_profile",".zshrc",".zprofile",".profile",".ripgreprc",".mcp.json"],rW5=[".git",".vscode",".idea",".claude"];nC=dn.sep});import{isAbsolute as W71,resolve as dg2,relative as WK5,sep as aY0,basename as K71,dirname as rY0,extname as oY0,join as RXA}from"path";import{homedir as KK5}from"os";import{chmodSync as VK5}from"fs";function EK5(A){let Q=/[*?[{]/,B=A.match(Q);if(!B||B.index===void 0){let I=rY0(A),X=K71(A);return{baseDir:I,relativePattern:X}}let G=A.slice(0,B.index),Z=Math.max(G.lastIndexOf("/"),G.lastIndexOf(aY0));if(Z===-1)return{baseDir:"",relativePattern:A};let Y=G.slice(0,Z),J=A.slice(Z+1);if(Y===""&&Z===0)Y="/";if(pQ()==="windows"&&/^[A-Za-z]:$/.test(Y))Y=Y+aY0;return{baseDir:Y,relativePattern:J}}async function GRB(A,Q,{limit:B,offset:G},Z,Y){let J=Q,I=A;if(W71(A)){let{baseDir:H,relativePattern:F}=EK5(A);if(H)J=H,I=F}let X=AZA(QZA(Y),J),W=["--files","--glob",I,"--sort=modified","--no-ignore","--hidden"];for(let H of X)W.push("--glob",`!${H}`);let V=(await lj(W,J,Z)).map((H)=>W71(H)?H:RXA(J,H)),E=V.length>G+B;return{files:V.slice(G,G+B),truncated:E}}function WH(A){let Q=jA();return Math.ceil(Q.statSync(A).mtimeMs)}function wWB(A,Q=0,B){let Y=jA().readFileSync(A,{encoding:"utf8"}).split(/\r?\n/),J=B!==void 0&&Y.length-Q>B?Y.slice(Q,Q+B):Y.slice(Q);return{content:J.join(`
`),lineCount:J.length,totalLines:Y.length}}function eGA(A,Q,B,G){let Z=Q;if(G==="CRLF")Z=Q.split(`
`).join(`\r
`);KM(A,Z,{encoding:B})}function TD(A){try{let B=jA(),{resolvedPath:G}=yI(B,A),{buffer:Z,bytesRead:Y}=B.readSync(G,{length:4096});if(Y===0)return"utf8";if(Y>=2){if(Z[0]===255&&Z[1]===254)return"utf16le"}if(Y>=3&&Z[0]===239&&Z[1]===187&&Z[2]===191)return"utf8";return"utf8"}catch(B){return r(B),"utf8"}}function RAA(A,Q="utf8"){try{let B=jA(),{resolvedPath:G}=yI(B,A),{buffer:Z,bytesRead:Y}=B.readSync(G,{length:4096}),J=Z.toString(Q,0,Y);return DK5(J)}catch(B){return r(B),"LF"}}function DK5(A){let Q=0,B=0;for(let G=0;G<A.length;G++)if(A[G]===`
`)if(G>0&&A[G-1]==="\r")Q++;else B++;return Q>B?"CRLF":"LF"}function Rp(A){let Q=W71(A)?A:dg2(s1(),A),B=jA(),G=String.fromCharCode(8239),Z=/^(.+)([ \u202F])(AM|PM)(\.png)$/,Y=K71(Q).match(Z);if(Y){if(B.existsSync(Q))return Q;let J=Y[2],I=J===" "?G:" ",X=Q.replace(`${J}${Y[3]}${Y[4]}`,`${I}${Y[3]}${Y[4]}`);if(B.existsSync(X))return X}return Q}function O7A(A){return A.replace(/^\t+/gm,(Q)=>"  ".repeat(Q.length))}function HK5(A){let Q=A?a9(A):void 0,B=Q?WK5(s1(),Q):void 0;return{absolutePath:Q,relativePath:B}}function E8(A){let{relativePath:Q}=HK5(A);if(Q&&!Q.startsWith(".."))return Q;let B=KK5();if(A.startsWith(B+aY0))return"~"+A.slice(B.length);return A}function PoA(A){let Q=jA();try{let B=rY0(A),G=K71(A,oY0(A));if(!Q.existsSync(B))return;let J=Q.readdirSync(B).filter((I)=>K71(I.name,oY0(I.name))===G&&RXA(B,I.name)!==A)[0];if(J)return J.name;return}catch(B){r(B);return}}function Tp({content:A,startLine:Q}){if(!A)return"";return A.split(/\r?\n/).map((G,Z)=>{let Y=Z+Q,J=String(Y);if(J.length>=6)return`${J}‚Üí${G}`;return`${J.padStart(6," ")}‚Üí${G}`}).join(`
`)}function epQ(A){let Q=jA();if(!Q.existsSync(A))return!0;return Q.isDirEmptySync(A)}function _E(A){let Q=jA(),{resolvedPath:B,isSymlink:G}=yI(Q,A);if(G)f(`Reading through symlink: ${A} -> ${B}`);let Z=TD(B);return Q.readFileSync(B,{encoding:Z}).replaceAll(`\r
`,`
`)}function ma1(A){let{content:Q}=_S0.readFile(A);return Q}function KM(A,Q,B={encoding:"utf-8"}){let G=jA(),Z=A;if(G.existsSync(A))try{let J=G.readlinkSync(A);Z=W71(J)?J:dg2(rY0(A),J),f(`Writing through symlink: ${A} -> ${Z}`)}catch(J){Z=A}let Y=`${Z}.tmp.${process.pid}.${Date.now()}`;try{f(`Writing to temp file: ${Y}`);let J,I=G.existsSync(Z);if(I)J=G.statSync(Z).mode,f(`Preserving file permissions: ${J.toString(8)}`);else if(B.mode!==void 0)J=B.mode,f(`Setting permissions for new file: ${J.toString(8)}`);let X={encoding:B.encoding,flush:!0};if(!I&&B.mode!==void 0)X.mode=B.mode;if(G.writeFileSync(Y,Q,X),f(`Temp file written successfully, size: ${Q.length} bytes`),I&&J!==void 0)VK5(Y,J),f("Applied original permissions to temp file");f(`Renaming ${Y} to ${Z}`),G.renameSync(Y,Z),f(`File ${Z} written atomically`)}catch(J){f(`Failed to write file atomically: ${J}`),r(J),s("tengu_atomic_write_error",{});try{if(G.existsSync(Y))f(`Cleaning up temp file: ${Y}`),G.unlinkSync(Y)}catch(I){f(`Failed to clean up temp file: ${I}`)}f(`Falling back to non-atomic write for ${Z}`);try{let I={encoding:B.encoding,flush:!0};if(!G.existsSync(Z)&&B.mode!==void 0)I.mode=B.mode;G.writeFileSync(Z,Q,I),f(`File ${Z} written successfully with non-atomic fallback`)}catch(I){throw f(`Non-atomic write also failed: ${I}`),I}}}function X71(A){return Lc(A)}function QI(A){let Q=A/1024;if(Q<1)return`${A} bytes`;if(Q<1024)return`${Q.toFixed(1).replace(/\.0$/,"")}KB`;let B=Q/1024;if(B<1024)return`${B.toFixed(1).replace(/\.0$/,"")}MB`;return`${(B/1024).toFixed(1).replace(/\.0$/,"")}GB`}function VJA(A){let Q=oY0(A);if(!Q)return"unknown";return cg2.getLanguage(Q.slice(1))?.name??"unknown"}function g81(A){let Q=jA();try{if(!Q.existsSync(A))Q.mkdirSync(A);return!0}catch(B){return r(B instanceof Error?B:Error(String(B))),!1}}function SoA(A,Q=KwA){try{return jA().statSync(A).size<=Q}catch{return!1}}var cg2,KwA=262144,hOB,I71,hj;var N9=q(()=>{g1();Q0();NZ();_0();wV0();ij();pB();p2();YQ();TS0();mY();Z8();ZY();cg2=o(lI1(),1);hOB=Z0(async()=>{let A=v9();setTimeout(()=>{A.abort()},1000);let Q=await NL0(s1(),A.signal,15),B=0;for(let G of Q)if(RAA(G)==="CRLF")B++;return B>3?"CRLF":"LF"});I71=eG1("claude-cli");hj={baseLogs:()=>RXA(I71.cache,X71(jA().cwd())),errors:()=>RXA(I71.cache,X71(jA().cwd()),"errors"),messages:()=>RXA(I71.cache,X71(jA().cwd()),"messages"),mcpLogs:(A)=>RXA(I71.cache,X71(jA().cwd()),`mcp-logs-${Lc(A)}`)}});import{existsSync as FK5}from"fs";import{dirname as lg2,join as YjA,resolve as GjA}from"path";function ig2(){return YjA(VM(),"managed-settings.json")}function CK5(A,Q){if(typeof A==="object"&&A&&"code"in A&&A.code==="ENOENT")f(`Broken symlink or missing file encountered for settings.json at path: ${Q}`);else r(A instanceof Error?A:Error(String(A)))}function tY0(A){let Q=jA();if(!Q.existsSync(A))return{settings:null,errors:[]};try{let{resolvedPath:B}=yI(Q,A),G=_E(B);if(G.trim()==="")return{settings:{},errors:[]};let Z=d8(G,!1),Y=Pb.safeParse(Z);if(!Y.success)return{settings:null,errors:c10(Y.error,A)};return{settings:Y.data,errors:[]}}catch(B){return CK5(B,A),{settings:null,errors:[]}}}function J71(A){switch(A){case"userSettings":return GjA(uQ());case"policySettings":case"projectSettings":case"localSettings":return GjA(cQ());case"flagSettings":{let Q=MPA();return Q?lg2(GjA(Q)):GjA(cQ())}}}function xF(A){switch(A){case"userSettings":return YjA(J71(A),"settings.json");case"projectSettings":case"localSettings":return YjA(J71(A),sTA(A));case"policySettings":return ig2();case"flagSettings":return MPA()}}function sTA(A){switch(A){case"projectSettings":return YjA(".claude","settings.json");case"localSettings":return YjA(".claude","settings.local.json")}}function uB(A){if(A==="policySettings"){let G=ee1();if(G&&Object.keys(G).length>0)return G}let Q=xF(A);if(!Q)return null;let{settings:B}=tY0(Q);return B}function rS2(){let A=ee1();if(A&&Object.keys(A).length>0)return"remote";let Q=ig2(),{settings:B}=tY0(Q);if(B&&Object.keys(B).length>0)return"local";return null}function X2(A,Q){if(A==="policySettings"||A==="flagSettings")return{error:null};let B=xF(A);if(!B)return{error:null};try{let G=lg2(B);if(!jA().existsSync(G))jA().mkdirSync(G);let Z=uB(A);if(!Z&&jA().existsSync(B)){let J=_E(B),I=d8(J);if(I===null)return{error:Error(`Invalid JSON syntax in settings file at ${B}`)};if(I&&typeof I==="object")Z=I,f(`Using raw settings from ${B} due to validation failure`)}let Y=dPA(Z||{},Q,(J,I,X,W)=>{if(I===void 0&&W&&typeof X==="string"){delete W[X];return}if(Array.isArray(I))return I;return});if(SF.markInternalWrite(A),KM(B,JSON.stringify(Y,null,2)+`
`),hR(),A==="localSettings")G80(sTA("localSettings"),cQ())}catch(G){let Z=Error(`Failed to read raw settings from ${B}: ${G}`);return r(Z),{error:Z}}return{error:null}}function zK5(A,Q){let B=[...A,...Q];return Array.from(new Set(B))}function pg2(A,Q){if(Array.isArray(A)&&Array.isArray(Q))return zK5(A,Q);return}function ng2(A){let Q=Pb.strip().parse(A),B=["permissions","sandbox","hooks"],G=[],Z={permissions:new Set(["allow","deny","ask","defaultMode","disableBypassPermissionsMode","additionalDirectories"]),sandbox:new Set(["network","ignoreViolations","excludedCommands","autoAllowBashIfSandboxed","enableWeakerNestedSandbox"]),hooks:new Set(["PreToolUse","PostToolUse","Notification","UserPromptSubmit","SessionStart","SessionEnd","Stop","SubagentStop","PreCompact"])};for(let Y of Object.keys(Q))if(B.includes(Y)&&Q[Y]&&typeof Q[Y]==="object"){let J=Q[Y],I=Z[Y];if(I){for(let X of Object.keys(J))if(I.has(X))G.push(`${Y}.${X}`)}}else G.push(Y);return G.sort()}function hR(){ZjA=null}function UK5(){if(sY0)return{settings:{},errors:[]};sY0=!0;try{let A={},Q=[],B=new Set,G=new Set;for(let Y of us()){if(Y==="policySettings"){let K=uB("policySettings");if(K)A=dPA(A,K,pg2);continue}let J=xF(Y);if(!J)continue;let I=GjA(J);if(G.has(I))continue;G.add(I);let{settings:X,errors:W}=tY0(J);for(let K of W){let V=`${K.file}:${K.path}:${K.message}`;if(!B.has(V))B.add(V),Q.push(K)}if(X)A=dPA(A,X,pg2)}let Z=["user","project","local"];return Q.push(...Z.flatMap((Y)=>AX(Y).errors)),{settings:A,errors:Q}}finally{sY0=!1}}function dV(){let{settings:A}=Gy();return A||{}}function Gy(){if(ZjA!==null)return ZjA;return ZjA=UK5(),ZjA}var ZjA=null,VM,sY0=!1,CQ;var gB=q(()=>{p2();FV0();N9();YQ();vI();g1();Q0();Z8();iI();me();u0();Z80();sQ();l10();cw();ms();MYA();VM=Z0(function(){switch(pQ()){case"macos":return"/Library/Application Support/ClaudeCode";case"windows":if(FK5("C:\\Program Files\\ClaudeCode"))return"C:\\Program Files\\ClaudeCode";return"C:\\ProgramData\\ClaudeCode";default:return"/etc/claude-code"}});CQ=dV});import{join as $K5}from"path";function qTA(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function K51(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function hy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function gy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function uy2(A,Q){let B={...A};return delete B[Q],B}function ND2(A){return`mcp__${i5(A)}__`}function kM(A){return A.name?.startsWith("mcp__")||A.isMcp===!0}function HV(A){let Q=A.split("__"),[B,G,...Z]=Q;if(B!=="mcp"||!G)return null;let Y=Z.length>0?Z.join("__"):void 0;return{serverName:G,toolName:Y}}function V51(A,Q){let B=`mcp__${i5(Q)}__`;return A.replace(B,"")}function E51(A){let Q=A.replace(/\s*\(MCP\)\s*$/,"");Q=Q.trim();let B=Q.indexOf(" - ");if(B!==-1)return Q.substring(B+3).trim();return Q}function kN(A){let Q=jA();switch(A){case"user":{let B=PD(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"project":{let B=$K5(s1(),".mcp.json"),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"local":return`${PD()} [project: ${s1()}]`;case"dynamic":return"Dynamically configured";case"enterprise":{let B=RtA(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}default:return A}}function ZQA(A){switch(A){case"local":return"Local config (private to you in this project)";case"project":return"Project config (shared via .mcp.json)";case"user":return"User config (available in all your projects)";case"dynamic":return"Dynamic config (from command line)";case"enterprise":return"Enterprise config (managed by your organization)";default:return A}}function JjA(A){if(!A)return"local";if(!Ep1.options.includes(A))throw Error(`Invalid scope: ${A}. Must be one of: ${Ep1.options.join(", ")}`);return A}function ag2(A){if(!A)return"stdio";if(A!=="stdio"&&A!=="sse"&&A!=="http")throw Error(`Invalid transport type: ${A}. Must be one of: stdio, sse, http`);return A}function eY0(A){let Q={};for(let B of A){let G=B.indexOf(":");if(G===-1)throw Error(`Invalid header format: "${B}". Expected format: "Header-Name: value"`);let Z=B.substring(0,G).trim(),Y=B.substring(G+1).trim();if(!Z)throw Error(`Invalid header: "${B}". Header name cannot be empty.`);Q[Z]=Y}return Q}function _tA(A){let Q=CQ(),B=i5(A);if(Q?.disabledMcpjsonServers?.some((G)=>i5(G)===B))return"rejected";if(Q?.enabledMcpjsonServers?.some((G)=>i5(G)===B)||Q?.enableAllProjectMcpServers)return"approved";if(I4()&&BV("projectSettings"))return"approved";return"pending"}function LQ0(A){if(!kM({name:A}))return null;let Q=HV(A);if(!Q)return null;return Wl(Q.serverName)?.scope??null}var _J=q(()=>{gB();u7A();R8();pB();YQ();cw();iI();u0()});function KAA(){return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5}function hZ(){if(C0(void 0))return!1;return C0(process.env.ENABLE_EXPERIMENTAL_MCP_CLI)}function _XA(){return hZ()&&!Iz(process.env.ENABLE_MCP_CLI_ENDPOINT)}function k1A(A){let Q=A.match(/^mcp-cli\s+(call|read)\s+([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)(?:\s+([\s\S]+))?$/);if(!Q)return null;let[,B,G,Z,Y=""]=Q;if(!B||!G||!Z)return null;return{command:B,server:G,tool:Z,toolName:Z,args:Y,fullCommand:A}}function $Y0(A){let Q=HV(A);if(!Q||!Q.toolName)return null;return`${Q.serverName}/${Q.toolName}`}var wK5=1e8;var pE=q(()=>{sQ();_J()});var IjA=w((NK5)=>{class AJ0 extends Error{constructor(A,Q,B){super(B);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=Q,this.exitCode=A,this.nestedError=void 0}}class og2 extends AJ0{constructor(A){super(1,"commander.invalidArgument",A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}NK5.CommanderError=AJ0;NK5.InvalidArgumentError=og2});var V71=w((RK5)=>{var{InvalidArgumentError:MK5}=IjA();class rg2{constructor(A,Q){switch(this.description=Q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,A[0]){case"<":this.required=!0,this._name=A.slice(1,-1);break;case"[":this.required=!1,this._name=A.slice(1,-1);break;default:this.required=!0,this._name=A;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(A,Q){if(Q===this.defaultValue||!Array.isArray(Q))return[A];return Q.concat(A)}default(A,Q){return this.defaultValue=A,this.defaultValueDescription=Q,this}argParser(A){return this.parseArg=A,this}choices(A){return this.argChoices=A.slice(),this.parseArg=(Q,B)=>{if(!this.argChoices.includes(Q))throw new MK5(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(Q,B);return Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function OK5(A){let Q=A.name()+(A.variadic===!0?"...":"");return A.required?"<"+Q+">":"["+Q+"]"}RK5.Argument=rg2;RK5.humanReadableArgName=OK5});var QJ0=w((PK5)=>{var{humanReadableArgName:jK5}=V71();class sg2{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(A){let Q=A.commands.filter((G)=>!G._hidden),B=A._getHelpCommand();if(B&&!B._hidden)Q.push(B);if(this.sortSubcommands)Q.sort((G,Z)=>{return G.name().localeCompare(Z.name())});return Q}compareOptions(A,Q){let B=(G)=>{return G.short?G.short.replace(/^-/,""):G.long.replace(/^--/,"")};return B(A).localeCompare(B(Q))}visibleOptions(A){let Q=A.options.filter((G)=>!G.hidden),B=A._getHelpOption();if(B&&!B.hidden){let G=B.short&&A._findOption(B.short),Z=B.long&&A._findOption(B.long);if(!G&&!Z)Q.push(B);else if(B.long&&!Z)Q.push(A.createOption(B.long,B.description));else if(B.short&&!G)Q.push(A.createOption(B.short,B.description))}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleGlobalOptions(A){if(!this.showGlobalOptions)return[];let Q=[];for(let B=A.parent;B;B=B.parent){let G=B.options.filter((Z)=>!Z.hidden);Q.push(...G)}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleArguments(A){if(A._argsDescription)A.registeredArguments.forEach((Q)=>{Q.description=Q.description||A._argsDescription[Q.name()]||""});if(A.registeredArguments.find((Q)=>Q.description))return A.registeredArguments;return[]}subcommandTerm(A){let Q=A.registeredArguments.map((B)=>jK5(B)).join(" ");return A._name+(A._aliases[0]?"|"+A._aliases[0]:"")+(A.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(A){return A.flags}argumentTerm(A){return A.name()}longestSubcommandTermLength(A,Q){return Q.visibleCommands(A).reduce((B,G)=>{return Math.max(B,Q.subcommandTerm(G).length)},0)}longestOptionTermLength(A,Q){return Q.visibleOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestGlobalOptionTermLength(A,Q){return Q.visibleGlobalOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestArgumentTermLength(A,Q){return Q.visibleArguments(A).reduce((B,G)=>{return Math.max(B,Q.argumentTerm(G).length)},0)}commandUsage(A){let Q=A._name;if(A._aliases[0])Q=Q+"|"+A._aliases[0];let B="";for(let G=A.parent;G;G=G.parent)B=G.name()+" "+B;return B+Q+" "+A.usage()}commandDescription(A){return A.description()}subcommandDescription(A){return A.summary()||A.description()}optionDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0){if(A.required||A.optional||A.isBoolean()&&typeof A.defaultValue==="boolean")Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`)}if(A.presetArg!==void 0&&A.optional)Q.push(`preset: ${JSON.stringify(A.presetArg)}`);if(A.envVar!==void 0)Q.push(`env: ${A.envVar}`);if(Q.length>0)return`${A.description} (${Q.join(", ")})`;return A.description}argumentDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0)Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`);if(Q.length>0){let B=`(${Q.join(", ")})`;if(A.description)return`${A.description} ${B}`;return B}return A.description}formatHelp(A,Q){let B=Q.padWidth(A,Q),G=Q.helpWidth||80,Z=2,Y=2;function J(D,H){if(H){let F=`${D.padEnd(B+2)}${H}`;return Q.wrap(F,G-2,B+2)}return D}function I(D){return D.join(`
`).replace(/^/gm," ".repeat(2))}let X=[`Usage: ${Q.commandUsage(A)}`,""],W=Q.commandDescription(A);if(W.length>0)X=X.concat([Q.wrap(W,G,0),""]);let K=Q.visibleArguments(A).map((D)=>{return J(Q.argumentTerm(D),Q.argumentDescription(D))});if(K.length>0)X=X.concat(["Arguments:",I(K),""]);let V=Q.visibleOptions(A).map((D)=>{return J(Q.optionTerm(D),Q.optionDescription(D))});if(V.length>0)X=X.concat(["Options:",I(V),""]);if(this.showGlobalOptions){let D=Q.visibleGlobalOptions(A).map((H)=>{return J(Q.optionTerm(H),Q.optionDescription(H))});if(D.length>0)X=X.concat(["Global Options:",I(D),""])}let E=Q.visibleCommands(A).map((D)=>{return J(Q.subcommandTerm(D),Q.subcommandDescription(D))});if(E.length>0)X=X.concat(["Commands:",I(E),""]);return X.join(`
`)}padWidth(A,Q){return Math.max(Q.longestOptionTermLength(A,Q),Q.longestGlobalOptionTermLength(A,Q),Q.longestSubcommandTermLength(A,Q),Q.longestArgumentTermLength(A,Q))}wrap(A,Q,B,G=40){let Y=new RegExp(`[\\n][${" \\f\\t\\v¬†·öÄ‚ÄÄ-‚Ää‚ÄØ‚Åü„ÄÄ\uFEFF"}]+`);if(A.match(Y))return A;let J=Q-B;if(J<G)return A;let I=A.slice(0,B),X=A.slice(B).replace(`\r
`,`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4735,4775p' bundles/ClaudeCodeCode/cli.js | sed -n '1,80p'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 33ms:[0m
[2m`)}),process.stderr.write(`
To remove from a specific scope, use:
`),E.forEach((D)=>{process.stderr.write(`  claude mcp remove "${J}" -s ${D}
`)}),process.exit(1)}catch(X){process.stderr.write(`${X.message}
`),process.exit(1)}}),Q.command("list").description("List configured MCP servers").helpOption("-h, --help","Display help for command").action(async()=>{r("tengu_mcp_list",{});let{servers:J}=await T_();if(Object.keys(J).length===0)console.log("No MCP servers configured. Use `claude mcp add` to add a server.");else{console.log(`Checking MCP server health...
`);for(let[I,X]of Object.entries(J)){let W=await Ep2(I,X);if(X.type==="sse")console.log(`${I}: ${X.url} (SSE) - ${W}`);else if(X.type==="http")console.log(`${I}: ${X.url} (HTTP) - ${W}`);else if(!X.type||X.type==="stdio"){let K=Array.isArray(X.args)?X.args:[];console.log(`${I}: ${X.command} ${K.join(" ")} - ${W}`)}}}process.exit(0)}),Q.command("get <name>").description("Get details about an MCP server").helpOption("-h, --help","Display help for command").action(async(J)=>{r("tengu_mcp_get",{name:J});let I=np(J);if(!I)console.error(`No MCP server found with name: ${J}`),process.exit(1);console.log(`${J}:`),console.log(`  Scope: ${l0A(I.scope)}`);let X=await Ep2(J,I);if(console.log(`  Status: ${X}`),I.type==="sse"){if(console.log("  Type: sse"),console.log(`  URL: ${I.url}`),I.headers){console.log("  Headers:");for(let[W,K]of Object.entries(I.headers))console.log(`    ${W}: ${K}`)}}else if(I.type==="http"){if(console.log("  Type: http"),console.log(`  URL: ${I.url}`),I.headers){console.log("  Headers:");for(let[W,K]of Object.entries(I.headers))console.log(`    ${W}: ${K}`)}}else if(I.type==="stdio"){console.log("  Type: stdio"),console.log(`  Command: ${I.command}`);let W=Array.isArray(I.args)?I.args:[];if(console.log(`  Args: ${W.join(" ")}`),I.env){console.log("  Environment:");for(let[K,V]of Object.entries(I.env))console.log(`    ${K}=${V}`)}}console.log(`
To remove this server, run: claude mcp remove "${J}" -s ${I.scope}`),process.exit(0)}),Q.command("add-json <name> <json>").description("Add an MCP server (stdio or SSE) with a JSON string").option("-s, --scope <scope>","Configuration scope (local, user, or project)","local").helpOption("-h, --help","Display help for command").action(async(J,I,X)=>{try{let W=QjA(X.scope),K=h8(I);ae(J,K,W);let V=K&&typeof K==="object"&&"type"in K?String(K.type||"stdio"):"stdio";r("tengu_mcp_add",{scope:W,source:"json",type:V}),console.log(`Added ${V} MCP server ${J} to ${W} config`),process.exit(0)}catch(W){console.error(W.message),process.exit(1)}}),Q.command("add-from-claude-desktop").description("Import MCP servers from Claude Desktop (Mac and WSL only)").option("-s, --scope <scope>","Configuration scope (local, user, or project)","local").helpOption("-h, --help","Display help for command").action(async(J)=>{try{let I=QjA(J.scope),X=dQ();r("tengu_mcp_add",{scope:I,platform:X,source:"desktop"});let W=Kd2();if(Object.keys(W).length===0)console.log("No MCP servers found in Claude Desktop configuration or configuration file does not exist."),process.exit(0);let{unmount:K}=await $5(o8.default.createElement(u5,null,o8.default.createElement(Id2,{servers:W,scope:I,onDone:()=>{K()}})),{exitOnCtrlC:!0})}catch(I){console.error(I.message),process.exit(1)}}),Q.command("reset-project-choices").description("Reset all approved and rejected project-scoped (.mcp.json) servers within this project").helpOption("-h, --help","Display help for command").action(async()=>{r("tengu_mcp_reset_mcpjson_choices",{}),nG((J)=>({...J,enabledMcpjsonServers:[],disabledMcpjsonServers:[],enableAllProjectMcpServers:!1})),console.log("All project-scoped (.mcp.json) server approvals and rejections have been reset."),console.log("You will be prompted for approval next time you start Claude Code."),process.exit(0)});function B(J,I){s(J instanceof Error?J:Error(String(J))),console.error(`${X1.cross} Failed to ${I}: ${J instanceof Error?J.message:String(J)}`),process.exit(1)}let G=A.command("plugin").description("Manage Claude Code plugins").helpOption("-h, --help","Display help for command");G.command("validate <path>").description("Validate a plugin or marketplace manifest").helpOption("-h, --help","Display help for command").action((J)=>{try{let I=x51(J);if(console.log(`Validating ${I.fileType} manifest: ${I.filePath}
`),I.errors.length>0)console.log(`${X1.cross} Found ${I.errors.length} error${I.errors.length===1?"":"s"}:
`),I.errors.forEach((X)=>{console.log(`  ${X1.pointer} ${X.path}: ${X.message}`)}),console.log("");if(I.warnings.length>0)console.log(`${X1.warning} Found ${I.warnings.length} warning${I.warnings.length===1?"":"s"}:
`),I.warnings.forEach((X)=>{console.log(`  ${X1.pointer} ${X.path}: ${X.message}`)}),console.log("");if(I.success){if(I.warnings.length>0)console.log(`${X1.tick} Validation passed with warnings`);else console.log(`${X1.tick} Validation passed`);process.exit(0)}else console.log(`${X1.cross} Validation failed`),process.exit(1)}catch(I){s(I instanceof Error?I:Error(String(I))),console.error(`${X1.cross} Unexpected error during validation: ${I instanceof Error?I.message:String(I)}`),process.exit(2)}});let Z=G.command("marketplace").description("Manage Claude Code marketplaces").helpOption("-h, --help","Display help for command");Z.command("add <source>").description("Add a marketplace from a URL, path, or GitHub repo").helpOption("-h, --help","Display help for command").action(async(J)=>{try{let I=S51(J);if(!I)console.error(`${X1.cross} Invalid marketplace source format. Try: owner/repo, https://..., or ./path`),process.exit(1);if("error"in I)console.error(`${X1.cross} ${I.error}`),process.exit(1);let X=I;console.log("Adding marketplace...");let{name:W}=await N_(X,(V)=>{console.log(V)});VZ();let K=X.source;if(X.source==="github")K=X.repo;r("tengu_marketplace_added",{source_type:K}),console.log(`${X1.tick} Successfully added marketplace: ${W}`),process.exit(0)}catch(I){B(I,"add marketplace")}}),Z.command("list").description("List all configured marketplaces").helpOption("-h, --help","Display help for command").action(async()=>{try{let J=await N5(),I=Object.keys(J);if(I.length===0)console.log("No marketplaces configured"),process.exit(0);console.log(`Configured marketplaces:
`),I.forEach((X)=>{let W=J[X];if(console.log(`  ${X1.pointer} ${X}`),W?.source){let K=W.source;if(K.source==="github")console.log(`    Source: GitHub (${K.repo})`);else if(K.source==="git")console.log(`    Source: Git (${K.url})`);else if(K.source==="url")console.log(`    Source: URL (${K.url})`);else if(K.source==="directory")console.log(`    Source: Directory (${K.path})`);else if(K.source==="file")console.log(`    Source: File (${K.path})`)}console.log("")}),process.exit(0)}catch(J){B(J,"list marketplaces")}}),Z.command("remove <name>").alias("rm").description("Remove a configured marketplace").helpOption("-h, --help","Display help for command").action(async(J)=>{try{await FsA(J),VZ(),r("tengu_marketplace_removed",{marketplace_name:J}),console.log(`${X1.tick} Successfully removed marketplace: ${J}`),process.exit(0)}catch(I){B(I,"remove marketplace")}}),Z.command("update [name]").description("Update marketplace(s) from their source - updates all if no name specified").helpOption("-h, --help","Display help for command").action(async(J)=>{try{if(J)console.log(`Updating marketplace: ${J}...`),await Mp(J,(I)=>{console.log(I)}),VZ(),r("tengu_marketplace_updated",{marketplace_name:J}),console.log(`${X1.tick} Successfully updated marketplace: ${J}`),process.exit(0);else{let I=await N5(),X=Object.keys(I);if(X.length===0)console.log("No marketplaces configured"),process.exit(0);console.log(`Updating ${X.length} marketplace(s)...`),await QFB(),VZ(),r("tengu_marketplace_updated_all",{count:X.length}),console.log(`${X1.tick} Successfully updated ${X.length} marketplace(s)`),process.exit(0)}}catch(I){B(I,"update marketplace(s)")}}),G.command("install <plugin>").alias("i").description("Install a plugin from available marketplaces (use plugin@marketplace for specific marketplace)").option("-s, --scope <scope>","Installation scope: user, project, or local","user").helpOption("-h, --help","Display help for command").action(async(J,I)=>{let X=I.scope||"user";if(!LC.includes(X))console.error(`Invalid scope: ${X}. Must be one of: ${LC.join(", ")}.`),process.exit(1);r("tengu_plugin_install_command",{plugin:J,scope:X}),await gd2(J,X)}),G.command("uninstall <plugin>").alias("remove").alias("rm").description("Uninstall an installed plugin").option("-s, --scope <scope>","Uninstall from scope: user, project, or local","user").helpOption("-h, --help","Display help for command").action(async(J,I)=>{let X=I.scope||"user";if(!LC.includes(X))console.error(`Invalid scope: ${X}. Must be one of: ${LC.join(", ")}.`),process.exit(1);r("tengu_plugin_uninstall_command",{plugin:J,scope:X}),await ud2(J,X)}),G.command("enable <plugin>").description("Enable a disabled plugin").option("-s, --scope <scope>",`Installation scope: ${LC.join(", ")} (default: user)`).helpOption("-h, --help","Display help for command").action(async(J,I)=>{let X="user";if(I.scope){if(!LC.includes(I.scope))process.stderr.write(`Invalid scope "${I.scope}". Valid scopes: ${LC.join(", ")}
`),process.exit(1);X=I.scope}r("tengu_plugin_enable_command",{plugin:J,scope:X}),await md2(J,X)}),G.command("disable <plugin>").description("Disable an enabled plugin").option("-s, --scope <scope>",`Installation scope: ${LC.join(", ")} (default: user)`).helpOption("-h, --help","Display help for command").action(async(J,I)=>{let X="user";if(I.scope){if(!LC.includes(I.scope))process.stderr.write(`Invalid scope "${I.scope}". Valid scopes: ${LC.join(", ")}
`),process.exit(1);X=I.scope}r("tengu_plugin_disable_command",{plugin:J,scope:X}),await dd2(J,X)}),G.command("update <plugin>").description("Update a plugin to the latest version (restart required to apply)").option("-s, --scope <scope>",`Installation scope: ${n_A.join(", ")} (default: user)`).helpOption("-h, --help","Display help for command").action(async(J,I)=>{r("tengu_plugin_update_command",{});let X="user";if(I.scope){if(!n_A.includes(I.scope))process.stderr.write(`Invalid scope "${I.scope}". Valid scopes: ${n_A.join(", ")}
`),process.exit(1);X=I.scope}await cd2(J,X)}),A.command("setup-token").description("Set up a long-lived authentication token (requires Claude subscription)").helpOption("-h, --help","Display help for command").action(async()=>{if(r("tengu_setup_token_command",{}),await EI(),!Mz())process.stderr.write(cA.yellow(`Warning: You already have authentication configured via environment variable or API key helper.
`)),process.stderr.write(cA.yellow(`The setup-token command will create a new OAuth token which you can use instead.
`));await new Promise(async(J)=>{let{unmount:I}=await $5(o8.default.createElement(u5,{onChangeAppState:uy},o8.default.createElement(j,{flexDirection:"column",gap:1},o8.default.createElement(fd,{items:[o8.default.createElement(y71,{key:"welcome"})]},(X)=>X),o8.default.createElement(al,{onDone:()=>{I(),J()},mode:"setup-token",startingMessage:"This will guide you through long-lived (1-year) auth token setup for your Claude account. Claude subscription required."}))))}),process.exit(0)});function Y({onDone:J}){return o31(),o8.default.createElement(W51,{onDone:J})}return A.command("doctor").description("Check the health of your Claude Code auto-updater").helpOption("-h, --help","Display help for command").action(async()=>{r("tengu_doctor_command",{}),await new Promise(async(J)=>{let{unmount:I}=await $5(o8.default.createElement(u5,null,o8.default.createElement(b61,{dynamicMcpConfig:void 0,isStrictMcpConfig:!1},o8.default.createElement(Y,{onDone:()=>{I(),J()}}))),{exitOnCtrlC:!1})}),process.exit(0)}),A.command("update").description("Check for updates and install if available").helpOption("-h, --help","Display help for command").action(nc2),A.command("install [target]").description("Install Claude Code native build. Use [target] to specify version (stable, latest, or specific version)").option("--force","Force installation even if already installed").helpOption("-h, --help","Display help for command").action(async(J,I)=>{await m71(WI0(),"default",!1,!1,void 0),await new Promise((X)=>{let W=[];if(J)W.push(J);if(I.force)W.push("--force");rc2.call((K)=>{X(),process.exit(K.includes("failed")?1:0)},{},W)})}),L9("run_before_parse"),await A.parseAsync(process.argv),L9("run_after_parse"),L9("main_after_run"),tK0(),A}async function JF5({hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,githubActionInputs:D,dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,systemPromptFlag:U,appendSystemPromptFlag:O}){try{let q=await maQ();r("tengu_init",{entrypoint:"claude",hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,...D&&{githubActionInputs:D},dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,...U&&{systemPromptFlag:U},...O&&{appendSystemPromptFlag:O},...q&&{rh:q}})}catch(q){s(q instanceof Error?q:Error(String(q)))}}function IF5(){(process.stderr.isTTY?process.stderr:process.stdout.isTTY?process.stdout:void 0)?.write(Ds)}var o8;var Cp2=L(()=>{Ta();ym2();eY0();ar();km2();F2();$8();ur();cTA();pm2();am2();sm2();gQ0();zB1();WM();cuA();fA();j81();dx();M31();xJ0();$H();dIA();t2();Xd2();Vd2();huA();LYA();yIA();k3();xQ();F2();YHA();wZA();Rx1();Ox1();h1();R8();Il();R8();Fd2();QMA();IZ0();G70();aJ0();Sd2();oG0();xd2();IC();l2();BG0();jB();yd2();kd2();hd2();NY0();rQ();BC();FT();HqA();CY0();aW();rh();VY0();pd2();fT();id2();g2();od2();PY0();I81();AX();g0();ed2();rQ();uI();rS();C90();R8();LZ();QeA();Yc2();J4();Hc2();T0();v50();cFA();kJA();By();tf();Fc2();Gw();zc2();$_();f1A();xj();CZA();TAA();tq();l70();wy();Sk();g0();u2();ii();Uc2();Kl();FZA();g0();YW();Y0();wc2();qc2();Mc2();Rc2();Tc2();b8A();lc2();ac2();h_A();cF();I6();sc2();I1A();s51();ec2();Jp2();qM();iY();bW();eZ();qw();SJ();r7A();da1();XQ();wy();pB();M51();E31();O70();tI();oJ0();xIA();Xh();Wp2();XI();lJ0();CV();RXA();h7A();Kp2();o8=o(WA(),1);L9("main_tsx_entry");L9("main_tsx_imports_loaded");if(nH5())process.exit(1)});Ta();Y0();CV();xJ0();NXA();t2();$_();JV();xQ();J4();T0();b8();yJ0();vJ0();kJ0();fJ0();bJ0();M71();CV();RXA();import{readFileSync as mE5,existsSync as dE5}from"fs";var mJ0,Nm2=!1;function qm2(){if(mJ0===void 0)mJ0=wm2();return mJ0}function mH(){let A=_n(),Q=qm2();if(!Nm2){if(Nm2=!0,A&&Q===null){let B=O71(),G=wXA();console.error(cA.yellow(`Warning: MCP endpoint file not found at ${B} (session: ${G}). Falling back to state file.`))}}return A&&Q!==null}class ZjA extends Error{constructor(A){super(A);this.name="ConnectionFailedError"}}async function YjA(A,Q,B,G){let Z=Date.now();try{let Y=await Q();if(!mH()){let J=typeof B==="function"?B(Y):B||{};await Cu("tengu_mcp_cli_command_executed",{command:A,success:!0,duration_ms:Date.now()-Z,...J})}return{success:!0,data:Y}}catch(Y){let J=Y instanceof Error?Y:Error(String(Y));if(console.error(cA.red("Error:"),J.message),!mH()){let I=typeof B==="object"?B:{};await Cu("tengu_mcp_cli_command_executed",{command:A,success:!1,error_type:J.constructor.name,duration_ms:Date.now()-Z,...I,...G})}return{success:!1,error:J}}}function Tn(){let A=t51();if(!dE5(A)){let Q=wXA();throw Error(`MCP state file not found at ${A} (session: ${Q}). Is Claude Code running?`)}try{return JSON.parse(mE5(A,"utf-8"))}catch(Q){throw Error(`Error reading MCP state file ${A}: ${Q instanceof Error?Q.message:String(Q)}`)}}function Lm2(A,Q){if(A.configs?.[Q])return A.configs[Q];let B=A.normalizedNames?.[Q];if(B&&A.configs?.[B])return A.configs[B];return}function cE5(A,Q){if(A.resources?.[Q])return A.resources[Q];let B=A.normalizedNames?.[Q];if(B&&A.resources?.[B])return A.resources[B];return[]}function dJ0(A){let Q=A.split("/");if(Q.length!==2||!Q[0]||!Q[1])throw Error(`Invalid tool identifier '${A}'. Expected format: <server>/<tool>`);return{server:Q[0],tool:Q[1]}}async function KQA(A,Q,B=1e4){let G=qm2();if(!G)throw Error("MCP CLI endpoint not enabled");try{let Z=await wQ({method:"POST",url:`${G.url}/mcp`,data:Q,headers:{Authorization:`Bearer ${G.key}`,"Content-Type":"application/json"},timeout:B,validateStatus:()=>!0});if(Z.status>=400){let Y=Z.data,J=Error(Y.error||`HTTP ${Z.status}: ${Z.statusText}`);if(Y.type)J.name=Y.type;throw J}return A.parse(Z.data)}catch(Z){if(wQ.isAxiosError(Z)){if(Z.code==="ECONNREFUSED")throw Error("Connection refused - is the MCP endpoint running?");if(Z.code==="ETIMEDOUT"||Z.message.includes("timeout"))throw Error("Request timeout");if(Z.message.startsWith("HTTP "))throw Z;throw Error(`Network error: ${Z.message}`)}throw Z}}var jn=new U71().name("mcp-cli").description("Interact with MCP servers and tools").version("1.0.0");jn.command("servers").description("List all connected MCP servers").option("--json","Output in JSON format").action(async(A)=>{let Q=await YjA("servers",async()=>{return mH()?await KQA(hJ0,{command:"servers"}):$71(Tn().clients)},(G)=>({server_count:G.length}));if(!Q.success)process.exit(1);let B=Q.data;if(A.json)console.log(JSON.stringify(B));else B.forEach((G)=>{let Z=G.type==="connected"?cA.green("connected"):G.type==="failed"?cA.red("failed"):cA.yellow(G.type),Y="";if(G.type==="connected"){let J=[];if(G.hasTools)J.push("tools");if(G.hasResources)J.push("resources");if(G.hasPrompts)J.push("prompts");if(J.length>0)Y=` (${J.join(", ")})`}console.log(`${G.name} - ${Z}${Y}`)})});jn.command("tools").description("List all available tools").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await YjA("tools",async()=>{return mH()?await KQA(gJ0,{command:"tools",params:B}):w71(Tn().tools,B)},(Y)=>({tool_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else if(A)Z.forEach((Y)=>console.log(Y.name));else Z.forEach((Y)=>console.log(`${Y.server}/${Y.name}`))});jn.command("info").description("Get detailed information about a tool").argument("<tool>","Tool identifier in format <server>/<tool>").option("--json","Output in JSON format").action(async(A,Q)=>{let B=await YjA("info",async()=>{let{server:Z,tool:Y}=dJ0(A),J={server:Z,toolName:Y};if(mH())return await KQA(Cm2,{command:"info",params:J});let I=Tn(),X=await N71(I.tools,J);if(!X){let W=GjA(I.clients,Z,I.normalizedNames),K=WQA(Z,W?.type);if(K)throw K;throw Error(`Tool '${Y}' not found on server '${Z}'`)}return X},()=>({tool_found:!0}),{tool_found:!1});if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else{if(console.log(cA.bold(`Tool: ${A}`)),console.log(cA.dim(`Server: ${G.server}`)),G.description)console.log(cA.dim(`Description: ${G.description}`));console.log(),console.log(cA.bold("Input Schema:")),console.log(JSON.stringify(G.inputSchema,null,2))}});async function pE5(A,Q,B,G){let Z=Tn(),Y=Lm2(Z,Q);if(!Y)throw Error(`Server '${Q}' not found`);if(G.debug)console.error(`Connecting to ${Q} (${Y.type})...`);let J=await re(Q,Y);if(J.client.type!=="connected")throw WQA(Q,J.client.type)??new ZjA(`Failed to connect to server '${Q}'`);let I=(()=>{let V=`mcp__${g5(Q)}__${g5(A)}`;return Z.tools.find((D)=>D.name===V)?.originalToolName||A})();if(G.debug)console.error(`Calling tool ${I}...`);let X=parseInt(G.timeout||"",10)||se(),W=await J.client.client.request({method:"tools/call",params:{name:I,arguments:B}},F_,{signal:AbortSignal.timeout(X)});return J.client.client.close(),W}jn.command("call").description("Invoke an MCP tool").argument("<tool>","Tool identifier in format <server>/<tool>").argument("<args>",'Tool arguments as JSON string or "-" for stdin').option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let{server:G,tool:Z}=dJ0(A);if(Q==="-"){let X=[];for await(let W of process.stdin)X.push(W);Q=Buffer.concat(X).toString("utf-8").trim()}let Y;try{Y=JSON.parse(Q)}catch(X){console.error(cA.red("Error: Invalid JSON arguments")),console.error(String(X)),process.exit(1)}let J=`mcp__${g5(G)}__${g5(Z)}`,I=Date.now();try{let X=parseInt(B.timeout||"",10)||se(),W={server:G,tool:Z,args:Y,timeoutMs:X},K=mH()?await KQA(F_,{command:"call",params:W},X):await pE5(Z,G,Y,B),V=B.json?JSON.stringify(K):typeof K==="string"?K:JSON.stringify(K,null,2);if(await new Promise((E)=>{process.stdout.write(V+`
`,()=>E())}),!mH())await Cu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){console.error(cA.red("Error calling tool:"),String(X));let W=Date.now()-I,K=String(X).slice(0,2000);if(!mH())await Cu("tengu_tool_use_error",{toolName:J,isMcp:!0,error:K,durationMs:W}),await Cu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!1,error_type:X instanceof ZjA?"connection_failed":"tool_execution_failed",duration_ms:Date.now()-I});process.exit(1)}});jn.command("grep").description("Search tool names and descriptions using regex patterns").argument("<pattern>","Regex pattern to search for").option("--json","Output in JSON format").option("-i, --ignore-case","Case insensitive search (default: true)",!0).action(async(A,Q)=>{let B=await YjA("grep",async()=>{try{new RegExp(A,Q.ignoreCase?"i":"")}catch(Y){throw Error(`Invalid regex pattern: ${Y instanceof Error?Y.message:String(Y)}`)}let Z={pattern:A,ignoreCase:Q.ignoreCase};return mH()?await KQA(zm2,{command:"grep",params:Z}):q71(Tn().tools,Z)},(Z)=>({match_count:Z.length}));if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else if(G.length===0)console.log(cA.yellow("No tools found matching pattern"));else G.forEach((Z)=>{if(console.log(cA.bold(`${Z.server}/${Z.name}`)),Z.description){let Y=Z.description.length>100?Z.description.slice(0,100)+"...":Z.description;console.log(cA.dim(`  ${Y}`))}console.log()})});jn.command("resources").description("List MCP resources").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await YjA("resources",async()=>{if(mH())return await KQA(Um2,{command:"resources",params:B});else{let Y=Tn();return L71(Y.resources,B,Y.normalizedNames)}},(Y)=>({resource_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else Z.forEach((Y)=>{console.log(`${Y.server}/${Y.name||Y.uri}`)})});async function lE5(A,Q,B){let G=Tn(),Z=Lm2(G,A);if(!Z)throw Error(`Server '${A}' not found`);if(B.debug)console.error(`Connecting to ${A} (${Z.type})...`);let Y=await re(A,Z);if(Y.client.type!=="connected")throw WQA(A,Y.client.type)??new ZjA(`Failed to connect to server '${A}'`);if(B.debug)console.error(`Reading resource: ${Q}`);let J=parseInt(B.timeout||"",10)||se(),I=await Y.client.client.readResource({uri:Q},{signal:AbortSignal.timeout(J)});return Y.client.client.close(),I}jn.command("read").description("Read an MCP resource").argument("<resource>","Resource identifier in format <server>/<resource> or <server> <uri>").argument("[uri]","Optional: Direct resource URI (file://, https://, etc.)").option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let G,Z,Y;if(Q)G=A,Y=Q;else{let X=dJ0(A);G=X.server,Z=X.tool}let J;if(Y){if(J=Y,B.debug)console.log(`Using direct URI: ${J}`)}else{let X=Tn(),K=cE5(X,G).find((V)=>V.name===Z||V.uri===Z);if(!K)console.error(cA.red(`Error: Resource '${Z}' not found on server '${G}'`)),process.exit(1);J=K.uri}let I=Date.now();try{let X=parseInt(B.timeout||"",10)||se(),W={server:G,uri:J,timeoutMs:X},K=mH()?await KQA(Hp,{command:"read",params:W},X):await lE5(G,J,B);if(B.json)console.log(JSON.stringify(K));else if(K.contents&&Array.isArray(K.contents))K.contents.forEach((V)=>{if(V&&typeof V==="object"){if("text"in V)console.log(V.text);else if("blob"in V){console.log(cA.yellow("[Binary blob content]"));let E="mimeType"in V?V.mimeType:void 0;console.log(cA.dim(`MIME type: ${E||"unknown"}`))}}});else console.log(JSON.stringify(K,null,2));if(!mH())await Cu("tengu_mcp_cli_command_executed",{command:"read",success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){if(console.error(cA.red("Error reading resource:"),String(X)),!mH())await Cu("tengu_mcp_cli_command_executed",{command:"read",success:!1,error_type:X instanceof ZjA?"connection_failed":"read_failed",duration_ms:Date.now()-I});process.exit(1)}});async function Mm2(A){if(pTA(),!mH())Hg();try{if(await jn.parseAsync(A,{from:"user"}),!mH())await(await Hg())?.flush();return 0}catch(Q){if(console.error(cA.red("Error:"),Q),!mH())await(await Hg())?.flush();return 1}}Y0();cJ0();Y81();var Rm2=1048576;function iE5(A,...Q){console.error(`[Claude Chrome Native Host] ${A}`,...Q)}class nE5{buffer=Buffer.alloc(0);pendingResolve=null;closed=!1;constructor(){process.stdin.on("data",(A)=>{this.buffer=Buffer.concat([this.buffer,A]),this.tryProcessMessage()}),process.stdin.on("end",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null}),process.stdin.on("error",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null})}tryProcessMessage(){if(!this.pendingResolve)return;if(this.buffer.length<4)return;let A=this.buffer.readUInt32LE(0);if(A===0||A>Rm2){iE5(`Invalid message length: ${A}`),this.pendingResolve(null),this.pendingResolve=null;return}if(this.buffer.length<4+A)return;let Q=this.buffer.subarray(4,4+A);this.buffer=this.buffer.subarray(4+A);let B=Q.toString("utf-8");this.pendingResolve(B),this.pendingResolve=null}async read(){if(this.closed)return null;if(this.buffer.length>=4){let A=this.buffer.readUInt32LE(0);if(A>0&&A<=Rm2&&this.buffer.length>=4+A){let Q=this.buffer.subarray(4,4+A);return this.buffer=this.buffer.subarray(4+A),Q.toString("utf-8")}}return new Promise((A)=>{this.pendingResolve=A,this.tryProcessMessage()})}}lJ0();$_();qw();xQ();I81();process.env.COREPACK_ENABLE_AUTO_PIN="0";L9("cli_entry");L9("cli_imports_loaded");async function XF5(){let A=process.argv.slice(2);if(A.length===1&&(A[0]==="--version"||A[0]==="-v"||A[0]==="-V")){L9("cli_version_fast_path"),console.log(`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} (Claude Code)`);return}if(uZ()&&A[0]==="--mcp-cli"){let B=A.slice(1);process.exit(await Mm2(B))}if(A[0]==="--ripgrep"){L9("cli_ripgrep_path");let B=A.slice(1),{ripgrepMain:G}=await Promise.resolve().then(() => (Tm2(),_m2));process.exitCode=G(B);return}L9("cli_before_main_import");let{main:Q}=await Promise.resolve().then(() => (Cp2(),Fp2));L9("cli_after_main_import"),await Q(),L9("cli_after_main_complete")}XF5();
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"function KAA\\b|function hZ\\b|ENABLE_EXPERIMENTAL_MCP_CLI|MCP_TOOL_TIMEOUT\" bundles/ClaudeAgentSDKCode/cli.js | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 36ms:[0m
[2m1574:`,{level:"error"});throw D}}),K.getMeter("com.anthropic.claude_code",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION)}async function ViB(){let A=tW0();if(!A)return;let Q=parseInt(process.env.CLAUDE_CODE_OTEL_FLUSH_TIMEOUT_MS||"5000");try{let B=[A.forceFlush()],G=_G1();if(G)B.push(G.forceFlush());let Z=TG1();if(Z)B.push(Z.forceFlush());await Promise.race([Promise.all(B),new Promise((Y,J)=>setTimeout(()=>J(Error("OpenTelemetry flush timeout")),Q))]),f("Telemetry flushed successfully")}catch(B){if(B instanceof Error&&B.message.includes("timeout"))f(`Telemetry flush timed out after ${Q}ms. Some metrics may not be exported.`,{level:"warn"});else f(`Telemetry flush failed: ${B instanceof Error?B.message:String(B)}`,{level:"error"})}}function de1(){let A=Ld(),Q=OR(),B=process.env.OTEL_EXPORTER_OTLP_ENDPOINT;if(!A||B&&fgA(B))return Q?{httpAgentOptions:Q}:{};return{httpAgentOptions:(Z)=>{return Q?new ue1.HttpsProxyAgent(A,{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}):new ue1.HttpsProxyAgent(A)}}}var $YA,ge1,_01,AiB,QiB,BiB,GiB,me1,wYA,ZiB,YiB,JiB,NYA,IiB,XiB,WiB,XT,Zi,ue1,lG8=60000,iG8=5000,nG8=5000;var ce1=q(()=>{ylB();vlB();fW();Md();V2();u0();Gi();Z8();V2();gB();Q0();da();v3A();sQ();$YA=o(q9(),1),ge1=o(m_1(),1),_01=o(xl(),1),AiB=o(kvB(),1),QiB=o(adB(),1),BiB=o(kA1(),1),GiB=o(GcB(),1),me1=o(xl(),1),wYA=o(wT1(),1),ZiB=o(HcB(),1),YiB=o(wcB(),1),JiB=o(ScB(),1),NYA=o(ZlB(),1),IiB=o(FlB(),1),XiB=o(NlB(),1),WiB=o(xlB(),1),XT=o(n3A(),1),Zi=o(nr(),1),ue1=o(QDA(),1)});var BWG,EiB;var DiB=q(()=>{C2();BWG=P.object({checksum:P.string(),version:P.string().optional()}),EiB=P.object({uuid:P.string(),checksum:P.string(),settings:P.record(P.unknown())})});function qYA({title:A,subtitle:Q,color:B="permission"}){return $h.createElement(j,{flexDirection:"column"},$h.createElement(j,{flexDirection:"row",gap:1},$h.createElement(z,{bold:!0,color:B},A),Q!==void 0&&$h.createElement(z,{wrap:"truncate-start"},Q)))}var $h;var T01=q(()=>{hA();$h=o(KA(),1)});var YX;var nx=q(()=>{R8();YX=QQ.platform==="darwin"?"‚è∫":"‚óè"});function AZ8(A){return`ansi:${A}`}function j01({name:A,color:Q}){let B=AZ8(Q);return H1A.createElement(j,{flexDirection:"row",gap:1},H1A.createElement(z,{color:B},YX," ",H1A.createElement(z,{bold:!0},A)))}var H1A;var pe1=q(()=>{hA();nx();H1A=o(KA(),1)});function fZ({title:A,subtitle:Q,color:B="permission",titleColor:G,innerPaddingX:Z=1,workerBadge:Y,children:J}){return WT.createElement(j,{flexDirection:"column",borderStyle:"round",borderColor:B,borderLeft:!1,borderRight:!1,borderBottom:!1,marginTop:1},WT.createElement(j,{paddingX:1,flexDirection:"column"},Y&&WT.createElement(j01,{name:Y.name,color:Y.color}),WT.createElement(qYA,{title:A,subtitle:Q,color:G})),WT.createElement(j,{flexDirection:"column",paddingX:Z},J))}var WT;var PU=q(()=>{hA();T01();pe1();WT=o(KA(),1)});var HiB,bLA;var le1=q(()=>{HiB=["apiKeyHelper","awsAuthRefresh","awsCredentialExport","otelHeadersHelper","statusLine"],bLA=new Set(["ANTHROPIC_CUSTOM_HEADERS","ANTHROPIC_DEFAULT_HAIKU_MODEL","ANTHROPIC_DEFAULT_OPUS_MODEL","ANTHROPIC_DEFAULT_SONNET_MODEL","ANTHROPIC_FOUNDRY_API_KEY","ANTHROPIC_MODEL","ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION","ANTHROPIC_SMALL_FAST_MODEL","AWS_DEFAULT_REGION","AWS_PROFILE","AWS_REGION","BASH_DEFAULT_TIMEOUT_MS","BASH_MAX_OUTPUT_LENGTH","BASH_MAX_TIMEOUT_MS","CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR","CLAUDE_CODE_API_KEY_HELPER_TTL_MS","CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS","CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC","CLAUDE_CODE_DISABLE_TERMINAL_TITLE","CLAUDE_CODE_ENABLE_TELEMETRY","CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL","CLAUDE_CODE_MAX_OUTPUT_TOKENS","CLAUDE_CODE_SKIP_BEDROCK_AUTH","CLAUDE_CODE_SKIP_FOUNDRY_AUTH","CLAUDE_CODE_SKIP_VERTEX_AUTH","CLAUDE_CODE_SUBAGENT_MODEL","CLAUDE_CODE_USE_BEDROCK","CLAUDE_CODE_USE_FOUNDRY","CLAUDE_CODE_USE_VERTEX","DISABLE_AUTOUPDATER","DISABLE_BUG_COMMAND","DISABLE_COST_WARNINGS","DISABLE_ERROR_REPORTING","DISABLE_TELEMETRY","MAX_MCP_OUTPUT_TOKENS","MAX_THINKING_TOKENS","MCP_TIMEOUT","MCP_TOOL_TIMEOUT","OTEL_EXPORTER_OTLP_HEADERS","OTEL_EXPORTER_OTLP_LOGS_HEADERS","OTEL_EXPORTER_OTLP_LOGS_PROTOCOL","OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY","OTEL_EXPORTER_OTLP_METRICS_HEADERS","OTEL_EXPORTER_OTLP_METRICS_PROTOCOL","OTEL_EXPORTER_OTLP_PROTOCOL","OTEL_EXPORTER_OTLP_TRACES_HEADERS","OTEL_LOG_USER_PROMPTS","OTEL_LOGS_EXPORT_INTERVAL","OTEL_LOGS_EXPORTER","OTEL_METRIC_EXPORT_INTERVAL","OTEL_METRICS_EXPORTER","OTEL_METRICS_INCLUDE_ACCOUNT_UUID","OTEL_METRICS_INCLUDE_SESSION_ID","OTEL_METRICS_INCLUDE_VERSION","OTEL_RESOURCE_ATTRIBUTES","USE_BUILTIN_RIPGREP","VERTEX_REGION_CLAUDE_3_5_HAIKU","VERTEX_REGION_CLAUDE_3_5_SONNET","VERTEX_REGION_CLAUDE_3_7_SONNET","VERTEX_REGION_CLAUDE_4_0_OPUS","VERTEX_REGION_CLAUDE_4_0_SONNET","VERTEX_REGION_CLAUDE_4_1_OPUS","VERTEX_REGION_CLAUDE_HAIKU_4_5"])});function LYA(A){if(!A)return{shellSettings:{},envVars:{},hasHooks:!1};let Q={};for(let Z of HiB){let Y=A[Z];if(typeof Y==="string"&&Y.length>0)Q[Z]=Y}let B={};if(A.env&&typeof A.env==="object"){for(let[Z,Y]of Object.entries(A.env))if(typeof Y==="string"&&Y.length>0){if(!bLA.has(Z.toUpperCase()))B[Z]=Y}}let G=A.hooks!==void 0&&A.hooks!==null&&typeof A.hooks==="object"&&Object.keys(A.hooks).length>0;return{shellSettings:Q,envVars:B,hasHooks:G,hooks:G?A.hooks:void 0}}function P01(A){return Object.keys(A.shellSettings).length>0||Object.keys(A.envVars).length>0||A.hasHooks}function FiB(A,Q){let B=LYA(A),G=LYA(Q);if(!P01(G))return!1;if(!P01(B))return!0;let Z=JSON.stringify({shellSettings:B.shellSettings,envVars:B.envVars,hooks:B.hooks}),Y=JSON.stringify({shellSettings:G.shellSettings,envVars:G.envVars,hooks:G.hooks});return Z!==Y}function CiB(A){let Q=[];for(let B of Object.keys(A.shellSettings))Q.push(B);for(let B of Object.keys(A.envVars))Q.push(B);if(A.hasHooks)Q.push("hooks");return Q}var ie1=q(()=>{le1()});function ziB({settings:A,onAccept:Q,onReject:B}){let G=LYA(A),Z=CiB(G),Y=jQ();f1((I,X)=>{if(X.escape){B();return}});function J(I){if(I==="exit"){B();return}Q()}return eE.default.createElement(fZ,{color:"warning",titleColor:"warning",title:"Managed settings require approval"},eE.default.createElement(j,{flexDirection:"column",gap:1,paddingTop:1},eE.default.createElement(z,null,"Your organization has configured managed settings that could allow execution of arbitrary code or interception of your prompts and responses."),eE.default.createElement(j,{flexDirection:"column"},eE.default.createElement(z,{dimColor:!0},"Settings requiring approval:"),Z.map((I,X)=>eE.default.createElement(j,{key:X,paddingLeft:2},eE.default.createElement(z,null,eE.default.createElement(z,{dimColor:!0},"¬∑ "),eE.default.createElement(z,null,I))))),eE.default.createElement(z,null,"Only accept if you trust your organization's IT administration and expect these settings to be configured."),eE.default.createElement(S0,{options:[{label:"Yes, I trust these settings",value:"accept"},{label:"No, exit Claude Code",value:"exit"}],onChange:(I)=>J(I),onCancel:()=>J("exit")}),eE.default.createElement(z,{dimColor:!0},Y.pending?eE.default.createElement(eE.default.Fragment,null,"Press ",Y.keyName," again to exit"):eE.default.createElement(eE.default.Fragment,null,"Enter to confirm ¬∑ Esc to exit"))))}var eE;var UiB=q(()=>{hA();G6();PU();o9();ie1();eE=o(KA(),1)});async function $iB(A,Q){if(!Q||!P01(LYA(Q)))return"no_check_needed";if(!FiB(A,Q))return"no_check_needed";if(!PBA())return"no_check_needed";return s("tengu_managed_settings_security_dialog_shown",{}),new Promise((B)=>{(async()=>{let{unmount:G}=await O5(ne1.default.createElement(n5,null,ne1.default.createElement(ziB,{settings:Q,onAccept:()=>{s("tengu_managed_settings_security_dialog_accepted",{}),G(),B("approved")},onReject:()=>{s("tengu_managed_settings_security_dialog_rejected",{}),G(),B("rejected")}})),{exitOnCtrlC:!1})})()})}function wiB(A){if(A==="rejected")return f3(1),!1;return!0}var ne1;var NiB=q(()=>{hA();UiB();f2();u0();_0();pY();ie1();ne1=o(KA(),1)});import{join as QZ8}from"path";import{createHash as BZ8}from"crypto";import{existsSync as qiB,unlinkSync as GZ8}from"fs";function LiB(){if(gLA)return;if(Nh())gLA=new Promise((A)=>{wh=A,setTimeout(()=>{if(wh)f("Remote settings: Loading promise timed out, resolving anyway"),wh(),wh=null},IZ8)})}function re1(){return QZ8(uQ(),ZZ8)}function XZ8(){return`${process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com"}/api/claude_code/settings`}function oe1(A){if(Array.isArray(A))return A.map(oe1);if(A!==null&&typeof A==="object"){let Q={};for(let B of Object.keys(A).sort())Q[B]=oe1(A[B]);return Q}return A}function WZ8(A){let Q=oe1(A),B=JSON.stringify(Q);return`sha256:${BZ8("sha256").update(B).digest("hex")}`}function Nh(){return!1}function MiB(){return Nh()}function KZ8(){try{let{key:Q}=aD({skipRetrievingKeyFromApiKeyHelper:!0});if(Q)return{headers:{"x-api-key":Q}}}catch{}let A=r3();if(A?.accessToken)return{headers:{Authorization:`Bearer ${A.accessToken}`,"anthropic-beta":Fm}};return{headers:{},error:"No authentication available"}}async function VZ8(A){let Q=null;for(let B=1;B<=ae1+1;B++){if(Q=await EZ8(A),Q.success)return Q;if(Q.skipRetry)return Q;if(B>ae1)return Q;let G=Na1(B);f(`Remote settings: Retry ${B}/${ae1} after ${G}ms`),await SeA(G)}return Q}async function EZ8(A){try{await pk();let Q=KZ8();if(Q.error)return{success:!1,error:"Authentication required for remote settings",skipRetry:!0};let B=XZ8(),G={...Q.headers,"User-Agent":gI()};if(A)G["If-None-Match"]=`"${A}"`;let Z=await FQ.get(B,{headers:G,timeout:YZ8,validateStatus:(I)=>I===200||I===304});if(Z.status===304)return f("Remote settings: Using cached settings (304)"),{success:!0,settings:null,checksum:A};let Y=EiB.safeParse(Z.data);if(!Y.success)return f(`Remote settings: Invalid response format - ${Y.error.message}`),{success:!1,error:"Invalid remote settings format"};let J=Pb.safeParse(Y.data.settings);if(!J.success)return f(`Remote settings: Settings validation failed - ${J.error.message}`),{success:!1,error:"Invalid settings structure"};return f("Remote settings: Fetched successfully"),{success:!0,settings:J.data,checksum:Y.data.checksum}}catch(Q){if(FQ.isAxiosError(Q)){let B=Q;if(B.response?.status===404)return{success:!0,settings:{},checksum:""};if(B.response?.status===401||B.response?.status===403)return{success:!1,error:"Not authorized for remote settings",skipRetry:!0};if(B.code==="ECONNABORTED")return{success:!1,error:"Remote settings request timeout"};if(B.code==="ECONNREFUSED"||B.code==="ENOTFOUND")return{success:!1,error:"Cannot connect to server"}}return{success:!1,error:Q instanceof Error?Q.message:"Unknown error"}}}function OiB(){try{let A=re1();if(!qiB(A))return null;let Q=_E(A),B=d8(Q,!1);if(!B||typeof B!=="object"||Array.isArray(B))return null;return B}catch{return null}}function DZ8(A){try{let Q=re1();KM(Q,JSON.stringify(A,null,2),{encoding:"utf-8",mode:384}),f(`Remote settings: Saved to ${Q}`)}catch(Q){f(`Remote settings: Failed to save - ${Q instanceof Error?Q.message:"unknown error"}`)}}function se1(){TiB(),QN=null,gLA=null,wh=null;try{let A=re1();if(qiB(A))GZ8(A)}catch{}}async function te1(){if(!Nh())return null;let A=OiB(),Q=A?WZ8(A):void 0;try{let B=await VZ8(Q);if(!B.success){if(A)return f("Remote settings: Using stale cache after fetch failure"),QN=A,A;return null}if(B.settings===null&&A)return f("Remote settings: Cache still valid (304 Not Modified)"),QN=A,A;let G=B.settings||{};if(Object.keys(G).length>0){let Y=await $iB(A,G);if(!wiB(Y))return f("Remote settings: User rejected new settings, using cached settings"),A;return QN=G,DZ8(G),f("Remote settings: Applied new settings successfully"),G}return QN=G,G}catch{if(A)return f("Remote settings: Using stale cache after error"),QN=A,A;return null}}function ee1(){if(!Nh())return null;if(QN)return QN;let A=OiB();if(A)return QN=A,A;return null}async function RiB(){if(Nh()&&!gLA)gLA=new Promise((A)=>{wh=A});try{let A=await te1();if(Nh())FZ8();if(A!==null)hR(),SF.notifyChange("policySettings")}finally{if(wh)wh(),wh=null}}async function _iB(){if(se1(),!Nh()){hR(),SF.notifyChange("policySettings");return}await te1(),f("Remote settings: Refreshed after auth change"),hR(),SF.notifyChange("policySettings")}async function HZ8(){if(!Nh())return;let A=QN?JSON.stringify(QN):null;try{if(await te1(),(QN?JSON.stringify(QN):null)!==A)f("Remote settings: Changed during background poll"),hR(),SF.notifyChange("policySettings")}catch{}}function FZ8(){if(hLA!==null)return;if(!Nh())return;hLA=setInterval(()=>{HZ8()},JZ8),O8(async()=>TiB())}function TiB(){if(hLA!==null)clearInterval(hLA),hLA=null}var ZZ8="remote-settings.json",YZ8=1e4,ae1=5,JZ8=3600000,hLA=null,gLA=null,wh=null,IZ8=30000,QN=null;var MYA=q(()=>{m8();rD();Q0();nJ();V2();me();DiB();sQ();N9();vI();geA();JZA();ms();gB();fW();NiB()});async function QA0({clearOnboarding:A=!1}){await ViB(),YCQ(),u$().delete(),S01(),i0((B)=>{let G={...B};if(A){if(G.hasCompletedOnboarding=!1,G.subscriptionNoticeCount=0,G.hasAvailableSubscription=!1,G.customApiKeyResponses?.approved)G.customApiKeyResponses={...G.customApiKeyResponses,approved:[]}}return G.oauthAccount=void 0,G})}var AA0,S01=()=>{r3.cache?.clear?.(),oyA(),PiB(),wfQ(),Ds.cache?.clear?.(),Pl.cache?.clear?.(),se1()},jiB;var x01=q(()=>{vQ();qb();js();hA();V2();uyA();Bk();w4();tk();pY();NZA();ce1();MYA();Is();AA0=o(KA(),1);jiB={type:"local-jsx",name:"logout",description:"Sign out from your Anthropic account",isEnabled:()=>!process.env.DISABLE_LOGOUT_COMMAND,isHidden:!1,async call(){if(!AH())await JI();await QA0({clearOnboarding:!0});let A=AA0.createElement(z,null,"Successfully logged out from your Anthropic account.");return setTimeout(()=>{f3(0,"logout")},200),A},userFacingName(){return"logout"}}});class uLA{codeVerifier;authCodeListener=null;port=null;manualAuthCodeResolver=null;constructor(){this.codeVerifier=C_B()}async startOAuthFlow(A,Q){this.authCodeListener=new ea1,this.port=await this.authCodeListener.start();let B=z_B(this.codeVerifier),G=U_B(),Z={codeChallenge:B,state:G,port:this.port,loginWithClaudeAi:Q?.loginWithClaudeAi,inferenceOnly:Q?.inferenceOnly,orgUUID:Q?.orgUUID},Y=yK1({...Z,isManual:!0}),J=yK1({...Z,isManual:!1}),I=await this.waitForAuthorizationCode(G,async()=>{await A(Y),await Y7(J)}),X=this.authCodeListener?.hasPendingResponse()??!1;s("tengu_oauth_auth_code_received",{automatic:X});try{let W=await Ku0(I,G,this.codeVerifier,this.port,!X,Q?.expiresIn);await QA0({clearOnboarding:!1});let K=await vK1(W.access_token);if(W.account)kK1({accountUuid:W.account.uuid,emailAddress:W.account.email_address,organizationUuid:W.organization?.uuid,displayName:K.displayName,hasExtraUsageEnabled:K.hasExtraUsageEnabled??void 0});if(X){let V=dyA(W.scope);this.authCodeListener?.handleSuccessRedirect(V)}return this.formatTokens(W,K.subscriptionType,K.rateLimitTier)}catch(W){if(X)this.authCodeListener?.handleErrorRedirect();throw W}finally{this.authCodeListener?.close()}}async waitForAuthorizationCode(A,Q){return new Promise((B,G)=>{this.manualAuthCodeResolver=B,this.authCodeListener?.waitForAuthorization(A,Q).then((Z)=>{this.manualAuthCodeResolver=null,B(Z)}).catch((Z)=>{this.manualAuthCodeResolver=null,G(Z)})})}handleManualAuthCodeInput(A){if(this.manualAuthCodeResolver)this.manualAuthCodeResolver(A.authorizationCode),this.manualAuthCodeResolver=null,this.authCodeListener?.close()}formatTokens(A,Q,B){return{accessToken:A.access_token,refreshToken:A.refresh_token,expiresAt:Date.now()+A.expires_in*1000,scopes:dyA(A.scope),subscriptionType:Q,rateLimitTier:B}}cleanup(){this.authCodeListener?.close(),this.manualAuthCodeResolver=null}}var BA0=q(()=>{EU();F_B();$_B();qq();x01();_0()});var viB=w((wKG,yiB)=>{var CZ8="Expected a function",SiB=NaN,zZ8="[object Symbol]",UZ8=/^\s+|\s+$/g,$Z8=/^[-+]0x[0-9a-f]+$/i,wZ8=/^0b[01]+$/i,NZ8=/^0o[0-7]+$/i,qZ8=parseInt,LZ8=typeof global=="object"&&global&&global.Object===Object&&global,MZ8=typeof self=="object"&&self&&self.Object===Object&&self,OZ8=LZ8||MZ8||Function("return this")(),RZ8=Object.prototype,_Z8=RZ8.toString,TZ8=Math.max,jZ8=Math.min,GA0=function(){return OZ8.Date.now()};function PZ8(A,Q,B){var G,Z,Y,J,I,X,W=0,K=!1,V=!1,E=!0;if(typeof A!="function")throw TypeError(CZ8);if(Q=xiB(Q)||0,ZA0(B))K=!!B.leading,V="maxWait"in B,Y=V?TZ8(xiB(B.maxWait)||0,Q):Y,E="trailing"in B?!!B.trailing:E;function D(T){var x=G,b=Z;return G=Z=void 0,W=T,J=A.apply(b,x),J}function H(T){return W=T,I=setTimeout($,Q),K?D(T):J}function F(T){var x=T-X,b=T-W,v=Q-x;return V?jZ8(v,Y-b):v}function C(T){var x=T-X,b=T-W;return X===void 0||x>=Q||x<0||V&&b>=Y}function $(){var T=GA0();if(C(T))return O(T);I=setTimeout($,F(T))}function O(T){if(I=void 0,E&&G)return D(T);return G=Z=void 0,J}function M(){if(I!==void 0)clearTimeout(I);W=0,G=X=Z=I=void 0}function L(){return I===void 0?J:O(GA0())}function _(){var T=GA0(),x=C(T);if(G=arguments,Z=this,X=T,x){if(I===void 0)return H(X);if(V)return I=setTimeout($,Q),D(X)}if(I===void 0)I=setTimeout($,Q);return J}return _.cancel=M,_.flush=L,_}function ZA0(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function SZ8(A){return!!A&&typeof A=="object"}function xZ8(A){return typeof A=="symbol"||SZ8(A)&&_Z8.call(A)==zZ8}function xiB(A){if(typeof A=="number")return A;if(xZ8(A))return SiB;if(ZA0(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=ZA0(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(UZ8,"");var B=wZ8.test(A);return B||NZ8.test(A)?qZ8(A.slice(2),B?2:8):$Z8.test(A)?SiB:+A}yiB.exports=PZ8});function X7(A,Q){let B=$C.useRef(A);yZ8(()=>{B.current=A},[A]),$C.useEffect(()=>{if(Q===null)return;let G=setInterval(()=>{B.current()},Q);return()=>{clearInterval(G)}},[Q])}function vZ8(A){let Q=$C.useRef(A);Q.current=A,$C.useEffect(()=>()=>{Q.current()},[])}function OYA(A,Q=500,B){let G=$C.useRef();vZ8(()=>{if(G.current)G.current.cancel()});let Z=$C.useMemo(()=>{let Y=YA0.default(A,Q,B),J=(...I)=>{return Y(...I)};return J.cancel=()=>{Y.cancel()},J.isPending=()=>{return!!G.current},J.flush=()=>{return Y.flush()},J},[A,Q,B]);return $C.useEffect(()=>{G.current=YA0.default(A,Q,B)},[A,Q,B]),Z}var $C,YA0,yZ8;var jV=q(()=>{$C=o(KA(),1),YA0=o(viB(),1),yZ8=typeof window<"u"?$C.useLayoutEffect:$C.useEffect});async function kZ8(){try{if(C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!0;return await FQ.get("https://api.anthropic.com/api/hello",{timeout:5000,headers:{"Cache-Control":"no-cache"}}),!0}catch(A){if(!(A instanceof _k0))return!0;return A.code!=="EHOSTUNREACH"}}function JA0(){let[A,Q]=y01.useState(null);return y01.useEffect(()=>{let B=!0;if(process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)return;let G=async()=>{if(!B)return;let Y=await kZ8();if(B)Q(Y)};G();let Z=setInterval(G,fZ8);return()=>{B=!1,clearInterval(Z)}},[]),{isConnected:A}}var y01,fZ8=30000;var kiB=q(()=>{m8();sQ();y01=o(KA(),1)});class RYA{activeOperations=new Set;lastUserActivityTime=0;lastCLIRecordedTime=Date.now();isCLIActive=!1;USER_ACTIVITY_TIMEOUT_MS=5000;static instance=null;static getInstance(){if(!RYA.instance)RYA.instance=new RYA;return RYA.instance}recordUserActivity(){if(!this.isCLIActive&&this.lastUserActivityTime!==0){let Q=(Date.now()-this.lastUserActivityTime)/1000;if(Q>0){let B=RG1();if(B){let G=this.USER_ACTIVITY_TIMEOUT_MS/1000;if(Q<G)B.add(Q,{type:"user"})}}}this.lastUserActivityTime=Date.now()}startCLIActivity(A){if(this.activeOperations.has(A))this.endCLIActivity(A);let Q=this.activeOperations.size===0;if(this.activeOperations.add(A),Q)this.isCLIActive=!0,this.lastCLIRecordedTime=Date.now()}endCLIActivity(A){if(this.activeOperations.delete(A),this.activeOperations.size===0){let Q=Date.now(),B=(Q-this.lastCLIRecordedTime)/1000;if(B>0){let G=RG1();if(G)G.add(B,{type:"cli"})}this.lastCLIRecordedTime=Q,this.isCLIActive=!1}}async trackOperation(A,Q){this.startCLIActivity(A);try{return await Q()}finally{this.endCLIActivity(A)}}getActivityStates(){return{isUserActive:(Date.now()-this.lastUserActivityTime)/1000<this.USER_ACTIVITY_TIMEOUT_MS/1000,isCLIActive:this.isCLIActive,activeOperationCount:this.activeOperations.size}}}var mLA;var IA0=q(()=>{u0();mLA=RYA.getInstance()});function Yi({todos:A,isStandalone:Q=!1}){if(A.length===0)return null;let B=PV.createElement(PV.Fragment,null,A.map((G,Z)=>{let Y=G.status==="completed"?X1.checkboxOn:X1.checkboxOff;return PV.createElement(j,{key:Z},PV.createElement(z,{dimColor:G.status==="completed"},Y," "),PV.createElement(z,{bold:G.status==="in_progress",dimColor:G.status==="completed",strikethrough:G.status==="completed"},G.content))}));if(Q)return PV.createElement(j,{flexDirection:"column",marginTop:1,marginLeft:2},PV.createElement(z,{bold:!0,dimColor:!0},"Todos"),B);return PV.createElement(j,{flexDirection:"column"},B)}var PV;var dLA=q(()=>{hA();v2();PV=o(KA(),1)});function fiB({streamMode:A}){let[Q,B]=cLA.useState(null),[G,Z]=cLA.useState(null);if(cLA.useEffect(()=>{if(A==="thinking"&&Q===null)B(Date.now());else if(A!=="thinking"&&Q!==null)Z(Date.now()-Q),B(null)},[A,Q]),A==="thinking")return KT.createElement(j,{marginTop:1},KT.createElement(z,{dimColor:!0},"‚à¥ Thinking‚Ä¶"));if(G!==null)return KT.createElement(j,{marginTop:1},KT.createElement(z,{dimColor:!0},"‚à¥ Thought for ",Math.max(1,Math.round(G/1000)),"s (",KT.createElement(z,{dimColor:!0,bold:!0},"ctrl+o")," ","to show thinking)"));return null}var KT,cLA;var biB=q(()=>{hA();KT=o(KA(),1),cLA=o(KA(),1)});function pLA(){if(process.env.TERM==="xterm-ghostty")return["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","*"];return process.platform==="darwin"?["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","‚úΩ"]:["¬∑","‚ú¢","*","‚ú∂","‚úª","‚úΩ"]}function F1A(A,Q,B){return{r:Math.round(A.r+(Q.r-A.r)*B),g:Math.round(A.g+(Q.g-A.g)*B),b:Math.round(A.b+(Q.b-A.b)*B)}}function _YA(A){return`rgb(${A.r},${A.g},${A.b})`}function WA0({char:A,flashOpacity:Q}){let Z=F1A({r:215,g:119,b:87},{r:245,g:149,b:117},Q);return XA0.createElement(z,{color:_YA(Z)},A)}var XA0;var KA0=q(()=>{hA();XA0=o(KA(),1)});function TYA({char:A,index:Q,glimmerIndex:B,messageColor:G,shimmerColor:Z}){let Y=Q===B,J=Math.abs(Q-B)===1;return VA0.createElement(z,{color:Y||J?Z:G},A)}var VA0;var v01=q(()=>{hA();VA0=o(KA(),1)});function EA0({message:A,mode:Q,isConnected:B,messageColor:G,glimmerIndex:Z,flashOpacity:Y,shimmerColor:J,stalledIntensity:I=0}){if(!A)return null;if(B===!1)return EI.createElement(z,{color:G},A," ");if(I>0){let K=F1A({r:215,g:119,b:87},{r:171,g:43,b:63},I),V=_YA(K);return EI.createElement(EI.Fragment,null,EI.createElement(z,{color:V},A),EI.createElement(z,{color:V}," "))}return EI.createElement(EI.Fragment,null,A.split("").map((X,W)=>{if(Q==="tool-use")return EI.createElement(WA0,{key:W,char:X,flashOpacity:Y});else return EI.createElement(TYA,{key:W,char:X,index:W,glimmerIndex:Z,messageColor:G,shimmerColor:J})}),EI.createElement(z,{color:G}," "))}var EI;var hiB=q(()=>{hA();KA0();v01();EI=o(KA(),1)});function DA0({frame:A,messageColor:Q,stalledIntensity:B=0,isConnected:G}){let Z=uiB[A%uiB.length];if(G===!1)return BN.createElement(j,{flexWrap:"wrap",height:1,width:2},BN.createElement(z,{color:Q},Z));if(B>0){let I=F1A({r:215,g:119,b:87},{r:171,g:43,b:63},B);return BN.createElement(j,{flexWrap:"wrap",height:1,width:2},BN.createElement(z,{color:_YA(I)},Z))}return BN.createElement(j,{flexWrap:"wrap",height:1,width:2},BN.createElement(z,{color:Q},Z))}var BN,giB,uiB;var miB=q(()=>{hA();BN=o(KA(),1),giB=pLA(),uiB=[...giB,...[...giB].reverse()]});function lLA(A,Q,B,G){let Z=jYA.useRef(Date.now()),[Y,J]=jYA.useState(A==="requesting"?-1:10),I=jYA.useMemo(()=>{if(A==="requesting")return 50;return 200},[A]);return X7(()=>{if(B===!1||G)return;let X=Date.now()-Z.current,W=Math.floor(X/I),K=Q.length,V=K+20;if(A==="requesting"){let E=W%V-10;J(E)}else{let E=K+10-W%V;J(E)}},I),Y}var jYA;var HA0=q(()=>{jV();jYA=o(KA(),1)});function FA0(A){let[Q,B]=diB.useState(0);return X7(()=>{if(A==="tool-use")B(()=>{let G=Date.now()/1000;return(Math.sin(G*Math.PI)+1)/2});else B(0)},50),Q}var diB;var ciB=q(()=>{jV();diB=o(KA(),1)});function CA0(A,Q=!1){let[B,G]=C1A.useState(0),[Z,Y]=C1A.useState(0),J=C1A.useRef(A);C1A.useEffect(()=>{if(A>J.current)G(0),Y(0),J.current=A},[A]),X7(()=>{if(A>0&&A===J.current&&!Q)G((W)=>W+100);else if(A===0||Q)G(0)},100);let I=B>3000&&!Q,X=I?Math.min((B-3000)/2000,1):0;return X7(()=>{Y((W)=>{let K=X,V=K-W;if(Math.abs(V)<0.01)return K;return W+V*0.1})},50),{isStalled:I,stalledIntensity:Z}}var C1A;var piB=q(()=>{jV();C1A=o(KA(),1)});var liB=q(()=>{KA0();v01();hiB();miB();HA0();ciB();piB()});function aiB({mode:A,elapsedTimeMs:Q,spinnerTip:B,currentResponseLength:G,overrideColor:Z,overrideShimmerColor:Y,overrideMessage:J,spinnerSuffix:I,verbose:X,todos:W,hasActiveTools:K=!1}){let V=uZ8(),[E,D]=ax.useState(0),[H,F]=ax.useState(0),[C]=RQ(),{isConnected:$}=JA0(),{columns:O}=SB(),M=W?.find((PA)=>PA.status==="in_progress"),L=W?.find((PA)=>PA.status==="pending"),[_]=ax.useState(()=>Gs(V)),T=(J??M?.activeForm??_)+"‚Ä¶",{isStalled:x,stalledIntensity:b}=CA0(G,K),v=lLA(A,T,$,x),m=FA0(A),u=ax.useRef(G);ax.useEffect(()=>{let PA="spinner-"+A;return mLA.startCLIActivity(PA),()=>{mLA.endCLIActivity(PA)}},[A]),ax.useEffect(()=>{u.current=G},[G]),X7(()=>{if(!$){D(4);return}D((PA)=>PA+1)},120),X7(()=>{F((PA)=>{let kA=u.current-PA;if(kA<=0)return PA;let YA;if(kA<70)YA=1;else if(kA<200)YA=Math.max(2,Math.ceil(kA*0.08));else YA=18;return Math.min(PA+YA,u.current)})},10);let e=T.length+2,p=16,k=O>e+20,c=W&&W.length>0&&k&&O>e+p+25,t=(X||Q>hZ8)&&k&&O>e+p+(c?25:0)+25,AA=[...k?[O2.createElement(z,{dimColor:!0,key:"esc"},O2.createElement(L0,{shortcut:"esc",action:"interrupt",bold:!0}))]:[],...I?[O2.createElement(z,{dimColor:!0,key:"suffix"},I)]:[],...c?[O2.createElement(z,{dimColor:!0,key:"todo"},O2.createElement(L0,{shortcut:"ctrl+t",action:`${C.showExpandedTodos?"hide":"show"} todos`,bold:!0}))]:[],...t?[O2.createElement(z,{dimColor:!0,key:"elapsedTime"},rK(Q)),O2.createElement(j,{flexDirection:"row",key:"tokens"},O2.createElement(gZ8,{mode:A,key:"spinnerMode"}),O2.createElement(z,{dimColor:!0},I8(Math.round(H/4))," tokens"))]:[]];if($===!1)AA.push(O2.createElement(j,{key:"offline"},O2.createElement(z,{color:"error",bold:!0},"offline")));let VA=Z??($===!1?"inactive":"claude"),OA=Y??"claudeShimmer",IA=AA.length>0?O2.createElement(O2.Fragment,null,O2.createElement(z,{dimColor:!0},"("),O2.createElement($B,null,AA),O2.createElement(z,{dimColor:!0},")")):null;return O2.createElement(j,{flexDirection:"column",width:"100%",alignItems:"flex-start"},O2.createElement(fiB,{streamMode:A}),O2.createElement(j,{flexDirection:"row",flexWrap:"wrap",marginTop:1,width:"100%"},O2.createElement(DA0,{frame:E,messageColor:VA,stalledIntensity:b,isConnected:$}),O2.createElement(EA0,{message:T,mode:A,isConnected:$,messageColor:VA,glimmerIndex:v,flashOpacity:m,shimmerColor:OA,stalledIntensity:b}),IA),C.showExpandedTodos&&W&&W.length>0?O2.createElement(j,{width:"100%",flexDirection:"column"},O2.createElement(h0,null,O2.createElement(Yi,{todos:W}))):L||B?O2.createElement(j,{width:"100%"},O2.createElement(h0,null,O2.createElement(z,{dimColor:!0},L?`Next: ${L.content}`:`Tip: ${B}`))):null)}function gZ8({mode:A}){switch(A){case"tool-input":case"tool-use":case"responding":case"thinking":return O2.createElement(j,{width:2},O2.createElement(z,{dimColor:!0},X1.arrowDown));case"requesting":return O2.createElement(j,{width:2},O2.createElement(z,{dimColor:!0},X1.arrowUp))}}function d9(){let[A,Q]=ax.useState(0),{isConnected:B}=JA0();return X7(()=>{Q((Z)=>(Z+1)%niB.length)},120),O2.createElement(j,{flexWrap:"wrap",height:1,width:2},O2.createElement(z,{color:B===!1?"inactive":"text"},niB[A]))}function uZ8(){return k01("tengu_spinner_words",bZ8).words}var O2,ax,iiB,niB,bZ8,hZ8=30000;var kG=q(()=>{hA();luA();jV();v2();kiB();IA0();w4();g4();dLA();f2();y3();biB();t4();i3();liB();O2=o(KA(),1),ax=o(KA(),1),iiB=pLA(),niB=[...iiB,...[...iiB].reverse()],bZ8={words:["Accomplishing","Actioning","Actualizing","Baking","Booping","Brewing","Calculating","Cerebrating","Channelling","Churning","Clauding","Coalescing","Cogitating","Computing","Combobulating","Concocting","Considering","Contemplating","Cooking","Crafting","Creating","Crunching","Deciphering","Deliberating","Determining","Discombobulating","Doing","Effecting","Elucidating","Enchanting","Envisioning","Finagling","Flibbertigibbeting","Forging","Forming","Frolicking","Generating","Germinating","Hatching","Herding","Honking","Ideating","Imagining","Incubating","Inferring","Manifesting","Marinating","Meandering","Moseying","Mulling","Mustering","Musing","Noodling","Percolating","Perusing","Philosophising","Pontificating","Pondering","Processing","Puttering","Puzzling","Reticulating","Ruminating","Scheming","Schlepping","Shimmying","Simmering","Smooshing","Spelunking","Spinning","Stewing","Sussing","Synthesizing","Thinking","Tinkering","Transmuting","Unfurling","Unravelling","Vibing","Wandering","Whirring","Wibbling","Working","Wrangling"]}});var iLA=w((cZ8)=>{function mZ8(A,Q,B){if(B===void 0)B=Array.prototype;if(A&&typeof B.find==="function")return B.find.call(A,Q);for(var G=0;G<A.length;G++)if(Object.prototype.hasOwnProperty.call(A,G)){var Z=A[G];if(Q.call(void 0,Z,G,A))return Z}}function zA0(A,Q){if(Q===void 0)Q=Object;return Q&&typeof Q.freeze==="function"?Q.freeze(A):A}function dZ8(A,Q){if(A===null||typeof A!=="object")throw TypeError("target is not an object");for(var B in Q)if(Object.prototype.hasOwnProperty.call(Q,B))A[B]=Q[B];return A}var oiB=zA0({HTML:"text/html",isHTML:function(A){return A===oiB.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),riB=zA0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(A){return A===riB.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});cZ8.assign=dZ8;cZ8.find=mZ8;cZ8.freeze=zA0;cZ8.MIME_TYPE=oiB;cZ8.NAMESPACE=riB});var TA0=w((XY8)=>{var ZnB=iLA(),ox=ZnB.find,nLA=ZnB.NAMESPACE;function oZ8(A){return A!==""}function rZ8(A){return A?A.split(/[\t\n\f\r ]+/).filter(oZ8):[]}function sZ8(A,Q){if(!A.hasOwnProperty(Q))A[Q]=!0;return A}function siB(A){if(!A)return[];var Q=rZ8(A);return Object.keys(Q.reduce(sZ8,{}))}function tZ8(A){return function(Q){return A&&A.indexOf(Q)!==-1}}function oLA(A,Q){for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B))Q[B]=A[B]}function xU(A,Q){var B=A.prototype;if(!(B instanceof Q)){let Z=function(){};var G=Z;Z.prototype=Q.prototype,Z=new Z,oLA(B,Z),A.prototype=B=Z}if(B.constructor!=A){if(typeof A!="function")console.error("unknown Class:"+A);B.constructor=A}}var yU={},VT=yU.ELEMENT_NODE=1,SYA=yU.ATTRIBUTE_NODE=2,f01=yU.TEXT_NODE=3,YnB=yU.CDATA_SECTION_NODE=4,JnB=yU.ENTITY_REFERENCE_NODE=5,eZ8=yU.ENTITY_NODE=6,InB=yU.PROCESSING_INSTRUCTION_NODE=7,XnB=yU.COMMENT_NODE=8,WnB=yU.DOCUMENT_NODE=9,KnB=yU.DOCUMENT_TYPE_NODE=10,Lh=yU.DOCUMENT_FRAGMENT_NODE=11,AY8=yU.NOTATION_NODE=12,wH={},SV={},OVG=wH.INDEX_SIZE_ERR=(SV[1]="Index size error",1),RVG=wH.DOMSTRING_SIZE_ERR=(SV[2]="DOMString size error",2),SU=wH.HIERARCHY_REQUEST_ERR=(SV[3]="Hierarchy request error",3),_VG=wH.WRONG_DOCUMENT_ERR=(SV[4]="Wrong document",4),TVG=wH.INVALID_CHARACTER_ERR=(SV[5]="Invalid character",5),jVG=wH.NO_DATA_ALLOWED_ERR=(SV[6]="No data allowed",6),PVG=wH.NO_MODIFICATION_ALLOWED_ERR=(SV[7]="No modification allowed",7),VnB=wH.NOT_FOUND_ERR=(SV[8]="Not found",8),SVG=wH.NOT_SUPPORTED_ERR=(SV[9]="Not supported",9),tiB=wH.INUSE_ATTRIBUTE_ERR=(SV[10]="Attribute in use",10),xVG=wH.INVALID_STATE_ERR=(SV[11]="Invalid state",11),yVG=wH.SYNTAX_ERR=(SV[12]="Syntax error",12),vVG=wH.INVALID_MODIFICATION_ERR=(SV[13]="Invalid modification",13),kVG=wH.NAMESPACE_ERR=(SV[14]="Invalid namespace",14),fVG=wH.INVALID_ACCESS_ERR=(SV[15]="Invalid access",15);function JX(A,Q){if(Q instanceof Error)var B=Q;else if(B=this,Error.call(this,SV[A]),this.message=SV[A],Error.captureStackTrace)Error.captureStackTrace(this,JX);if(B.code=A,Q)this.message=this.message+": "+Q;return B}JX.prototype=Error.prototype;oLA(wH,JX);function qh(){}qh.prototype={length:0,item:function(A){return A>=0&&A<this.length?this[A]:null},toString:function(A,Q){for(var B=[],G=0;G<this.length;G++)PYA(this[G],B,A,Q);return B.join("")},filter:function(A){return Array.prototype.filter.call(this,A)},indexOf:function(A){return Array.prototype.indexOf.call(this,A)}};function xYA(A,Q){this._node=A,this._refresh=Q,wA0(this)}function wA0(A){var Q=A._node._inc||A._node.ownerDocument._inc;if(A._inc!==Q){var B=A._refresh(A._node);if(LnB(A,"length",B.length),!A.$$length||B.length<A.$$length){for(var G=B.length;G in A;G++)if(Object.prototype.hasOwnProperty.call(A,G))delete A[G]}oLA(B,A),A._inc=Q}}xYA.prototype.item=function(A){return wA0(this),this[A]||null};xU(xYA,qh);function b01(){}function EnB(A,Q){var B=A.length;while(B--)if(A[B]===Q)return B}function eiB(A,Q,B,G){if(G)Q[EnB(Q,G)]=B;else Q[Q.length++]=B;if(A){B.ownerElement=A;var Z=A.ownerDocument;if(Z)G&&FnB(Z,A,G),QY8(Z,A,B)}}function AnB(A,Q,B){var G=EnB(Q,B);if(G>=0){var Z=Q.length-1;while(G<Z)Q[G]=Q[++G];if(Q.length=Z,A){var Y=A.ownerDocument;if(Y)FnB(Y,A,B),B.ownerElement=null}}else throw new JX(VnB,Error(A.tagName+"@"+B))}b01.prototype={length:0,item:qh.prototype.item,getNamedItem:function(A){var Q=this.length;while(Q--){var B=this[Q];if(B.nodeName==A)return B}},setNamedItem:function(A){var Q=A.ownerElement;if(Q&&Q!=this._ownerElement)throw new JX(tiB);var B=this.getNamedItem(A.nodeName);return eiB(this._ownerElement,this,A,B),B},setNamedItemNS:function(A){var Q=A.ownerElement,B;if(Q&&Q!=this._ownerElement)throw new JX(tiB);return B=this.getNamedItemNS(A.namespaceURI,A.localName),eiB(this._ownerElement,this,A,B),B},removeNamedItem:function(A){var Q=this.getNamedItem(A);return AnB(this._ownerElement,this,Q),Q},removeNamedItemNS:function(A,Q){var B=this.getNamedItemNS(A,Q);return AnB(this._ownerElement,this,B),B},getNamedItemNS:function(A,Q){var B=this.length;while(B--){var G=this[B];if(G.localName==Q&&G.namespaceURI==A)return G}return null}};function DnB(){}DnB.prototype={hasFeature:function(A,Q){return!0},createDocument:function(A,Q,B){var G=new rLA;if(G.implementation=this,G.childNodes=new qh,G.doctype=B||null,B)G.appendChild(B);if(Q){var Z=G.createElementNS(A,Q);G.appendChild(Z)}return G},createDocumentType:function(A,Q,B){var G=new u01;return G.name=A,G.nodeName=A,G.publicId=Q||"",G.systemId=B||"",G}};function QG(){}QG.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(A,Q){return h01(this,A,Q)},replaceChild:function(A,Q){if(h01(this,A,Q,znB),Q)this.removeChild(Q)},removeChild:function(A){return CnB(this,A)},appendChild:function(A){return this.insertBefore(A,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(A){return $A0(this.ownerDocument||this,this,A)},normalize:function(){var A=this.firstChild;while(A){var Q=A.nextSibling;if(Q&&Q.nodeType==f01&&A.nodeType==f01)this.removeChild(Q),A.appendData(Q.data);else A.normalize(),A=Q}},isSupported:function(A,Q){return this.ownerDocument.implementation.hasFeature(A,Q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){for(var G in B)if(Object.prototype.hasOwnProperty.call(B,G)&&B[G]===A)return G}Q=Q.nodeType==SYA?Q.ownerDocument:Q.parentNode}return null},lookupNamespaceURI:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){if(Object.prototype.hasOwnProperty.call(B,A))return B[A]}Q=Q.nodeType==SYA?Q.ownerDocument:Q.parentNode}return null},isDefaultNamespace:function(A){var Q=this.lookupPrefix(A);return Q==null}};function HnB(A){return A=="<"&&"&lt;"||A==">"&&"&gt;"||A=="&"&&"&amp;"||A=='"'&&"&quot;"||"&#"+A.charCodeAt()+";"}oLA(yU,QG);oLA(yU,QG.prototype);function aLA(A,Q){if(Q(A))return!0;if(A=A.firstChild)do if(aLA(A,Q))return!0;while(A=A.nextSibling)}function rLA(){this.ownerDocument=this}function QY8(A,Q,B){A&&A._inc++;var G=B.namespaceURI;if(G===nLA.XMLNS)Q._nsMap[B.prefix?B.localName:""]=B.value}function FnB(A,Q,B,G){A&&A._inc++;var Z=B.namespaceURI;if(Z===nLA.XMLNS)delete Q._nsMap[B.prefix?B.localName:""]}function NA0(A,Q,B){if(A&&A._inc){A._inc++;var G=Q.childNodes;if(B)G[G.length++]=B;else{var Z=Q.firstChild,Y=0;while(Z)G[Y++]=Z,Z=Z.nextSibling;G.length=Y,delete G[G.length]}}}function CnB(A,Q){var{previousSibling:B,nextSibling:G}=Q;if(B)B.nextSibling=G;else A.firstChild=G;if(G)G.previousSibling=B;else A.lastChild=B;return Q.parentNode=null,Q.previousSibling=null,Q.nextSibling=null,NA0(A.ownerDocument,A),Q}function BY8(A){return A&&(A.nodeType===QG.DOCUMENT_NODE||A.nodeType===QG.DOCUMENT_FRAGMENT_NODE||A.nodeType===QG.ELEMENT_NODE)}function GY8(A){return A&&(rx(A)||qA0(A)||Mh(A)||A.nodeType===QG.DOCUMENT_FRAGMENT_NODE||A.nodeType===QG.COMMENT_NODE||A.nodeType===QG.PROCESSING_INSTRUCTION_NODE)}function Mh(A){return A&&A.nodeType===QG.DOCUMENT_TYPE_NODE}function rx(A){return A&&A.nodeType===QG.ELEMENT_NODE}function qA0(A){return A&&A.nodeType===QG.TEXT_NODE}function QnB(A,Q){var B=A.childNodes||[];if(ox(B,rx)||Mh(Q))return!1;var G=ox(B,Mh);return!(Q&&G&&B.indexOf(G)>B.indexOf(Q))}function BnB(A,Q){var B=A.childNodes||[];function G(Y){return rx(Y)&&Y!==Q}if(ox(B,G))return!1;var Z=ox(B,Mh);return!(Q&&Z&&B.indexOf(Z)>B.indexOf(Q))}function ZY8(A,Q,B){if(!BY8(A))throw new JX(SU,"Unexpected parent node type "+A.nodeType);if(B&&B.parentNode!==A)throw new JX(VnB,"child not in parent");if(!GY8(Q)||Mh(Q)&&A.nodeType!==QG.DOCUMENT_NODE)throw new JX(SU,"Unexpected node type "+Q.nodeType+" for parent node type "+A.nodeType)}function YY8(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===QG.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(rx);if(Y.length>1||ox(Z,qA0))throw new JX(SU,"More than one element or text in fragment");if(Y.length===1&&!QnB(A,B))throw new JX(SU,"Element in fragment can not be inserted before doctype")}if(rx(Q)){if(!QnB(A,B))throw new JX(SU,"Only one element can be added and only after doctype")}if(Mh(Q)){if(ox(G,Mh))throw new JX(SU,"Only one doctype is allowed");var J=ox(G,rx);if(B&&G.indexOf(J)<G.indexOf(B))throw new JX(SU,"Doctype can only be inserted before an element");if(!B&&J)throw new JX(SU,"Doctype can not be appended since element is present")}}function znB(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===QG.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(rx);if(Y.length>1||ox(Z,qA0))throw new JX(SU,"More than one element or text in fragment");if(Y.length===1&&!BnB(A,B))throw new JX(SU,"Element in fragment can not be inserted before doctype")}if(rx(Q)){if(!BnB(A,B))throw new JX(SU,"Only one element can be added and only after doctype")}if(Mh(Q)){let X=function(W){return Mh(W)&&W!==B};var I=X;if(ox(G,X))throw new JX(SU,"Only one doctype is allowed");var J=ox(G,rx);if(B&&G.indexOf(J)<G.indexOf(B))throw new JX(SU,"Doctype can only be inserted before an element")}}function h01(A,Q,B,G){if(ZY8(A,Q,B),A.nodeType===QG.DOCUMENT_NODE)(G||YY8)(A,Q,B);var Z=Q.parentNode;if(Z)Z.removeChild(Q);if(Q.nodeType===Lh){var Y=Q.firstChild;if(Y==null)return Q;var J=Q.lastChild}else Y=J=Q;var I=B?B.previousSibling:A.lastChild;if(Y.previousSibling=I,J.nextSibling=B,I)I.nextSibling=Y;else A.firstChild=Y;if(B==null)A.lastChild=J;else B.previousSibling=J;do Y.parentNode=A;while(Y!==J&&(Y=Y.nextSibling));if(NA0(A.ownerDocument||A,A),Q.nodeType==Lh)Q.firstChild=Q.lastChild=null;return Q}function JY8(A,Q){if(Q.parentNode)Q.parentNode.removeChild(Q);if(Q.parentNode=A,Q.previousSibling=A.lastChild,Q.nextSibling=null,Q.previousSibling)Q.previousSibling.nextSibling=Q;else A.firstChild=Q;return A.lastChild=Q,NA0(A.ownerDocument,A,Q),Q}rLA.prototype={nodeName:"#document",nodeType:WnB,doctype:null,documentElement:null,_inc:1,insertBefore:function(A,Q){if(A.nodeType==Lh){var B=A.firstChild;while(B){var G=B.nextSibling;this.insertBefore(B,Q),B=G}return A}if(h01(this,A,Q),A.ownerDocument=this,this.documentElement===null&&A.nodeType===VT)this.documentElement=A;return A},removeChild:function(A){if(this.documentElement==A)this.documentElement=null;return CnB(this,A)},replaceChild:function(A,Q){if(h01(this,A,Q,znB),A.ownerDocument=this,Q)this.removeChild(Q);if(rx(A))this.documentElement=A},importNode:function(A,Q){return qnB(this,A,Q)},getElementById:function(A){var Q=null;return aLA(this.documentElement,function(B){if(B.nodeType==VT){if(B.getAttribute("id")==A)return Q=B,!0}}),Q},getElementsByClassName:function(A){var Q=siB(A);return new xYA(this,function(B){var G=[];if(Q.length>0)aLA(B.documentElement,function(Z){if(Z!==B&&Z.nodeType===VT){var Y=Z.getAttribute("class");if(Y){var J=A===Y;if(!J){var I=siB(Y);J=Q.every(tZ8(I))}if(J)G.push(Z)}}});return G})},createElement:function(A){var Q=new z1A;Q.ownerDocument=this,Q.nodeName=A,Q.tagName=A,Q.localName=A,Q.childNodes=new qh;var B=Q.attributes=new b01;return B._ownerElement=Q,Q},createDocumentFragment:function(){var A=new m01;return A.ownerDocument=this,A.childNodes=new qh,A},createTextNode:function(A){var Q=new LA0;return Q.ownerDocument=this,Q.appendData(A),Q},createComment:function(A){var Q=new MA0;return Q.ownerDocument=this,Q.appendData(A),Q},createCDATASection:function(A){var Q=new OA0;return Q.ownerDocument=this,Q.appendData(A),Q},createProcessingInstruction:function(A,Q){var B=new _A0;return B.ownerDocument=this,B.tagName=B.nodeName=B.target=A,B.nodeValue=B.data=Q,B},createAttribute:function(A){var Q=new g01;return Q.ownerDocument=this,Q.name=A,Q.nodeName=A,Q.localName=A,Q.specified=!0,Q},createEntityReference:function(A){var Q=new RA0;return Q.ownerDocument=this,Q.nodeName=A,Q},createElementNS:function(A,Q){var B=new z1A,G=Q.split(":"),Z=B.attributes=new b01;if(B.childNodes=new qh,B.ownerDocument=this,B.nodeName=Q,B.tagName=Q,B.namespaceURI=A,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return Z._ownerElement=B,B},createAttributeNS:function(A,Q){var B=new g01,G=Q.split(":");if(B.ownerDocument=this,B.nodeName=Q,B.name=Q,B.namespaceURI=A,B.specified=!0,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return B}};xU(rLA,QG);function z1A(){this._nsMap={}}z1A.prototype={nodeType:VT,hasAttribute:function(A){return this.getAttributeNode(A)!=null},getAttribute:function(A){var Q=this.getAttributeNode(A);return Q&&Q.value||""},getAttributeNode:function(A){return this.attributes.getNamedItem(A)},setAttribute:function(A,Q){var B=this.ownerDocument.createAttribute(A);B.value=B.nodeValue=""+Q,this.setAttributeNode(B)},removeAttribute:function(A){var Q=this.getAttributeNode(A);Q&&this.removeAttributeNode(Q)},appendChild:function(A){if(A.nodeType===Lh)return this.insertBefore(A,null);else return JY8(this,A)},setAttributeNode:function(A){return this.attributes.setNamedItem(A)},setAttributeNodeNS:function(A){return this.attributes.setNamedItemNS(A)},removeAttributeNode:function(A){return this.attributes.removeNamedItem(A.nodeName)},removeAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);B&&this.removeAttributeNode(B)},hasAttributeNS:function(A,Q){return this.getAttributeNodeNS(A,Q)!=null},getAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);return B&&B.value||""},setAttributeNS:function(A,Q,B){var G=this.ownerDocument.createAttributeNS(A,Q);G.value=G.nodeValue=""+B,this.setAttributeNode(G)},getAttributeNodeNS:function(A,Q){return this.attributes.getNamedItemNS(A,Q)},getElementsByTagName:function(A){return new xYA(this,function(Q){var B=[];return aLA(Q,function(G){if(G!==Q&&G.nodeType==VT&&(A==="*"||G.tagName==A))B.push(G)}),B})},getElementsByTagNameNS:function(A,Q){return new xYA(this,function(B){var G=[];return aLA(B,function(Z){if(Z!==B&&Z.nodeType===VT&&(A==="*"||Z.namespaceURI===A)&&(Q==="*"||Z.localName==Q))G.push(Z)}),G})}};rLA.prototype.getElementsByTagName=z1A.prototype.getElementsByTagName;rLA.prototype.getElementsByTagNameNS=z1A.prototype.getElementsByTagNameNS;xU(z1A,QG);function g01(){}g01.prototype.nodeType=SYA;xU(g01,QG);function sLA(){}sLA.prototype={data:"",substringData:function(A,Q){return this.data.substring(A,A+Q)},appendData:function(A){A=this.data+A,this.nodeValue=this.data=A,this.length=A.length},insertData:function(A,Q){this.replaceData(A,0,Q)},appendChild:function(A){throw Error(SV[SU])},deleteData:function(A,Q){this.replaceData(A,Q,"")},replaceData:function(A,Q,B){var G=this.data.substring(0,A),Z=this.data.substring(A+Q);B=G+B+Z,this.nodeValue=this.data=B,this.length=B.length}};xU(sLA,QG);function LA0(){}LA0.prototype={nodeName:"#text",nodeType:f01,splitText:function(A){var Q=this.data,B=Q.substring(A);Q=Q.substring(0,A),this.data=this.nodeValue=Q,this.length=Q.length;var G=this.ownerDocument.createTextNode(B);if(this.parentNode)this.parentNode.insertBefore(G,this.nextSibling);return G}};xU(LA0,sLA);function MA0(){}MA0.prototype={nodeName:"#comment",nodeType:XnB};xU(MA0,sLA);function OA0(){}OA0.prototype={nodeName:"#cdata-section",nodeType:YnB};xU(OA0,sLA);function u01(){}u01.prototype.nodeType=KnB;xU(u01,QG);function UnB(){}UnB.prototype.nodeType=AY8;xU(UnB,QG);function $nB(){}$nB.prototype.nodeType=eZ8;xU($nB,QG);function RA0(){}RA0.prototype.nodeType=JnB;xU(RA0,QG);function m01(){}m01.prototype.nodeName="#document-fragment";m01.prototype.nodeType=Lh;xU(m01,QG);function _A0(){}_A0.prototype.nodeType=InB;xU(_A0,QG);function wnB(){}wnB.prototype.serializeToString=function(A,Q,B){return NnB.call(A,Q,B)};QG.prototype.toString=NnB;function NnB(A,Q){var B=[],G=this.nodeType==9&&this.documentElement||this,Z=G.prefix,Y=G.namespaceURI;if(Y&&Z==null){var Z=G.lookupPrefix(Y);if(Z==null)var J=[{namespace:Y,prefix:null}]}return PYA(this,B,A,Q,J),B.join("")}function GnB(A,Q,B){var G=A.prefix||"",Z=A.namespaceURI;if(!Z)return!1;if(G==="xml"&&Z===nLA.XML||Z===nLA.XMLNS)return!1;var Y=B.length;while(Y--){var J=B[Y];if(J.prefix===G)return J.namespace!==Z}return!0}function UA0(A,Q,B){A.push(" ",Q,'="',B.replace(/[<>&"\t\n\r]/g,HnB),'"')}function PYA(A,Q,B,G,Z){if(!Z)Z=[];if(G)if(A=G(A),A){if(typeof A=="string"){Q.push(A);return}}else return;switch(A.nodeType){case VT:var Y=A.attributes,J=Y.length,$=A.firstChild,I=A.tagName;B=nLA.isHTML(A.namespaceURI)||B;var X=I;if(!B&&!A.prefix&&A.namespaceURI){var W;for(var K=0;K<Y.length;K++)if(Y.item(K).name==="xmlns"){W=Y.item(K).value;break}if(!W)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.prefix===""&&E.namespace===A.namespaceURI){W=E.namespace;break}}if(W!==A.namespaceURI)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.namespace===A.namespaceURI){if(E.prefix)X=E.prefix+":"+I;break}}}Q.push("<",X);for(var D=0;D<J;D++){var H=Y.item(D);if(H.prefix=="xmlns")Z.push({prefix:H.localName,namespace:H.value});else if(H.nodeName=="xmlns")Z.push({prefix:"",namespace:H.value})}for(var D=0;D<J;D++){var H=Y.item(D);if(GnB(H,B,Z)){var F=H.prefix||"",C=H.namespaceURI;UA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}PYA(H,Q,B,G,Z)}if(I===X&&GnB(A,B,Z)){var F=A.prefix||"",C=A.namespaceURI;UA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}if($||B&&!/^(?:meta|link|img|br|hr|input)$/i.test(I)){if(Q.push(">"),B&&/^script$/i.test(I))while($){if($.data)Q.push($.data);else PYA($,Q,B,G,Z.slice());$=$.nextSibling}else while($)PYA($,Q,B,G,Z.slice()),$=$.nextSibling;Q.push("</",X,">")}else Q.push("/>");return;case WnB:case Lh:var $=A.firstChild;while($)PYA($,Q,B,G,Z.slice()),$=$.nextSibling;return;case SYA:return UA0(Q,A.name,A.value);case f01:return Q.push(A.data.replace(/[<&>]/g,HnB));case YnB:return Q.push("<![CDATA[",A.data,"]]>");case XnB:return Q.push("<!--",A.data,"-->");case KnB:var{publicId:O,systemId:M}=A;if(Q.push("<!DOCTYPE ",A.name),O){if(Q.push(" PUBLIC ",O),M&&M!=".")Q.push(" ",M);Q.push(">")}else if(M&&M!=".")Q.push(" SYSTEM ",M,">");else{var L=A.internalSubset;if(L)Q.push(" [",L,"]");Q.push(">")}return;case InB:return Q.push("<?",A.target," ",A.data,"?>");case JnB:return Q.push("&",A.nodeName,";");default:Q.push("??",A.nodeName)}}function qnB(A,Q,B){var G;switch(Q.nodeType){case VT:G=Q.cloneNode(!1),G.ownerDocument=A;case Lh:break;case SYA:B=!0;break}if(!G)G=Q.cloneNode(!1);if(G.ownerDocument=A,G.parentNode=null,B){var Z=Q.firstChild;while(Z)G.appendChild(qnB(A,Z,B)),Z=Z.nextSibling}return G}function $A0(A,Q,B){var G=new Q.constructor;for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z)){var Y=Q[Z];if(typeof Y!="object"){if(Y!=G[Z])G[Z]=Y}}if(Q.childNodes)G.childNodes=new qh;switch(G.ownerDocument=A,G.nodeType){case VT:var J=Q.attributes,I=G.attributes=new b01,X=J.length;I._ownerElement=G;for(var W=0;W<X;W++)G.setAttributeNode($A0(A,J.item(W),!0));break;case SYA:B=!0}if(B){var K=Q.firstChild;while(K)G.appendChild($A0(A,K,B)),K=K.nextSibling}return G}function LnB(A,Q,B){A[Q]=B}try{if(Object.defineProperty){let A=function(Q){switch(Q.nodeType){case VT:case Lh:var B=[];Q=Q.firstChild;while(Q){if(Q.nodeType!==7&&Q.nodeType!==8)B.push(A(Q));Q=Q.nextSibling}return B.join("");default:return Q.nodeValue}};IY8=A,Object.defineProperty(xYA.prototype,"length",{get:function(){return wA0(this),this.$$length}}),Object.defineProperty(QG.prototype,"textContent",{get:function(){return A(this)},set:function(Q){switch(this.nodeType){case VT:case Lh:while(this.firstChild)this.removeChild(this.firstChild);if(Q||String(Q))this.appendChild(this.ownerDocument.createTextNode(Q));break;default:this.data=Q,this.value=Q,this.nodeValue=Q}}}),LnB=function(Q,B,G){Q["$$"+B]=G}}}catch(A){}var IY8;XY8.DocumentType=u01;XY8.DOMException=JX;XY8.DOMImplementation=DnB;XY8.Element=z1A;XY8.Node=QG;XY8.NodeList=qh;XY8.XMLSerializer=wnB});var RnB=w((CY8)=>{var MnB=iLA().freeze;CY8.XML_ENTITIES=MnB({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});CY8.HTML_ENTITIES=MnB({Aacute:"√Å",aacute:"√°",Abreve:"ƒÇ",abreve:"ƒÉ",ac:"‚àæ",acd:"‚àø",acE:"‚àæÃ≥",Acirc:"√Ç",acirc:"√¢",acute:"¬¥",Acy:"–ê",acy:"–∞",AElig:"√Ü",aelig:"√¶",af:"‚Å°",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"√Ä",agrave:"√†",alefsym:"‚Ñµ",aleph:"‚Ñµ",Alpha:"Œë",alpha:"Œ±",Amacr:"ƒÄ",amacr:"ƒÅ",amalg:"‚®ø",AMP:"&",amp:"&",And:"‚©ì",and:"‚àß",andand:"‚©ï",andd:"‚©ú",andslope:"‚©ò",andv:"‚©ö",ang:"‚à†",ange:"‚¶§",angle:"‚à†",angmsd:"‚à°",angmsdaa:"‚¶®",angmsdab:"‚¶©",angmsdac:"‚¶™",angmsdad:"‚¶´",angmsdae:"‚¶¨",angmsdaf:"‚¶≠",angmsdag:"‚¶Æ",angmsdah:"‚¶Ø",angrt:"‚àü",angrtvb:"‚äæ",angrtvbd:"‚¶ù",angsph:"‚à¢",angst:"√Ö",angzarr:"‚çº",Aogon:"ƒÑ",aogon:"ƒÖ",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"‚âà",apacir:"‚©Ø",apE:"‚©∞",ape:"‚âä",apid:"‚âã",apos:"'",ApplyFunction:"‚Å°",approx:"‚âà",approxeq:"‚âä",Aring:"√Ö",aring:"√•",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"‚âî",ast:"*",asymp:"‚âà",asympeq:"‚âç",Atilde:"√É",atilde:"√£",Auml:"√Ñ",auml:"√§",awconint:"‚à≥",awint:"‚®ë",backcong:"‚âå",backepsilon:"œ∂",backprime:"‚Äµ",backsim:"‚àΩ",backsimeq:"‚ãç",Backslash:"‚àñ",Barv:"‚´ß",barvee:"‚äΩ",Barwed:"‚åÜ",barwed:"‚åÖ",barwedge:"‚åÖ",bbrk:"‚éµ",bbrktbrk:"‚é∂",bcong:"‚âå",Bcy:"–ë",bcy:"–±",bdquo:"‚Äû",becaus:"‚àµ",Because:"‚àµ",because:"‚àµ",bemptyv:"‚¶∞",bepsi:"œ∂",bernou:"‚Ñ¨",Bernoullis:"‚Ñ¨",Beta:"Œí",beta:"Œ≤",beth:"‚Ñ∂",between:"‚â¨",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"‚ãÇ",bigcirc:"‚óØ",bigcup:"‚ãÉ",bigodot:"‚®Ä",bigoplus:"‚®Å",bigotimes:"‚®Ç",bigsqcup:"‚®Ü",bigstar:"‚òÖ",bigtriangledown:"‚ñΩ",bigtriangleup:"‚ñ≥",biguplus:"‚®Ñ",bigvee:"‚ãÅ",bigwedge:"‚ãÄ",bkarow:"‚§ç",blacklozenge:"‚ß´",blacksquare:"‚ñ™",blacktriangle:"‚ñ¥",blacktriangledown:"‚ñæ",blacktriangleleft:"‚óÇ",blacktriangleright:"‚ñ∏",blank:"‚ê£",blk12:"‚ñí",blk14:"‚ñë",blk34:"‚ñì",block:"‚ñà",bne:"=‚É•",bnequiv:"‚â°‚É•",bNot:"‚´≠",bnot:"‚åê",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"‚ä•",bottom:"‚ä•",bowtie:"‚ãà",boxbox:"‚ßâ",boxDL:"‚ïó",boxDl:"‚ïñ",boxdL:"‚ïï",boxdl:"‚îê",boxDR:"‚ïî",boxDr:"‚ïì",boxdR:"‚ïí",boxdr:"‚îå",boxH:"‚ïê",boxh:"‚îÄ",boxHD:"‚ï¶",boxHd:"‚ï§",boxhD:"‚ï•",boxhd:"‚î¨",boxHU:"‚ï©",boxHu:"‚ïß",boxhU:"‚ï®",boxhu:"‚î¥",boxminus:"‚äü",boxplus:"‚äû",boxtimes:"‚ä†",boxUL:"‚ïù",boxUl:"‚ïú",boxuL:"‚ïõ",boxul:"‚îò",boxUR:"‚ïö",boxUr:"‚ïô",boxuR:"‚ïò",boxur:"‚îî",boxV:"‚ïë",boxv:"‚îÇ",boxVH:"‚ï¨",boxVh:"‚ï´",boxvH:"‚ï™",boxvh:"‚îº",boxVL:"‚ï£",boxVl:"‚ï¢",boxvL:"‚ï°",boxvl:"‚î§",boxVR:"‚ï†",boxVr:"‚ïü",boxvR:"‚ïû",boxvr:"‚îú",bprime:"‚Äµ",Breve:"Àò",breve:"Àò",brvbar:"¬¶",Bscr:"‚Ñ¨",bscr:"\uD835\uDCB7",bsemi:"‚Åè",bsim:"‚àΩ",bsime:"‚ãç",bsol:"\\",bsolb:"‚ßÖ",bsolhsub:"‚üà",bull:"‚Ä¢",bullet:"‚Ä¢",bump:"‚âé",bumpE:"‚™Æ",bumpe:"‚âè",Bumpeq:"‚âé",bumpeq:"‚âè",Cacute:"ƒÜ",cacute:"ƒá",Cap:"‚ãí",cap:"‚à©",capand:"‚©Ñ",capbrcup:"‚©â",capcap:"‚©ã",capcup:"‚©á",capdot:"‚©Ä",CapitalDifferentialD:"‚ÖÖ",caps:"‚à©Ô∏Ä",caret:"‚ÅÅ",caron:"Àá",Cayleys:"‚Ñ≠",ccaps:"‚©ç",Ccaron:"ƒå",ccaron:"ƒç",Ccedil:"√á",ccedil:"√ß",Ccirc:"ƒà",ccirc:"ƒâ",Cconint:"‚à∞",ccups:"‚©å",ccupssm:"‚©ê",Cdot:"ƒä",cdot:"ƒã",cedil:"¬∏",Cedilla:"¬∏",cemptyv:"‚¶≤",cent:"¬¢",CenterDot:"¬∑",centerdot:"¬∑",Cfr:"‚Ñ≠",cfr:"\uD835\uDD20",CHcy:"–ß",chcy:"—á",check:"‚úì",checkmark:"‚úì",Chi:"Œß",chi:"œá",cir:"‚óã",circ:"ÀÜ",circeq:"‚âó",circlearrowleft:"‚Ü∫",circlearrowright:"‚Üª",circledast:"‚äõ",circledcirc:"‚äö",circleddash:"‚äù",CircleDot:"‚äô",circledR:"¬Æ",circledS:"‚ìà",CircleMinus:"‚äñ",CirclePlus:"‚äï",CircleTimes:"‚äó",cirE:"‚ßÉ",cire:"‚âó",cirfnint:"‚®ê",cirmid:"‚´Ø",cirscir:"‚ßÇ",ClockwiseContourIntegral:"‚à≤",CloseCurlyDoubleQuote:"‚Äù",CloseCurlyQuote:"‚Äô",clubs:"‚ô£",clubsuit:"‚ô£",Colon:"‚à∑",colon:":",Colone:"‚©¥",colone:"‚âî",coloneq:"‚âî",comma:",",commat:"@",comp:"‚àÅ",compfn:"‚àò",complement:"‚àÅ",complexes:"‚ÑÇ",cong:"‚âÖ",congdot:"‚©≠",Congruent:"‚â°",Conint:"‚àØ",conint:"‚àÆ",ContourIntegral:"‚àÆ",Copf:"‚ÑÇ",copf:"\uD835\uDD54",coprod:"‚àê",Coproduct:"‚àê",COPY:"¬©",copy:"¬©",copysr:"‚Ñó",CounterClockwiseContourIntegral:"‚à≥",crarr:"‚Üµ",Cross:"‚®Ø",cross:"‚úó",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"‚´è",csube:"‚´ë",csup:"‚´ê",csupe:"‚´í",ctdot:"‚ãØ",cudarrl:"‚§∏",cudarrr:"‚§µ",cuepr:"‚ãû",cuesc:"‚ãü",cularr:"‚Ü∂",cularrp:"‚§Ω",Cup:"‚ãì",cup:"‚à™",cupbrcap:"‚©à",CupCap:"‚âç",cupcap:"‚©Ü",cupcup:"‚©ä",cupdot:"‚äç",cupor:"‚©Ö",cups:"‚à™Ô∏Ä",curarr:"‚Ü∑",curarrm:"‚§º",curlyeqprec:"‚ãû",curlyeqsucc:"‚ãü",curlyvee:"‚ãé",curlywedge:"‚ãè",curren:"¬§",curvearrowleft:"‚Ü∂",curvearrowright:"‚Ü∑",cuvee:"‚ãé",cuwed:"‚ãè",cwconint:"‚à≤",cwint:"‚à±",cylcty:"‚å≠",Dagger:"‚Ä°",dagger:"‚Ä†",daleth:"‚Ñ∏",Darr:"‚Ü°",dArr:"‚áì",darr:"‚Üì",dash:"‚Äê",Dashv:"‚´§",dashv:"‚ä£",dbkarow:"‚§è",dblac:"Àù",Dcaron:"ƒé",dcaron:"ƒè",Dcy:"–î",dcy:"–¥",DD:"‚ÖÖ",dd:"‚ÖÜ",ddagger:"‚Ä°",ddarr:"‚áä",DDotrahd:"‚§ë",ddotseq:"‚©∑",deg:"¬∞",Del:"‚àá",Delta:"Œî",delta:"Œ¥",demptyv:"‚¶±",dfisht:"‚•ø",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"‚••",dharl:"‚áÉ",dharr:"‚áÇ",DiacriticalAcute:"¬¥",DiacriticalDot:"Àô",DiacriticalDoubleAcute:"Àù",DiacriticalGrave:"`",DiacriticalTilde:"Àú",diam:"‚ãÑ",Diamond:"‚ãÑ",diamond:"‚ãÑ",diamondsuit:"‚ô¶",diams:"‚ô¶",die:"¬®",DifferentialD:"‚ÖÜ",digamma:"œù",disin:"‚ã≤",div:"√∑",divide:"√∑",divideontimes:"‚ãá",divonx:"‚ãá",DJcy:"–Ç",djcy:"—í",dlcorn:"‚åû",dlcrop:"‚åç",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"¬®",dot:"Àô",DotDot:"‚Éú",doteq:"‚âê",doteqdot:"‚âë",DotEqual:"‚âê",dotminus:"‚à∏",dotplus:"‚àî",dotsquare:"‚ä°",doublebarwedge:"‚åÜ",DoubleContourIntegral:"‚àØ",DoubleDot:"¬®",DoubleDownArrow:"‚áì",DoubleLeftArrow:"‚áê",DoubleLeftRightArrow:"‚áî",DoubleLeftTee:"‚´§",DoubleLongLeftArrow:"‚ü∏",DoubleLongLeftRightArrow:"‚ü∫",DoubleLongRightArrow:"‚üπ",DoubleRightArrow:"‚áí",DoubleRightTee:"‚ä®",DoubleUpArrow:"‚áë",DoubleUpDownArrow:"‚áï",DoubleVerticalBar:"‚à•",DownArrow:"‚Üì",Downarrow:"‚áì",downarrow:"‚Üì",DownArrowBar:"‚§ì",DownArrowUpArrow:"‚áµ",DownBreve:"Ãë",downdownarrows:"‚áä",downharpoonleft:"‚áÉ",downharpoonright:"‚áÇ",DownLeftRightVector:"‚•ê",DownLeftTeeVector:"‚•û",DownLeftVector:"‚ÜΩ",DownLeftVectorBar:"‚•ñ",DownRightTeeVector:"‚•ü",DownRightVector:"‚áÅ",DownRightVectorBar:"‚•ó",DownTee:"‚ä§",DownTeeArrow:"‚Üß",drbkarow:"‚§ê",drcorn:"‚åü",drcrop:"‚åå",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"–Ö",dscy:"—ï",dsol:"‚ß∂",Dstrok:"ƒê",dstrok:"ƒë",dtdot:"‚ã±",dtri:"‚ñø",dtrif:"‚ñæ",duarr:"‚áµ",duhar:"‚•Ø",dwangle:"‚¶¶",DZcy:"–è",dzcy:"—ü",dzigrarr:"‚üø",Eacute:"√â",eacute:"√©",easter:"‚©Æ",Ecaron:"ƒö",ecaron:"ƒõ",ecir:"‚âñ",Ecirc:"√ä",ecirc:"√™",ecolon:"‚âï",Ecy:"–≠",ecy:"—ç",eDDot:"‚©∑",Edot:"ƒñ",eDot:"‚âë",edot:"ƒó",ee:"‚Öá",efDot:"‚âí",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"‚™ö",Egrave:"√à",egrave:"√®",egs:"‚™ñ",egsdot:"‚™ò",el:"‚™ô",Element:"‚àà",elinters:"‚èß",ell:"‚Ñì",els:"‚™ï",elsdot:"‚™ó",Emacr:"ƒí",emacr:"ƒì",empty:"‚àÖ",emptyset:"‚àÖ",EmptySmallSquare:"‚óª",emptyv:"‚àÖ",EmptyVerySmallSquare:"‚ñ´",emsp:"‚ÄÉ",emsp13:"‚ÄÑ",emsp14:"‚ÄÖ",ENG:"≈ä",eng:"≈ã",ensp:"‚ÄÇ",Eogon:"ƒò",eogon:"ƒô",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"‚ãï",eparsl:"‚ß£",eplus:"‚©±",epsi:"Œµ",Epsilon:"Œï",epsilon:"Œµ",epsiv:"œµ",eqcirc:"‚âñ",eqcolon:"‚âï",eqsim:"‚âÇ",eqslantgtr:"‚™ñ",eqslantless:"‚™ï",Equal:"‚©µ",equals:"=",EqualTilde:"‚âÇ",equest:"‚âü",Equilibrium:"‚áå",equiv:"‚â°",equivDD:"‚©∏",eqvparsl:"‚ß•",erarr:"‚•±",erDot:"‚âì",Escr:"‚Ñ∞",escr:"‚ÑØ",esdot:"‚âê",Esim:"‚©≥",esim:"‚âÇ",Eta:"Œó",eta:"Œ∑",ETH:"√ê",eth:"√∞",Euml:"√ã",euml:"√´",euro:"‚Ç¨",excl:"!",exist:"‚àÉ",Exists:"‚àÉ",expectation:"‚Ñ∞",ExponentialE:"‚Öá",exponentiale:"‚Öá",fallingdotseq:"‚âí",Fcy:"–§",fcy:"—Ñ",female:"‚ôÄ",ffilig:"Ô¨É",fflig:"Ô¨Ä",ffllig:"Ô¨Ñ",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"Ô¨Å",FilledSmallSquare:"‚óº",FilledVerySmallSquare:"‚ñ™",fjlig:"fj",flat:"‚ô≠",fllig:"Ô¨Ç",fltns:"‚ñ±",fnof:"∆í",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"‚àÄ",forall:"‚àÄ",fork:"‚ãî",forkv:"‚´ô",Fouriertrf:"‚Ñ±",fpartint:"‚®ç",frac12:"¬Ω",frac13:"‚Öì",frac14:"¬º",frac15:"‚Öï",frac16:"‚Öô",frac18:"‚Öõ",frac23:"‚Öî",frac25:"‚Öñ",frac34:"¬æ",frac35:"‚Öó",frac38:"‚Öú",frac45:"‚Öò",frac56:"‚Öö",frac58:"‚Öù",frac78:"‚Öû",frasl:"‚ÅÑ",frown:"‚å¢",Fscr:"‚Ñ±",fscr:"\uD835\uDCBB",gacute:"«µ",Gamma:"Œì",gamma:"Œ≥",Gammad:"œú",gammad:"œù",gap:"‚™Ü",Gbreve:"ƒû",gbreve:"ƒü",Gcedil:"ƒ¢",Gcirc:"ƒú",gcirc:"ƒù",Gcy:"–ì",gcy:"–≥",Gdot:"ƒ†",gdot:"ƒ°",gE:"‚âß",ge:"‚â•",gEl:"‚™å",gel:"‚ãõ",geq:"‚â•",geqq:"‚âß",geqslant:"‚©æ",ges:"‚©æ",gescc:"‚™©",gesdot:"‚™Ä",gesdoto:"‚™Ç",gesdotol:"‚™Ñ",gesl:"‚ãõÔ∏Ä",gesles:"‚™î",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"‚ãô",gg:"‚â´",ggg:"‚ãô",gimel:"‚Ñ∑",GJcy:"–É",gjcy:"—ì",gl:"‚â∑",gla:"‚™•",glE:"‚™í",glj:"‚™§",gnap:"‚™ä",gnapprox:"‚™ä",gnE:"‚â©",gne:"‚™à",gneq:"‚™à",gneqq:"‚â©",gnsim:"‚ãß",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"‚â•",GreaterEqualLess:"‚ãõ",GreaterFullEqual:"‚âß",GreaterGreater:"‚™¢",GreaterLess:"‚â∑",GreaterSlantEqual:"‚©æ",GreaterTilde:"‚â≥",Gscr:"\uD835\uDCA2",gscr:"‚Ñä",gsim:"‚â≥",gsime:"‚™é",gsiml:"‚™ê",Gt:"‚â´",GT:">",gt:">",gtcc:"‚™ß",gtcir:"‚©∫",gtdot:"‚ãó",gtlPar:"‚¶ï",gtquest:"‚©º",gtrapprox:"‚™Ü",gtrarr:"‚•∏",gtrdot:"‚ãó",gtreqless:"‚ãõ",gtreqqless:"‚™å",gtrless:"‚â∑",gtrsim:"‚â≥",gvertneqq:"‚â©Ô∏Ä",gvnE:"‚â©Ô∏Ä",Hacek:"Àá",hairsp:"‚Ää",half:"¬Ω",hamilt:"‚Ñã",HARDcy:"–™",hardcy:"—ä",hArr:"‚áî",harr:"‚Üî",harrcir:"‚•à",harrw:"‚Ü≠",Hat:"^",hbar:"‚Ñè",Hcirc:"ƒ§",hcirc:"ƒ•",hearts:"‚ô•",heartsuit:"‚ô•",hellip:"‚Ä¶",hercon:"‚äπ",Hfr:"‚Ñå",hfr:"\uD835\uDD25",HilbertSpace:"‚Ñã",hksearow:"‚§•",hkswarow:"‚§¶",hoarr:"‚áø",homtht:"‚àª",hookleftarrow:"‚Ü©",hookrightarrow:"‚Ü™",Hopf:"‚Ñç",hopf:"\uD835\uDD59",horbar:"‚Äï",HorizontalLine:"‚îÄ",Hscr:"‚Ñã",hscr:"\uD835\uDCBD",hslash:"‚Ñè",Hstrok:"ƒ¶",hstrok:"ƒß",HumpDownHump:"‚âé",HumpEqual:"‚âè",hybull:"‚ÅÉ",hyphen:"‚Äê",Iacute:"√ç",iacute:"√≠",ic:"‚Å£",Icirc:"√é",icirc:"√Æ",Icy:"–ò",icy:"–∏",Idot:"ƒ∞",IEcy:"–ï",iecy:"–µ",iexcl:"¬°",iff:"‚áî",Ifr:"‚Ñë",ifr:"\uD835\uDD26",Igrave:"√å",igrave:"√¨",ii:"‚Öà",iiiint:"‚®å",iiint:"‚à≠",iinfin:"‚ßú",iiota:"‚Ñ©",IJlig:"ƒ≤",ijlig:"ƒ≥",Im:"‚Ñë",Imacr:"ƒ™",imacr:"ƒ´",image:"‚Ñë",ImaginaryI:"‚Öà",imagline:"‚Ñê",imagpart:"‚Ñë",imath:"ƒ±",imof:"‚ä∑",imped:"∆µ",Implies:"‚áí",in:"‚àà",incare:"‚ÑÖ",infin:"‚àû",infintie:"‚ßù",inodot:"ƒ±",Int:"‚à¨",int:"‚à´",intcal:"‚ä∫",integers:"‚Ñ§",Integral:"‚à´",intercal:"‚ä∫",Intersection:"‚ãÇ",intlarhk:"‚®ó",intprod:"‚®º",InvisibleComma:"‚Å£",InvisibleTimes:"‚Å¢",IOcy:"–Å",iocy:"—ë",Iogon:"ƒÆ",iogon:"ƒØ",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"Œô",iota:"Œπ",iprod:"‚®º",iquest:"¬ø",Iscr:"‚Ñê",iscr:"\uD835\uDCBE",isin:"‚àà",isindot:"‚ãµ",isinE:"‚ãπ",isins:"‚ã¥",isinsv:"‚ã≥",isinv:"‚àà",it:"‚Å¢",Itilde:"ƒ®",itilde:"ƒ©",Iukcy:"–Ü",iukcy:"—ñ",Iuml:"√è",iuml:"√Ø",Jcirc:"ƒ¥",jcirc:"ƒµ",Jcy:"–ô",jcy:"–π",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"»∑",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"–à",jsercy:"—ò",Jukcy:"–Ñ",jukcy:"—î",Kappa:"Œö",kappa:"Œ∫",kappav:"œ∞",Kcedil:"ƒ∂",kcedil:"ƒ∑",Kcy:"–ö",kcy:"–∫",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"ƒ∏",KHcy:"–•",khcy:"—Ö",KJcy:"–å",kjcy:"—ú",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"‚áö",Lacute:"ƒπ",lacute:"ƒ∫",laemptyv:"‚¶¥",lagran:"‚Ñí",Lambda:"Œõ",lambda:"Œª",Lang:"‚ü™",lang:"‚ü®",langd:"‚¶ë",langle:"‚ü®",lap:"‚™Ö",Laplacetrf:"‚Ñí",laquo:"¬´",Larr:"‚Üû",lArr:"‚áê",larr:"‚Üê",larrb:"‚á§",larrbfs:"‚§ü",larrfs:"‚§ù",larrhk:"‚Ü©",larrlp:"‚Ü´",larrpl:"‚§π",larrsim:"‚•≥",larrtl:"‚Ü¢",lat:"‚™´",lAtail:"‚§õ",latail:"‚§ô",late:"‚™≠",lates:"‚™≠Ô∏Ä",lBarr:"‚§é",lbarr:"‚§å",lbbrk:"‚ù≤",lbrace:"{",lbrack:"[",lbrke:"‚¶ã",lbrksld:"‚¶è",lbrkslu:"‚¶ç",Lcaron:"ƒΩ",lcaron:"ƒæ",Lcedil:"ƒª",lcedil:"ƒº",lceil:"‚åà",lcub:"{",Lcy:"–õ",lcy:"–ª",ldca:"‚§∂",ldquo:"‚Äú",ldquor:"‚Äû",ldrdhar:"‚•ß",ldrushar:"‚•ã",ldsh:"‚Ü≤",lE:"‚â¶",le:"‚â§",LeftAngleBracket:"‚ü®",LeftArrow:"‚Üê",Leftarrow:"‚áê",leftarrow:"‚Üê",LeftArrowBar:"‚á§",LeftArrowRightArrow:"‚áÜ",leftarrowtail:"‚Ü¢",LeftCeiling:"‚åà",LeftDoubleBracket:"‚ü¶",LeftDownTeeVector:"‚•°",LeftDownVector:"‚áÉ",LeftDownVectorBar:"‚•ô",LeftFloor:"‚åä",leftharpoondown:"‚ÜΩ",leftharpoonup:"‚Üº",leftleftarrows:"‚áá",LeftRightArrow:"‚Üî",Leftrightarrow:"‚áî",leftrightarrow:"‚Üî",leftrightarrows:"‚áÜ",leftrightharpoons:"‚áã",leftrightsquigarrow:"‚Ü≠",LeftRightVector:"‚•é",LeftTee:"‚ä£",LeftTeeArrow:"‚Ü§",LeftTeeVector:"‚•ö",leftthreetimes:"‚ãã",LeftTriangle:"‚ä≤",LeftTriangleBar:"‚ßè",LeftTriangleEqual:"‚ä¥",LeftUpDownVector:"‚•ë",LeftUpTeeVector:"‚•†",LeftUpVector:"‚Üø",LeftUpVectorBar:"‚•ò",LeftVector:"‚Üº",LeftVectorBar:"‚•í",lEg:"‚™ã",leg:"‚ãö",leq:"‚â§",leqq:"‚â¶",leqslant:"‚©Ω",les:"‚©Ω",lescc:"‚™®",lesdot:"‚©ø",lesdoto:"‚™Å",lesdotor:"‚™É",lesg:"‚ãöÔ∏Ä",lesges:"‚™ì",lessapprox:"‚™Ö",lessdot:"‚ãñ",lesseqgtr:"‚ãö",lesseqqgtr:"‚™ã",LessEqualGreater:"‚ãö",LessFullEqual:"‚â¶",LessGreater:"‚â∂",lessgtr:"‚â∂",LessLess:"‚™°",lesssim:"‚â≤",LessSlantEqual:"‚©Ω",LessTilde:"‚â≤",lfisht:"‚•º",lfloor:"‚åä",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"‚â∂",lgE:"‚™ë",lHar:"‚•¢",lhard:"‚ÜΩ",lharu:"‚Üº",lharul:"‚•™",lhblk:"‚ñÑ",LJcy:"–â",ljcy:"—ô",Ll:"‚ãò",ll:"‚â™",llarr:"‚áá",llcorner:"‚åû",Lleftarrow:"‚áö",llhard:"‚•´",lltri:"‚ó∫",Lmidot:"ƒø",lmidot:"≈Ä",lmoust:"‚é∞",lmoustache:"‚é∞",lnap:"‚™â",lnapprox:"‚™â",lnE:"‚â®",lne:"‚™á",lneq:"‚™á",lneqq:"‚â®",lnsim:"‚ã¶",loang:"‚ü¨",loarr:"‚áΩ",lobrk:"‚ü¶",LongLeftArrow:"‚üµ",Longleftarrow:"‚ü∏",longleftarrow:"‚üµ",LongLeftRightArrow:"‚ü∑",Longleftrightarrow:"‚ü∫",longleftrightarrow:"‚ü∑",longmapsto:"‚üº",LongRightArrow:"‚ü∂",Longrightarrow:"‚üπ",longrightarrow:"‚ü∂",looparrowleft:"‚Ü´",looparrowright:"‚Ü¨",lopar:"‚¶Ö",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"‚®≠",lotimes:"‚®¥",lowast:"‚àó",lowbar:"_",LowerLeftArrow:"‚Üô",LowerRightArrow:"‚Üò",loz:"‚óä",lozenge:"‚óä",lozf:"‚ß´",lpar:"(",lparlt:"‚¶ì",lrarr:"‚áÜ",lrcorner:"‚åü",lrhar:"‚áã",lrhard:"‚•≠",lrm:"‚Äé",lrtri:"‚äø",lsaquo:"‚Äπ",Lscr:"‚Ñí",lscr:"\uD835\uDCC1",Lsh:"‚Ü∞",lsh:"‚Ü∞",lsim:"‚â≤",lsime:"‚™ç",lsimg:"‚™è",lsqb:"[",lsquo:"‚Äò",lsquor:"‚Äö",Lstrok:"≈Å",lstrok:"≈Ç",Lt:"‚â™",LT:"<",lt:"<",ltcc:"‚™¶",ltcir:"‚©π",ltdot:"‚ãñ",lthree:"‚ãã",ltimes:"‚ãâ",ltlarr:"‚•∂",ltquest:"‚©ª",ltri:"‚óÉ",ltrie:"‚ä¥",ltrif:"‚óÇ",ltrPar:"‚¶ñ",lurdshar:"‚•ä",luruhar:"‚•¶",lvertneqq:"‚â®Ô∏Ä",lvnE:"‚â®Ô∏Ä",macr:"¬Ø",male:"‚ôÇ",malt:"‚ú†",maltese:"‚ú†",Map:"‚§Ö",map:"‚Ü¶",mapsto:"‚Ü¶",mapstodown:"‚Üß",mapstoleft:"‚Ü§",mapstoup:"‚Ü•",marker:"‚ñÆ",mcomma:"‚®©",Mcy:"–ú",mcy:"–º",mdash:"‚Äî",mDDot:"‚à∫",measuredangle:"‚à°",MediumSpace:"‚Åü",Mellintrf:"‚Ñ≥",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"‚Ñß",micro:"¬µ",mid:"‚à£",midast:"*",midcir:"‚´∞",middot:"¬∑",minus:"‚àí",minusb:"‚äü",minusd:"‚à∏",minusdu:"‚®™",MinusPlus:"‚àì",mlcp:"‚´õ",mldr:"‚Ä¶",mnplus:"‚àì",models:"‚äß",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"‚àì",Mscr:"‚Ñ≥",mscr:"\uD835\uDCC2",mstpos:"‚àæ",Mu:"Œú",mu:"Œº",multimap:"‚ä∏",mumap:"‚ä∏",nabla:"‚àá",Nacute:"≈É",nacute:"≈Ñ",nang:"‚à†‚Éí",nap:"‚ââ",napE:"‚©∞Ã∏",napid:"‚âãÃ∏",napos:"≈â",napprox:"‚ââ",natur:"‚ôÆ",natural:"‚ôÆ",naturals:"‚Ñï",nbsp:"¬†",nbump:"‚âéÃ∏",nbumpe:"‚âèÃ∏",ncap:"‚©É",Ncaron:"≈á",ncaron:"≈à",Ncedil:"≈Ö",ncedil:"≈Ü",ncong:"‚âá",ncongdot:"‚©≠Ã∏",ncup:"‚©Ç",Ncy:"–ù",ncy:"–Ω",ndash:"‚Äì",ne:"‚â†",nearhk:"‚§§",neArr:"‚áó",nearr:"‚Üó",nearrow:"‚Üó",nedot:"‚âêÃ∏",NegativeMediumSpace:"‚Äã",NegativeThickSpace:"‚Äã",NegativeThinSpace:"‚Äã",NegativeVeryThinSpace:"‚Äã",nequiv:"‚â¢",nesear:"‚§®",nesim:"‚âÇÃ∏",NestedGreaterGreater:"‚â´",NestedLessLess:"‚â™",NewLine:`
4401:`),hR(),A==="localSettings")G80(sTA("localSettings"),cQ())}catch(G){let Z=Error(`Failed to read raw settings from ${B}: ${G}`);return r(Z),{error:Z}}return{error:null}}function zK5(A,Q){let B=[...A,...Q];return Array.from(new Set(B))}function pg2(A,Q){if(Array.isArray(A)&&Array.isArray(Q))return zK5(A,Q);return}function ng2(A){let Q=Pb.strip().parse(A),B=["permissions","sandbox","hooks"],G=[],Z={permissions:new Set(["allow","deny","ask","defaultMode","disableBypassPermissionsMode","additionalDirectories"]),sandbox:new Set(["network","ignoreViolations","excludedCommands","autoAllowBashIfSandboxed","enableWeakerNestedSandbox"]),hooks:new Set(["PreToolUse","PostToolUse","Notification","UserPromptSubmit","SessionStart","SessionEnd","Stop","SubagentStop","PreCompact"])};for(let Y of Object.keys(Q))if(B.includes(Y)&&Q[Y]&&typeof Q[Y]==="object"){let J=Q[Y],I=Z[Y];if(I){for(let X of Object.keys(J))if(I.has(X))G.push(`${Y}.${X}`)}}else G.push(Y);return G.sort()}function hR(){ZjA=null}function UK5(){if(sY0)return{settings:{},errors:[]};sY0=!0;try{let A={},Q=[],B=new Set,G=new Set;for(let Y of us()){if(Y==="policySettings"){let K=uB("policySettings");if(K)A=dPA(A,K,pg2);continue}let J=xF(Y);if(!J)continue;let I=GjA(J);if(G.has(I))continue;G.add(I);let{settings:X,errors:W}=tY0(J);for(let K of W){let V=`${K.file}:${K.path}:${K.message}`;if(!B.has(V))B.add(V),Q.push(K)}if(X)A=dPA(A,X,pg2)}let Z=["user","project","local"];return Q.push(...Z.flatMap((Y)=>AX(Y).errors)),{settings:A,errors:Q}}finally{sY0=!1}}function dV(){let{settings:A}=Gy();return A||{}}function Gy(){if(ZjA!==null)return ZjA;return ZjA=UK5(),ZjA}var ZjA=null,VM,sY0=!1,CQ;var gB=q(()=>{p2();FV0();N9();YQ();vI();g1();Q0();Z8();iI();me();u0();Z80();sQ();l10();cw();ms();MYA();VM=Z0(function(){switch(pQ()){case"macos":return"/Library/Application Support/ClaudeCode";case"windows":if(FK5("C:\\Program Files\\ClaudeCode"))return"C:\\Program Files\\ClaudeCode";return"C:\\ProgramData\\ClaudeCode";default:return"/etc/claude-code"}});CQ=dV});import{join as $K5}from"path";function qTA(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function K51(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function hy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function gy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function uy2(A,Q){let B={...A};return delete B[Q],B}function ND2(A){return`mcp__${i5(A)}__`}function kM(A){return A.name?.startsWith("mcp__")||A.isMcp===!0}function HV(A){let Q=A.split("__"),[B,G,...Z]=Q;if(B!=="mcp"||!G)return null;let Y=Z.length>0?Z.join("__"):void 0;return{serverName:G,toolName:Y}}function V51(A,Q){let B=`mcp__${i5(Q)}__`;return A.replace(B,"")}function E51(A){let Q=A.replace(/\s*\(MCP\)\s*$/,"");Q=Q.trim();let B=Q.indexOf(" - ");if(B!==-1)return Q.substring(B+3).trim();return Q}function kN(A){let Q=jA();switch(A){case"user":{let B=PD(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"project":{let B=$K5(s1(),".mcp.json"),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"local":return`${PD()} [project: ${s1()}]`;case"dynamic":return"Dynamically configured";case"enterprise":{let B=RtA(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}default:return A}}function ZQA(A){switch(A){case"local":return"Local config (private to you in this project)";case"project":return"Project config (shared via .mcp.json)";case"user":return"User config (available in all your projects)";case"dynamic":return"Dynamic config (from command line)";case"enterprise":return"Enterprise config (managed by your organization)";default:return A}}function JjA(A){if(!A)return"local";if(!Ep1.options.includes(A))throw Error(`Invalid scope: ${A}. Must be one of: ${Ep1.options.join(", ")}`);return A}function ag2(A){if(!A)return"stdio";if(A!=="stdio"&&A!=="sse"&&A!=="http")throw Error(`Invalid transport type: ${A}. Must be one of: stdio, sse, http`);return A}function eY0(A){let Q={};for(let B of A){let G=B.indexOf(":");if(G===-1)throw Error(`Invalid header format: "${B}". Expected format: "Header-Name: value"`);let Z=B.substring(0,G).trim(),Y=B.substring(G+1).trim();if(!Z)throw Error(`Invalid header: "${B}". Header name cannot be empty.`);Q[Z]=Y}return Q}function _tA(A){let Q=CQ(),B=i5(A);if(Q?.disabledMcpjsonServers?.some((G)=>i5(G)===B))return"rejected";if(Q?.enabledMcpjsonServers?.some((G)=>i5(G)===B)||Q?.enableAllProjectMcpServers)return"approved";if(I4()&&BV("projectSettings"))return"approved";return"pending"}function LQ0(A){if(!kM({name:A}))return null;let Q=HV(A);if(!Q)return null;return Wl(Q.serverName)?.scope??null}var _J=q(()=>{gB();u7A();R8();pB();YQ();cw();iI();u0()});function KAA(){return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5}function hZ(){if(C0(void 0))return!1;return C0(process.env.ENABLE_EXPERIMENTAL_MCP_CLI)}function _XA(){return hZ()&&!Iz(process.env.ENABLE_MCP_CLI_ENDPOINT)}function k1A(A){let Q=A.match(/^mcp-cli\s+(call|read)\s+([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)(?:\s+([\s\S]+))?$/);if(!Q)return null;let[,B,G,Z,Y=""]=Q;if(!B||!G||!Z)return null;return{command:B,server:G,tool:Z,toolName:Z,args:Y,fullCommand:A}}function $Y0(A){let Q=HV(A);if(!Q||!Q.toolName)return null;return`${Q.serverName}/${Q.toolName}`}var wK5=1e8;var pE=q(()=>{sQ();_J()});var IjA=w((NK5)=>{class AJ0 extends Error{constructor(A,Q,B){super(B);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=Q,this.exitCode=A,this.nestedError=void 0}}class og2 extends AJ0{constructor(A){super(1,"commander.invalidArgument",A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}NK5.CommanderError=AJ0;NK5.InvalidArgumentError=og2});var V71=w((RK5)=>{var{InvalidArgumentError:MK5}=IjA();class rg2{constructor(A,Q){switch(this.description=Q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,A[0]){case"<":this.required=!0,this._name=A.slice(1,-1);break;case"[":this.required=!1,this._name=A.slice(1,-1);break;default:this.required=!0,this._name=A;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(A,Q){if(Q===this.defaultValue||!Array.isArray(Q))return[A];return Q.concat(A)}default(A,Q){return this.defaultValue=A,this.defaultValueDescription=Q,this}argParser(A){return this.parseArg=A,this}choices(A){return this.argChoices=A.slice(),this.parseArg=(Q,B)=>{if(!this.argChoices.includes(Q))throw new MK5(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(Q,B);return Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function OK5(A){let Q=A.name()+(A.variadic===!0?"...":"");return A.required?"<"+Q+">":"["+Q+"]"}RK5.Argument=rg2;RK5.humanReadableArgName=OK5});var QJ0=w((PK5)=>{var{humanReadableArgName:jK5}=V71();class sg2{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(A){let Q=A.commands.filter((G)=>!G._hidden),B=A._getHelpCommand();if(B&&!B._hidden)Q.push(B);if(this.sortSubcommands)Q.sort((G,Z)=>{return G.name().localeCompare(Z.name())});return Q}compareOptions(A,Q){let B=(G)=>{return G.short?G.short.replace(/^-/,""):G.long.replace(/^--/,"")};return B(A).localeCompare(B(Q))}visibleOptions(A){let Q=A.options.filter((G)=>!G.hidden),B=A._getHelpOption();if(B&&!B.hidden){let G=B.short&&A._findOption(B.short),Z=B.long&&A._findOption(B.long);if(!G&&!Z)Q.push(B);else if(B.long&&!Z)Q.push(A.createOption(B.long,B.description));else if(B.short&&!G)Q.push(A.createOption(B.short,B.description))}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleGlobalOptions(A){if(!this.showGlobalOptions)return[];let Q=[];for(let B=A.parent;B;B=B.parent){let G=B.options.filter((Z)=>!Z.hidden);Q.push(...G)}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleArguments(A){if(A._argsDescription)A.registeredArguments.forEach((Q)=>{Q.description=Q.description||A._argsDescription[Q.name()]||""});if(A.registeredArguments.find((Q)=>Q.description))return A.registeredArguments;return[]}subcommandTerm(A){let Q=A.registeredArguments.map((B)=>jK5(B)).join(" ");return A._name+(A._aliases[0]?"|"+A._aliases[0]:"")+(A.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(A){return A.flags}argumentTerm(A){return A.name()}longestSubcommandTermLength(A,Q){return Q.visibleCommands(A).reduce((B,G)=>{return Math.max(B,Q.subcommandTerm(G).length)},0)}longestOptionTermLength(A,Q){return Q.visibleOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestGlobalOptionTermLength(A,Q){return Q.visibleGlobalOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestArgumentTermLength(A,Q){return Q.visibleArguments(A).reduce((B,G)=>{return Math.max(B,Q.argumentTerm(G).length)},0)}commandUsage(A){let Q=A._name;if(A._aliases[0])Q=Q+"|"+A._aliases[0];let B="";for(let G=A.parent;G;G=G.parent)B=G.name()+" "+B;return B+Q+" "+A.usage()}commandDescription(A){return A.description()}subcommandDescription(A){return A.summary()||A.description()}optionDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0){if(A.required||A.optional||A.isBoolean()&&typeof A.defaultValue==="boolean")Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`)}if(A.presetArg!==void 0&&A.optional)Q.push(`preset: ${JSON.stringify(A.presetArg)}`);if(A.envVar!==void 0)Q.push(`env: ${A.envVar}`);if(Q.length>0)return`${A.description} (${Q.join(", ")})`;return A.description}argumentDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0)Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`);if(Q.length>0){let B=`(${Q.join(", ")})`;if(A.description)return`${A.description} ${B}`;return B}return A.description}formatHelp(A,Q){let B=Q.padWidth(A,Q),G=Q.helpWidth||80,Z=2,Y=2;function J(D,H){if(H){let F=`${D.padEnd(B+2)}${H}`;return Q.wrap(F,G-2,B+2)}return D}function I(D){return D.join(`
4692:`),Q(),A(null)},source:"cliArg"})),{exitOnCtrlC:!1})})}var aC;var Bc2=q(()=>{hA();td2();kG();Ac2();_0();f2();Q0();aC=o(KA(),1)});function Zc2(){if(process.env.CLAUDE_CODE_REMOTE==="true")return;Gc2(IN),Gc2(JJA)}function Gc2(A){let Q=c8(),B=E6A(A.model,Q);if(!d51(B))return;try{Nl.call({prompt:"Warmup",subagent_type:A.agentType,description:"Warmup"},{options:{agentDefinitions:{allAgents:[A],activeAgents:[A]},commands:[],debug:!1,mainLoopModel:c8(),tools:[],verbose:!1,maxThinkingTokens:1000,mcpClients:[],mcpResources:{},isNonInteractiveSession:!1,hasAppendSystemPrompt:!1},abortController:new AbortController,readFileState:new wq({max:1000}),getAppState:async()=>bn(),setAppState:async()=>{},setMessages:async()=>{},setInProgressToolUseIDs:async()=>{},setResponseLength:async()=>{},updateFileHistoryState:async()=>{},agentId:"warmup",messages:[]},async()=>({behavior:"deny",message:"Warmup",decisionReason:{type:"other",reason:"Warmup"}}),aE({content:"Warmup"}),()=>{}).catch(()=>{})}catch{}}var Yc2=q(()=>{N9A();ZqA();YJA();f2();KB();d2();OB1();PG()});var Jc2=q(()=>{A81();WjA();U71();Q0()});var Vc2={};FG(Vc2,{showSetupScreens:()=>Kc2,setup:()=>v71,main:()=>fD5,completeOnboarding:()=>Wc2});import{ReadStream as qD5}from"tty";import{openSync as LD5,existsSync as y71,readFileSync as Ic2,writeFileSync as MD5}from"fs";import{cwd as mJ0}from"process";import{resolve as dJ0}from"path";function OD5(){try{let A=uB("policySettings");if(A){let Q=ng2(A);s("tengu_managed_settings_loaded",{keyCount:Q.length,keys:Q.join(",")})}}catch{}}function RD5(){try{let A=hZ(),Q=process.env.ENABLE_EXPERIMENTAL_MCP_CLI!==void 0?"external_env_var":"external_default",B=!1;s("tengu_mcp_cli_status",{enabled:A,source:Q,legacy_env_var_set:!1})}catch{}}function _D5(){let A=ea(),Q=process.execArgv.some((G)=>{if(A)return/--inspect(-brk)?/.test(G);else return/--inspect(-brk)?|--debug(-brk)?/.test(G)}),B=process.env.NODE_OPTIONS&&/--inspect(-brk)?|--debug(-brk)?/.test(process.env.NODE_OPTIONS);try{return!!global.require("inspector").url()||Q||B}catch{return Q||B}}function Wc2(){i0((A)=>({...A,hasCompletedOnboarding:!0,lastOnboardingVersion:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}))}async function Kc2(A,Q,B){if(C0(!1)||process.env.IS_DEMO)return!1;let G=c1(),Z=!1;if(!G.theme||!G.hasCompletedOnboarding)Z=!0,await JI(),await new Promise(async(Y)=>{let{unmount:J}=await O5(s8.default.createElement(n5,{onChangeAppState:ty},s8.default.createElement(Wm2,{onDone:async()=>{Wc2(),J(),await JI(),Y()}})),{exitOnCtrlC:!1})});if(A!=="bypassPermissions"&&process.env.CLAUBBIT!=="true"){let Y=tZ(!1);if(await new Promise(async(W)=>{let{unmount:K}=await O5(s8.default.createElement(n5,null,s8.default.createElement(Om2,{commands:B,onDone:async()=>{if(K(),!Y)await JI();W()}})),{exitOnCtrlC:!1})}),CHA()||!1)n51();Qj1(),Js(),BD();let{errors:X}=Gy();if(X.length===0)await Ad2();if(await lRB())await new Promise(async(W)=>{let{unmount:K}=await O5(s8.default.createElement(n5,null,s8.default.createElement(r81,{onDone:()=>{K(),W()},isStandaloneDialog:!0})),{exitOnCtrlC:!1})})}if(await wZA())await new Promise(async(Y)=>{let{unmount:J}=await O5(s8.default.createElement(n5,null,s8.default.createElement(z51,{showIfAlreadyViewed:!1,location:Z?"onboarding":"policy_update_modal",onDone:async(I)=>{if(I==="escape"){s("tengu_grove_policy_exited",{}),f3(0);return}if(J(),I!=="skip_rendering")await JI();Y()}})),{exitOnCtrlC:!1})});if(process.env.ANTHROPIC_API_KEY){let Y=Ww(process.env.ANTHROPIC_API_KEY);if(Q71(Y)==="new")await new Promise(async(I)=>{let{unmount:X}=await O5(s8.default.createElement(n5,{onChangeAppState:ty},s8.default.createElement(O71,{customApiKeyTruncated:Y,onDone:async()=>{X(),await JI(),I()}})),{exitOnCtrlC:!1})})}if(nTA(),(A==="bypassPermissions"||Q)&&!c1().bypassPermissionsModeAccepted)await new Promise(async(Y)=>{let{unmount:J}=await O5(s8.default.createElement(n5,null,s8.default.createElement(Ed2,{onAccept:()=>{J(),Y()}})))});return Z}async function Xc2(A,Q){try{let B=await XAA(A,Q);if(B.type==="connected")return"‚úì Connected";else if(B.type==="needs-auth")return"‚ö† Needs authentication";else return"‚úó Failed to connect"}catch(B){return"‚úó Connection error"}}function TD5(){i0((A)=>({...A,numStartups:(A.numStartups??0)+1})),jD5(),iW0()?.add(1)}async function jD5(){let[A,Q]=await Promise.all([_w(),sCA()]);s("tengu_startup_telemetry",{is_git:A,worktree_count:Q,sandbox_enabled:NB.isSandboxingEnabled(),are_unsandboxed_commands_allowed:NB.areUnsandboxedCommandsAllowed(),is_auto_bash_allowed_if_sandbox_enabled:NB.isAutoAllowBashIfSandboxedEnabled()})}function PD5(){Fd2(),zd2(),Nd2(),Ld2(),$d2()}function SD5(){if(I4()){BD();return}if(tZ(!0))BD()}async function v71(A,Q,B,G,Z){let Y=process.version.match(/^v(\d+)\./)?.[1];if(!Y||parseInt(Y)<18)console.error(pA.bold.red("Error: Claude Code requires Node.js version 18 or higher.")),process.exit(1);if(Z)y$(Z);yY0();let J=BlQ();if(J.status==="restored")console.log(pA.yellow("Detected an interrupted iTerm2 setup. Your original settings have been restored. You may need to restart iTerm2 for the changes to take effect."));else if(J.status==="failed")console.error(pA.red(`Failed to restore iTerm2 settings. Please manually restore your original settings with: defaults import com.googlecode.iterm2 ${J.backupPath}.`));try{let K=await jcA();if(K.status==="restored")console.log(pA.yellow("Detected an interrupted Terminal.app setup. Your original settings have been restored. You may need to restart Terminal.app for the changes to take effect."));else if(K.status==="failed")console.error(pA.red(`Failed to restore Terminal.app settings. Please manually restore your original settings with: defaults import com.apple.Terminal ${K.backupPath}.`))}catch(K){r(K instanceof Error?K:Error(String(K)))}if(MN(A),hu2(),du2(),lu2(),p12(),r12(),pm2(),sb2(),U90(),$90(),y_2(),w9("setup_before_prefetch"),Pu2(),jg2(),OC(s1()),I81(),_l(),I_B(),mm2().catch((K)=>r(K)),pU2(),yV(),SD5(),Wd2(),ug(),yg2(),NfQ(),Xd2(),GCQ(I4()),C0(process.env.CLAUDE_CODE_USE_BEDROCK)&&!C0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH))ZCQ();lRA().catch((K)=>r(K)),WZA([],W0()),xaQ(),w9("setup_after_prefetch");let{hasReleaseNotes:I}=P_A(c1().lastReleaseNotesSeen);if(I)await hw2();let X=v9();if(setTimeout(()=>X.abort(),3000),nSA(s1(),X.signal,[]),Q==="bypassPermissions"||B){if(process.platform!=="win32"&&typeof process.getuid==="function"&&process.getuid()===0&&!process.env.IS_SANDBOX)console.error("--dangerously-skip-permissions cannot be used with root/sudo privileges for security reasons"),process.exit(1)}let W=a7();if(W.lastCost!==void 0&&W.lastDuration!==void 0)s("tengu_exit",{last_session_cost:W.lastCost,last_session_api_duration:W.lastAPIDuration,last_session_tool_duration:W.lastToolDuration,last_session_duration:W.lastDuration,last_session_lines_added:W.lastLinesAdded,last_session_lines_removed:W.lastLinesRemoved,last_session_total_input_tokens:W.lastTotalInputTokens,last_session_total_output_tokens:W.lastTotalOutputTokens,last_session_total_cache_creation_input_tokens:W.lastTotalCacheCreationInputTokens,last_session_total_cache_read_input_tokens:W.lastTotalCacheReadInputTokens,last_session_id:W.lastSessionId})}function xD5(A){try{let Q=A.trim(),B=Q.startsWith("{")&&Q.endsWith("}"),G;if(B){if(!d8(Q))process.stderr.write(pA.red(`Error: Invalid JSON provided to --settings
4760:`));await new Promise(async(J)=>{let{unmount:I}=await O5(s8.default.createElement(n5,{onChangeAppState:ty},s8.default.createElement(j,{flexDirection:"column",gap:1},s8.default.createElement(sd,{items:[s8.default.createElement(_71,{key:"welcome"})]},(X)=>X),s8.default.createElement(Wi,{onDone:()=>{I(),J()},mode:"setup-token",startingMessage:"This will guide you through long-lived (1-year) auth token setup for your Claude account. Claude subscription required."}))))}),process.exit(0)});function Y({onDone:J}){return _61(),s8.default.createElement(Z51,{onDone:J})}return A.command("doctor").description("Check the health of your Claude Code auto-updater").helpOption("-h, --help","Display help for command").action(async()=>{s("tengu_doctor_command",{}),await new Promise(async(J)=>{let{unmount:I}=await O5(s8.default.createElement(n5,null,s8.default.createElement(v31,{dynamicMcpConfig:void 0,isStrictMcpConfig:!1},s8.default.createElement(Y,{onDone:()=>{I(),J()}}))),{exitOnCtrlC:!1})}),process.exit(0)}),A.command("update").description("Check for updates and install if available").helpOption("-h, --help","Display help for command").action(cd2),A.command("install [target]").description("Install Claude Code native build. Use [target] to specify version (stable, latest, or specific version)").option("--force","Force installation even if already installed").helpOption("-h, --help","Display help for command").action(async(J,I)=>{await v71(mJ0(),"default",!1,!1,void 0),await new Promise((X)=>{let W=[];if(J)W.push(J);if(I.force)W.push("--force");id2.call((K)=>{X(),process.exit(K.includes("failed")?1:0)},{},W)})}),w9("run_before_parse"),await A.parseAsync(process.argv),w9("run_after_parse"),w9("main_after_run"),PK0(),A}async function uD5({hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,githubActionInputs:D,dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,systemPromptFlag:$,appendSystemPromptFlag:O}){try{let M=await JaQ();s("tengu_init",{entrypoint:"claude",hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,...D&&{githubActionInputs:D},dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,...$&&{systemPromptFlag:$},...O&&{appendSystemPromptFlag:O},...M&&{rh:M}})}catch(M){r(M instanceof Error?M:Error(String(M)))}}function mD5(){(process.stderr.isTTY?process.stderr:process.stdout.isTTY?process.stdout:void 0)?.write(_s)}var s8;var Ec2=q(()=>{da();ju2();jY0();Is();Su2();V2();R8();er();aTA();gu2();cu2();iu2();zQ0();zB1();MM();cuA();hA();M81();By();h61();XJ0();JN();dIA();o2();Gm2();Jm2();huA();MYA();k_A();Z8();vQ();V2();VHA();NZA();Jx1();Yx1();g1();x8();ql();x8();Km2();JMA();uG0();L50();MJ0();Rm2();TG0();_m2();CC();d2();k70();gB();Tm2();Pm2();ym2();sZ0();sQ();VC();qT();$qA();iZ0();aW();Ng();mZ0();gm2();cT();dm2();v2();lm2();JY0();B81();aI();u0();om2();sQ();vI();Vx();s20();x8();NZ();GeA();Qd2();w4();Kd2();_0();e80();aFA();fJA();Fy();qb();Vd2();Mw();Dd2();R_();a1A();ij();zZA();uAA();EL();M70();xy();tk();u0();f2();Kn();Hd2();Ol();CZA();u0();GW();Q0();Cd2();Ud2();wd2();qd2();Md2();f8A();md2();pd2();p_A();tF();Q3();nd2();$1A();l51();od2();Bc2();bM();pY();fW();rZ();cw();_J();r7A();Ma1();YQ();xy();pB();U51();X61();Y70();iI();OJ0();mIA();yh();Yc2();BI();NJ0();pE();WjA();h7A();Jc2();s8=o(KA(),1);w9("main_tsx_entry");w9("main_tsx_imports_loaded");if(_D5())process.exit(1)});da();Q0();pE();XJ0();qXA();o2();R_();KV();vQ();w4();_0();m8();WJ0();KJ0();VJ0();EJ0();DJ0();U71();pE();WjA();import{readFileSync as wV5,existsSync as NV5}from"fs";var zJ0,zu2=!1;function Uu2(){if(zJ0===void 0)zJ0=Cu2();return zJ0}function lH(){let A=_XA(),Q=Uu2();if(!zu2){if(zu2=!0,A&&Q===null){let B=$71(),G=NXA();console.error(pA.yellow(`Warning: MCP endpoint file not found at ${B} (session: ${G}). Falling back to state file.`))}}return A&&Q!==null}class VjA extends Error{constructor(A){super(A);this.name="ConnectionFailedError"}}async function EjA(A,Q,B,G){let Z=Date.now();try{let Y=await Q();if(!lH()){let J=typeof B==="function"?B(Y):B||{};await yu("tengu_mcp_cli_command_executed",{command:A,success:!0,duration_ms:Date.now()-Z,...J})}return{success:!0,data:Y}}catch(Y){let J=Y instanceof Error?Y:Error(String(Y));if(console.error(pA.red("Error:"),J.message),!lH()){let I=typeof B==="object"?B:{};await yu("tengu_mcp_cli_command_executed",{command:A,success:!1,error_type:J.constructor.name,duration_ms:Date.now()-Z,...I,...G})}return{success:!1,error:J}}}function cn(){let A=i51();if(!NV5(A)){let Q=NXA();throw Error(`MCP state file not found at ${A} (session: ${Q}). Is Claude Code running?`)}try{return JSON.parse(wV5(A,"utf-8"))}catch(Q){throw Error(`Error reading MCP state file ${A}: ${Q instanceof Error?Q.message:String(Q)}`)}}function $u2(A,Q){if(A.configs?.[Q])return A.configs[Q];let B=A.normalizedNames?.[Q];if(B&&A.configs?.[B])return A.configs[B];return}function qV5(A,Q){if(A.resources?.[Q])return A.resources[Q];let B=A.normalizedNames?.[Q];if(B&&A.resources?.[B])return A.resources[B];return[]}function UJ0(A){let Q=A.split("/");if(Q.length!==2||!Q[0]||!Q[1])throw Error(`Invalid tool identifier '${A}'. Expected format: <server>/<tool>`);return{server:Q[0],tool:Q[1]}}async function wQA(A,Q,B=1e4){let G=Uu2();if(!G)throw Error("MCP CLI endpoint not enabled");try{let Z=await FQ({method:"POST",url:`${G.url}/mcp`,data:Q,headers:{Authorization:`Bearer ${G.key}`,"Content-Type":"application/json"},timeout:B,validateStatus:()=>!0});if(Z.status>=400){let Y=Z.data,J=Error(Y.error||`HTTP ${Z.status}: ${Z.statusText}`);if(Y.type)J.name=Y.type;throw J}return A.parse(Z.data)}catch(Z){if(FQ.isAxiosError(Z)){if(Z.code==="ECONNREFUSED")throw Error("Connection refused - is the MCP endpoint running?");if(Z.code==="ETIMEDOUT"||Z.message.includes("timeout"))throw Error("Request timeout");if(Z.message.startsWith("HTTP "))throw Z;throw Error(`Network error: ${Z.message}`)}throw Z}}var pn=new E71().name("mcp-cli").description("Interact with MCP servers and tools").version("1.0.0");pn.command("servers").description("List all connected MCP servers").option("--json","Output in JSON format").action(async(A)=>{let Q=await EjA("servers",async()=>{return lH()?await wQA(HJ0,{command:"servers"}):D71(cn().clients)},(G)=>({server_count:G.length}));if(!Q.success)process.exit(1);let B=Q.data;if(A.json)console.log(JSON.stringify(B));else B.forEach((G)=>{let Z=G.type==="connected"?pA.green("connected"):G.type==="failed"?pA.red("failed"):pA.yellow(G.type),Y="";if(G.type==="connected"){let J=[];if(G.hasTools)J.push("tools");if(G.hasResources)J.push("resources");if(G.hasPrompts)J.push("prompts");if(J.length>0)Y=` (${J.join(", ")})`}console.log(`${G.name} - ${Z}${Y}`)})});pn.command("tools").description("List all available tools").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await EjA("tools",async()=>{return lH()?await wQA(FJ0,{command:"tools",params:B}):H71(cn().tools,B)},(Y)=>({tool_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else if(A)Z.forEach((Y)=>console.log(Y.name));else Z.forEach((Y)=>console.log(`${Y.server}/${Y.name}`))});pn.command("info").description("Get detailed information about a tool").argument("<tool>","Tool identifier in format <server>/<tool>").option("--json","Output in JSON format").action(async(A,Q)=>{let B=await EjA("info",async()=>{let{server:Z,tool:Y}=UJ0(A),J={server:Z,toolName:Y};if(lH())return await wQA(Eu2,{command:"info",params:J});let I=cn(),X=await F71(I.tools,J);if(!X){let W=KjA(I.clients,Z,I.normalizedNames),K=$QA(Z,W?.type);if(K)throw K;throw Error(`Tool '${Y}' not found on server '${Z}'`)}return X},()=>({tool_found:!0}),{tool_found:!1});if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else{if(console.log(pA.bold(`Tool: ${A}`)),console.log(pA.dim(`Server: ${G.server}`)),G.description)console.log(pA.dim(`Description: ${G.description}`));console.log(),console.log(pA.bold("Input Schema:")),console.log(JSON.stringify(G.inputSchema,null,2))}});async function LV5(A,Q,B,G){let Z=cn(),Y=$u2(Z,Q);if(!Y)throw Error(`Server '${Q}' not found`);if(G.debug)console.error(`Connecting to ${Q} (${Y.type})...`);let J=await WAA(Q,Y);if(J.client.type!=="connected")throw $QA(Q,J.client.type)??new VjA(`Failed to connect to server '${Q}'`);let I=(()=>{let V=`mcp__${i5(Q)}__${i5(A)}`;return Z.tools.find((D)=>D.name===V)?.originalToolName||A})();if(G.debug)console.error(`Calling tool ${I}...`);let X=parseInt(G.timeout||"",10)||KAA(),W=await J.client.client.request({method:"tools/call",params:{name:I,arguments:B}},q_,{signal:AbortSignal.timeout(X)});return J.client.client.close(),W}pn.command("call").description("Invoke an MCP tool").argument("<tool>","Tool identifier in format <server>/<tool>").argument("<args>",'Tool arguments as JSON string or "-" for stdin').option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let{server:G,tool:Z}=UJ0(A);if(Q==="-"){let X=[];for await(let W of process.stdin)X.push(W);Q=Buffer.concat(X).toString("utf-8").trim()}let Y;try{Y=JSON.parse(Q)}catch(X){console.error(pA.red("Error: Invalid JSON arguments")),console.error(String(X)),process.exit(1)}let J=`mcp__${i5(G)}__${i5(Z)}`,I=Date.now();try{let X=parseInt(B.timeout||"",10)||KAA(),W={server:G,tool:Z,args:Y,timeoutMs:X},K=lH()?await wQA(q_,{command:"call",params:W},X):await LV5(Z,G,Y,B),V=B.json?JSON.stringify(K):typeof K==="string"?K:JSON.stringify(K,null,2);if(await new Promise((E)=>{process.stdout.write(V+`
4761:`,()=>E())}),!lH())await yu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){console.error(pA.red("Error calling tool:"),String(X));let W=Date.now()-I,K=String(X).slice(0,2000);if(!lH())await yu("tengu_tool_use_error",{toolName:J,isMcp:!0,error:K,durationMs:W}),await yu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!1,error_type:X instanceof VjA?"connection_failed":"tool_execution_failed",duration_ms:Date.now()-I});process.exit(1)}});pn.command("grep").description("Search tool names and descriptions using regex patterns").argument("<pattern>","Regex pattern to search for").option("--json","Output in JSON format").option("-i, --ignore-case","Case insensitive search (default: true)",!0).action(async(A,Q)=>{let B=await EjA("grep",async()=>{try{new RegExp(A,Q.ignoreCase?"i":"")}catch(Y){throw Error(`Invalid regex pattern: ${Y instanceof Error?Y.message:String(Y)}`)}let Z={pattern:A,ignoreCase:Q.ignoreCase};return lH()?await wQA(Du2,{command:"grep",params:Z}):C71(cn().tools,Z)},(Z)=>({match_count:Z.length}));if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else if(G.length===0)console.log(pA.yellow("No tools found matching pattern"));else G.forEach((Z)=>{if(console.log(pA.bold(`${Z.server}/${Z.name}`)),Z.description){let Y=Z.description.length>100?Z.description.slice(0,100)+"...":Z.description;console.log(pA.dim(`  ${Y}`))}console.log()})});pn.command("resources").description("List MCP resources").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await EjA("resources",async()=>{if(lH())return await wQA(Hu2,{command:"resources",params:B});else{let Y=cn();return z71(Y.resources,B,Y.normalizedNames)}},(Y)=>({resource_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else Z.forEach((Y)=>{console.log(`${Y.server}/${Y.name||Y.uri}`)})});async function MV5(A,Q,B){let G=cn(),Z=$u2(G,A);if(!Z)throw Error(`Server '${A}' not found`);if(B.debug)console.error(`Connecting to ${A} (${Z.type})...`);let Y=await WAA(A,Z);if(Y.client.type!=="connected")throw $QA(A,Y.client.type)??new VjA(`Failed to connect to server '${A}'`);if(B.debug)console.error(`Reading resource: ${Q}`);let J=parseInt(B.timeout||"",10)||KAA(),I=await Y.client.client.readResource({uri:Q},{signal:AbortSignal.timeout(J)});return Y.client.client.close(),I}pn.command("read").description("Read an MCP resource").argument("<resource>","Resource identifier in format <server>/<resource> or <server> <uri>").argument("[uri]","Optional: Direct resource URI (file://, https://, etc.)").option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let G,Z,Y;if(Q)G=A,Y=Q;else{let X=UJ0(A);G=X.server,Z=X.tool}let J;if(Y){if(J=Y,B.debug)console.log(`Using direct URI: ${J}`)}else{let X=cn(),K=qV5(X,G).find((V)=>V.name===Z||V.uri===Z);if(!K)console.error(pA.red(`Error: Resource '${Z}' not found on server '${G}'`)),process.exit(1);J=K.uri}let I=Date.now();try{let X=parseInt(B.timeout||"",10)||KAA(),W={server:G,uri:J,timeoutMs:X},K=lH()?await wQA(Pp,{command:"read",params:W},X):await MV5(G,J,B);if(B.json)console.log(JSON.stringify(K));else if(K.contents&&Array.isArray(K.contents))K.contents.forEach((V)=>{if(V&&typeof V==="object"){if("text"in V)console.log(V.text);else if("blob"in V){console.log(pA.yellow("[Binary blob content]"));let E="mimeType"in V?V.mimeType:void 0;console.log(pA.dim(`MIME type: ${E||"unknown"}`))}}});else console.log(JSON.stringify(K,null,2));if(!lH())await yu("tengu_mcp_cli_command_executed",{command:"read",success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){if(console.error(pA.red("Error reading resource:"),String(X)),!lH())await yu("tengu_mcp_cli_command_executed",{command:"read",success:!1,error_type:X instanceof VjA?"connection_failed":"read_failed",duration_ms:Date.now()-I});process.exit(1)}});async function wu2(A){if(oTA(),!lH())ug();try{if(await pn.parseAsync(A,{from:"user"}),!lH())await(await ug())?.flush();return 0}catch(Q){if(console.error(pA.red("Error:"),Q),!lH())await(await ug())?.flush();return 1}}Q0();$J0();A81();var qu2=1048576;function OV5(A,...Q){console.error(`[Claude Chrome Native Host] ${A}`,...Q)}class RV5{buffer=Buffer.alloc(0);pendingResolve=null;closed=!1;constructor(){process.stdin.on("data",(A)=>{this.buffer=Buffer.concat([this.buffer,A]),this.tryProcessMessage()}),process.stdin.on("end",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null}),process.stdin.on("error",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null})}tryProcessMessage(){if(!this.pendingResolve)return;if(this.buffer.length<4)return;let A=this.buffer.readUInt32LE(0);if(A===0||A>qu2){OV5(`Invalid message length: ${A}`),this.pendingResolve(null),this.pendingResolve=null;return}if(this.buffer.length<4+A)return;let Q=this.buffer.subarray(4,4+A);this.buffer=this.buffer.subarray(4+A);let B=Q.toString("utf-8");this.pendingResolve(B),this.pendingResolve=null}async read(){if(this.closed)return null;if(this.buffer.length>=4){let A=this.buffer.readUInt32LE(0);if(A>0&&A<=qu2&&this.buffer.length>=4+A){let Q=this.buffer.subarray(4,4+A);return this.buffer=this.buffer.subarray(4+A),Q.toString("utf-8")}}return new Promise((A)=>{this.pendingResolve=A,this.tryProcessMessage()})}}NJ0();R_();cw();vQ();B81();process.env.COREPACK_ENABLE_AUTO_PIN="0";w9("cli_entry");w9("cli_imports_loaded");async function dD5(){let A=process.argv.slice(2);if(A.length===1&&(A[0]==="--version"||A[0]==="-v"||A[0]==="-V")){w9("cli_version_fast_path"),console.log(`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION} (Claude Code)`);return}if(hZ()&&A[0]==="--mcp-cli"){let B=A.slice(1);process.exit(await wu2(B))}if(A[0]==="--ripgrep"){w9("cli_ripgrep_path");let B=A.slice(1),{ripgrepMain:G}=await Promise.resolve().then(() => (Mu2(),Lu2));process.exitCode=G(B);return}w9("cli_before_main_import");let{main:Q}=await Promise.resolve().then(() => (Ec2(),Vc2));w9("cli_after_main_import"),await Q(),w9("cli_after_main_complete")}dD5();[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"function se\\b|ENABLE_EXPERIMENTAL_MCP_CLI|MCP_TOOL_TIMEOUT\" bundles/ClaudeCodeCode/cli.js | head -60"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 28ms:[0m
[2m1574:`,{level:"error"});throw D}}),K.getMeter("com.anthropic.claude_code",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION)}async function ciB(){let A=wK0();if(!A)return;let Q=parseInt(process.env.CLAUDE_CODE_OTEL_FLUSH_TIMEOUT_MS||"5000");try{let B=[A.forceFlush()],G=dG1();if(G)B.push(G.forceFlush());let Z=cG1();if(Z)B.push(Z.forceFlush());await Promise.race([Promise.all(B),new Promise((Y,J)=>setTimeout(()=>J(Error("OpenTelemetry flush timeout")),Q))]),f("Telemetry flushed successfully")}catch(B){if(B instanceof Error&&B.message.includes("timeout"))f(`Telemetry flush timed out after ${Q}ms. Some metrics may not be exported.`,{level:"warn"});else f(`Telemetry flush failed: ${B instanceof Error?B.message:String(B)}`,{level:"error"})}}function JA0(){let A=Id(),Q=FR(),B=process.env.OTEL_EXPORTER_OTLP_ENDPOINT;if(!A||B&&fgA(B))return Q?{httpAgentOptions:Q}:{};return{httpAgentOptions:(Z)=>{return Q?new ZA0.HttpsProxyAgent(A,{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}):new ZA0.HttpsProxyAgent(A)}}}var UYA,GA0,O01,xiB,yiB,viB,kiB,YA0,$YA,fiB,biB,hiB,wYA,giB,uiB,miB,QT,cl,ZA0,FY8=60000,CY8=5000,zY8=5000;var IA0=L(()=>{ViB();EiB();bW();Xd();F2();g0();dl();k3();F2();jB();Y0();Ta();u6A();rQ();UYA=o(O9(),1),GA0=o(JT1(),1),O01=o(zl(),1),xiB=o(DkB(),1),yiB=o(RcB(),1),viB=o(yA1(),1),kiB=o(kcB(),1),YA0=o(zl(),1),$YA=o(gT1(),1),fiB=o(icB(),1),biB=o(tcB(),1),hiB=o(WpB(),1),wYA=o(flB(),1),giB=o(nlB(),1),uiB=o(elB(),1),miB=o(KiB(),1),QT=o(e6A(),1),cl=o(vr(),1),ZA0=o(oEA(),1)});var _KG,piB;var liB=L(()=>{z2();_KG=P.object({checksum:P.string(),version:P.string().optional()}),piB=P.object({uuid:P.string(),checksum:P.string(),settings:P.record(P.unknown())})});function NYA({title:A,subtitle:Q,color:B="permission"}){return ob.createElement(j,{flexDirection:"column"},ob.createElement(j,{flexDirection:"row",gap:1},ob.createElement(z,{bold:!0,color:B},A),Q!==void 0&&ob.createElement(z,{wrap:"truncate-start"},Q)))}var ob;var R01=L(()=>{fA();ob=o(WA(),1)});var UI;var xx=L(()=>{$8();UI=JQ.platform==="darwin"?"‚è∫":"‚óè"});function MY8(A){return`ansi:${A}`}function _01({name:A,color:Q}){let B=MY8(Q);return B1A.createElement(j,{flexDirection:"row",gap:1},B1A.createElement(z,{color:B},UI," ",B1A.createElement(z,{bold:!0},A)))}var B1A;var XA0=L(()=>{fA();xx();B1A=o(WA(),1)});function YZ({title:A,subtitle:Q,color:B="permission",titleColor:G,innerPaddingX:Z=1,workerBadge:Y,children:J}){return BT.createElement(j,{flexDirection:"column",borderStyle:"round",borderColor:B,borderLeft:!1,borderRight:!1,borderBottom:!1,marginTop:1},BT.createElement(j,{paddingX:1,flexDirection:"column"},Y&&BT.createElement(_01,{name:Y.name,color:Y.color}),BT.createElement(NYA,{title:A,subtitle:Q,color:G})),BT.createElement(j,{flexDirection:"column",paddingX:Z},J))}var BT;var UU=L(()=>{fA();R01();XA0();BT=o(WA(),1)});var iiB,xLA;var WA0=L(()=>{iiB=["apiKeyHelper","awsAuthRefresh","awsCredentialExport","otelHeadersHelper","statusLine"],xLA=new Set(["ANTHROPIC_CUSTOM_HEADERS","ANTHROPIC_DEFAULT_HAIKU_MODEL","ANTHROPIC_DEFAULT_OPUS_MODEL","ANTHROPIC_DEFAULT_SONNET_MODEL","ANTHROPIC_FOUNDRY_API_KEY","ANTHROPIC_MODEL","ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION","ANTHROPIC_SMALL_FAST_MODEL","AWS_DEFAULT_REGION","AWS_PROFILE","AWS_REGION","BASH_DEFAULT_TIMEOUT_MS","BASH_MAX_OUTPUT_LENGTH","BASH_MAX_TIMEOUT_MS","CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR","CLAUDE_CODE_API_KEY_HELPER_TTL_MS","CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS","CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC","CLAUDE_CODE_DISABLE_TERMINAL_TITLE","CLAUDE_CODE_ENABLE_TELEMETRY","CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL","CLAUDE_CODE_MAX_OUTPUT_TOKENS","CLAUDE_CODE_SKIP_BEDROCK_AUTH","CLAUDE_CODE_SKIP_FOUNDRY_AUTH","CLAUDE_CODE_SKIP_VERTEX_AUTH","CLAUDE_CODE_SUBAGENT_MODEL","CLAUDE_CODE_USE_BEDROCK","CLAUDE_CODE_USE_FOUNDRY","CLAUDE_CODE_USE_VERTEX","DISABLE_AUTOUPDATER","DISABLE_BUG_COMMAND","DISABLE_COST_WARNINGS","DISABLE_ERROR_REPORTING","DISABLE_TELEMETRY","MAX_MCP_OUTPUT_TOKENS","MAX_THINKING_TOKENS","MCP_TIMEOUT","MCP_TOOL_TIMEOUT","OTEL_EXPORTER_OTLP_HEADERS","OTEL_EXPORTER_OTLP_LOGS_HEADERS","OTEL_EXPORTER_OTLP_LOGS_PROTOCOL","OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY","OTEL_EXPORTER_OTLP_METRICS_HEADERS","OTEL_EXPORTER_OTLP_METRICS_PROTOCOL","OTEL_EXPORTER_OTLP_PROTOCOL","OTEL_EXPORTER_OTLP_TRACES_HEADERS","OTEL_LOG_USER_PROMPTS","OTEL_LOGS_EXPORT_INTERVAL","OTEL_LOGS_EXPORTER","OTEL_METRIC_EXPORT_INTERVAL","OTEL_METRICS_EXPORTER","OTEL_METRICS_INCLUDE_ACCOUNT_UUID","OTEL_METRICS_INCLUDE_SESSION_ID","OTEL_METRICS_INCLUDE_VERSION","OTEL_RESOURCE_ATTRIBUTES","USE_BUILTIN_RIPGREP","VERTEX_REGION_CLAUDE_3_5_HAIKU","VERTEX_REGION_CLAUDE_3_5_SONNET","VERTEX_REGION_CLAUDE_3_7_SONNET","VERTEX_REGION_CLAUDE_4_0_OPUS","VERTEX_REGION_CLAUDE_4_0_SONNET","VERTEX_REGION_CLAUDE_4_1_OPUS","VERTEX_REGION_CLAUDE_HAIKU_4_5"])});function qYA(A){if(!A)return{shellSettings:{},envVars:{},hasHooks:!1};let Q={};for(let Z of iiB){let Y=A[Z];if(typeof Y==="string"&&Y.length>0)Q[Z]=Y}let B={};if(A.env&&typeof A.env==="object"){for(let[Z,Y]of Object.entries(A.env))if(typeof Y==="string"&&Y.length>0){if(!xLA.has(Z.toUpperCase()))B[Z]=Y}}let G=A.hooks!==void 0&&A.hooks!==null&&typeof A.hooks==="object"&&Object.keys(A.hooks).length>0;return{shellSettings:Q,envVars:B,hasHooks:G,hooks:G?A.hooks:void 0}}function T01(A){return Object.keys(A.shellSettings).length>0||Object.keys(A.envVars).length>0||A.hasHooks}function niB(A,Q){let B=qYA(A),G=qYA(Q);if(!T01(G))return!1;if(!T01(B))return!0;let Z=JSON.stringify({shellSettings:B.shellSettings,envVars:B.envVars,hooks:B.hooks}),Y=JSON.stringify({shellSettings:G.shellSettings,envVars:G.envVars,hooks:G.hooks});return Z!==Y}function aiB(A){let Q=[];for(let B of Object.keys(A.shellSettings))Q.push(B);for(let B of Object.keys(A.envVars))Q.push(B);if(A.hasHooks)Q.push("hooks");return Q}var KA0=L(()=>{WA0()});function oiB({settings:A,onAccept:Q,onReject:B}){let G=qYA(A),Z=aiB(G),Y=_Q();k1((I,X)=>{if(X.escape){B();return}});function J(I){if(I==="exit"){B();return}Q()}return cE.default.createElement(YZ,{color:"warning",titleColor:"warning",title:"Managed settings require approval"},cE.default.createElement(j,{flexDirection:"column",gap:1,paddingTop:1},cE.default.createElement(z,null,"Your organization has configured managed settings that could allow execution of arbitrary code or interception of your prompts and responses."),cE.default.createElement(j,{flexDirection:"column"},cE.default.createElement(z,{dimColor:!0},"Settings requiring approval:"),Z.map((I,X)=>cE.default.createElement(j,{key:X,paddingLeft:2},cE.default.createElement(z,null,cE.default.createElement(z,{dimColor:!0},"¬∑ "),cE.default.createElement(z,null,I))))),cE.default.createElement(z,null,"Only accept if you trust your organization's IT administration and expect these settings to be configured."),cE.default.createElement(S0,{options:[{label:"Yes, I trust these settings",value:"accept"},{label:"No, exit Claude Code",value:"exit"}],onChange:(I)=>J(I),onCancel:()=>J("exit")}),cE.default.createElement(z,{dimColor:!0},Y.pending?cE.default.createElement(cE.default.Fragment,null,"Press ",Y.keyName," again to exit"):cE.default.createElement(cE.default.Fragment,null,"Enter to confirm ¬∑ Esc to exit"))))}var cE;var riB=L(()=>{fA();Y3();UU();c9();KA0();cE=o(WA(),1)});async function siB(A,Q){if(!Q||!T01(qYA(Q)))return"no_check_needed";if(!niB(A,Q))return"no_check_needed";if(!SBA())return"no_check_needed";return r("tengu_managed_settings_security_dialog_shown",{}),new Promise((B)=>{(async()=>{let{unmount:G}=await $5(VA0.default.createElement(u5,null,VA0.default.createElement(oiB,{settings:Q,onAccept:()=>{r("tengu_managed_settings_security_dialog_accepted",{}),G(),B("approved")},onReject:()=>{r("tengu_managed_settings_security_dialog_rejected",{}),G(),B("rejected")}})),{exitOnCtrlC:!1})})()})}function tiB(A){if(A==="rejected")return f6(1),!1;return!0}var VA0;var eiB=L(()=>{fA();riB();u2();g0();T0();iY();KA0();VA0=o(WA(),1)});import{join as OY8}from"path";import{createHash as RY8}from"crypto";import{existsSync as AnB,unlinkSync as _Y8}from"fs";function QnB(){if(vLA)return;if(sb())vLA=new Promise((A)=>{rb=A,setTimeout(()=>{if(rb)f("Remote settings: Loading promise timed out, resolving anyway"),rb(),rb=null},SY8)})}function HA0(){return OY8(mQ(),TY8)}function xY8(){return`${process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com"}/api/claude_code/settings`}function DA0(A){if(Array.isArray(A))return A.map(DA0);if(A!==null&&typeof A==="object"){let Q={};for(let B of Object.keys(A).sort())Q[B]=DA0(A[B]);return Q}return A}function yY8(A){let Q=DA0(A),B=JSON.stringify(Q);return`sha256:${RY8("sha256").update(B).digest("hex")}`}function sb(){if(X6()!=="firstParty")return!1;if(!Ym0())return!1;try{let{key:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});if(Q)return!0}catch{}let A=t6();if(!A?.accessToken)return!1;if(!A.scopes?.includes(E9A))return!1;if(A.subscriptionType!=="enterprise")return!1;return!0}function BnB(){return sb()}function vY8(){try{let{key:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});if(Q)return{headers:{"x-api-key":Q}}}catch{}let A=t6();if(A?.accessToken)return{headers:{Authorization:`Bearer ${A.accessToken}`,"anthropic-beta":tu}};return{headers:{},error:"No authentication available"}}async function kY8(A){let Q=null;for(let B=1;B<=EA0+1;B++){if(Q=await fY8(A),Q.success)return Q;if(Q.skipRetry)return Q;if(B>EA0)return Q;let G=ga1(B);f(`Remote settings: Retry ${B}/${EA0} after ${G}ms`),await jeA(G)}return Q}async function fY8(A){try{await Mk();let Q=vY8();if(Q.error)return{success:!1,error:"Authentication required for remote settings",skipRetry:!0};let B=xY8(),G={...Q.headers,"User-Agent":iI()};if(A)G["If-None-Match"]=`"${A}"`;let Z=await wQ.get(B,{headers:G,timeout:jY8,validateStatus:(I)=>I===200||I===304||I===404});if(Z.status===304)return f("Remote settings: Using cached settings (304)"),{success:!0,settings:null,checksum:A};if(Z.status===404)return f("Remote settings: No settings found (404)"),{success:!0,settings:{},checksum:void 0};let Y=piB.safeParse(Z.data);if(!Y.success)return f(`Remote settings: Invalid response format - ${Y.error.message}`),{success:!1,error:"Invalid remote settings format"};let J=Jb.safeParse(Y.data.settings);if(!J.success)return f(`Remote settings: Settings validation failed - ${J.error.message}`),{success:!1,error:"Invalid settings structure"};return f("Remote settings: Fetched successfully"),{success:!0,settings:J.data,checksum:Y.data.checksum}}catch(Q){if(wQ.isAxiosError(Q)){let B=Q;if(B.response?.status===404)return{success:!0,settings:{},checksum:""};if(B.response?.status===401||B.response?.status===403)return{success:!1,error:"Not authorized for remote settings",skipRetry:!0};if(B.code==="ECONNABORTED")return{success:!1,error:"Remote settings request timeout"};if(B.code==="ECONNREFUSED"||B.code==="ENOTFOUND")return{success:!1,error:"Cannot connect to server"}}return{success:!1,error:Q instanceof Error?Q.message:"Unknown error"}}}function GnB(){try{let A=HA0();if(!AnB(A))return null;let Q=wE(A),B=h8(Q,!1);if(!B||typeof B!=="object"||Array.isArray(B))return null;return B}catch{return null}}function bY8(A){try{let Q=HA0();rL(Q,JSON.stringify(A,null,2),{encoding:"utf-8",mode:384}),f(`Remote settings: Saved to ${Q}`)}catch(Q){f(`Remote settings: Failed to save - ${Q instanceof Error?Q.message:"unknown error"}`)}}function FA0(){JnB(),kw=null,vLA=null,rb=null;try{let A=HA0();if(AnB(A))_Y8(A)}catch{}}async function CA0(){if(!sb())return null;let A=GnB(),Q=A?yY8(A):void 0;try{let B=await kY8(Q);if(!B.success){if(A)return f("Remote settings: Using stale cache after fetch failure"),kw=A,A;return null}if(B.settings===null&&A)return f("Remote settings: Cache still valid (304 Not Modified)"),kw=A,A;let G=B.settings||{};if(Object.keys(G).length>0){let Y=await siB(A,G);if(!tiB(Y))return f("Remote settings: User rejected new settings, using cached settings"),A;return kw=G,bY8(G),f("Remote settings: Applied new settings successfully"),G}return kw=G,G}catch{if(A)return f("Remote settings: Using stale cache after error"),kw=A,A;return null}}function zA0(){if(!sb())return null;if(kw)return kw;let A=GnB();if(A)return kw=A,A;return null}async function ZnB(){if(sb()&&!vLA)vLA=new Promise((A)=>{rb=A});try{let A=await CA0();if(sb())gY8();if(A!==null)TR(),NF.notifyChange("policySettings")}finally{if(rb)rb(),rb=null}}async function YnB(){if(FA0(),!sb()){TR(),NF.notifyChange("policySettings");return}await CA0(),f("Remote settings: Refreshed after auth change"),TR(),NF.notifyChange("policySettings")}async function hY8(){if(!sb())return;let A=kw?JSON.stringify(kw):null;try{if(await CA0(),(kw?JSON.stringify(kw):null)!==A)f("Remote settings: Changed during background poll"),TR(),NF.notifyChange("policySettings")}catch{}}function gY8(){if(yLA!==null)return;if(!sb())return;yLA=setInterval(()=>{hY8()},PY8),U8(async()=>JnB())}function JnB(){if(yLA!==null)clearInterval(yLA),yLA=null}var TY8="remote-settings.json",jY8=1e4,EA0=5,PY8=3600000,yLA=null,vLA=null,rb=null,SY8=30000,kw=null;var LYA=L(()=>{b8();lD();Y0();eJ();F2();Te();liB();rQ();hX();M9();uI();beA();YZA();Rs();jB();bW();eiB()});async function $A0({clearOnboarding:A=!1}){await ciB(),mCQ(),$$().delete(),j01(),i0((B)=>{let G={...B};if(A){if(G.hasCompletedOnboarding=!1,G.subscriptionNoticeCount=0,G.hasAvailableSubscription=!1,G.customApiKeyResponses?.approved)G.customApiKeyResponses={...G.customApiKeyResponses,approved:[]}}return G.oauthAccount=void 0,G})}var UA0,j01=()=>{t6.cache?.clear?.(),oyA(),XnB(),GbQ(),As.cache?.clear?.(),Fl.cache?.clear?.(),FA0()},InB;var P01=L(()=>{xQ();tf();Fs();fA();F2();uyA();fv();J4();Sk();iY();wZA();IA0();LYA();ar();UA0=o(WA(),1);InB={type:"local-jsx",name:"logout",description:"Sign out from your Anthropic account",isEnabled:()=>!process.env.DISABLE_LOGOUT_COMMAND,isHidden:!1,async call(){if(!oD())await EI();await $A0({clearOnboarding:!0});let A=UA0.createElement(z,null,"Successfully logged out from your Anthropic account.");return setTimeout(()=>{f6(0,"logout")},200),A},userFacingName(){return"logout"}}});class kLA{codeVerifier;authCodeListener=null;port=null;manualAuthCodeResolver=null;constructor(){this.codeVerifier=a_B()}async startOAuthFlow(A,Q){this.authCodeListener=new zo1,this.port=await this.authCodeListener.start();let B=o_B(this.codeVerifier),G=r_B(),Z={codeChallenge:B,state:G,port:this.port,loginWithClaudeAi:Q?.loginWithClaudeAi,inferenceOnly:Q?.inferenceOnly,orgUUID:Q?.orgUUID},Y=tK1({...Z,isManual:!0}),J=tK1({...Z,isManual:!1}),I=await this.waitForAuthorizationCode(G,async()=>{await A(Y),await e5(J)}),X=this.authCodeListener?.hasPendingResponse()??!1;r("tengu_oauth_auth_code_received",{automatic:X});try{let W=await lu0(I,G,this.codeVerifier,this.port,!X,Q?.expiresIn);await $A0({clearOnboarding:!1});let K=await eK1(W.access_token);if(W.account)AV1({accountUuid:W.account.uuid,emailAddress:W.account.email_address,organizationUuid:W.organization?.uuid,displayName:K.displayName,hasExtraUsageEnabled:K.hasExtraUsageEnabled??void 0});if(X){let V=dyA(W.scope);this.authCodeListener?.handleSuccessRedirect(V)}return this.formatTokens(W,K.subscriptionType,K.rateLimitTier)}catch(W){if(X)this.authCodeListener?.handleErrorRedirect();throw W}finally{this.authCodeListener?.close()}}async waitForAuthorizationCode(A,Q){return new Promise((B,G)=>{this.manualAuthCodeResolver=B,this.authCodeListener?.waitForAuthorization(A,Q).then((Z)=>{this.manualAuthCodeResolver=null,B(Z)}).catch((Z)=>{this.manualAuthCodeResolver=null,G(Z)})})}handleManualAuthCodeInput(A){if(this.manualAuthCodeResolver)this.manualAuthCodeResolver(A.authorizationCode),this.manualAuthCodeResolver=null,this.authCodeListener?.close()}formatTokens(A,Q,B){return{accessToken:A.access_token,refreshToken:A.refresh_token,expiresAt:Date.now()+A.expires_in*1000,scopes:dyA(A.scope),subscriptionType:Q,rateLimitTier:B}}cleanup(){this.authCodeListener?.close(),this.manualAuthCodeResolver=null}}var wA0=L(()=>{AU();n_B();s_B();Xq();P01();T0()});async function uY8(){try{if(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!0;return await wQ.get("https://api.anthropic.com/api/hello",{timeout:5000,headers:{"Cache-Control":"no-cache"}}),!0}catch(A){if(!(A instanceof ok0))return!0;return A.code!=="EHOSTUNREACH"}}function NA0(){let[A,Q]=S01.useState(null);return S01.useEffect(()=>{let B=!0;if(process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)return;let G=async()=>{if(!B)return;let Y=await uY8();if(B)Q(Y)};G();let Z=setInterval(G,mY8);return()=>{B=!1,clearInterval(Z)}},[]),{isConnected:A}}var S01,mY8=30000;var WnB=L(()=>{b8();rQ();S01=o(WA(),1)});class MYA{activeOperations=new Set;lastUserActivityTime=0;lastCLIRecordedTime=Date.now();isCLIActive=!1;USER_ACTIVITY_TIMEOUT_MS=5000;static instance=null;static getInstance(){if(!MYA.instance)MYA.instance=new MYA;return MYA.instance}recordUserActivity(){if(!this.isCLIActive&&this.lastUserActivityTime!==0){let Q=(Date.now()-this.lastUserActivityTime)/1000;if(Q>0){let B=mG1();if(B){let G=this.USER_ACTIVITY_TIMEOUT_MS/1000;if(Q<G)B.add(Q,{type:"user"})}}}this.lastUserActivityTime=Date.now()}startCLIActivity(A){if(this.activeOperations.has(A))this.endCLIActivity(A);let Q=this.activeOperations.size===0;if(this.activeOperations.add(A),Q)this.isCLIActive=!0,this.lastCLIRecordedTime=Date.now()}endCLIActivity(A){if(this.activeOperations.delete(A),this.activeOperations.size===0){let Q=Date.now(),B=(Q-this.lastCLIRecordedTime)/1000;if(B>0){let G=mG1();if(G)G.add(B,{type:"cli"})}this.lastCLIRecordedTime=Q,this.isCLIActive=!1}}async trackOperation(A,Q){this.startCLIActivity(A);try{return await Q()}finally{this.endCLIActivity(A)}}getActivityStates(){return{isUserActive:(Date.now()-this.lastUserActivityTime)/1000<this.USER_ACTIVITY_TIMEOUT_MS/1000,isCLIActive:this.isCLIActive,activeOperationCount:this.activeOperations.size}}}var fLA;var qA0=L(()=>{g0();fLA=MYA.getInstance()});function pl({todos:A,isStandalone:Q=!1}){if(A.length===0)return null;let B=OV.createElement(OV.Fragment,null,A.map((G,Z)=>{let Y=G.status==="completed"?X1.checkboxOn:X1.checkboxOff;return OV.createElement(j,{key:Z},OV.createElement(z,{dimColor:G.status==="completed"},Y," "),OV.createElement(z,{bold:G.status==="in_progress",dimColor:G.status==="completed",strikethrough:G.status==="completed"},G.content))}));if(Q)return OV.createElement(j,{flexDirection:"column",marginTop:1,marginLeft:2},OV.createElement(z,{bold:!0,dimColor:!0},"Todos"),B);return OV.createElement(j,{flexDirection:"column"},B)}var OV;var bLA=L(()=>{fA();g2();OV=o(WA(),1)});function KnB({streamMode:A}){let[Q,B]=hLA.useState(null),[G,Z]=hLA.useState(null);if(hLA.useEffect(()=>{if(A==="thinking"&&Q===null)B(Date.now());else if(A!=="thinking"&&Q!==null)Z(Date.now()-Q),B(null)},[A,Q]),A==="thinking")return GT.createElement(j,{marginTop:1},GT.createElement(z,{dimColor:!0},"‚à¥ Thinking‚Ä¶"));if(G!==null)return GT.createElement(j,{marginTop:1},GT.createElement(z,{dimColor:!0},"‚à¥ Thought for ",Math.max(1,Math.round(G/1000)),"s (",GT.createElement(z,{dimColor:!0,bold:!0},"ctrl+o")," ","to show thinking)"));return null}var GT,hLA;var VnB=L(()=>{fA();GT=o(WA(),1),hLA=o(WA(),1)});function gLA(){if(process.env.TERM==="xterm-ghostty")return["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","*"];return process.platform==="darwin"?["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","‚úΩ"]:["¬∑","‚ú¢","*","‚ú∂","‚úª","‚úΩ"]}function G1A(A,Q,B){return{r:Math.round(A.r+(Q.r-A.r)*B),g:Math.round(A.g+(Q.g-A.g)*B),b:Math.round(A.b+(Q.b-A.b)*B)}}function OYA(A){return`rgb(${A.r},${A.g},${A.b})`}function MA0({char:A,flashOpacity:Q}){let Z=G1A({r:215,g:119,b:87},{r:245,g:149,b:117},Q);return LA0.createElement(z,{color:OYA(Z)},A)}var LA0;var OA0=L(()=>{fA();LA0=o(WA(),1)});function RYA({char:A,index:Q,glimmerIndex:B,messageColor:G,shimmerColor:Z}){let Y=Q===B,J=Math.abs(Q-B)===1;return RA0.createElement(z,{color:Y||J?Z:G},A)}var RA0;var x01=L(()=>{fA();RA0=o(WA(),1)});function _A0({message:A,mode:Q,isConnected:B,messageColor:G,glimmerIndex:Z,flashOpacity:Y,shimmerColor:J,stalledIntensity:I=0}){if(!A)return null;if(B===!1)return $I.createElement(z,{color:G},A," ");if(I>0){let K=G1A({r:215,g:119,b:87},{r:171,g:43,b:63},I),V=OYA(K);return $I.createElement($I.Fragment,null,$I.createElement(z,{color:V},A),$I.createElement(z,{color:V}," "))}return $I.createElement($I.Fragment,null,A.split("").map((X,W)=>{if(Q==="tool-use")return $I.createElement(MA0,{key:W,char:X,flashOpacity:Y});else return $I.createElement(RYA,{key:W,char:X,index:W,glimmerIndex:Z,messageColor:G,shimmerColor:J})}),$I.createElement(z,{color:G}," "))}var $I;var EnB=L(()=>{fA();OA0();x01();$I=o(WA(),1)});function TA0({frame:A,messageColor:Q,stalledIntensity:B=0,isConnected:G}){let Z=HnB[A%HnB.length];if(G===!1)return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:Q},Z));if(B>0){let I=G1A({r:215,g:119,b:87},{r:171,g:43,b:63},B);return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:OYA(I)},Z))}return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:Q},Z))}var fw,DnB,HnB;var FnB=L(()=>{fA();fw=o(WA(),1),DnB=gLA(),HnB=[...DnB,...[...DnB].reverse()]});function uLA(A,Q,B,G){let Z=_YA.useRef(Date.now()),[Y,J]=_YA.useState(A==="requesting"?-1:10),I=_YA.useMemo(()=>{if(A==="requesting")return 50;return 200},[A]);return aG(()=>{if(B===!1||G)return;let X=Date.now()-Z.current,W=Math.floor(X/I),K=Q.length,V=K+20;if(A==="requesting"){let E=W%V-10;J(E)}else{let E=K+10-W%V;J(E)}},I),Y}var _YA;var jA0=L(()=>{UE();_YA=o(WA(),1)});function PA0(A){let[Q,B]=CnB.useState(0);return aG(()=>{if(A==="tool-use")B(()=>{let G=Date.now()/1000;return(Math.sin(G*Math.PI)+1)/2});else B(0)},50),Q}var CnB;var znB=L(()=>{UE();CnB=o(WA(),1)});function SA0(A,Q=!1){let[B,G]=Z1A.useState(0),[Z,Y]=Z1A.useState(0),J=Z1A.useRef(A);Z1A.useEffect(()=>{if(A>J.current)G(0),Y(0),J.current=A},[A]),aG(()=>{if(A>0&&A===J.current&&!Q)G((W)=>W+100);else if(A===0||Q)G(0)},100);let I=B>3000&&!Q,X=I?Math.min((B-3000)/2000,1):0;return aG(()=>{Y((W)=>{let K=X,V=K-W;if(Math.abs(V)<0.01)return K;return W+V*0.1})},50),{isStalled:I,stalledIntensity:Z}}var Z1A;var UnB=L(()=>{UE();Z1A=o(WA(),1)});var $nB=L(()=>{OA0();x01();EnB();FnB();jA0();znB();UnB()});function qnB({mode:A,elapsedTimeMs:Q,spinnerTip:B,currentResponseLength:G,overrideColor:Z,overrideShimmerColor:Y,overrideMessage:J,spinnerSuffix:I,verbose:X,todos:W,hasActiveTools:K=!1,hideThinkingIndicator:V=!1}){let E=lY8(),[D,H]=yx.useState(0),[F,C]=yx.useState(0),[U]=yQ(),{isConnected:O}=NA0(),{columns:q}=kB(),M=W?.find((yA)=>yA.status==="in_progress"),_=W?.find((yA)=>yA.status==="pending"),[T]=yx.useState(()=>pr(E)),y=(J??M?.activeForm??T)+"‚Ä¶",{isStalled:h,stalledIntensity:x}=SA0(G,K),m=uLA(A,y,O,h),g=PA0(A),t=yx.useRef(G);yx.useEffect(()=>{let yA="spinner-"+A;return fLA.startCLIActivity(yA),()=>{fLA.endCLIActivity(yA)}},[A]),yx.useEffect(()=>{t.current=G},[G]),aG(()=>{if(!O){H(4);return}H((yA)=>yA+1)},120),aG(()=>{C((yA)=>{let ZA=t.current-yA;if(ZA<=0)return yA;let GA;if(ZA<70)GA=1;else if(ZA<200)GA=Math.max(2,Math.ceil(ZA*0.08));else GA=18;return Math.min(yA+GA,t.current)})},10);let p=y.length+2,k=16,c=q>p+20,e=W&&W.length>0&&c&&q>p+k+25,AA=(X||Q>cY8)&&c&&q>p+k+(e?25:0)+25,VA=[...c?[T2.createElement(z,{dimColor:!0,key:"esc"},T2.createElement(R0,{shortcut:"esc",action:"interrupt",bold:!0}))]:[],...I?[T2.createElement(z,{dimColor:!0,key:"suffix"},I)]:[],...e?[T2.createElement(z,{dimColor:!0,key:"todo"},T2.createElement(R0,{shortcut:"ctrl+t",action:`${U.showExpandedTodos?"hide":"show"} todos`,bold:!0}))]:[],...AA?[T2.createElement(z,{dimColor:!0,key:"elapsedTime"},lK(Q)),T2.createElement(j,{flexDirection:"row",key:"tokens"},T2.createElement(pY8,{mode:A,key:"spinnerMode"}),T2.createElement(z,{dimColor:!0},g3(Math.round(F/4))," tokens"))]:[]];if(O===!1)VA.push(T2.createElement(j,{key:"offline"},T2.createElement(z,{color:"error",bold:!0},"offline")));let OA=Z??(O===!1?"inactive":"claude"),EA=Y??"claudeShimmer",SA=VA.length>0?T2.createElement(T2.Fragment,null,T2.createElement(z,{dimColor:!0},"("),T2.createElement(LB,null,VA),T2.createElement(z,{dimColor:!0},")")):null;return T2.createElement(j,{flexDirection:"column",width:"100%",alignItems:"flex-start"},!V&&T2.createElement(KnB,{streamMode:A}),T2.createElement(j,{flexDirection:"row",flexWrap:"wrap",marginTop:1,width:"100%"},T2.createElement(TA0,{frame:D,messageColor:OA,stalledIntensity:x,isConnected:O}),T2.createElement(_A0,{message:y,mode:A,isConnected:O,messageColor:OA,glimmerIndex:m,flashOpacity:g,shimmerColor:EA,stalledIntensity:x}),SA),U.showExpandedTodos&&W&&W.length>0?T2.createElement(j,{width:"100%",flexDirection:"column"},T2.createElement(h0,null,T2.createElement(pl,{todos:W}))):_||B?T2.createElement(j,{width:"100%"},T2.createElement(h0,null,T2.createElement(z,{dimColor:!0},_?`Next: ${_.content}`:`Tip: ${B}`))):null)}function pY8({mode:A}){switch(A){case"tool-input":case"tool-use":case"responding":case"thinking":return T2.createElement(j,{width:2},T2.createElement(z,{dimColor:!0},X1.arrowDown));case"requesting":return T2.createElement(j,{width:2},T2.createElement(z,{dimColor:!0},X1.arrowUp))}}function a9(){let[A,Q]=yx.useState(0),{isConnected:B}=NA0();return aG(()=>{Q((Z)=>(Z+1)%NnB.length)},120),T2.createElement(j,{flexWrap:"wrap",height:1,width:2},T2.createElement(z,{color:B===!1?"inactive":"text"},NnB[A]))}function lY8(){return y01("tengu_spinner_words",dY8).words}var T2,yx,wnB,NnB,dY8,cY8=30000;var SG=L(()=>{fA();luA();UE();g2();WnB();qA0();J4();h4();bLA();u2();y6();VnB();s4();l6();$nB();T2=o(WA(),1),yx=o(WA(),1),wnB=gLA(),NnB=[...wnB,...[...wnB].reverse()],dY8={words:["Accomplishing","Actioning","Actualizing","Baking","Booping","Brewing","Calculating","Cerebrating","Channelling","Churning","Clauding","Coalescing","Cogitating","Computing","Combobulating","Concocting","Considering","Contemplating","Cooking","Crafting","Creating","Crunching","Deciphering","Deliberating","Determining","Discombobulating","Doing","Effecting","Elucidating","Enchanting","Envisioning","Finagling","Flibbertigibbeting","Forging","Forming","Frolicking","Generating","Germinating","Hatching","Herding","Honking","Ideating","Imagining","Incubating","Inferring","Manifesting","Marinating","Meandering","Moseying","Mulling","Mustering","Musing","Noodling","Percolating","Perusing","Philosophising","Pontificating","Pondering","Processing","Puttering","Puzzling","Reticulating","Ruminating","Scheming","Schlepping","Shimmying","Simmering","Smooshing","Spelunking","Spinning","Stewing","Sussing","Synthesizing","Thinking","Tinkering","Transmuting","Unfurling","Unravelling","Vibing","Wandering","Whirring","Wibbling","Working","Wrangling"]}});var mLA=w((aY8)=>{function iY8(A,Q,B){if(B===void 0)B=Array.prototype;if(A&&typeof B.find==="function")return B.find.call(A,Q);for(var G=0;G<A.length;G++)if(Object.prototype.hasOwnProperty.call(A,G)){var Z=A[G];if(Q.call(void 0,Z,G,A))return Z}}function xA0(A,Q){if(Q===void 0)Q=Object;return Q&&typeof Q.freeze==="function"?Q.freeze(A):A}function nY8(A,Q){if(A===null||typeof A!=="object")throw TypeError("target is not an object");for(var B in Q)if(Object.prototype.hasOwnProperty.call(Q,B))A[B]=Q[B];return A}var LnB=xA0({HTML:"text/html",isHTML:function(A){return A===LnB.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),MnB=xA0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(A){return A===MnB.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});aY8.assign=nY8;aY8.find=iY8;aY8.freeze=xA0;aY8.MIME_TYPE=LnB;aY8.NAMESPACE=MnB});var cA0=w((DJ8)=>{var xnB=mLA(),vx=xnB.find,dLA=xnB.NAMESPACE;function AJ8(A){return A!==""}function QJ8(A){return A?A.split(/[\t\n\f\r ]+/).filter(AJ8):[]}function BJ8(A,Q){if(!A.hasOwnProperty(Q))A[Q]=!0;return A}function OnB(A){if(!A)return[];var Q=QJ8(A);return Object.keys(Q.reduce(BJ8,{}))}function GJ8(A){return function(Q){return A&&A.indexOf(Q)!==-1}}function pLA(A,Q){for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B))Q[B]=A[B]}function wU(A,Q){var B=A.prototype;if(!(B instanceof Q)){let Z=function(){};var G=Z;Z.prototype=Q.prototype,Z=new Z,pLA(B,Z),A.prototype=B=Z}if(B.constructor!=A){if(typeof A!="function")console.error("unknown Class:"+A);B.constructor=A}}var NU={},ZT=NU.ELEMENT_NODE=1,jYA=NU.ATTRIBUTE_NODE=2,v01=NU.TEXT_NODE=3,ynB=NU.CDATA_SECTION_NODE=4,vnB=NU.ENTITY_REFERENCE_NODE=5,ZJ8=NU.ENTITY_NODE=6,knB=NU.PROCESSING_INSTRUCTION_NODE=7,fnB=NU.COMMENT_NODE=8,bnB=NU.DOCUMENT_NODE=9,hnB=NU.DOCUMENT_TYPE_NODE=10,eb=NU.DOCUMENT_FRAGMENT_NODE=11,YJ8=NU.NOTATION_NODE=12,FH={},RV={},oEG=FH.INDEX_SIZE_ERR=(RV[1]="Index size error",1),rEG=FH.DOMSTRING_SIZE_ERR=(RV[2]="DOMString size error",2),$U=FH.HIERARCHY_REQUEST_ERR=(RV[3]="Hierarchy request error",3),sEG=FH.WRONG_DOCUMENT_ERR=(RV[4]="Wrong document",4),tEG=FH.INVALID_CHARACTER_ERR=(RV[5]="Invalid character",5),eEG=FH.NO_DATA_ALLOWED_ERR=(RV[6]="No data allowed",6),ADG=FH.NO_MODIFICATION_ALLOWED_ERR=(RV[7]="No modification allowed",7),gnB=FH.NOT_FOUND_ERR=(RV[8]="Not found",8),QDG=FH.NOT_SUPPORTED_ERR=(RV[9]="Not supported",9),RnB=FH.INUSE_ATTRIBUTE_ERR=(RV[10]="Attribute in use",10),BDG=FH.INVALID_STATE_ERR=(RV[11]="Invalid state",11),GDG=FH.SYNTAX_ERR=(RV[12]="Syntax error",12),ZDG=FH.INVALID_MODIFICATION_ERR=(RV[13]="Invalid modification",13),YDG=FH.NAMESPACE_ERR=(RV[14]="Invalid namespace",14),JDG=FH.INVALID_ACCESS_ERR=(RV[15]="Invalid access",15);function VX(A,Q){if(Q instanceof Error)var B=Q;else if(B=this,Error.call(this,RV[A]),this.message=RV[A],Error.captureStackTrace)Error.captureStackTrace(this,VX);if(B.code=A,Q)this.message=this.message+": "+Q;return B}VX.prototype=Error.prototype;pLA(FH,VX);function tb(){}tb.prototype={length:0,item:function(A){return A>=0&&A<this.length?this[A]:null},toString:function(A,Q){for(var B=[],G=0;G<this.length;G++)TYA(this[G],B,A,Q);return B.join("")},filter:function(A){return Array.prototype.filter.call(this,A)},indexOf:function(A){return Array.prototype.indexOf.call(this,A)}};function PYA(A,Q){this._node=A,this._refresh=Q,kA0(this)}function kA0(A){var Q=A._node._inc||A._node.ownerDocument._inc;if(A._inc!==Q){var B=A._refresh(A._node);if(snB(A,"length",B.length),!A.$$length||B.length<A.$$length){for(var G=B.length;G in A;G++)if(Object.prototype.hasOwnProperty.call(A,G))delete A[G]}pLA(B,A),A._inc=Q}}PYA.prototype.item=function(A){return kA0(this),this[A]||null};wU(PYA,tb);function k01(){}function unB(A,Q){var B=A.length;while(B--)if(A[B]===Q)return B}function _nB(A,Q,B,G){if(G)Q[unB(Q,G)]=B;else Q[Q.length++]=B;if(A){B.ownerElement=A;var Z=A.ownerDocument;if(Z)G&&cnB(Z,A,G),JJ8(Z,A,B)}}function TnB(A,Q,B){var G=unB(Q,B);if(G>=0){var Z=Q.length-1;while(G<Z)Q[G]=Q[++G];if(Q.length=Z,A){var Y=A.ownerDocument;if(Y)cnB(Y,A,B),B.ownerElement=null}}else throw new VX(gnB,Error(A.tagName+"@"+B))}k01.prototype={length:0,item:tb.prototype.item,getNamedItem:function(A){var Q=this.length;while(Q--){var B=this[Q];if(B.nodeName==A)return B}},setNamedItem:function(A){var Q=A.ownerElement;if(Q&&Q!=this._ownerElement)throw new VX(RnB);var B=this.getNamedItem(A.nodeName);return _nB(this._ownerElement,this,A,B),B},setNamedItemNS:function(A){var Q=A.ownerElement,B;if(Q&&Q!=this._ownerElement)throw new VX(RnB);return B=this.getNamedItemNS(A.namespaceURI,A.localName),_nB(this._ownerElement,this,A,B),B},removeNamedItem:function(A){var Q=this.getNamedItem(A);return TnB(this._ownerElement,this,Q),Q},removeNamedItemNS:function(A,Q){var B=this.getNamedItemNS(A,Q);return TnB(this._ownerElement,this,B),B},getNamedItemNS:function(A,Q){var B=this.length;while(B--){var G=this[B];if(G.localName==Q&&G.namespaceURI==A)return G}return null}};function mnB(){}mnB.prototype={hasFeature:function(A,Q){return!0},createDocument:function(A,Q,B){var G=new lLA;if(G.implementation=this,G.childNodes=new tb,G.doctype=B||null,B)G.appendChild(B);if(Q){var Z=G.createElementNS(A,Q);G.appendChild(Z)}return G},createDocumentType:function(A,Q,B){var G=new h01;return G.name=A,G.nodeName=A,G.publicId=Q||"",G.systemId=B||"",G}};function t7(){}t7.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(A,Q){return f01(this,A,Q)},replaceChild:function(A,Q){if(f01(this,A,Q,lnB),Q)this.removeChild(Q)},removeChild:function(A){return pnB(this,A)},appendChild:function(A){return this.insertBefore(A,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(A){return vA0(this.ownerDocument||this,this,A)},normalize:function(){var A=this.firstChild;while(A){var Q=A.nextSibling;if(Q&&Q.nodeType==v01&&A.nodeType==v01)this.removeChild(Q),A.appendData(Q.data);else A.normalize(),A=Q}},isSupported:function(A,Q){return this.ownerDocument.implementation.hasFeature(A,Q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){for(var G in B)if(Object.prototype.hasOwnProperty.call(B,G)&&B[G]===A)return G}Q=Q.nodeType==jYA?Q.ownerDocument:Q.parentNode}return null},lookupNamespaceURI:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){if(Object.prototype.hasOwnProperty.call(B,A))return B[A]}Q=Q.nodeType==jYA?Q.ownerDocument:Q.parentNode}return null},isDefaultNamespace:function(A){var Q=this.lookupPrefix(A);return Q==null}};function dnB(A){return A=="<"&&"&lt;"||A==">"&&"&gt;"||A=="&"&&"&amp;"||A=='"'&&"&quot;"||"&#"+A.charCodeAt()+";"}pLA(NU,t7);pLA(NU,t7.prototype);function cLA(A,Q){if(Q(A))return!0;if(A=A.firstChild)do if(cLA(A,Q))return!0;while(A=A.nextSibling)}function lLA(){this.ownerDocument=this}function JJ8(A,Q,B){A&&A._inc++;var G=B.namespaceURI;if(G===dLA.XMLNS)Q._nsMap[B.prefix?B.localName:""]=B.value}function cnB(A,Q,B,G){A&&A._inc++;var Z=B.namespaceURI;if(Z===dLA.XMLNS)delete Q._nsMap[B.prefix?B.localName:""]}function fA0(A,Q,B){if(A&&A._inc){A._inc++;var G=Q.childNodes;if(B)G[G.length++]=B;else{var Z=Q.firstChild,Y=0;while(Z)G[Y++]=Z,Z=Z.nextSibling;G.length=Y,delete G[G.length]}}}function pnB(A,Q){var{previousSibling:B,nextSibling:G}=Q;if(B)B.nextSibling=G;else A.firstChild=G;if(G)G.previousSibling=B;else A.lastChild=B;return Q.parentNode=null,Q.previousSibling=null,Q.nextSibling=null,fA0(A.ownerDocument,A),Q}function IJ8(A){return A&&(A.nodeType===t7.DOCUMENT_NODE||A.nodeType===t7.DOCUMENT_FRAGMENT_NODE||A.nodeType===t7.ELEMENT_NODE)}function XJ8(A){return A&&(kx(A)||bA0(A)||Ah(A)||A.nodeType===t7.DOCUMENT_FRAGMENT_NODE||A.nodeType===t7.COMMENT_NODE||A.nodeType===t7.PROCESSING_INSTRUCTION_NODE)}function Ah(A){return A&&A.nodeType===t7.DOCUMENT_TYPE_NODE}function kx(A){return A&&A.nodeType===t7.ELEMENT_NODE}function bA0(A){return A&&A.nodeType===t7.TEXT_NODE}function jnB(A,Q){var B=A.childNodes||[];if(vx(B,kx)||Ah(Q))return!1;var G=vx(B,Ah);return!(Q&&G&&B.indexOf(G)>B.indexOf(Q))}function PnB(A,Q){var B=A.childNodes||[];function G(Y){return kx(Y)&&Y!==Q}if(vx(B,G))return!1;var Z=vx(B,Ah);return!(Q&&Z&&B.indexOf(Z)>B.indexOf(Q))}function WJ8(A,Q,B){if(!IJ8(A))throw new VX($U,"Unexpected parent node type "+A.nodeType);if(B&&B.parentNode!==A)throw new VX(gnB,"child not in parent");if(!XJ8(Q)||Ah(Q)&&A.nodeType!==t7.DOCUMENT_NODE)throw new VX($U,"Unexpected node type "+Q.nodeType+" for parent node type "+A.nodeType)}function KJ8(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===t7.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(kx);if(Y.length>1||vx(Z,bA0))throw new VX($U,"More than one element or text in fragment");if(Y.length===1&&!jnB(A,B))throw new VX($U,"Element in fragment can not be inserted before doctype")}if(kx(Q)){if(!jnB(A,B))throw new VX($U,"Only one element can be added and only after doctype")}if(Ah(Q)){if(vx(G,Ah))throw new VX($U,"Only one doctype is allowed");var J=vx(G,kx);if(B&&G.indexOf(J)<G.indexOf(B))throw new VX($U,"Doctype can only be inserted before an element");if(!B&&J)throw new VX($U,"Doctype can not be appended since element is present")}}function lnB(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===t7.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(kx);if(Y.length>1||vx(Z,bA0))throw new VX($U,"More than one element or text in fragment");if(Y.length===1&&!PnB(A,B))throw new VX($U,"Element in fragment can not be inserted before doctype")}if(kx(Q)){if(!PnB(A,B))throw new VX($U,"Only one element can be added and only after doctype")}if(Ah(Q)){let X=function(W){return Ah(W)&&W!==B};var I=X;if(vx(G,X))throw new VX($U,"Only one doctype is allowed");var J=vx(G,kx);if(B&&G.indexOf(J)<G.indexOf(B))throw new VX($U,"Doctype can only be inserted before an element")}}function f01(A,Q,B,G){if(WJ8(A,Q,B),A.nodeType===t7.DOCUMENT_NODE)(G||KJ8)(A,Q,B);var Z=Q.parentNode;if(Z)Z.removeChild(Q);if(Q.nodeType===eb){var Y=Q.firstChild;if(Y==null)return Q;var J=Q.lastChild}else Y=J=Q;var I=B?B.previousSibling:A.lastChild;if(Y.previousSibling=I,J.nextSibling=B,I)I.nextSibling=Y;else A.firstChild=Y;if(B==null)A.lastChild=J;else B.previousSibling=J;do Y.parentNode=A;while(Y!==J&&(Y=Y.nextSibling));if(fA0(A.ownerDocument||A,A),Q.nodeType==eb)Q.firstChild=Q.lastChild=null;return Q}function VJ8(A,Q){if(Q.parentNode)Q.parentNode.removeChild(Q);if(Q.parentNode=A,Q.previousSibling=A.lastChild,Q.nextSibling=null,Q.previousSibling)Q.previousSibling.nextSibling=Q;else A.firstChild=Q;return A.lastChild=Q,fA0(A.ownerDocument,A,Q),Q}lLA.prototype={nodeName:"#document",nodeType:bnB,doctype:null,documentElement:null,_inc:1,insertBefore:function(A,Q){if(A.nodeType==eb){var B=A.firstChild;while(B){var G=B.nextSibling;this.insertBefore(B,Q),B=G}return A}if(f01(this,A,Q),A.ownerDocument=this,this.documentElement===null&&A.nodeType===ZT)this.documentElement=A;return A},removeChild:function(A){if(this.documentElement==A)this.documentElement=null;return pnB(this,A)},replaceChild:function(A,Q){if(f01(this,A,Q,lnB),A.ownerDocument=this,Q)this.removeChild(Q);if(kx(A))this.documentElement=A},importNode:function(A,Q){return rnB(this,A,Q)},getElementById:function(A){var Q=null;return cLA(this.documentElement,function(B){if(B.nodeType==ZT){if(B.getAttribute("id")==A)return Q=B,!0}}),Q},getElementsByClassName:function(A){var Q=OnB(A);return new PYA(this,function(B){var G=[];if(Q.length>0)cLA(B.documentElement,function(Z){if(Z!==B&&Z.nodeType===ZT){var Y=Z.getAttribute("class");if(Y){var J=A===Y;if(!J){var I=OnB(Y);J=Q.every(GJ8(I))}if(J)G.push(Z)}}});return G})},createElement:function(A){var Q=new Y1A;Q.ownerDocument=this,Q.nodeName=A,Q.tagName=A,Q.localName=A,Q.childNodes=new tb;var B=Q.attributes=new k01;return B._ownerElement=Q,Q},createDocumentFragment:function(){var A=new g01;return A.ownerDocument=this,A.childNodes=new tb,A},createTextNode:function(A){var Q=new hA0;return Q.ownerDocument=this,Q.appendData(A),Q},createComment:function(A){var Q=new gA0;return Q.ownerDocument=this,Q.appendData(A),Q},createCDATASection:function(A){var Q=new uA0;return Q.ownerDocument=this,Q.appendData(A),Q},createProcessingInstruction:function(A,Q){var B=new dA0;return B.ownerDocument=this,B.tagName=B.nodeName=B.target=A,B.nodeValue=B.data=Q,B},createAttribute:function(A){var Q=new b01;return Q.ownerDocument=this,Q.name=A,Q.nodeName=A,Q.localName=A,Q.specified=!0,Q},createEntityReference:function(A){var Q=new mA0;return Q.ownerDocument=this,Q.nodeName=A,Q},createElementNS:function(A,Q){var B=new Y1A,G=Q.split(":"),Z=B.attributes=new k01;if(B.childNodes=new tb,B.ownerDocument=this,B.nodeName=Q,B.tagName=Q,B.namespaceURI=A,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return Z._ownerElement=B,B},createAttributeNS:function(A,Q){var B=new b01,G=Q.split(":");if(B.ownerDocument=this,B.nodeName=Q,B.name=Q,B.namespaceURI=A,B.specified=!0,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return B}};wU(lLA,t7);function Y1A(){this._nsMap={}}Y1A.prototype={nodeType:ZT,hasAttribute:function(A){return this.getAttributeNode(A)!=null},getAttribute:function(A){var Q=this.getAttributeNode(A);return Q&&Q.value||""},getAttributeNode:function(A){return this.attributes.getNamedItem(A)},setAttribute:function(A,Q){var B=this.ownerDocument.createAttribute(A);B.value=B.nodeValue=""+Q,this.setAttributeNode(B)},removeAttribute:function(A){var Q=this.getAttributeNode(A);Q&&this.removeAttributeNode(Q)},appendChild:function(A){if(A.nodeType===eb)return this.insertBefore(A,null);else return VJ8(this,A)},setAttributeNode:function(A){return this.attributes.setNamedItem(A)},setAttributeNodeNS:function(A){return this.attributes.setNamedItemNS(A)},removeAttributeNode:function(A){return this.attributes.removeNamedItem(A.nodeName)},removeAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);B&&this.removeAttributeNode(B)},hasAttributeNS:function(A,Q){return this.getAttributeNodeNS(A,Q)!=null},getAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);return B&&B.value||""},setAttributeNS:function(A,Q,B){var G=this.ownerDocument.createAttributeNS(A,Q);G.value=G.nodeValue=""+B,this.setAttributeNode(G)},getAttributeNodeNS:function(A,Q){return this.attributes.getNamedItemNS(A,Q)},getElementsByTagName:function(A){return new PYA(this,function(Q){var B=[];return cLA(Q,function(G){if(G!==Q&&G.nodeType==ZT&&(A==="*"||G.tagName==A))B.push(G)}),B})},getElementsByTagNameNS:function(A,Q){return new PYA(this,function(B){var G=[];return cLA(B,function(Z){if(Z!==B&&Z.nodeType===ZT&&(A==="*"||Z.namespaceURI===A)&&(Q==="*"||Z.localName==Q))G.push(Z)}),G})}};lLA.prototype.getElementsByTagName=Y1A.prototype.getElementsByTagName;lLA.prototype.getElementsByTagNameNS=Y1A.prototype.getElementsByTagNameNS;wU(Y1A,t7);function b01(){}b01.prototype.nodeType=jYA;wU(b01,t7);function iLA(){}iLA.prototype={data:"",substringData:function(A,Q){return this.data.substring(A,A+Q)},appendData:function(A){A=this.data+A,this.nodeValue=this.data=A,this.length=A.length},insertData:function(A,Q){this.replaceData(A,0,Q)},appendChild:function(A){throw Error(RV[$U])},deleteData:function(A,Q){this.replaceData(A,Q,"")},replaceData:function(A,Q,B){var G=this.data.substring(0,A),Z=this.data.substring(A+Q);B=G+B+Z,this.nodeValue=this.data=B,this.length=B.length}};wU(iLA,t7);function hA0(){}hA0.prototype={nodeName:"#text",nodeType:v01,splitText:function(A){var Q=this.data,B=Q.substring(A);Q=Q.substring(0,A),this.data=this.nodeValue=Q,this.length=Q.length;var G=this.ownerDocument.createTextNode(B);if(this.parentNode)this.parentNode.insertBefore(G,this.nextSibling);return G}};wU(hA0,iLA);function gA0(){}gA0.prototype={nodeName:"#comment",nodeType:fnB};wU(gA0,iLA);function uA0(){}uA0.prototype={nodeName:"#cdata-section",nodeType:ynB};wU(uA0,iLA);function h01(){}h01.prototype.nodeType=hnB;wU(h01,t7);function inB(){}inB.prototype.nodeType=YJ8;wU(inB,t7);function nnB(){}nnB.prototype.nodeType=ZJ8;wU(nnB,t7);function mA0(){}mA0.prototype.nodeType=vnB;wU(mA0,t7);function g01(){}g01.prototype.nodeName="#document-fragment";g01.prototype.nodeType=eb;wU(g01,t7);function dA0(){}dA0.prototype.nodeType=knB;wU(dA0,t7);function anB(){}anB.prototype.serializeToString=function(A,Q,B){return onB.call(A,Q,B)};t7.prototype.toString=onB;function onB(A,Q){var B=[],G=this.nodeType==9&&this.documentElement||this,Z=G.prefix,Y=G.namespaceURI;if(Y&&Z==null){var Z=G.lookupPrefix(Y);if(Z==null)var J=[{namespace:Y,prefix:null}]}return TYA(this,B,A,Q,J),B.join("")}function SnB(A,Q,B){var G=A.prefix||"",Z=A.namespaceURI;if(!Z)return!1;if(G==="xml"&&Z===dLA.XML||Z===dLA.XMLNS)return!1;var Y=B.length;while(Y--){var J=B[Y];if(J.prefix===G)return J.namespace!==Z}return!0}function yA0(A,Q,B){A.push(" ",Q,'="',B.replace(/[<>&"\t\n\r]/g,dnB),'"')}function TYA(A,Q,B,G,Z){if(!Z)Z=[];if(G)if(A=G(A),A){if(typeof A=="string"){Q.push(A);return}}else return;switch(A.nodeType){case ZT:var Y=A.attributes,J=Y.length,U=A.firstChild,I=A.tagName;B=dLA.isHTML(A.namespaceURI)||B;var X=I;if(!B&&!A.prefix&&A.namespaceURI){var W;for(var K=0;K<Y.length;K++)if(Y.item(K).name==="xmlns"){W=Y.item(K).value;break}if(!W)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.prefix===""&&E.namespace===A.namespaceURI){W=E.namespace;break}}if(W!==A.namespaceURI)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.namespace===A.namespaceURI){if(E.prefix)X=E.prefix+":"+I;break}}}Q.push("<",X);for(var D=0;D<J;D++){var H=Y.item(D);if(H.prefix=="xmlns")Z.push({prefix:H.localName,namespace:H.value});else if(H.nodeName=="xmlns")Z.push({prefix:"",namespace:H.value})}for(var D=0;D<J;D++){var H=Y.item(D);if(SnB(H,B,Z)){var F=H.prefix||"",C=H.namespaceURI;yA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}TYA(H,Q,B,G,Z)}if(I===X&&SnB(A,B,Z)){var F=A.prefix||"",C=A.namespaceURI;yA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}if(U||B&&!/^(?:meta|link|img|br|hr|input)$/i.test(I)){if(Q.push(">"),B&&/^script$/i.test(I))while(U){if(U.data)Q.push(U.data);else TYA(U,Q,B,G,Z.slice());U=U.nextSibling}else while(U)TYA(U,Q,B,G,Z.slice()),U=U.nextSibling;Q.push("</",X,">")}else Q.push("/>");return;case bnB:case eb:var U=A.firstChild;while(U)TYA(U,Q,B,G,Z.slice()),U=U.nextSibling;return;case jYA:return yA0(Q,A.name,A.value);case v01:return Q.push(A.data.replace(/[<&>]/g,dnB));case ynB:return Q.push("<![CDATA[",A.data,"]]>");case fnB:return Q.push("<!--",A.data,"-->");case hnB:var{publicId:O,systemId:q}=A;if(Q.push("<!DOCTYPE ",A.name),O){if(Q.push(" PUBLIC ",O),q&&q!=".")Q.push(" ",q);Q.push(">")}else if(q&&q!=".")Q.push(" SYSTEM ",q,">");else{var M=A.internalSubset;if(M)Q.push(" [",M,"]");Q.push(">")}return;case knB:return Q.push("<?",A.target," ",A.data,"?>");case vnB:return Q.push("&",A.nodeName,";");default:Q.push("??",A.nodeName)}}function rnB(A,Q,B){var G;switch(Q.nodeType){case ZT:G=Q.cloneNode(!1),G.ownerDocument=A;case eb:break;case jYA:B=!0;break}if(!G)G=Q.cloneNode(!1);if(G.ownerDocument=A,G.parentNode=null,B){var Z=Q.firstChild;while(Z)G.appendChild(rnB(A,Z,B)),Z=Z.nextSibling}return G}function vA0(A,Q,B){var G=new Q.constructor;for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z)){var Y=Q[Z];if(typeof Y!="object"){if(Y!=G[Z])G[Z]=Y}}if(Q.childNodes)G.childNodes=new tb;switch(G.ownerDocument=A,G.nodeType){case ZT:var J=Q.attributes,I=G.attributes=new k01,X=J.length;I._ownerElement=G;for(var W=0;W<X;W++)G.setAttributeNode(vA0(A,J.item(W),!0));break;case jYA:B=!0}if(B){var K=Q.firstChild;while(K)G.appendChild(vA0(A,K,B)),K=K.nextSibling}return G}function snB(A,Q,B){A[Q]=B}try{if(Object.defineProperty){let A=function(Q){switch(Q.nodeType){case ZT:case eb:var B=[];Q=Q.firstChild;while(Q){if(Q.nodeType!==7&&Q.nodeType!==8)B.push(A(Q));Q=Q.nextSibling}return B.join("");default:return Q.nodeValue}};EJ8=A,Object.defineProperty(PYA.prototype,"length",{get:function(){return kA0(this),this.$$length}}),Object.defineProperty(t7.prototype,"textContent",{get:function(){return A(this)},set:function(Q){switch(this.nodeType){case ZT:case eb:while(this.firstChild)this.removeChild(this.firstChild);if(Q||String(Q))this.appendChild(this.ownerDocument.createTextNode(Q));break;default:this.data=Q,this.value=Q,this.nodeValue=Q}}}),snB=function(Q,B,G){Q["$$"+B]=G}}}catch(A){}var EJ8;DJ8.DocumentType=h01;DJ8.DOMException=VX;DJ8.DOMImplementation=mnB;DJ8.Element=Y1A;DJ8.Node=t7;DJ8.NodeList=tb;DJ8.XMLSerializer=anB});var AaB=w((NJ8)=>{var tnB=mLA().freeze;NJ8.XML_ENTITIES=tnB({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});NJ8.HTML_ENTITIES=tnB({Aacute:"√Å",aacute:"√°",Abreve:"ƒÇ",abreve:"ƒÉ",ac:"‚àæ",acd:"‚àø",acE:"‚àæÃ≥",Acirc:"√Ç",acirc:"√¢",acute:"¬¥",Acy:"–ê",acy:"–∞",AElig:"√Ü",aelig:"√¶",af:"‚Å°",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"√Ä",agrave:"√†",alefsym:"‚Ñµ",aleph:"‚Ñµ",Alpha:"Œë",alpha:"Œ±",Amacr:"ƒÄ",amacr:"ƒÅ",amalg:"‚®ø",AMP:"&",amp:"&",And:"‚©ì",and:"‚àß",andand:"‚©ï",andd:"‚©ú",andslope:"‚©ò",andv:"‚©ö",ang:"‚à†",ange:"‚¶§",angle:"‚à†",angmsd:"‚à°",angmsdaa:"‚¶®",angmsdab:"‚¶©",angmsdac:"‚¶™",angmsdad:"‚¶´",angmsdae:"‚¶¨",angmsdaf:"‚¶≠",angmsdag:"‚¶Æ",angmsdah:"‚¶Ø",angrt:"‚àü",angrtvb:"‚äæ",angrtvbd:"‚¶ù",angsph:"‚à¢",angst:"√Ö",angzarr:"‚çº",Aogon:"ƒÑ",aogon:"ƒÖ",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"‚âà",apacir:"‚©Ø",apE:"‚©∞",ape:"‚âä",apid:"‚âã",apos:"'",ApplyFunction:"‚Å°",approx:"‚âà",approxeq:"‚âä",Aring:"√Ö",aring:"√•",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"‚âî",ast:"*",asymp:"‚âà",asympeq:"‚âç",Atilde:"√É",atilde:"√£",Auml:"√Ñ",auml:"√§",awconint:"‚à≥",awint:"‚®ë",backcong:"‚âå",backepsilon:"œ∂",backprime:"‚Äµ",backsim:"‚àΩ",backsimeq:"‚ãç",Backslash:"‚àñ",Barv:"‚´ß",barvee:"‚äΩ",Barwed:"‚åÜ",barwed:"‚åÖ",barwedge:"‚åÖ",bbrk:"‚éµ",bbrktbrk:"‚é∂",bcong:"‚âå",Bcy:"–ë",bcy:"–±",bdquo:"‚Äû",becaus:"‚àµ",Because:"‚àµ",because:"‚àµ",bemptyv:"‚¶∞",bepsi:"œ∂",bernou:"‚Ñ¨",Bernoullis:"‚Ñ¨",Beta:"Œí",beta:"Œ≤",beth:"‚Ñ∂",between:"‚â¨",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"‚ãÇ",bigcirc:"‚óØ",bigcup:"‚ãÉ",bigodot:"‚®Ä",bigoplus:"‚®Å",bigotimes:"‚®Ç",bigsqcup:"‚®Ü",bigstar:"‚òÖ",bigtriangledown:"‚ñΩ",bigtriangleup:"‚ñ≥",biguplus:"‚®Ñ",bigvee:"‚ãÅ",bigwedge:"‚ãÄ",bkarow:"‚§ç",blacklozenge:"‚ß´",blacksquare:"‚ñ™",blacktriangle:"‚ñ¥",blacktriangledown:"‚ñæ",blacktriangleleft:"‚óÇ",blacktriangleright:"‚ñ∏",blank:"‚ê£",blk12:"‚ñí",blk14:"‚ñë",blk34:"‚ñì",block:"‚ñà",bne:"=‚É•",bnequiv:"‚â°‚É•",bNot:"‚´≠",bnot:"‚åê",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"‚ä•",bottom:"‚ä•",bowtie:"‚ãà",boxbox:"‚ßâ",boxDL:"‚ïó",boxDl:"‚ïñ",boxdL:"‚ïï",boxdl:"‚îê",boxDR:"‚ïî",boxDr:"‚ïì",boxdR:"‚ïí",boxdr:"‚îå",boxH:"‚ïê",boxh:"‚îÄ",boxHD:"‚ï¶",boxHd:"‚ï§",boxhD:"‚ï•",boxhd:"‚î¨",boxHU:"‚ï©",boxHu:"‚ïß",boxhU:"‚ï®",boxhu:"‚î¥",boxminus:"‚äü",boxplus:"‚äû",boxtimes:"‚ä†",boxUL:"‚ïù",boxUl:"‚ïú",boxuL:"‚ïõ",boxul:"‚îò",boxUR:"‚ïö",boxUr:"‚ïô",boxuR:"‚ïò",boxur:"‚îî",boxV:"‚ïë",boxv:"‚îÇ",boxVH:"‚ï¨",boxVh:"‚ï´",boxvH:"‚ï™",boxvh:"‚îº",boxVL:"‚ï£",boxVl:"‚ï¢",boxvL:"‚ï°",boxvl:"‚î§",boxVR:"‚ï†",boxVr:"‚ïü",boxvR:"‚ïû",boxvr:"‚îú",bprime:"‚Äµ",Breve:"Àò",breve:"Àò",brvbar:"¬¶",Bscr:"‚Ñ¨",bscr:"\uD835\uDCB7",bsemi:"‚Åè",bsim:"‚àΩ",bsime:"‚ãç",bsol:"\\",bsolb:"‚ßÖ",bsolhsub:"‚üà",bull:"‚Ä¢",bullet:"‚Ä¢",bump:"‚âé",bumpE:"‚™Æ",bumpe:"‚âè",Bumpeq:"‚âé",bumpeq:"‚âè",Cacute:"ƒÜ",cacute:"ƒá",Cap:"‚ãí",cap:"‚à©",capand:"‚©Ñ",capbrcup:"‚©â",capcap:"‚©ã",capcup:"‚©á",capdot:"‚©Ä",CapitalDifferentialD:"‚ÖÖ",caps:"‚à©Ô∏Ä",caret:"‚ÅÅ",caron:"Àá",Cayleys:"‚Ñ≠",ccaps:"‚©ç",Ccaron:"ƒå",ccaron:"ƒç",Ccedil:"√á",ccedil:"√ß",Ccirc:"ƒà",ccirc:"ƒâ",Cconint:"‚à∞",ccups:"‚©å",ccupssm:"‚©ê",Cdot:"ƒä",cdot:"ƒã",cedil:"¬∏",Cedilla:"¬∏",cemptyv:"‚¶≤",cent:"¬¢",CenterDot:"¬∑",centerdot:"¬∑",Cfr:"‚Ñ≠",cfr:"\uD835\uDD20",CHcy:"–ß",chcy:"—á",check:"‚úì",checkmark:"‚úì",Chi:"Œß",chi:"œá",cir:"‚óã",circ:"ÀÜ",circeq:"‚âó",circlearrowleft:"‚Ü∫",circlearrowright:"‚Üª",circledast:"‚äõ",circledcirc:"‚äö",circleddash:"‚äù",CircleDot:"‚äô",circledR:"¬Æ",circledS:"‚ìà",CircleMinus:"‚äñ",CirclePlus:"‚äï",CircleTimes:"‚äó",cirE:"‚ßÉ",cire:"‚âó",cirfnint:"‚®ê",cirmid:"‚´Ø",cirscir:"‚ßÇ",ClockwiseContourIntegral:"‚à≤",CloseCurlyDoubleQuote:"‚Äù",CloseCurlyQuote:"‚Äô",clubs:"‚ô£",clubsuit:"‚ô£",Colon:"‚à∑",colon:":",Colone:"‚©¥",colone:"‚âî",coloneq:"‚âî",comma:",",commat:"@",comp:"‚àÅ",compfn:"‚àò",complement:"‚àÅ",complexes:"‚ÑÇ",cong:"‚âÖ",congdot:"‚©≠",Congruent:"‚â°",Conint:"‚àØ",conint:"‚àÆ",ContourIntegral:"‚àÆ",Copf:"‚ÑÇ",copf:"\uD835\uDD54",coprod:"‚àê",Coproduct:"‚àê",COPY:"¬©",copy:"¬©",copysr:"‚Ñó",CounterClockwiseContourIntegral:"‚à≥",crarr:"‚Üµ",Cross:"‚®Ø",cross:"‚úó",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"‚´è",csube:"‚´ë",csup:"‚´ê",csupe:"‚´í",ctdot:"‚ãØ",cudarrl:"‚§∏",cudarrr:"‚§µ",cuepr:"‚ãû",cuesc:"‚ãü",cularr:"‚Ü∂",cularrp:"‚§Ω",Cup:"‚ãì",cup:"‚à™",cupbrcap:"‚©à",CupCap:"‚âç",cupcap:"‚©Ü",cupcup:"‚©ä",cupdot:"‚äç",cupor:"‚©Ö",cups:"‚à™Ô∏Ä",curarr:"‚Ü∑",curarrm:"‚§º",curlyeqprec:"‚ãû",curlyeqsucc:"‚ãü",curlyvee:"‚ãé",curlywedge:"‚ãè",curren:"¬§",curvearrowleft:"‚Ü∂",curvearrowright:"‚Ü∑",cuvee:"‚ãé",cuwed:"‚ãè",cwconint:"‚à≤",cwint:"‚à±",cylcty:"‚å≠",Dagger:"‚Ä°",dagger:"‚Ä†",daleth:"‚Ñ∏",Darr:"‚Ü°",dArr:"‚áì",darr:"‚Üì",dash:"‚Äê",Dashv:"‚´§",dashv:"‚ä£",dbkarow:"‚§è",dblac:"Àù",Dcaron:"ƒé",dcaron:"ƒè",Dcy:"–î",dcy:"–¥",DD:"‚ÖÖ",dd:"‚ÖÜ",ddagger:"‚Ä°",ddarr:"‚áä",DDotrahd:"‚§ë",ddotseq:"‚©∑",deg:"¬∞",Del:"‚àá",Delta:"Œî",delta:"Œ¥",demptyv:"‚¶±",dfisht:"‚•ø",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"‚••",dharl:"‚áÉ",dharr:"‚áÇ",DiacriticalAcute:"¬¥",DiacriticalDot:"Àô",DiacriticalDoubleAcute:"Àù",DiacriticalGrave:"`",DiacriticalTilde:"Àú",diam:"‚ãÑ",Diamond:"‚ãÑ",diamond:"‚ãÑ",diamondsuit:"‚ô¶",diams:"‚ô¶",die:"¬®",DifferentialD:"‚ÖÜ",digamma:"œù",disin:"‚ã≤",div:"√∑",divide:"√∑",divideontimes:"‚ãá",divonx:"‚ãá",DJcy:"–Ç",djcy:"—í",dlcorn:"‚åû",dlcrop:"‚åç",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"¬®",dot:"Àô",DotDot:"‚Éú",doteq:"‚âê",doteqdot:"‚âë",DotEqual:"‚âê",dotminus:"‚à∏",dotplus:"‚àî",dotsquare:"‚ä°",doublebarwedge:"‚åÜ",DoubleContourIntegral:"‚àØ",DoubleDot:"¬®",DoubleDownArrow:"‚áì",DoubleLeftArrow:"‚áê",DoubleLeftRightArrow:"‚áî",DoubleLeftTee:"‚´§",DoubleLongLeftArrow:"‚ü∏",DoubleLongLeftRightArrow:"‚ü∫",DoubleLongRightArrow:"‚üπ",DoubleRightArrow:"‚áí",DoubleRightTee:"‚ä®",DoubleUpArrow:"‚áë",DoubleUpDownArrow:"‚áï",DoubleVerticalBar:"‚à•",DownArrow:"‚Üì",Downarrow:"‚áì",downarrow:"‚Üì",DownArrowBar:"‚§ì",DownArrowUpArrow:"‚áµ",DownBreve:"Ãë",downdownarrows:"‚áä",downharpoonleft:"‚áÉ",downharpoonright:"‚áÇ",DownLeftRightVector:"‚•ê",DownLeftTeeVector:"‚•û",DownLeftVector:"‚ÜΩ",DownLeftVectorBar:"‚•ñ",DownRightTeeVector:"‚•ü",DownRightVector:"‚áÅ",DownRightVectorBar:"‚•ó",DownTee:"‚ä§",DownTeeArrow:"‚Üß",drbkarow:"‚§ê",drcorn:"‚åü",drcrop:"‚åå",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"–Ö",dscy:"—ï",dsol:"‚ß∂",Dstrok:"ƒê",dstrok:"ƒë",dtdot:"‚ã±",dtri:"‚ñø",dtrif:"‚ñæ",duarr:"‚áµ",duhar:"‚•Ø",dwangle:"‚¶¶",DZcy:"–è",dzcy:"—ü",dzigrarr:"‚üø",Eacute:"√â",eacute:"√©",easter:"‚©Æ",Ecaron:"ƒö",ecaron:"ƒõ",ecir:"‚âñ",Ecirc:"√ä",ecirc:"√™",ecolon:"‚âï",Ecy:"–≠",ecy:"—ç",eDDot:"‚©∑",Edot:"ƒñ",eDot:"‚âë",edot:"ƒó",ee:"‚Öá",efDot:"‚âí",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"‚™ö",Egrave:"√à",egrave:"√®",egs:"‚™ñ",egsdot:"‚™ò",el:"‚™ô",Element:"‚àà",elinters:"‚èß",ell:"‚Ñì",els:"‚™ï",elsdot:"‚™ó",Emacr:"ƒí",emacr:"ƒì",empty:"‚àÖ",emptyset:"‚àÖ",EmptySmallSquare:"‚óª",emptyv:"‚àÖ",EmptyVerySmallSquare:"‚ñ´",emsp:"‚ÄÉ",emsp13:"‚ÄÑ",emsp14:"‚ÄÖ",ENG:"≈ä",eng:"≈ã",ensp:"‚ÄÇ",Eogon:"ƒò",eogon:"ƒô",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"‚ãï",eparsl:"‚ß£",eplus:"‚©±",epsi:"Œµ",Epsilon:"Œï",epsilon:"Œµ",epsiv:"œµ",eqcirc:"‚âñ",eqcolon:"‚âï",eqsim:"‚âÇ",eqslantgtr:"‚™ñ",eqslantless:"‚™ï",Equal:"‚©µ",equals:"=",EqualTilde:"‚âÇ",equest:"‚âü",Equilibrium:"‚áå",equiv:"‚â°",equivDD:"‚©∏",eqvparsl:"‚ß•",erarr:"‚•±",erDot:"‚âì",Escr:"‚Ñ∞",escr:"‚ÑØ",esdot:"‚âê",Esim:"‚©≥",esim:"‚âÇ",Eta:"Œó",eta:"Œ∑",ETH:"√ê",eth:"√∞",Euml:"√ã",euml:"√´",euro:"‚Ç¨",excl:"!",exist:"‚àÉ",Exists:"‚àÉ",expectation:"‚Ñ∞",ExponentialE:"‚Öá",exponentiale:"‚Öá",fallingdotseq:"‚âí",Fcy:"–§",fcy:"—Ñ",female:"‚ôÄ",ffilig:"Ô¨É",fflig:"Ô¨Ä",ffllig:"Ô¨Ñ",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"Ô¨Å",FilledSmallSquare:"‚óº",FilledVerySmallSquare:"‚ñ™",fjlig:"fj",flat:"‚ô≠",fllig:"Ô¨Ç",fltns:"‚ñ±",fnof:"∆í",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"‚àÄ",forall:"‚àÄ",fork:"‚ãî",forkv:"‚´ô",Fouriertrf:"‚Ñ±",fpartint:"‚®ç",frac12:"¬Ω",frac13:"‚Öì",frac14:"¬º",frac15:"‚Öï",frac16:"‚Öô",frac18:"‚Öõ",frac23:"‚Öî",frac25:"‚Öñ",frac34:"¬æ",frac35:"‚Öó",frac38:"‚Öú",frac45:"‚Öò",frac56:"‚Öö",frac58:"‚Öù",frac78:"‚Öû",frasl:"‚ÅÑ",frown:"‚å¢",Fscr:"‚Ñ±",fscr:"\uD835\uDCBB",gacute:"«µ",Gamma:"Œì",gamma:"Œ≥",Gammad:"œú",gammad:"œù",gap:"‚™Ü",Gbreve:"ƒû",gbreve:"ƒü",Gcedil:"ƒ¢",Gcirc:"ƒú",gcirc:"ƒù",Gcy:"–ì",gcy:"–≥",Gdot:"ƒ†",gdot:"ƒ°",gE:"‚âß",ge:"‚â•",gEl:"‚™å",gel:"‚ãõ",geq:"‚â•",geqq:"‚âß",geqslant:"‚©æ",ges:"‚©æ",gescc:"‚™©",gesdot:"‚™Ä",gesdoto:"‚™Ç",gesdotol:"‚™Ñ",gesl:"‚ãõÔ∏Ä",gesles:"‚™î",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"‚ãô",gg:"‚â´",ggg:"‚ãô",gimel:"‚Ñ∑",GJcy:"–É",gjcy:"—ì",gl:"‚â∑",gla:"‚™•",glE:"‚™í",glj:"‚™§",gnap:"‚™ä",gnapprox:"‚™ä",gnE:"‚â©",gne:"‚™à",gneq:"‚™à",gneqq:"‚â©",gnsim:"‚ãß",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"‚â•",GreaterEqualLess:"‚ãõ",GreaterFullEqual:"‚âß",GreaterGreater:"‚™¢",GreaterLess:"‚â∑",GreaterSlantEqual:"‚©æ",GreaterTilde:"‚â≥",Gscr:"\uD835\uDCA2",gscr:"‚Ñä",gsim:"‚â≥",gsime:"‚™é",gsiml:"‚™ê",Gt:"‚â´",GT:">",gt:">",gtcc:"‚™ß",gtcir:"‚©∫",gtdot:"‚ãó",gtlPar:"‚¶ï",gtquest:"‚©º",gtrapprox:"‚™Ü",gtrarr:"‚•∏",gtrdot:"‚ãó",gtreqless:"‚ãõ",gtreqqless:"‚™å",gtrless:"‚â∑",gtrsim:"‚â≥",gvertneqq:"‚â©Ô∏Ä",gvnE:"‚â©Ô∏Ä",Hacek:"Àá",hairsp:"‚Ää",half:"¬Ω",hamilt:"‚Ñã",HARDcy:"–™",hardcy:"—ä",hArr:"‚áî",harr:"‚Üî",harrcir:"‚•à",harrw:"‚Ü≠",Hat:"^",hbar:"‚Ñè",Hcirc:"ƒ§",hcirc:"ƒ•",hearts:"‚ô•",heartsuit:"‚ô•",hellip:"‚Ä¶",hercon:"‚äπ",Hfr:"‚Ñå",hfr:"\uD835\uDD25",HilbertSpace:"‚Ñã",hksearow:"‚§•",hkswarow:"‚§¶",hoarr:"‚áø",homtht:"‚àª",hookleftarrow:"‚Ü©",hookrightarrow:"‚Ü™",Hopf:"‚Ñç",hopf:"\uD835\uDD59",horbar:"‚Äï",HorizontalLine:"‚îÄ",Hscr:"‚Ñã",hscr:"\uD835\uDCBD",hslash:"‚Ñè",Hstrok:"ƒ¶",hstrok:"ƒß",HumpDownHump:"‚âé",HumpEqual:"‚âè",hybull:"‚ÅÉ",hyphen:"‚Äê",Iacute:"√ç",iacute:"√≠",ic:"‚Å£",Icirc:"√é",icirc:"√Æ",Icy:"–ò",icy:"–∏",Idot:"ƒ∞",IEcy:"–ï",iecy:"–µ",iexcl:"¬°",iff:"‚áî",Ifr:"‚Ñë",ifr:"\uD835\uDD26",Igrave:"√å",igrave:"√¨",ii:"‚Öà",iiiint:"‚®å",iiint:"‚à≠",iinfin:"‚ßú",iiota:"‚Ñ©",IJlig:"ƒ≤",ijlig:"ƒ≥",Im:"‚Ñë",Imacr:"ƒ™",imacr:"ƒ´",image:"‚Ñë",ImaginaryI:"‚Öà",imagline:"‚Ñê",imagpart:"‚Ñë",imath:"ƒ±",imof:"‚ä∑",imped:"∆µ",Implies:"‚áí",in:"‚àà",incare:"‚ÑÖ",infin:"‚àû",infintie:"‚ßù",inodot:"ƒ±",Int:"‚à¨",int:"‚à´",intcal:"‚ä∫",integers:"‚Ñ§",Integral:"‚à´",intercal:"‚ä∫",Intersection:"‚ãÇ",intlarhk:"‚®ó",intprod:"‚®º",InvisibleComma:"‚Å£",InvisibleTimes:"‚Å¢",IOcy:"–Å",iocy:"—ë",Iogon:"ƒÆ",iogon:"ƒØ",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"Œô",iota:"Œπ",iprod:"‚®º",iquest:"¬ø",Iscr:"‚Ñê",iscr:"\uD835\uDCBE",isin:"‚àà",isindot:"‚ãµ",isinE:"‚ãπ",isins:"‚ã¥",isinsv:"‚ã≥",isinv:"‚àà",it:"‚Å¢",Itilde:"ƒ®",itilde:"ƒ©",Iukcy:"–Ü",iukcy:"—ñ",Iuml:"√è",iuml:"√Ø",Jcirc:"ƒ¥",jcirc:"ƒµ",Jcy:"–ô",jcy:"–π",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"»∑",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"–à",jsercy:"—ò",Jukcy:"–Ñ",jukcy:"—î",Kappa:"Œö",kappa:"Œ∫",kappav:"œ∞",Kcedil:"ƒ∂",kcedil:"ƒ∑",Kcy:"–ö",kcy:"–∫",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"ƒ∏",KHcy:"–•",khcy:"—Ö",KJcy:"–å",kjcy:"—ú",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"‚áö",Lacute:"ƒπ",lacute:"ƒ∫",laemptyv:"‚¶¥",lagran:"‚Ñí",Lambda:"Œõ",lambda:"Œª",Lang:"‚ü™",lang:"‚ü®",langd:"‚¶ë",langle:"‚ü®",lap:"‚™Ö",Laplacetrf:"‚Ñí",laquo:"¬´",Larr:"‚Üû",lArr:"‚áê",larr:"‚Üê",larrb:"‚á§",larrbfs:"‚§ü",larrfs:"‚§ù",larrhk:"‚Ü©",larrlp:"‚Ü´",larrpl:"‚§π",larrsim:"‚•≥",larrtl:"‚Ü¢",lat:"‚™´",lAtail:"‚§õ",latail:"‚§ô",late:"‚™≠",lates:"‚™≠Ô∏Ä",lBarr:"‚§é",lbarr:"‚§å",lbbrk:"‚ù≤",lbrace:"{",lbrack:"[",lbrke:"‚¶ã",lbrksld:"‚¶è",lbrkslu:"‚¶ç",Lcaron:"ƒΩ",lcaron:"ƒæ",Lcedil:"ƒª",lcedil:"ƒº",lceil:"‚åà",lcub:"{",Lcy:"–õ",lcy:"–ª",ldca:"‚§∂",ldquo:"‚Äú",ldquor:"‚Äû",ldrdhar:"‚•ß",ldrushar:"‚•ã",ldsh:"‚Ü≤",lE:"‚â¶",le:"‚â§",LeftAngleBracket:"‚ü®",LeftArrow:"‚Üê",Leftarrow:"‚áê",leftarrow:"‚Üê",LeftArrowBar:"‚á§",LeftArrowRightArrow:"‚áÜ",leftarrowtail:"‚Ü¢",LeftCeiling:"‚åà",LeftDoubleBracket:"‚ü¶",LeftDownTeeVector:"‚•°",LeftDownVector:"‚áÉ",LeftDownVectorBar:"‚•ô",LeftFloor:"‚åä",leftharpoondown:"‚ÜΩ",leftharpoonup:"‚Üº",leftleftarrows:"‚áá",LeftRightArrow:"‚Üî",Leftrightarrow:"‚áî",leftrightarrow:"‚Üî",leftrightarrows:"‚áÜ",leftrightharpoons:"‚áã",leftrightsquigarrow:"‚Ü≠",LeftRightVector:"‚•é",LeftTee:"‚ä£",LeftTeeArrow:"‚Ü§",LeftTeeVector:"‚•ö",leftthreetimes:"‚ãã",LeftTriangle:"‚ä≤",LeftTriangleBar:"‚ßè",LeftTriangleEqual:"‚ä¥",LeftUpDownVector:"‚•ë",LeftUpTeeVector:"‚•†",LeftUpVector:"‚Üø",LeftUpVectorBar:"‚•ò",LeftVector:"‚Üº",LeftVectorBar:"‚•í",lEg:"‚™ã",leg:"‚ãö",leq:"‚â§",leqq:"‚â¶",leqslant:"‚©Ω",les:"‚©Ω",lescc:"‚™®",lesdot:"‚©ø",lesdoto:"‚™Å",lesdotor:"‚™É",lesg:"‚ãöÔ∏Ä",lesges:"‚™ì",lessapprox:"‚™Ö",lessdot:"‚ãñ",lesseqgtr:"‚ãö",lesseqqgtr:"‚™ã",LessEqualGreater:"‚ãö",LessFullEqual:"‚â¶",LessGreater:"‚â∂",lessgtr:"‚â∂",LessLess:"‚™°",lesssim:"‚â≤",LessSlantEqual:"‚©Ω",LessTilde:"‚â≤",lfisht:"‚•º",lfloor:"‚åä",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"‚â∂",lgE:"‚™ë",lHar:"‚•¢",lhard:"‚ÜΩ",lharu:"‚Üº",lharul:"‚•™",lhblk:"‚ñÑ",LJcy:"–â",ljcy:"—ô",Ll:"‚ãò",ll:"‚â™",llarr:"‚áá",llcorner:"‚åû",Lleftarrow:"‚áö",llhard:"‚•´",lltri:"‚ó∫",Lmidot:"ƒø",lmidot:"≈Ä",lmoust:"‚é∞",lmoustache:"‚é∞",lnap:"‚™â",lnapprox:"‚™â",lnE:"‚â®",lne:"‚™á",lneq:"‚™á",lneqq:"‚â®",lnsim:"‚ã¶",loang:"‚ü¨",loarr:"‚áΩ",lobrk:"‚ü¶",LongLeftArrow:"‚üµ",Longleftarrow:"‚ü∏",longleftarrow:"‚üµ",LongLeftRightArrow:"‚ü∑",Longleftrightarrow:"‚ü∫",longleftrightarrow:"‚ü∑",longmapsto:"‚üº",LongRightArrow:"‚ü∂",Longrightarrow:"‚üπ",longrightarrow:"‚ü∂",looparrowleft:"‚Ü´",looparrowright:"‚Ü¨",lopar:"‚¶Ö",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"‚®≠",lotimes:"‚®¥",lowast:"‚àó",lowbar:"_",LowerLeftArrow:"‚Üô",LowerRightArrow:"‚Üò",loz:"‚óä",lozenge:"‚óä",lozf:"‚ß´",lpar:"(",lparlt:"‚¶ì",lrarr:"‚áÜ",lrcorner:"‚åü",lrhar:"‚áã",lrhard:"‚•≠",lrm:"‚Äé",lrtri:"‚äø",lsaquo:"‚Äπ",Lscr:"‚Ñí",lscr:"\uD835\uDCC1",Lsh:"‚Ü∞",lsh:"‚Ü∞",lsim:"‚â≤",lsime:"‚™ç",lsimg:"‚™è",lsqb:"[",lsquo:"‚Äò",lsquor:"‚Äö",Lstrok:"≈Å",lstrok:"≈Ç",Lt:"‚â™",LT:"<",lt:"<",ltcc:"‚™¶",ltcir:"‚©π",ltdot:"‚ãñ",lthree:"‚ãã",ltimes:"‚ãâ",ltlarr:"‚•∂",ltquest:"‚©ª",ltri:"‚óÉ",ltrie:"‚ä¥",ltrif:"‚óÇ",ltrPar:"‚¶ñ",lurdshar:"‚•ä",luruhar:"‚•¶",lvertneqq:"‚â®Ô∏Ä",lvnE:"‚â®Ô∏Ä",macr:"¬Ø",male:"‚ôÇ",malt:"‚ú†",maltese:"‚ú†",Map:"‚§Ö",map:"‚Ü¶",mapsto:"‚Ü¶",mapstodown:"‚Üß",mapstoleft:"‚Ü§",mapstoup:"‚Ü•",marker:"‚ñÆ",mcomma:"‚®©",Mcy:"–ú",mcy:"–º",mdash:"‚Äî",mDDot:"‚à∫",measuredangle:"‚à°",MediumSpace:"‚Åü",Mellintrf:"‚Ñ≥",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"‚Ñß",micro:"¬µ",mid:"‚à£",midast:"*",midcir:"‚´∞",middot:"¬∑",minus:"‚àí",minusb:"‚äü",minusd:"‚à∏",minusdu:"‚®™",MinusPlus:"‚àì",mlcp:"‚´õ",mldr:"‚Ä¶",mnplus:"‚àì",models:"‚äß",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"‚àì",Mscr:"‚Ñ≥",mscr:"\uD835\uDCC2",mstpos:"‚àæ",Mu:"Œú",mu:"Œº",multimap:"‚ä∏",mumap:"‚ä∏",nabla:"‚àá",Nacute:"≈É",nacute:"≈Ñ",nang:"‚à†‚Éí",nap:"‚ââ",napE:"‚©∞Ã∏",napid:"‚âãÃ∏",napos:"≈â",napprox:"‚ââ",natur:"‚ôÆ",natural:"‚ôÆ",naturals:"‚Ñï",nbsp:"¬†",nbump:"‚âéÃ∏",nbumpe:"‚âèÃ∏",ncap:"‚©É",Ncaron:"≈á",ncaron:"≈à",Ncedil:"≈Ö",ncedil:"≈Ü",ncong:"‚âá",ncongdot:"‚©≠Ã∏",ncup:"‚©Ç",Ncy:"–ù",ncy:"–Ω",ndash:"‚Äì",ne:"‚â†",nearhk:"‚§§",neArr:"‚áó",nearr:"‚Üó",nearrow:"‚Üó",nedot:"‚âêÃ∏",NegativeMediumSpace:"‚Äã",NegativeThickSpace:"‚Äã",NegativeThinSpace:"‚Äã",NegativeVeryThinSpace:"‚Äã",nequiv:"‚â¢",nesear:"‚§®",nesim:"‚âÇÃ∏",NestedGreaterGreater:"‚â´",NestedLessLess:"‚â™",NewLine:`
4391:`),TR(),A==="localSettings")q80(iTA("localSettings"),pQ())}catch(G){let Z=Error(`Failed to read raw settings from ${B}: ${G}`);return s(Z),{error:Z}}return{error:null}}function hV5(A,Q){let B=[...A,...Q];return Array.from(new Set(B))}function au2(A,Q){if(Array.isArray(A)&&Array.isArray(Q))return hV5(A,Q);return}function su2(A){let Q=Jb.strip().parse(A),B=["permissions","sandbox","hooks"],G=[],Z={permissions:new Set(["allow","deny","ask","defaultMode","disableBypassPermissionsMode","additionalDirectories"]),sandbox:new Set(["network","ignoreViolations","excludedCommands","autoAllowBashIfSandboxed","enableWeakerNestedSandbox"]),hooks:new Set(["PreToolUse","PostToolUse","Notification","UserPromptSubmit","SessionStart","SessionEnd","Stop","SubagentStop","PreCompact"])};for(let Y of Object.keys(Q))if(B.includes(Y)&&Q[Y]&&typeof Q[Y]==="object"){let J=Q[Y],I=Z[Y];if(I){for(let X of Object.keys(J))if(I.has(X))G.push(`${Y}.${X}`)}}else G.push(Y);return G.sort()}function TR(){eTA=null}function gV5(){if(NJ0)return{settings:{},errors:[]};NJ0=!0;try{let A={},Q=[],B=new Set,G=new Set;for(let Y of Os()){if(Y==="policySettings"){let K=uB("policySettings");if(K)A=gPA(A,K,au2);continue}let J=qF(Y);if(!J)continue;let I=tTA(J);if(G.has(I))continue;G.add(I);let{settings:X,errors:W}=qJ0(J);for(let K of W){let V=`${K.file}:${K.path}:${K.message}`;if(!B.has(V))B.add(V),Q.push(K)}if(X)A=gPA(A,X,au2)}let Z=["user","project","local"];return Q.push(...Z.flatMap((Y)=>JX(Y).errors)),{settings:A,errors:Q}}finally{NJ0=!1}}function R7(){let{settings:A}=px();return A||{}}function px(){if(eTA!==null)return eTA;return eTA=gV5(),eTA}var eTA=null,sL,NJ0=!1,NQ;var jB=L(()=>{o2();bV0();M9();XQ();uI();h1();Y0();k3();tI();Te();g0();L80();rQ();D00();qw();Rs();LYA();sL=Z0(function(){switch(dQ()){case"macos":return"/Library/Application Support/ClaudeCode";case"windows":if(fV5("C:\\Program Files\\ClaudeCode"))return"C:\\Program Files\\ClaudeCode";return"C:\\ProgramData\\ClaudeCode";default:return"/etc/claude-code"}});NQ=R7});import{join as uV5}from"path";function CTA(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function F51(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function kv2(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function fv2(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function bv2(A,Q){let B={...A};return delete B[Q],B}function EH2(A){return`mcp__${g5(A)}__`}function wM(A){return A.name?.startsWith("mcp__")||A.isMcp===!0}function KV(A){let Q=A.split("__"),[B,G,...Z]=Q;if(B!=="mcp"||!G)return null;let Y=Z.length>0?Z.join("__"):void 0;return{serverName:G,toolName:Y}}function C51(A,Q){let B=`mcp__${g5(Q)}__`;return A.replace(B,"")}function z51(A){let Q=A.replace(/\s*\(MCP\)\s*$/,"");Q=Q.trim();let B=Q.indexOf(" - ");if(B!==-1)return Q.substring(B+3).trim();return Q}function HN(A){let Q=jA();switch(A){case"user":{let B=OD(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"project":{let B=uV5(r1(),".mcp.json"),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"local":return`${OD()} [project: ${r1()}]`;case"dynamic":return"Dynamically configured";case"enterprise":{let B=MtA(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}default:return A}}function l0A(A){switch(A){case"local":return"Local config (private to you in this project)";case"project":return"Project config (shared via .mcp.json)";case"user":return"User config (available in all your projects)";case"dynamic":return"Dynamic config (from command line)";case"enterprise":return"Enterprise config (managed by your organization)";default:return A}}function QjA(A){if(!A)return"local";if(!Pp1.options.includes(A))throw Error(`Invalid scope: ${A}. Must be one of: ${Pp1.options.join(", ")}`);return A}function tu2(A){if(!A)return"stdio";if(A!=="stdio"&&A!=="sse"&&A!=="http")throw Error(`Invalid transport type: ${A}. Must be one of: stdio, sse, http`);return A}function LJ0(A){let Q={};for(let B of A){let G=B.indexOf(":");if(G===-1)throw Error(`Invalid header format: "${B}". Expected format: "Header-Name: value"`);let Z=B.substring(0,G).trim(),Y=B.substring(G+1).trim();if(!Z)throw Error(`Invalid header: "${B}". Header name cannot be empty.`);Q[Z]=Y}return Q}function OtA(A){let Q=NQ(),B=g5(A);if(Q?.disabledMcpjsonServers?.some((G)=>g5(G)===B))return"rejected";if(Q?.enabledMcpjsonServers?.some((G)=>g5(G)===B)||Q?.enableAllProjectMcpServers)return"approved";if(D4()&&sK("projectSettings"))return"approved";return"pending"}function lQ0(A){if(!wM({name:A}))return null;let Q=KV(A);if(!Q)return null;return np(Q.serverName)?.scope??null}var SJ=L(()=>{jB();u7A();$8();pB();XQ();qw();tI();g0()});function se(){return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||mV5}function uZ(){if(z0(void 0))return!1;return z0(process.env.ENABLE_EXPERIMENTAL_MCP_CLI)}function _n(){return uZ()&&!rC(process.env.ENABLE_MCP_CLI_ENDPOINT)}function L1A(A){let Q=A.match(/^mcp-cli\s+(call|read)\s+([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)(?:\s+([\s\S]+))?$/);if(!Q)return null;let[,B,G,Z,Y=""]=Q;if(!B||!G||!Z)return null;return{command:B,server:G,tool:Z,toolName:Z,args:Y,fullCommand:A}}function cY0(A){let Q=KV(A);if(!Q||!Q.toolName)return null;return`${Q.serverName}/${Q.toolName}`}var mV5=1e8;var CV=L(()=>{rQ();SJ()});var BjA=w((dV5)=>{class MJ0 extends Error{constructor(A,Q,B){super(B);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=Q,this.exitCode=A,this.nestedError=void 0}}class eu2 extends MJ0{constructor(A){super(1,"commander.invalidArgument",A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}dV5.CommanderError=MJ0;dV5.InvalidArgumentError=eu2});var z71=w((nV5)=>{var{InvalidArgumentError:lV5}=BjA();class Am2{constructor(A,Q){switch(this.description=Q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,A[0]){case"<":this.required=!0,this._name=A.slice(1,-1);break;case"[":this.required=!1,this._name=A.slice(1,-1);break;default:this.required=!0,this._name=A;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(A,Q){if(Q===this.defaultValue||!Array.isArray(Q))return[A];return Q.concat(A)}default(A,Q){return this.defaultValue=A,this.defaultValueDescription=Q,this}argParser(A){return this.parseArg=A,this}choices(A){return this.argChoices=A.slice(),this.parseArg=(Q,B)=>{if(!this.argChoices.includes(Q))throw new lV5(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(Q,B);return Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function iV5(A){let Q=A.name()+(A.variadic===!0?"...":"");return A.required?"<"+Q+">":"["+Q+"]"}nV5.Argument=Am2;nV5.humanReadableArgName=iV5});var OJ0=w((sV5)=>{var{humanReadableArgName:rV5}=z71();class Qm2{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(A){let Q=A.commands.filter((G)=>!G._hidden),B=A._getHelpCommand();if(B&&!B._hidden)Q.push(B);if(this.sortSubcommands)Q.sort((G,Z)=>{return G.name().localeCompare(Z.name())});return Q}compareOptions(A,Q){let B=(G)=>{return G.short?G.short.replace(/^-/,""):G.long.replace(/^--/,"")};return B(A).localeCompare(B(Q))}visibleOptions(A){let Q=A.options.filter((G)=>!G.hidden),B=A._getHelpOption();if(B&&!B.hidden){let G=B.short&&A._findOption(B.short),Z=B.long&&A._findOption(B.long);if(!G&&!Z)Q.push(B);else if(B.long&&!Z)Q.push(A.createOption(B.long,B.description));else if(B.short&&!G)Q.push(A.createOption(B.short,B.description))}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleGlobalOptions(A){if(!this.showGlobalOptions)return[];let Q=[];for(let B=A.parent;B;B=B.parent){let G=B.options.filter((Z)=>!Z.hidden);Q.push(...G)}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleArguments(A){if(A._argsDescription)A.registeredArguments.forEach((Q)=>{Q.description=Q.description||A._argsDescription[Q.name()]||""});if(A.registeredArguments.find((Q)=>Q.description))return A.registeredArguments;return[]}subcommandTerm(A){let Q=A.registeredArguments.map((B)=>rV5(B)).join(" ");return A._name+(A._aliases[0]?"|"+A._aliases[0]:"")+(A.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(A){return A.flags}argumentTerm(A){return A.name()}longestSubcommandTermLength(A,Q){return Q.visibleCommands(A).reduce((B,G)=>{return Math.max(B,Q.subcommandTerm(G).length)},0)}longestOptionTermLength(A,Q){return Q.visibleOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestGlobalOptionTermLength(A,Q){return Q.visibleGlobalOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestArgumentTermLength(A,Q){return Q.visibleArguments(A).reduce((B,G)=>{return Math.max(B,Q.argumentTerm(G).length)},0)}commandUsage(A){let Q=A._name;if(A._aliases[0])Q=Q+"|"+A._aliases[0];let B="";for(let G=A.parent;G;G=G.parent)B=G.name()+" "+B;return B+Q+" "+A.usage()}commandDescription(A){return A.description()}subcommandDescription(A){return A.summary()||A.description()}optionDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0){if(A.required||A.optional||A.isBoolean()&&typeof A.defaultValue==="boolean")Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`)}if(A.presetArg!==void 0&&A.optional)Q.push(`preset: ${JSON.stringify(A.presetArg)}`);if(A.envVar!==void 0)Q.push(`env: ${A.envVar}`);if(Q.length>0)return`${A.description} (${Q.join(", ")})`;return A.description}argumentDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0)Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`);if(Q.length>0){let B=`(${Q.join(", ")})`;if(A.description)return`${A.description} ${B}`;return B}return A.description}formatHelp(A,Q){let B=Q.padWidth(A,Q),G=Q.helpWidth||80,Z=2,Y=2;function J(D,H){if(H){let F=`${D.padEnd(B+2)}${H}`;return Q.wrap(F,G-2,B+2)}return D}function I(D){return D.join(`
4682:`),Q(),A(null)},source:"cliArg"})),{exitOnCtrlC:!1})})}var hC;var Jp2=L(()=>{fA();Bp2();SG();Zp2();T0();u2();Y0();hC=o(WA(),1)});function Xp2(){if(process.env.CLAUDE_CODE_REMOTE==="true")return;Ip2(uw),Ip2(JJA)}function Ip2(A){let Q=g8(),B=U3A(A.model,Q);if(!a51(B))return;try{Jl.call({prompt:"Warmup",subagent_type:A.agentType,description:"Warmup"},{options:{agentDefinitions:{allAgents:[A],activeAgents:[A]},commands:[],debug:!1,mainLoopModel:g8(),tools:[],verbose:!1,maxThinkingTokens:1000,mcpClients:[],mcpResources:{},isNonInteractiveSession:!1,hasAppendSystemPrompt:!1},abortController:new AbortController,readFileState:new Jq({max:1000}),getAppState:async()=>Nn(),setAppState:async()=>{},setMessages:async()=>{},setInProgressToolUseIDs:async()=>{},setResponseLength:async()=>{},updateFileHistoryState:async()=>{},agentId:"warmup",messages:[]},async()=>({behavior:"deny",message:"Warmup",decisionReason:{type:"other",reason:"Warmup"}}),hE({content:"Warmup"}),()=>{}).catch(()=>{})}catch{}}var Wp2=L(()=>{_9A();eNA();YJA();u2();HB();l2();OB1();RG()});var Kp2=L(()=>{Y81();RXA();M71();Y0()});var Fp2={};EG(Fp2,{showSetupScreens:()=>Hp2,setup:()=>m71,main:()=>BF5,completeOnboarding:()=>Dp2});import{ReadStream as dH5}from"tty";import{openSync as cH5,existsSync as u71,readFileSync as Vp2,writeFileSync as pH5}from"fs";import{cwd as WI0}from"process";import{resolve as KI0}from"path";function lH5(){try{let A=uB("policySettings");if(A){let Q=su2(A);r("tengu_managed_settings_loaded",{keyCount:Q.length,keys:Q.join(",")})}}catch{}}function iH5(){try{let A=uZ(),Q=process.env.ENABLE_EXPERIMENTAL_MCP_CLI!==void 0?"external_env_var":"external_default",B=!1;r("tengu_mcp_cli_status",{enabled:A,source:Q,legacy_env_var_set:!1})}catch{}}function nH5(){let A=ga(),Q=process.execArgv.some((G)=>{if(A)return/--inspect(-brk)?/.test(G);else return/--inspect(-brk)?|--debug(-brk)?/.test(G)}),B=process.env.NODE_OPTIONS&&/--inspect(-brk)?|--debug(-brk)?/.test(process.env.NODE_OPTIONS);try{return!!global.require("inspector").url()||Q||B}catch{return Q||B}}function Dp2(){i0((A)=>({...A,hasCompletedOnboarding:!0,lastOnboardingVersion:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}))}async function Hp2(A,Q,B){if(z0(!1)||process.env.IS_DEMO)return!1;let G=d1(),Z=!1;if(!G.theme||!G.hasCompletedOnboarding)Z=!0,await EI(),await new Promise(async(Y)=>{let{unmount:J}=await $5(o8.default.createElement(u5,{onChangeAppState:uy},o8.default.createElement(Hd2,{onDone:async()=>{Dp2(),J(),await EI(),Y()}})),{exitOnCtrlC:!1})});if(A!=="bypassPermissions"&&process.env.CLAUBBIT!=="true"){let Y=QY(!1);if(await new Promise(async(W)=>{let{unmount:K}=await $5(o8.default.createElement(u5,null,o8.default.createElement(Pd2,{commands:B,onDone:async()=>{if(K(),!Y)await EI();W()}})),{exitOnCtrlC:!1})}),KHA()||!1)e51();wj1(),nr(),nE();let{errors:X}=px();if(X.length===0)await Zc2();if(await q_B())await new Promise(async(W)=>{let{unmount:K}=await $5(o8.default.createElement(u5,null,o8.default.createElement(Q51,{onDone:()=>{K(),W()},isStandaloneDialog:!0})),{exitOnCtrlC:!1})})}if(await $ZA())await new Promise(async(Y)=>{let{unmount:J}=await $5(o8.default.createElement(u5,null,o8.default.createElement(L51,{showIfAlreadyViewed:!1,location:Z?"onboarding":"policy_update_modal",onDone:async(I)=>{if(I==="escape"){r("tengu_grove_policy_exited",{}),f6(0);return}if(J(),I!=="skip_rendering")await EI();Y()}})),{exitOnCtrlC:!1})});if(process.env.ANTHROPIC_API_KEY){let Y=d$(process.env.ANTHROPIC_API_KEY);if(I71(Y)==="new")await new Promise(async(I)=>{let{unmount:X}=await $5(o8.default.createElement(u5,{onChangeAppState:uy},o8.default.createElement(S71,{customApiKeyTruncated:Y,onDone:async()=>{X(),await EI(),I()}})),{exitOnCtrlC:!1})})}if(dTA(),(A==="bypassPermissions"||Q)&&!d1().bypassPermissionsModeAccepted)await new Promise(async(Y)=>{let{unmount:J}=await $5(o8.default.createElement(u5,null,o8.default.createElement(Cc2,{onAccept:()=>{J(),Y()}})))});return Z}async function Ep2(A,Q){try{let B=await oe(A,Q);if(B.type==="connected")return"‚úì Connected";else if(B.type==="needs-auth")return"‚ö† Needs authentication";else return"‚úó Failed to connect"}catch(B){return"‚úó Connection error"}}function aH5(){i0((A)=>({...A,numStartups:(A.numStartups??0)+1})),oH5(),HK0()?.add(1)}async function oH5(){let[A,Q]=await Promise.all([Jw(),iCA()]);r("tengu_startup_telemetry",{is_git:A,worktree_count:Q,sandbox_enabled:NB.isSandboxingEnabled(),are_unsandboxed_commands_allowed:NB.areUnsandboxedCommandsAllowed(),is_auto_bash_allowed_if_sandbox_enabled:NB.isAutoAllowBashIfSandboxedEnabled(),auto_updater_disabled:Gy()})}function rH5(){$c2(),Nc2(),Oc2(),_c2(),Lc2()}function sH5(){if(D4()){nE();return}if(QY(!0))nE()}async function m71(A,Q,B,G,Z){let Y=process.version.match(/^v(\d+)\./)?.[1];if(!Y||parseInt(Y)<18)console.error(cA.bold.red("Error: Claude Code requires Node.js version 18 or higher.")),process.exit(1);if(Z)E$(Z);GJ0();let J=blQ();if(J.status==="restored")console.log(cA.yellow("Detected an interrupted iTerm2 setup. Your original settings have been restored. You may need to restart iTerm2 for the changes to take effect."));else if(J.status==="failed")console.error(cA.red(`Failed to restore iTerm2 settings. Please manually restore your original settings with: defaults import com.googlecode.iterm2 ${J.backupPath}.`));try{let K=await TcA();if(K.status==="restored")console.log(cA.yellow("Detected an interrupted Terminal.app setup. Your original settings have been restored. You may need to restart Terminal.app for the changes to take effect."));else if(K.status==="failed")console.error(cA.red(`Failed to restore Terminal.app settings. Please manually restore your original settings with: defaults import com.apple.Terminal ${K.backupPath}.`))}catch(K){s(K instanceof Error?K:Error(String(K)))}if(GN(A),cm2(),nm2(),rm2(),x02(),h02(),ad2(),Qg2(),b90(),h90(),PT2(),L9("setup_before_prefetch"),vm2(),yu2(),FC(r1()),E81(),El(),g_B(),ld2().catch((K)=>s(K)),AN2(),_V(),sH5(),Dc2(),Hg(),bu2(),ZbQ(),Ec2(),gCQ(D4()),z0(process.env.CLAUDE_CODE_USE_BEDROCK)&&!z0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH))uCQ();uRA().catch((K)=>s(K)),XZA([],W0()),XoQ(),L9("setup_after_prefetch");let{hasReleaseNotes:I}=H_A(d1().lastReleaseNotesSeen);if(I)await e$2();let X=g9();if(setTimeout(()=>X.abort(),3000),pSA(r1(),X.signal,[]),Q==="bypassPermissions"||B){if(process.platform!=="win32"&&typeof process.getuid==="function"&&process.getuid()===0&&!process.env.IS_SANDBOX)console.error("--dangerously-skip-permissions cannot be used with root/sudo privileges for security reasons"),process.exit(1)}let W=l7();if(W.lastCost!==void 0&&W.lastDuration!==void 0)r("tengu_exit",{last_session_cost:W.lastCost,last_session_api_duration:W.lastAPIDuration,last_session_tool_duration:W.lastToolDuration,last_session_duration:W.lastDuration,last_session_lines_added:W.lastLinesAdded,last_session_lines_removed:W.lastLinesRemoved,last_session_total_input_tokens:W.lastTotalInputTokens,last_session_total_output_tokens:W.lastTotalOutputTokens,last_session_total_cache_creation_input_tokens:W.lastTotalCacheCreationInputTokens,last_session_total_cache_read_input_tokens:W.lastTotalCacheReadInputTokens,last_session_id:W.lastSessionId})}function tH5(A){try{let Q=A.trim(),B=Q.startsWith("{")&&Q.endsWith("}"),G;if(B){if(!h8(Q))process.stderr.write(cA.red(`Error: Invalid JSON provided to --settings
4750:`));await new Promise(async(J)=>{let{unmount:I}=await $5(o8.default.createElement(u5,{onChangeAppState:uy},o8.default.createElement(j,{flexDirection:"column",gap:1},o8.default.createElement(fd,{items:[o8.default.createElement(y71,{key:"welcome"})]},(X)=>X),o8.default.createElement(al,{onDone:()=>{I(),J()},mode:"setup-token",startingMessage:"This will guide you through long-lived (1-year) auth token setup for your Claude account. Claude subscription required."}))))}),process.exit(0)});function Y({onDone:J}){return o31(),o8.default.createElement(W51,{onDone:J})}return A.command("doctor").description("Check the health of your Claude Code auto-updater").helpOption("-h, --help","Display help for command").action(async()=>{r("tengu_doctor_command",{}),await new Promise(async(J)=>{let{unmount:I}=await $5(o8.default.createElement(u5,null,o8.default.createElement(b61,{dynamicMcpConfig:void 0,isStrictMcpConfig:!1},o8.default.createElement(Y,{onDone:()=>{I(),J()}}))),{exitOnCtrlC:!1})}),process.exit(0)}),A.command("update").description("Check for updates and install if available").helpOption("-h, --help","Display help for command").action(nc2),A.command("install [target]").description("Install Claude Code native build. Use [target] to specify version (stable, latest, or specific version)").option("--force","Force installation even if already installed").helpOption("-h, --help","Display help for command").action(async(J,I)=>{await m71(WI0(),"default",!1,!1,void 0),await new Promise((X)=>{let W=[];if(J)W.push(J);if(I.force)W.push("--force");rc2.call((K)=>{X(),process.exit(K.includes("failed")?1:0)},{},W)})}),L9("run_before_parse"),await A.parseAsync(process.argv),L9("run_after_parse"),L9("main_after_run"),tK0(),A}async function JF5({hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,githubActionInputs:D,dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,systemPromptFlag:U,appendSystemPromptFlag:O}){try{let q=await maQ();r("tengu_init",{entrypoint:"claude",hasInitialPrompt:A,hasStdin:Q,verbose:B,debug:G,debugToStderr:Z,print:Y,outputFormat:J,inputFormat:I,numAllowedTools:X,numDisallowedTools:W,mcpClientCount:K,worktree:V,skipWebFetchPreflight:E,...D&&{githubActionInputs:D},dangerouslySkipPermissionsPassed:H,modeIsBypass:F,allowDangerouslySkipPermissionsPassed:C,...U&&{systemPromptFlag:U},...O&&{appendSystemPromptFlag:O},...q&&{rh:q}})}catch(q){s(q instanceof Error?q:Error(String(q)))}}function IF5(){(process.stderr.isTTY?process.stderr:process.stdout.isTTY?process.stdout:void 0)?.write(Ds)}var o8;var Cp2=L(()=>{Ta();ym2();eY0();ar();km2();F2();$8();ur();cTA();pm2();am2();sm2();gQ0();zB1();WM();cuA();fA();j81();dx();M31();xJ0();$H();dIA();t2();Xd2();Vd2();huA();LYA();yIA();k3();xQ();F2();YHA();wZA();Rx1();Ox1();h1();R8();Il();R8();Fd2();QMA();IZ0();G70();aJ0();Sd2();oG0();xd2();IC();l2();BG0();jB();yd2();kd2();hd2();NY0();rQ();BC();FT();HqA();CY0();aW();rh();VY0();pd2();fT();id2();g2();od2();PY0();I81();AX();g0();ed2();rQ();uI();rS();C90();R8();LZ();QeA();Yc2();J4();Hc2();T0();v50();cFA();kJA();By();tf();Fc2();Gw();zc2();$_();f1A();xj();CZA();TAA();tq();l70();wy();Sk();g0();u2();ii();Uc2();Kl();FZA();g0();YW();Y0();wc2();qc2();Mc2();Rc2();Tc2();b8A();lc2();ac2();h_A();cF();I6();sc2();I1A();s51();ec2();Jp2();qM();iY();bW();eZ();qw();SJ();r7A();da1();XQ();wy();pB();M51();E31();O70();tI();oJ0();xIA();Xh();Wp2();XI();lJ0();CV();RXA();h7A();Kp2();o8=o(WA(),1);L9("main_tsx_entry");L9("main_tsx_imports_loaded");if(nH5())process.exit(1)});Ta();Y0();CV();xJ0();NXA();t2();$_();JV();xQ();J4();T0();b8();yJ0();vJ0();kJ0();fJ0();bJ0();M71();CV();RXA();import{readFileSync as mE5,existsSync as dE5}from"fs";var mJ0,Nm2=!1;function qm2(){if(mJ0===void 0)mJ0=wm2();return mJ0}function mH(){let A=_n(),Q=qm2();if(!Nm2){if(Nm2=!0,A&&Q===null){let B=O71(),G=wXA();console.error(cA.yellow(`Warning: MCP endpoint file not found at ${B} (session: ${G}). Falling back to state file.`))}}return A&&Q!==null}class ZjA extends Error{constructor(A){super(A);this.name="ConnectionFailedError"}}async function YjA(A,Q,B,G){let Z=Date.now();try{let Y=await Q();if(!mH()){let J=typeof B==="function"?B(Y):B||{};await Cu("tengu_mcp_cli_command_executed",{command:A,success:!0,duration_ms:Date.now()-Z,...J})}return{success:!0,data:Y}}catch(Y){let J=Y instanceof Error?Y:Error(String(Y));if(console.error(cA.red("Error:"),J.message),!mH()){let I=typeof B==="object"?B:{};await Cu("tengu_mcp_cli_command_executed",{command:A,success:!1,error_type:J.constructor.name,duration_ms:Date.now()-Z,...I,...G})}return{success:!1,error:J}}}function Tn(){let A=t51();if(!dE5(A)){let Q=wXA();throw Error(`MCP state file not found at ${A} (session: ${Q}). Is Claude Code running?`)}try{return JSON.parse(mE5(A,"utf-8"))}catch(Q){throw Error(`Error reading MCP state file ${A}: ${Q instanceof Error?Q.message:String(Q)}`)}}function Lm2(A,Q){if(A.configs?.[Q])return A.configs[Q];let B=A.normalizedNames?.[Q];if(B&&A.configs?.[B])return A.configs[B];return}function cE5(A,Q){if(A.resources?.[Q])return A.resources[Q];let B=A.normalizedNames?.[Q];if(B&&A.resources?.[B])return A.resources[B];return[]}function dJ0(A){let Q=A.split("/");if(Q.length!==2||!Q[0]||!Q[1])throw Error(`Invalid tool identifier '${A}'. Expected format: <server>/<tool>`);return{server:Q[0],tool:Q[1]}}async function KQA(A,Q,B=1e4){let G=qm2();if(!G)throw Error("MCP CLI endpoint not enabled");try{let Z=await wQ({method:"POST",url:`${G.url}/mcp`,data:Q,headers:{Authorization:`Bearer ${G.key}`,"Content-Type":"application/json"},timeout:B,validateStatus:()=>!0});if(Z.status>=400){let Y=Z.data,J=Error(Y.error||`HTTP ${Z.status}: ${Z.statusText}`);if(Y.type)J.name=Y.type;throw J}return A.parse(Z.data)}catch(Z){if(wQ.isAxiosError(Z)){if(Z.code==="ECONNREFUSED")throw Error("Connection refused - is the MCP endpoint running?");if(Z.code==="ETIMEDOUT"||Z.message.includes("timeout"))throw Error("Request timeout");if(Z.message.startsWith("HTTP "))throw Z;throw Error(`Network error: ${Z.message}`)}throw Z}}var jn=new U71().name("mcp-cli").description("Interact with MCP servers and tools").version("1.0.0");jn.command("servers").description("List all connected MCP servers").option("--json","Output in JSON format").action(async(A)=>{let Q=await YjA("servers",async()=>{return mH()?await KQA(hJ0,{command:"servers"}):$71(Tn().clients)},(G)=>({server_count:G.length}));if(!Q.success)process.exit(1);let B=Q.data;if(A.json)console.log(JSON.stringify(B));else B.forEach((G)=>{let Z=G.type==="connected"?cA.green("connected"):G.type==="failed"?cA.red("failed"):cA.yellow(G.type),Y="";if(G.type==="connected"){let J=[];if(G.hasTools)J.push("tools");if(G.hasResources)J.push("resources");if(G.hasPrompts)J.push("prompts");if(J.length>0)Y=` (${J.join(", ")})`}console.log(`${G.name} - ${Z}${Y}`)})});jn.command("tools").description("List all available tools").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await YjA("tools",async()=>{return mH()?await KQA(gJ0,{command:"tools",params:B}):w71(Tn().tools,B)},(Y)=>({tool_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else if(A)Z.forEach((Y)=>console.log(Y.name));else Z.forEach((Y)=>console.log(`${Y.server}/${Y.name}`))});jn.command("info").description("Get detailed information about a tool").argument("<tool>","Tool identifier in format <server>/<tool>").option("--json","Output in JSON format").action(async(A,Q)=>{let B=await YjA("info",async()=>{let{server:Z,tool:Y}=dJ0(A),J={server:Z,toolName:Y};if(mH())return await KQA(Cm2,{command:"info",params:J});let I=Tn(),X=await N71(I.tools,J);if(!X){let W=GjA(I.clients,Z,I.normalizedNames),K=WQA(Z,W?.type);if(K)throw K;throw Error(`Tool '${Y}' not found on server '${Z}'`)}return X},()=>({tool_found:!0}),{tool_found:!1});if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else{if(console.log(cA.bold(`Tool: ${A}`)),console.log(cA.dim(`Server: ${G.server}`)),G.description)console.log(cA.dim(`Description: ${G.description}`));console.log(),console.log(cA.bold("Input Schema:")),console.log(JSON.stringify(G.inputSchema,null,2))}});async function pE5(A,Q,B,G){let Z=Tn(),Y=Lm2(Z,Q);if(!Y)throw Error(`Server '${Q}' not found`);if(G.debug)console.error(`Connecting to ${Q} (${Y.type})...`);let J=await re(Q,Y);if(J.client.type!=="connected")throw WQA(Q,J.client.type)??new ZjA(`Failed to connect to server '${Q}'`);let I=(()=>{let V=`mcp__${g5(Q)}__${g5(A)}`;return Z.tools.find((D)=>D.name===V)?.originalToolName||A})();if(G.debug)console.error(`Calling tool ${I}...`);let X=parseInt(G.timeout||"",10)||se(),W=await J.client.client.request({method:"tools/call",params:{name:I,arguments:B}},F_,{signal:AbortSignal.timeout(X)});return J.client.client.close(),W}jn.command("call").description("Invoke an MCP tool").argument("<tool>","Tool identifier in format <server>/<tool>").argument("<args>",'Tool arguments as JSON string or "-" for stdin').option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let{server:G,tool:Z}=dJ0(A);if(Q==="-"){let X=[];for await(let W of process.stdin)X.push(W);Q=Buffer.concat(X).toString("utf-8").trim()}let Y;try{Y=JSON.parse(Q)}catch(X){console.error(cA.red("Error: Invalid JSON arguments")),console.error(String(X)),process.exit(1)}let J=`mcp__${g5(G)}__${g5(Z)}`,I=Date.now();try{let X=parseInt(B.timeout||"",10)||se(),W={server:G,tool:Z,args:Y,timeoutMs:X},K=mH()?await KQA(F_,{command:"call",params:W},X):await pE5(Z,G,Y,B),V=B.json?JSON.stringify(K):typeof K==="string"?K:JSON.stringify(K,null,2);if(await new Promise((E)=>{process.stdout.write(V+`
4751:`,()=>E())}),!mH())await Cu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){console.error(cA.red("Error calling tool:"),String(X));let W=Date.now()-I,K=String(X).slice(0,2000);if(!mH())await Cu("tengu_tool_use_error",{toolName:J,isMcp:!0,error:K,durationMs:W}),await Cu("tengu_mcp_cli_command_executed",{command:"call",tool_name:J,success:!1,error_type:X instanceof ZjA?"connection_failed":"tool_execution_failed",duration_ms:Date.now()-I});process.exit(1)}});jn.command("grep").description("Search tool names and descriptions using regex patterns").argument("<pattern>","Regex pattern to search for").option("--json","Output in JSON format").option("-i, --ignore-case","Case insensitive search (default: true)",!0).action(async(A,Q)=>{let B=await YjA("grep",async()=>{try{new RegExp(A,Q.ignoreCase?"i":"")}catch(Y){throw Error(`Invalid regex pattern: ${Y instanceof Error?Y.message:String(Y)}`)}let Z={pattern:A,ignoreCase:Q.ignoreCase};return mH()?await KQA(zm2,{command:"grep",params:Z}):q71(Tn().tools,Z)},(Z)=>({match_count:Z.length}));if(!B.success)process.exit(1);let G=B.data;if(Q.json)console.log(JSON.stringify(G));else if(G.length===0)console.log(cA.yellow("No tools found matching pattern"));else G.forEach((Z)=>{if(console.log(cA.bold(`${Z.server}/${Z.name}`)),Z.description){let Y=Z.description.length>100?Z.description.slice(0,100)+"...":Z.description;console.log(cA.dim(`  ${Y}`))}console.log()})});jn.command("resources").description("List MCP resources").argument("[server]","Filter by server name").option("--json","Output in JSON format").action(async(A,Q)=>{let B={server:A},G=await YjA("resources",async()=>{if(mH())return await KQA(Um2,{command:"resources",params:B});else{let Y=Tn();return L71(Y.resources,B,Y.normalizedNames)}},(Y)=>({resource_count:Y.length,filtered:!!A}));if(!G.success)process.exit(1);let Z=G.data;if(Q.json)console.log(JSON.stringify(Z));else Z.forEach((Y)=>{console.log(`${Y.server}/${Y.name||Y.uri}`)})});async function lE5(A,Q,B){let G=Tn(),Z=Lm2(G,A);if(!Z)throw Error(`Server '${A}' not found`);if(B.debug)console.error(`Connecting to ${A} (${Z.type})...`);let Y=await re(A,Z);if(Y.client.type!=="connected")throw WQA(A,Y.client.type)??new ZjA(`Failed to connect to server '${A}'`);if(B.debug)console.error(`Reading resource: ${Q}`);let J=parseInt(B.timeout||"",10)||se(),I=await Y.client.client.readResource({uri:Q},{signal:AbortSignal.timeout(J)});return Y.client.client.close(),I}jn.command("read").description("Read an MCP resource").argument("<resource>","Resource identifier in format <server>/<resource> or <server> <uri>").argument("[uri]","Optional: Direct resource URI (file://, https://, etc.)").option("--json","Output in JSON format").option("--timeout <ms>","Timeout in milliseconds (default: MCP_TOOL_TIMEOUT env var or effectively infinite)").option("--debug","Show debug output").action(async(A,Q,B)=>{let G,Z,Y;if(Q)G=A,Y=Q;else{let X=dJ0(A);G=X.server,Z=X.tool}let J;if(Y){if(J=Y,B.debug)console.log(`Using direct URI: ${J}`)}else{let X=Tn(),K=cE5(X,G).find((V)=>V.name===Z||V.uri===Z);if(!K)console.error(cA.red(`Error: Resource '${Z}' not found on server '${G}'`)),process.exit(1);J=K.uri}let I=Date.now();try{let X=parseInt(B.timeout||"",10)||se(),W={server:G,uri:J,timeoutMs:X},K=mH()?await KQA(Hp,{command:"read",params:W},X):await lE5(G,J,B);if(B.json)console.log(JSON.stringify(K));else if(K.contents&&Array.isArray(K.contents))K.contents.forEach((V)=>{if(V&&typeof V==="object"){if("text"in V)console.log(V.text);else if("blob"in V){console.log(cA.yellow("[Binary blob content]"));let E="mimeType"in V?V.mimeType:void 0;console.log(cA.dim(`MIME type: ${E||"unknown"}`))}}});else console.log(JSON.stringify(K,null,2));if(!mH())await Cu("tengu_mcp_cli_command_executed",{command:"read",success:!0,duration_ms:Date.now()-I});process.exit(0)}catch(X){if(console.error(cA.red("Error reading resource:"),String(X)),!mH())await Cu("tengu_mcp_cli_command_executed",{command:"read",success:!1,error_type:X instanceof ZjA?"connection_failed":"read_failed",duration_ms:Date.now()-I});process.exit(1)}});async function Mm2(A){if(pTA(),!mH())Hg();try{if(await jn.parseAsync(A,{from:"user"}),!mH())await(await Hg())?.flush();return 0}catch(Q){if(console.error(cA.red("Error:"),Q),!mH())await(await Hg())?.flush();return 1}}Y0();cJ0();Y81();var Rm2=1048576;function iE5(A,...Q){console.error(`[Claude Chrome Native Host] ${A}`,...Q)}class nE5{buffer=Buffer.alloc(0);pendingResolve=null;closed=!1;constructor(){process.stdin.on("data",(A)=>{this.buffer=Buffer.concat([this.buffer,A]),this.tryProcessMessage()}),process.stdin.on("end",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null}),process.stdin.on("error",()=>{if(this.closed=!0,this.pendingResolve)this.pendingResolve(null),this.pendingResolve=null})}tryProcessMessage(){if(!this.pendingResolve)return;if(this.buffer.length<4)return;let A=this.buffer.readUInt32LE(0);if(A===0||A>Rm2){iE5(`Invalid message length: ${A}`),this.pendingResolve(null),this.pendingResolve=null;return}if(this.buffer.length<4+A)return;let Q=this.buffer.subarray(4,4+A);this.buffer=this.buffer.subarray(4+A);let B=Q.toString("utf-8");this.pendingResolve(B),this.pendingResolve=null}async read(){if(this.closed)return null;if(this.buffer.length>=4){let A=this.buffer.readUInt32LE(0);if(A>0&&A<=Rm2&&this.buffer.length>=4+A){let Q=this.buffer.subarray(4,4+A);return this.buffer=this.buffer.subarray(4+A),Q.toString("utf-8")}}return new Promise((A)=>{this.pendingResolve=A,this.tryProcessMessage()})}}lJ0();$_();qw();xQ();I81();process.env.COREPACK_ENABLE_AUTO_PIN="0";L9("cli_entry");L9("cli_imports_loaded");async function XF5(){let A=process.argv.slice(2);if(A.length===1&&(A[0]==="--version"||A[0]==="-v"||A[0]==="-V")){L9("cli_version_fast_path"),console.log(`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} (Claude Code)`);return}if(uZ()&&A[0]==="--mcp-cli"){let B=A.slice(1);process.exit(await Mm2(B))}if(A[0]==="--ripgrep"){L9("cli_ripgrep_path");let B=A.slice(1),{ripgrepMain:G}=await Promise.resolve().then(() => (Tm2(),_m2));process.exitCode=G(B);return}L9("cli_before_main_import");let{main:Q}=await Promise.resolve().then(() => (Cp2(),Fp2));L9("cli_after_main_import"),await Q(),L9("cli_after_main_complete")}XF5();[0m


[35m[3mthinking[0m[0m
**Analyzing sed output**

I‚Äôm checking the sed excerpt for Agent bundle 4385-4425, and it didn‚Äôt show KAA/hZ, just some unrelated config function. I wonder if the line numbers changed due to long line wrapping? Sed is based on newline count, and these minified bundles have long lines but still plenty of newlines. The absence of KAA at 4401 could be because the file lacks newlines. Sed output includes config functions, which might indicate misaligned line numbers. It‚Äôs tricky to see because we piped the output.
[35m[3mthinking[0m[0m
**Finding function location**

I discovered that our ripgrep found `function MV5`, which utilizes `KAA()`, so KAA is somewhere in the code, but the line number is unclear. The encyclopedia states that "cli.js:4401 defines function KAA," but that might be incorrect. I need to verify the accurate line numbers by searching for the actual location of function KAA in the Agent bundle. I'll use the command `rg -n "function KAA" bundles/ClaudeAgentSDKCode/cli.js` to locate it precisely. Let's get to it!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"\\bfunction KAA\\b\" bundles/ClaudeAgentSDKCode/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 183ms:[0m
[2m4401:`),hR(),A==="localSettings")G80(sTA("localSettings"),cQ())}catch(G){let Z=Error(`Failed to read raw settings from ${B}: ${G}`);return r(Z),{error:Z}}return{error:null}}function zK5(A,Q){let B=[...A,...Q];return Array.from(new Set(B))}function pg2(A,Q){if(Array.isArray(A)&&Array.isArray(Q))return zK5(A,Q);return}function ng2(A){let Q=Pb.strip().parse(A),B=["permissions","sandbox","hooks"],G=[],Z={permissions:new Set(["allow","deny","ask","defaultMode","disableBypassPermissionsMode","additionalDirectories"]),sandbox:new Set(["network","ignoreViolations","excludedCommands","autoAllowBashIfSandboxed","enableWeakerNestedSandbox"]),hooks:new Set(["PreToolUse","PostToolUse","Notification","UserPromptSubmit","SessionStart","SessionEnd","Stop","SubagentStop","PreCompact"])};for(let Y of Object.keys(Q))if(B.includes(Y)&&Q[Y]&&typeof Q[Y]==="object"){let J=Q[Y],I=Z[Y];if(I){for(let X of Object.keys(J))if(I.has(X))G.push(`${Y}.${X}`)}}else G.push(Y);return G.sort()}function hR(){ZjA=null}function UK5(){if(sY0)return{settings:{},errors:[]};sY0=!0;try{let A={},Q=[],B=new Set,G=new Set;for(let Y of us()){if(Y==="policySettings"){let K=uB("policySettings");if(K)A=dPA(A,K,pg2);continue}let J=xF(Y);if(!J)continue;let I=GjA(J);if(G.has(I))continue;G.add(I);let{settings:X,errors:W}=tY0(J);for(let K of W){let V=`${K.file}:${K.path}:${K.message}`;if(!B.has(V))B.add(V),Q.push(K)}if(X)A=dPA(A,X,pg2)}let Z=["user","project","local"];return Q.push(...Z.flatMap((Y)=>AX(Y).errors)),{settings:A,errors:Q}}finally{sY0=!1}}function dV(){let{settings:A}=Gy();return A||{}}function Gy(){if(ZjA!==null)return ZjA;return ZjA=UK5(),ZjA}var ZjA=null,VM,sY0=!1,CQ;var gB=q(()=>{p2();FV0();N9();YQ();vI();g1();Q0();Z8();iI();me();u0();Z80();sQ();l10();cw();ms();MYA();VM=Z0(function(){switch(pQ()){case"macos":return"/Library/Application Support/ClaudeCode";case"windows":if(FK5("C:\\Program Files\\ClaudeCode"))return"C:\\Program Files\\ClaudeCode";return"C:\\ProgramData\\ClaudeCode";default:return"/etc/claude-code"}});CQ=dV});import{join as $K5}from"path";function qTA(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function K51(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function hy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function gy2(A,Q){let B=`mcp__${i5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function uy2(A,Q){let B={...A};return delete B[Q],B}function ND2(A){return`mcp__${i5(A)}__`}function kM(A){return A.name?.startsWith("mcp__")||A.isMcp===!0}function HV(A){let Q=A.split("__"),[B,G,...Z]=Q;if(B!=="mcp"||!G)return null;let Y=Z.length>0?Z.join("__"):void 0;return{serverName:G,toolName:Y}}function V51(A,Q){let B=`mcp__${i5(Q)}__`;return A.replace(B,"")}function E51(A){let Q=A.replace(/\s*\(MCP\)\s*$/,"");Q=Q.trim();let B=Q.indexOf(" - ");if(B!==-1)return Q.substring(B+3).trim();return Q}function kN(A){let Q=jA();switch(A){case"user":{let B=PD(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"project":{let B=$K5(s1(),".mcp.json"),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"local":return`${PD()} [project: ${s1()}]`;case"dynamic":return"Dynamically configured";case"enterprise":{let B=RtA(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}default:return A}}function ZQA(A){switch(A){case"local":return"Local config (private to you in this project)";case"project":return"Project config (shared via .mcp.json)";case"user":return"User config (available in all your projects)";case"dynamic":return"Dynamic config (from command line)";case"enterprise":return"Enterprise config (managed by your organization)";default:return A}}function JjA(A){if(!A)return"local";if(!Ep1.options.includes(A))throw Error(`Invalid scope: ${A}. Must be one of: ${Ep1.options.join(", ")}`);return A}function ag2(A){if(!A)return"stdio";if(A!=="stdio"&&A!=="sse"&&A!=="http")throw Error(`Invalid transport type: ${A}. Must be one of: stdio, sse, http`);return A}function eY0(A){let Q={};for(let B of A){let G=B.indexOf(":");if(G===-1)throw Error(`Invalid header format: "${B}". Expected format: "Header-Name: value"`);let Z=B.substring(0,G).trim(),Y=B.substring(G+1).trim();if(!Z)throw Error(`Invalid header: "${B}". Header name cannot be empty.`);Q[Z]=Y}return Q}function _tA(A){let Q=CQ(),B=i5(A);if(Q?.disabledMcpjsonServers?.some((G)=>i5(G)===B))return"rejected";if(Q?.enabledMcpjsonServers?.some((G)=>i5(G)===B)||Q?.enableAllProjectMcpServers)return"approved";if(I4()&&BV("projectSettings"))return"approved";return"pending"}function LQ0(A){if(!kM({name:A}))return null;let Q=HV(A);if(!Q)return null;return Wl(Q.serverName)?.scope??null}var _J=q(()=>{gB();u7A();R8();pB();YQ();cw();iI();u0()});function KAA(){return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5}function hZ(){if(C0(void 0))return!1;return C0(process.env.ENABLE_EXPERIMENTAL_MCP_CLI)}function _XA(){return hZ()&&!Iz(process.env.ENABLE_MCP_CLI_ENDPOINT)}function k1A(A){let Q=A.match(/^mcp-cli\s+(call|read)\s+([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)(?:\s+([\s\S]+))?$/);if(!Q)return null;let[,B,G,Z,Y=""]=Q;if(!B||!G||!Z)return null;return{command:B,server:G,tool:Z,toolName:Z,args:Y,fullCommand:A}}function $Y0(A){let Q=HV(A);if(!Q||!Q.toolName)return null;return`${Q.serverName}/${Q.toolName}`}var wK5=1e8;var pE=q(()=>{sQ();_J()});var IjA=w((NK5)=>{class AJ0 extends Error{constructor(A,Q,B){super(B);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=Q,this.exitCode=A,this.nestedError=void 0}}class og2 extends AJ0{constructor(A){super(1,"commander.invalidArgument",A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}NK5.CommanderError=AJ0;NK5.InvalidArgumentError=og2});var V71=w((RK5)=>{var{InvalidArgumentError:MK5}=IjA();class rg2{constructor(A,Q){switch(this.description=Q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,A[0]){case"<":this.required=!0,this._name=A.slice(1,-1);break;case"[":this.required=!1,this._name=A.slice(1,-1);break;default:this.required=!0,this._name=A;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(A,Q){if(Q===this.defaultValue||!Array.isArray(Q))return[A];return Q.concat(A)}default(A,Q){return this.defaultValue=A,this.defaultValueDescription=Q,this}argParser(A){return this.parseArg=A,this}choices(A){return this.argChoices=A.slice(),this.parseArg=(Q,B)=>{if(!this.argChoices.includes(Q))throw new MK5(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(Q,B);return Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function OK5(A){let Q=A.name()+(A.variadic===!0?"...":"");return A.required?"<"+Q+">":"["+Q+"]"}RK5.Argument=rg2;RK5.humanReadableArgName=OK5});var QJ0=w((PK5)=>{var{humanReadableArgName:jK5}=V71();class sg2{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(A){let Q=A.commands.filter((G)=>!G._hidden),B=A._getHelpCommand();if(B&&!B._hidden)Q.push(B);if(this.sortSubcommands)Q.sort((G,Z)=>{return G.name().localeCompare(Z.name())});return Q}compareOptions(A,Q){let B=(G)=>{return G.short?G.short.replace(/^-/,""):G.long.replace(/^--/,"")};return B(A).localeCompare(B(Q))}visibleOptions(A){let Q=A.options.filter((G)=>!G.hidden),B=A._getHelpOption();if(B&&!B.hidden){let G=B.short&&A._findOption(B.short),Z=B.long&&A._findOption(B.long);if(!G&&!Z)Q.push(B);else if(B.long&&!Z)Q.push(A.createOption(B.long,B.description));else if(B.short&&!G)Q.push(A.createOption(B.short,B.description))}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleGlobalOptions(A){if(!this.showGlobalOptions)return[];let Q=[];for(let B=A.parent;B;B=B.parent){let G=B.options.filter((Z)=>!Z.hidden);Q.push(...G)}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleArguments(A){if(A._argsDescription)A.registeredArguments.forEach((Q)=>{Q.description=Q.description||A._argsDescription[Q.name()]||""});if(A.registeredArguments.find((Q)=>Q.description))return A.registeredArguments;return[]}subcommandTerm(A){let Q=A.registeredArguments.map((B)=>jK5(B)).join(" ");return A._name+(A._aliases[0]?"|"+A._aliases[0]:"")+(A.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(A){return A.flags}argumentTerm(A){return A.name()}longestSubcommandTermLength(A,Q){return Q.visibleCommands(A).reduce((B,G)=>{return Math.max(B,Q.subcommandTerm(G).length)},0)}longestOptionTermLength(A,Q){return Q.visibleOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestGlobalOptionTermLength(A,Q){return Q.visibleGlobalOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestArgumentTermLength(A,Q){return Q.visibleArguments(A).reduce((B,G)=>{return Math.max(B,Q.argumentTerm(G).length)},0)}commandUsage(A){let Q=A._name;if(A._aliases[0])Q=Q+"|"+A._aliases[0];let B="";for(let G=A.parent;G;G=G.parent)B=G.name()+" "+B;return B+Q+" "+A.usage()}commandDescription(A){return A.description()}subcommandDescription(A){return A.summary()||A.description()}optionDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0){if(A.required||A.optional||A.isBoolean()&&typeof A.defaultValue==="boolean")Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`)}if(A.presetArg!==void 0&&A.optional)Q.push(`preset: ${JSON.stringify(A.presetArg)}`);if(A.envVar!==void 0)Q.push(`env: ${A.envVar}`);if(Q.length>0)return`${A.description} (${Q.join(", ")})`;return A.description}argumentDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0)Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`);if(Q.length>0){let B=`(${Q.join(", ")})`;if(A.description)return`${A.description} ${B}`;return B}return A.description}formatHelp(A,Q){let B=Q.padWidth(A,Q),G=Q.helpWidth||80,Z=2,Y=2;function J(D,H){if(H){let F=`${D.padEnd(B+2)}${H}`;return Q.wrap(F,G-2,B+2)}return D}function I(D){return D.join(`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"\\bfunction se\\b|\\bfunction uZ\\b|\\bfunction _n\\b\" bundles/ClaudeCodeCode/cli.js | head -30"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 60ms:[0m
[2m4391:`),TR(),A==="localSettings")q80(iTA("localSettings"),pQ())}catch(G){let Z=Error(`Failed to read raw settings from ${B}: ${G}`);return s(Z),{error:Z}}return{error:null}}function hV5(A,Q){let B=[...A,...Q];return Array.from(new Set(B))}function au2(A,Q){if(Array.isArray(A)&&Array.isArray(Q))return hV5(A,Q);return}function su2(A){let Q=Jb.strip().parse(A),B=["permissions","sandbox","hooks"],G=[],Z={permissions:new Set(["allow","deny","ask","defaultMode","disableBypassPermissionsMode","additionalDirectories"]),sandbox:new Set(["network","ignoreViolations","excludedCommands","autoAllowBashIfSandboxed","enableWeakerNestedSandbox"]),hooks:new Set(["PreToolUse","PostToolUse","Notification","UserPromptSubmit","SessionStart","SessionEnd","Stop","SubagentStop","PreCompact"])};for(let Y of Object.keys(Q))if(B.includes(Y)&&Q[Y]&&typeof Q[Y]==="object"){let J=Q[Y],I=Z[Y];if(I){for(let X of Object.keys(J))if(I.has(X))G.push(`${Y}.${X}`)}}else G.push(Y);return G.sort()}function TR(){eTA=null}function gV5(){if(NJ0)return{settings:{},errors:[]};NJ0=!0;try{let A={},Q=[],B=new Set,G=new Set;for(let Y of Os()){if(Y==="policySettings"){let K=uB("policySettings");if(K)A=gPA(A,K,au2);continue}let J=qF(Y);if(!J)continue;let I=tTA(J);if(G.has(I))continue;G.add(I);let{settings:X,errors:W}=qJ0(J);for(let K of W){let V=`${K.file}:${K.path}:${K.message}`;if(!B.has(V))B.add(V),Q.push(K)}if(X)A=gPA(A,X,au2)}let Z=["user","project","local"];return Q.push(...Z.flatMap((Y)=>JX(Y).errors)),{settings:A,errors:Q}}finally{NJ0=!1}}function R7(){let{settings:A}=px();return A||{}}function px(){if(eTA!==null)return eTA;return eTA=gV5(),eTA}var eTA=null,sL,NJ0=!1,NQ;var jB=L(()=>{o2();bV0();M9();XQ();uI();h1();Y0();k3();tI();Te();g0();L80();rQ();D00();qw();Rs();LYA();sL=Z0(function(){switch(dQ()){case"macos":return"/Library/Application Support/ClaudeCode";case"windows":if(fV5("C:\\Program Files\\ClaudeCode"))return"C:\\Program Files\\ClaudeCode";return"C:\\ProgramData\\ClaudeCode";default:return"/etc/claude-code"}});NQ=R7});import{join as uV5}from"path";function CTA(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function F51(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>G.name?.startsWith(B))}function kv2(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function fv2(A,Q){let B=`mcp__${g5(Q)}__`;return A.filter((G)=>!G.name?.startsWith(B))}function bv2(A,Q){let B={...A};return delete B[Q],B}function EH2(A){return`mcp__${g5(A)}__`}function wM(A){return A.name?.startsWith("mcp__")||A.isMcp===!0}function KV(A){let Q=A.split("__"),[B,G,...Z]=Q;if(B!=="mcp"||!G)return null;let Y=Z.length>0?Z.join("__"):void 0;return{serverName:G,toolName:Y}}function C51(A,Q){let B=`mcp__${g5(Q)}__`;return A.replace(B,"")}function z51(A){let Q=A.replace(/\s*\(MCP\)\s*$/,"");Q=Q.trim();let B=Q.indexOf(" - ");if(B!==-1)return Q.substring(B+3).trim();return Q}function HN(A){let Q=jA();switch(A){case"user":{let B=OD(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"project":{let B=uV5(r1(),".mcp.json"),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}case"local":return`${OD()} [project: ${r1()}]`;case"dynamic":return"Dynamically configured";case"enterprise":{let B=MtA(),G=Q.existsSync(B);return`${B}${G?"":" (file does not exist)"}`}default:return A}}function l0A(A){switch(A){case"local":return"Local config (private to you in this project)";case"project":return"Project config (shared via .mcp.json)";case"user":return"User config (available in all your projects)";case"dynamic":return"Dynamic config (from command line)";case"enterprise":return"Enterprise config (managed by your organization)";default:return A}}function QjA(A){if(!A)return"local";if(!Pp1.options.includes(A))throw Error(`Invalid scope: ${A}. Must be one of: ${Pp1.options.join(", ")}`);return A}function tu2(A){if(!A)return"stdio";if(A!=="stdio"&&A!=="sse"&&A!=="http")throw Error(`Invalid transport type: ${A}. Must be one of: stdio, sse, http`);return A}function LJ0(A){let Q={};for(let B of A){let G=B.indexOf(":");if(G===-1)throw Error(`Invalid header format: "${B}". Expected format: "Header-Name: value"`);let Z=B.substring(0,G).trim(),Y=B.substring(G+1).trim();if(!Z)throw Error(`Invalid header: "${B}". Header name cannot be empty.`);Q[Z]=Y}return Q}function OtA(A){let Q=NQ(),B=g5(A);if(Q?.disabledMcpjsonServers?.some((G)=>g5(G)===B))return"rejected";if(Q?.enabledMcpjsonServers?.some((G)=>g5(G)===B)||Q?.enableAllProjectMcpServers)return"approved";if(D4()&&sK("projectSettings"))return"approved";return"pending"}function lQ0(A){if(!wM({name:A}))return null;let Q=KV(A);if(!Q)return null;return np(Q.serverName)?.scope??null}var SJ=L(()=>{jB();u7A();$8();pB();XQ();qw();tI();g0()});function se(){return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||mV5}function uZ(){if(z0(void 0))return!1;return z0(process.env.ENABLE_EXPERIMENTAL_MCP_CLI)}function _n(){return uZ()&&!rC(process.env.ENABLE_MCP_CLI_ENDPOINT)}function L1A(A){let Q=A.match(/^mcp-cli\s+(call|read)\s+([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)(?:\s+([\s\S]+))?$/);if(!Q)return null;let[,B,G,Z,Y=""]=Q;if(!B||!G||!Z)return null;return{command:B,server:G,tool:Z,toolName:Z,args:Y,fullCommand:A}}function cY0(A){let Q=KV(A);if(!Q||!Q.toolName)return null;return`${Q.serverName}/${Q.toolName}`}var mV5=1e8;var CV=L(()=>{rQ();SJ()});var BjA=w((dV5)=>{class MJ0 extends Error{constructor(A,Q,B){super(B);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=Q,this.exitCode=A,this.nestedError=void 0}}class eu2 extends MJ0{constructor(A){super(1,"commander.invalidArgument",A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}dV5.CommanderError=MJ0;dV5.InvalidArgumentError=eu2});var z71=w((nV5)=>{var{InvalidArgumentError:lV5}=BjA();class Am2{constructor(A,Q){switch(this.description=Q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,A[0]){case"<":this.required=!0,this._name=A.slice(1,-1);break;case"[":this.required=!1,this._name=A.slice(1,-1);break;default:this.required=!0,this._name=A;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(A,Q){if(Q===this.defaultValue||!Array.isArray(Q))return[A];return Q.concat(A)}default(A,Q){return this.defaultValue=A,this.defaultValueDescription=Q,this}argParser(A){return this.parseArg=A,this}choices(A){return this.argChoices=A.slice(),this.parseArg=(Q,B)=>{if(!this.argChoices.includes(Q))throw new lV5(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(Q,B);return Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function iV5(A){let Q=A.name()+(A.variadic===!0?"...":"");return A.required?"<"+Q+">":"["+Q+"]"}nV5.Argument=Am2;nV5.humanReadableArgName=iV5});var OJ0=w((sV5)=>{var{humanReadableArgName:rV5}=z71();class Qm2{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(A){let Q=A.commands.filter((G)=>!G._hidden),B=A._getHelpCommand();if(B&&!B._hidden)Q.push(B);if(this.sortSubcommands)Q.sort((G,Z)=>{return G.name().localeCompare(Z.name())});return Q}compareOptions(A,Q){let B=(G)=>{return G.short?G.short.replace(/^-/,""):G.long.replace(/^--/,"")};return B(A).localeCompare(B(Q))}visibleOptions(A){let Q=A.options.filter((G)=>!G.hidden),B=A._getHelpOption();if(B&&!B.hidden){let G=B.short&&A._findOption(B.short),Z=B.long&&A._findOption(B.long);if(!G&&!Z)Q.push(B);else if(B.long&&!Z)Q.push(A.createOption(B.long,B.description));else if(B.short&&!G)Q.push(A.createOption(B.short,B.description))}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleGlobalOptions(A){if(!this.showGlobalOptions)return[];let Q=[];for(let B=A.parent;B;B=B.parent){let G=B.options.filter((Z)=>!Z.hidden);Q.push(...G)}if(this.sortOptions)Q.sort(this.compareOptions);return Q}visibleArguments(A){if(A._argsDescription)A.registeredArguments.forEach((Q)=>{Q.description=Q.description||A._argsDescription[Q.name()]||""});if(A.registeredArguments.find((Q)=>Q.description))return A.registeredArguments;return[]}subcommandTerm(A){let Q=A.registeredArguments.map((B)=>rV5(B)).join(" ");return A._name+(A._aliases[0]?"|"+A._aliases[0]:"")+(A.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(A){return A.flags}argumentTerm(A){return A.name()}longestSubcommandTermLength(A,Q){return Q.visibleCommands(A).reduce((B,G)=>{return Math.max(B,Q.subcommandTerm(G).length)},0)}longestOptionTermLength(A,Q){return Q.visibleOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestGlobalOptionTermLength(A,Q){return Q.visibleGlobalOptions(A).reduce((B,G)=>{return Math.max(B,Q.optionTerm(G).length)},0)}longestArgumentTermLength(A,Q){return Q.visibleArguments(A).reduce((B,G)=>{return Math.max(B,Q.argumentTerm(G).length)},0)}commandUsage(A){let Q=A._name;if(A._aliases[0])Q=Q+"|"+A._aliases[0];let B="";for(let G=A.parent;G;G=G.parent)B=G.name()+" "+B;return B+Q+" "+A.usage()}commandDescription(A){return A.description()}subcommandDescription(A){return A.summary()||A.description()}optionDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0){if(A.required||A.optional||A.isBoolean()&&typeof A.defaultValue==="boolean")Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`)}if(A.presetArg!==void 0&&A.optional)Q.push(`preset: ${JSON.stringify(A.presetArg)}`);if(A.envVar!==void 0)Q.push(`env: ${A.envVar}`);if(Q.length>0)return`${A.description} (${Q.join(", ")})`;return A.description}argumentDescription(A){let Q=[];if(A.argChoices)Q.push(`choices: ${A.argChoices.map((B)=>JSON.stringify(B)).join(", ")}`);if(A.defaultValue!==void 0)Q.push(`default: ${A.defaultValueDescription||JSON.stringify(A.defaultValue)}`);if(Q.length>0){let B=`(${Q.join(", ")})`;if(A.description)return`${A.description} ${B}`;return B}return A.description}formatHelp(A,Q){let B=Q.padWidth(A,Q),G=Q.helpWidth||80,Z=2,Y=2;function J(D,H){if(H){let F=`${D.padEnd(B+2)}${H}`;return Q.wrap(F,G-2,B+2)}return D}function I(D){return D.join(`[0m





[35m[3mthinking[0m[0m
**Planning a reporting script**

I‚Äôm thinking we can create a report that summarizes high-level details and specific checks while noting any issues. We‚Äôll automate the detection of mismatched line numbers, but it seems like most line numbers should exist. I‚Äôll implement a Node script (or use bash) to extract headings based on patterns in the file. For each heading, I plan to grab the section content until the next similar heading and find specific patterns to check against corresponding bundle files. I'll manage memory efficiently while processing potentially large files!
[35m[3mthinking[0m[0m
**Estimating memory and accuracy checks**

I‚Äôm realizing the file size is about 10MB, which seems manageable since splitting it into lines gives approximately 5000 lines. I‚Äôll extract canonical TypeScript (TS) names by looking for the "Canonical TS:" lines. For each name, I‚Äôll check for its presence in the source files; if it's not found, it will be marked as missing. 

Regarding accuracy, if any citation line numbers go beyond the file or are not found, that indicates inaccuracy. However, I think the report should focus on how well the documentation aligns with the original CLI.js, even if some TS entries are missing.
[35m[3mthinking[0m[0m
**Establishing an accuracy scale**

I‚Äôm considering using an accuracy scale that reflects both the documentation and TypeScript (TS) alignment. The format specifies "Accuracy: ‚úÖ ACCURATE / ‚ö†Ô∏è PARTIAL / ‚ùå INACCURATE." I can apply this to compare the encyclopedia's description relative to CLI.js alongside the TS aspect. I think it makes sense to mark it as PARTIAL if the encyclopedia is correct, but TS info is missing; we could have a separate section for that. 

Following the prompt, I'll ensure that the report verifies the accuracy of the description while also addressing TS coverage, incorporating both elements into the accuracy assessment.
[35m[3mthinking[0m[0m
**Deciding accuracy metrics**

I'm deciding on the accuracy metrics: I‚Äôll use ‚úÖ for when both the encyclopedia and TypeScript (TS) match, ‚ö†Ô∏è if the encyclopedia matches but the TS is partial or missing, and ‚ùå for when the encyclopedia mismatches the CLI.js. 

Additionally, I want to compile information on undocumented functionality and missing TS coverage using grep commands. I‚Äôll compare discovered exports and functions against the encyclopedia to see if they appear, possibly creating a table of any not mentioned. However, I‚Äôll need to focus on first-party content to keep things relevant, which might be tricky!
[35m[3mthinking[0m[0m
**Analyzing ESM bundle functionality**

In an ESM bundle, it may not use exports as expected; for instance, it includes `FG(Lu2,{ripgrepMain:()=>vV5});`. I still want to run the grep commands to find definitions for classes and functions, producing lists of items like `class ZjA`. 

I‚Äôm especially interested in identifying first-party functionality that's likely not documented in the encyclopedia. However, many function names might be minified, making them hard to interpret. I plan to check if entries like dD5 and XF5 are documented and compile a table of those that are missing, as we interpret this scope as focusing on major subsystems. 

For CLI commands, I'll look for occurrences of `.command("`. I also need to run a version discrepancy check by grepping for version strings across bundles and checking the TypeScript version, following the instructions to search for "version" in the source files‚Äîso yeah, let‚Äôs run that!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'version[\"\\s:]+[0-9]+\\.[0-9]+\\.[0-9]+' bundles/*/cli.js | head -50"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 278ms:[0m
[2mbundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"3.936.0
bundles/ClaudeAgentSDKCode/cli.js:version:"0.0.1
bundles/ClaudeAgentSDKCode/cli.js:version:"16.13.1
bundles/ClaudeAgentSDKCode/cli.js:version:"0.33.5
bundles/ClaudeAgentSDKCode/cli.js:version:"2.3.1
bundles/ClaudeAgentSDKCode/cli.js:version:"6.7.1
bundles/ClaudeAgentSDKCode/cli.js:version:"9.15.1
bundles/ClaudeAgentSDKCode/cli.js:version:"2.1.0
bundles/ClaudeAgentSDKCode/cli.js:version:"1.14.0
bundles/ClaudeAgentSDKCode/cli.js:version:"1.0.0
bundles/ClaudeCodeCode/cli.js:version:"3.936.0
bundles/ClaudeCodeCode/cli.js:version:"3.936.0
bundles/ClaudeCodeCode/cli.js:version:"3.936.0
bundles/ClaudeCodeCode/cli.js:version:"3.936.0
bundles/ClaudeCodeCode/cli.js:version:"3.936.0[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'cat package.json | head -40'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 30ms:[0m
[2m{
  "name": "claude-code-ts-rewrite",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "scripts": {
    "cli": "bun src/cli.ts",
    "start": "bun src/cli.ts",
    "build": "tsc -p tsconfig.build.json",
    "test": "bun test",
    "typecheck": "tsc -p tsconfig.json --noEmit",
    "check:boundaries": "node scripts/check-import-boundaries.mjs"
  },
  "bin": {
    "claude-ts": "dist/cli.js"
  },
  "devDependencies": {
    "@types/node": "^22.10.2",
    "typescript": "^5.8.3"
  },[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"VERSION:\\\\\"[0-9]+\\\\.[0-9]+\\\\.[0-9]+\\\\\"|VERSION\\\"\\}\\.[A-Z]+\\}|VERSION\\\"\\.VERSION|VERSION:\\\\\"\" bundles/*/cli.js | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[31m exited 1 in 25ms:[0m
[2mzsh:1: unmatched "[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"version\" src/ --include='*.ts' | rg -v 'node_modules' | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 40ms:[0m
[2mrg: unrecognized flag --include

similar flags that are available: --include-zero[0m

[35m[3mthinking[0m[0m
**Investigating command errors**

I encountered some command errors with `rg --include`, which doesn't seem supported. It makes me wonder if the version of ripgrep in my environment is old. But then again, I think this `rg` might not be ripgrep, given the unrecognized flag. It could be an alias or another tool entirely, possibly BSD's `rg`? Or is it related to `rust grep`? I'll need to check the tool version with `rg --version` to clarify.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg --version'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 68ms:[0m
[2mripgrep 14.1.1

features:+pcre2
simd(compile):+NEON
simd(runtime):+NEON

PCRE2 10.43 is available (JIT is available)[0m

[35m[3mthinking[0m[0m
**Fixing search commands**

It looks like I was confusing `--include` with `--glob`. That option is actually from grep, not ripgrep. The user‚Äôs earlier command used `grep -r "version" src/ --include="*.ts"`, so I need to stick with grep for that. Also, my second command failed because of unmatched quotes. I‚Äôll redo the version search with grep for actual bundle versions, making it simpler by looking for `VERSION:"2.0.67"` and similar patterns. Let's move forward with that!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION" -S src/cli/prompt.ts'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 73ms:[0m
[2m76:  const version = process.env.CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION ?? "2.0.69";[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"BUILD_TIME:\\\\\"|PACKAGE_URL:\\\\\"@anthropic-ai/claude-code\\\\\"\" bundles/*/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[31m exited 1 in 29ms:[0m
[2mzsh:1: unmatched "[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"VERSION:\\\\\"2\\\\.0\\\\.[0-9]+\\\\\"\" bundles/ClaudeAgentSDKCode/cli.js bundles/ClaudeCodeCode/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 31ms:[0m
[2mzsh:1: no matches found: VERSION:\2\.0\.[0-9]+\[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'grep -r "version" src/ --include="*.ts" | head -30'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 66ms:[0m
[2msrc/core/settings/manager.ts:  function markInternalWrite(source: SettingsSource, version: string): void {
src/core/settings/manager.ts:    if (existing === version) {
src/core/settings/manager.ts:    internalWrites.set(k, version);
src/core/settings/manager.ts:      if (event.version) internalWrites.set(k, event.version);
src/core/settings/manager.ts:    if (!event.version) return false;
src/core/settings/manager.ts:    if (expected !== event.version) return false;
src/core/settings/manager.ts:      markInternalWrite(source, res.version);
src/core/settings/manager.ts:      markInternalWrite(source, res.version);
src/core/settings/storage.ts:      storageVersion: rec.version
src/core/settings/storage.ts:): Promise<{ ok: true; version: string } | { ok: false; error: SettingsError }> {
src/core/settings/storage.ts:    return { ok: true, version: res.version };
src/core/settings/bundle.ts:    return { ok: false, errors: [{ kind: "validation_error", source: "userSettings", message: "Unsupported bundle schema version" }] };
src/core/types/diagnostics.ts:  engine: { name: string; version: string };
src/core/types/diagnostics.ts:  engine: { name: string; version: string };
src/core/types/host.ts:  version: string;
src/core/types/host.ts:  version: string;
src/core/types/host.ts:  version?: string;
src/core/runtime/replay.ts:  version?: string;
src/core/agents/tasks.ts:): Promise<{ version: string }> {
src/core/observability/doctor.ts:  engine: { name: string; version: string };[0m

[35m[3mthinking[0m[0m
**Troubleshooting zsh errors**

I'm figuring out why I'm getting zsh errors related to glob expansion. It looks like zsh interprets patterns inside quotes, showing "no matches found" for my query. I think it has to do with the nomatch option in zsh. I realize that unquoted backslashes are treated as glob patterns, so quoting properly with single quotes will be key. I'll run a simpler command to search and test it out. Let‚Äôs give this a go!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/ClaudeAgentSDKCode/cli.js bundles/ClaudeCodeCode/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 98ms:[0m
[2mbundles/ClaudeCodeCode/cli.js:190:${Z}`;break;case"retry":if(JCQ(Z))Q[G]=Z;break;case"id":if(ICQ(Z))Q[G]=Z;break;case"event":if(Z.length>0)Q[G]=Z;break}}processEvent(A){if(A.retry&&JCQ(A.retry))this.state.reconnectionTime=parseInt(A.retry,10);if(A.id&&ICQ(A.id))this.state.lastEventId=A.id;if(A.data!==void 0)this.push({type:A.event||"message",options:{data:A.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}WCQ.exports={EventSourceStream:XCQ}});var UCQ=w((oe5,zCQ)=>{var{pipeline:jU6}=qA("node:stream"),{fetching:PU6}=fDA(),{makeRequest:SU6}=_6A(),{webidl:Lk}=FE(),{EventSourceStream:xU6}=KCQ(),{parseMIMEType:yU6}=Uz(),{createFastMessageEvent:vU6}=y6A(),{isNetworkError:VCQ}=vDA(),{delay:kU6}=xR1(),{kEnumerableProperty:Ur}=h3(),{environmentSettingsObject:ECQ}=v$(),DCQ=!1,HCQ=3000,oDA=0,FCQ=1,rDA=2,fU6="anonymous",bU6="use-credentials";class h6A extends EventTarget{#A={open:null,error:null,message:null};#Q=null;#B=!1;#Z=oDA;#G=null;#I=null;#Y;#K;constructor(A,Q={}){super();Lk.util.markAsUncloneable(this);let B="EventSource constructor";if(Lk.argumentLengthCheck(arguments,1,B),!DCQ)DCQ=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"});A=Lk.converters.USVString(A,B,"url"),Q=Lk.converters.EventSourceInitDict(Q,B,"eventSourceInitDict"),this.#Y=Q.dispatcher,this.#K={lastEventId:"",reconnectionTime:HCQ};let G=ECQ,Z;try{Z=new URL(A,G.settingsObject.baseUrl),this.#K.origin=Z.origin}catch(I){throw new DOMException(I,"SyntaxError")}this.#Q=Z.href;let Y=fU6;if(Q.withCredentials)Y=bU6,this.#B=!0;let J={redirect:"follow",keepalive:!0,mode:"cors",credentials:Y==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};J.client=ECQ.settingsObject,J.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],J.cache="no-store",J.initiator="other",J.urlList=[new URL(this.#Q)],this.#G=SU6(J),this.#V()}get readyState(){return this.#Z}get url(){return this.#Q}get withCredentials(){return this.#B}#V(){if(this.#Z===rDA)return;this.#Z=oDA;let A={request:this.#G,dispatcher:this.#Y},Q=(B)=>{if(VCQ(B))this.dispatchEvent(new Event("error")),this.close();this.#X()};A.processResponseEndOfBody=Q,A.processResponse=(B)=>{if(VCQ(B))if(B.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#X();return}let G=B.headersList.get("content-type",!0),Z=G!==null?yU6(G):"failure",Y=Z!=="failure"&&Z.essence==="text/event-stream";if(B.status!==200||Y===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#Z=FCQ,this.dispatchEvent(new Event("open")),this.#K.origin=B.urlList[B.urlList.length-1].origin;let J=new xU6({eventSourceSettings:this.#K,push:(I)=>{this.dispatchEvent(vU6(I.type,I.options))}});jU6(B.body.stream,J,(I)=>{if(I?.aborted===!1)this.close(),this.dispatchEvent(new Event("error"))})},this.#I=PU6(A)}async#X(){if(this.#Z===rDA)return;if(this.#Z=oDA,this.dispatchEvent(new Event("error")),await kU6(this.#K.reconnectionTime),this.#Z!==oDA)return;if(this.#K.lastEventId.length)this.#G.headersList.set("last-event-id",this.#K.lastEventId,!0);this.#V()}close(){if(Lk.brandCheck(this,h6A),this.#Z===rDA)return;this.#Z=rDA,this.#I.abort(),this.#G=null}get onopen(){return this.#A.open}set onopen(A){if(this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onmessage(){return this.#A.message}set onmessage(A){if(this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get onerror(){return this.#A.error}set onerror(A){if(this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}}var CCQ={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:oDA,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:FCQ,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:rDA,writable:!1}};Object.defineProperties(h6A,CCQ);Object.defineProperties(h6A.prototype,CCQ);Object.defineProperties(h6A.prototype,{close:Ur,onerror:Ur,onmessage:Ur,onopen:Ur,readyState:Ur,url:Ur,withCredentials:Ur});Lk.converters.EventSourceInitDict=Lk.dictionaryConverter([{key:"withCredentials",converter:Lk.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:Lk.converters.any}]);zCQ.exports={EventSource:h6A,defaultReconnectionTime:HCQ}});function sDA(A){return(Q,B,G)=>{if(typeof B==="function")G=B,B=null;if(!Q||typeof Q!=="string"&&typeof Q!=="object"&&!(Q instanceof URL))throw new ygA("invalid url");if(B!=null&&typeof B!=="object")throw new ygA("invalid opts");if(B&&B.path!=null){if(typeof B.path!=="string")throw new ygA("invalid opts.path");let J=B.path;if(!B.path.startsWith("/"))J=`/${J}`;Q=new URL(vgA.parseOrigin(Q).origin+J)}else{if(!B)B=typeof Q==="object"?Q:{};Q=vgA.parseURL(Q)}let{agent:Z,dispatcher:Y=dU6()}=B;if(Z)throw new ygA("unsupported opts.agent. Did you mean opts.client?");return A.call(Y,{...B,origin:Q.origin,path:Q.search?`${Q.pathname}${Q.search}`:Q.pathname,method:B.method||(B.body?"PUT":"GET")},G)}}var re5,hU6,se5,te5,gU6,ee5,uU6,AA7,mU6,vgA,ygA,g6A,QA7,BA7,GA7,ZA7,YA7,JA7,dU6,cU6,IA7,XA7,WA7,yR1,vR1,iU6,nU6,kgA,KA7,aU6,oU6,rU6,sU6,tU6,eU6,VA7,EA7,pU6,lU6,A$6,DA7,HA7,FA7,CA7,zA7,UA7,$A7,wA7,NA7,Q$6,B$6,G$6,Z$6,Y$6,J$6,qA7;var kR1=L(()=>{re5=UDA(),hU6=sEA(),se5=F6A(),te5=QVQ(),gU6=C6A(),ee5=RO1(),uU6=NVQ(),AA7=TVQ(),mU6=r5(),vgA=h3(),{InvalidArgumentError:ygA}=mU6,g6A=NEQ(),QA7=eEA(),BA7=sO1(),GA7=JDQ(),ZA7=eO1(),YA7=uO1(),JA7=chA(),{getGlobalDispatcher:dU6,setGlobalDispatcher:cU6}=thA(),IA7=ehA(),XA7=yhA(),WA7=vhA();Object.assign(hU6.prototype,g6A);yR1=gU6,vR1=uU6,iU6={redirect:DDQ(),retry:FDQ(),dump:UDQ(),dns:LDQ()},nU6={parseHeaders:vgA.parseHeaders,headerNameToString:vgA.headerNameToString};kgA=cU6;KA7=fDA().fetch;aU6=Er().Headers,oU6=vDA().Response,rU6=_6A().Request,sU6=YDA().FormData,tU6=globalThis.File??qA("node:buffer").File,eU6=gHQ().FileReader;({setGlobalOrigin:VA7,getGlobalOrigin:EA7}=bM1()),{CacheStorage:pU6}=aHQ(),{kConstruct:lU6}=$gA();A$6=new pU6(lU6);({deleteCookie:DA7,getCookies:HA7,getSetCookies:FA7,setCookie:CA7}=JFQ()),{parseMIMEType:zA7,serializeAMimeType:UA7}=Uz(),{CloseEvent:$A7,ErrorEvent:wA7,MessageEvent:NA7}=y6A();Q$6=ZCQ().WebSocket,B$6=sDA(g6A.request),G$6=sDA(g6A.stream),Z$6=sDA(g6A.pipeline),Y$6=sDA(g6A.connect),J$6=sDA(g6A.upgrade);({EventSource:qA7}=UCQ())});import{Agent as I$6}from"https";function fR1(){let A=FR();if(!A)return;return{cert:A.cert,key:A.key,passphrase:A.passphrase}}function bR1(){let A=FR();if(!A)return{};let Q={cert:A.cert,key:A.key,passphrase:A.passphrase},B=new yR1({connect:Q,pipelining:1});return f("mTLS: Created undici agent with custom certificates"),{dispatcher:B}}function NCQ(){if(!FR())return;if(process.env.NODE_EXTRA_CA_CERTS)f("NODE_EXTRA_CA_CERTS detected - Node.js will automatically append to built-in CAs")}var FR,wCQ;var u6A=L(()=>{o2();kR1();Y0();XQ();FR=Z0(()=>{let A={};if(process.env.CLAUDE_CODE_CLIENT_CERT)try{A.cert=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_CERT,{encoding:"utf8"}),f("mTLS: Loaded client certificate from CLAUDE_CODE_CLIENT_CERT")}catch(Q){f(`mTLS: Failed to load client certificate: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY)try{A.key=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_KEY,{encoding:"utf8"}),f("mTLS: Loaded client key from CLAUDE_CODE_CLIENT_KEY")}catch(Q){f(`mTLS: Failed to load client key: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE)A.passphrase=process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE,f("mTLS: Using client key passphrase");if(Object.keys(A).length===0)return;return A}),wCQ=Z0(()=>{let A=FR();if(!A)return;let Q={...A,keepAlive:!0};return f("mTLS: Creating HTTPS agent with custom certificates"),new I$6(Q)})});function X$6(A){switch(A.family){case 0:case 4:case 6:return A.family;case"IPv6":return 6;case"IPv4":case void 0:return 4;default:throw Error(`Unsupported address family: ${A.family}`)}}function Id(){return process.env.https_proxy||process.env.HTTPS_PROXY||process.env.http_proxy||process.env.HTTP_PROXY}function W$6(){return process.env.no_proxy||process.env.NO_PROXY}function fgA(A){let Q=W$6();if(!Q)return!1;if(Q==="*")return!0;try{let B=new URL(A),G=B.hostname.toLowerCase(),Z=B.port||(B.protocol==="https:"?"443":"80"),Y=`${G}:${Z}`;return Q.split(/[,\s]+/).filter(Boolean).some((I)=>{if(I=I.toLowerCase().trim(),I.includes(":"))return Y===I;if(I.startsWith(".")){let X=I;return G===I.substring(1)||G.endsWith(X)}return G===I})}catch{return!1}}function MCQ(A){let Q=FR(),B={...Q&&{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}};if(z0(process.env.CLAUDE_CODE_PROXY_RESOLVES_HOSTS))B.lookup=(G,Z,Y)=>{Y(null,G,X$6(Z))};return new hR1.HttpsProxyAgent(A,B)}function tDA(A){let Q=Id();if(!Q)return;if(fgA(A))return;return MCQ(Q)}function m6A(){let A=Id(),Q=bR1();if(A)return{dispatcher:OCQ(A)};return Q}function RCQ(){let A=Id(),Q=wCQ();if(A){wQ.defaults.proxy=!1;let B=MCQ(A);wQ.interceptors.request.use((G)=>{if(G.url&&fgA(G.url))if(Q)G.httpsAgent=Q,G.httpAgent=Q;else delete G.httpsAgent,delete G.httpAgent;else G.httpsAgent=B,G.httpAgent=B;return G}),kgA(OCQ(A))}else if(Q){wQ.defaults.httpsAgent=Q;let B=bR1();if(B.dispatcher)kgA(B.dispatcher)}}function gR1(){let A=Id();if(!A)return{};let Q=new hR1.HttpsProxyAgent(A),B=new LCQ.NodeHttpHandler({httpAgent:Q,httpsAgent:Q});return{requestHandler:B,credentials:qCQ.defaultProvider({clientConfig:{requestHandler:B}})}}var qCQ,LCQ,hR1,OCQ;var Xd=L(()=>{b8();o2();kR1();u6A();rQ();qCQ=o(xo(),1),LCQ=o(Wq(),1),hR1=o(oEA(),1);OCQ=Z0((A)=>{let Q=FR(),B={httpProxy:A,httpsProxy:A,noProxy:process.env.NO_PROXY||process.env.no_proxy};if(Q)B.connect={cert:Q.cert,key:Q.key,passphrase:Q.passphrase};return new vR1(B)})});function xP(A,Q){return A.find((B)=>B.includes(Q))??null}async function jCQ(){let Q={region:Na(),...gR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await $r();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new d6A.BedrockClient(Q)}async function PCQ(){let Q={region:Na(),...gR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await $r();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new _CQ.BedrockRuntimeClient(Q)}function SCQ(A){return A.startsWith("anthropic.")}var d6A,_CQ,TCQ,bgA;var hgA=L(()=>{o2();rQ();h1();Xd();F2();d6A=o(w7Q(),1),_CQ=o(tbA(),1),TCQ=Z0(async function(){let A=await jCQ(),Q=[],B;try{do{let G=new d6A.ListInferenceProfilesCommand({...B&&{nextToken:B},typeEquals:"SYSTEM_DEFINED"}),Z=await A.send(G);if(Z.inferenceProfileSummaries)Q.push(...Z.inferenceProfileSummaries);B=Z.nextToken}while(B);return Q.filter((G)=>G.inferenceProfileId?.includes("anthropic")).map((G)=>G.inferenceProfileId).filter(Boolean)}catch(G){throw s(G),G}});bgA=Z0(async function(A){try{let Q=await jCQ(),B=new d6A.GetInferenceProfileCommand({inferenceProfileIdentifier:A}),G=await Q.send(B);if(!G.models||G.models.length===0)return null;let Z=G.models[0];if(!Z?.modelArn)return null;let Y=Z.modelArn.lastIndexOf("/");return Y>=0?Z.modelArn.substring(Y+1):Z.modelArn}catch(Q){return s(Q),null}})});function xCQ(A){if(X6()==="foundry")return;let Q=A.toLowerCase();if(Q.includes("claude-sonnet-4-5")&&Q.includes("[1m]"))return"Sonnet 4.5 (with 1M context)";if(Q.includes("claude-sonnet-4-5"))return"Sonnet 4.5";if(Q.includes("claude-sonnet-4")&&Q.includes("[1m]"))return"Sonnet 4 (with 1M context)";if(Q.includes("claude-sonnet-4"))return"Sonnet 4";if(Q.includes("claude-opus-4-5"))return"Opus 4.5";if(Q.includes("claude-opus-4-1"))return"Opus 4.1";if(Q.includes("claude-opus-4"))return"Opus 4";if(Q.includes("claude-3-7-sonnet"))return"Claude 3.7 Sonnet";if(Q.includes("claude-3-5-sonnet"))return"Claude 3.5 Sonnet";if(Q.includes("claude-haiku-4-5"))return"Haiku 4.5";if(Q.includes("claude-3-5-haiku"))return"Claude 3.5 Haiku";return}var eDA,AHA,QHA,BHA,wr,uR1,GHA,ZHA,Nr;var c6A=L(()=>{hX();eDA={firstParty:"claude-3-7-sonnet-20250219",bedrock:"us.anthropic.claude-3-7-sonnet-20250219-v1:0",vertex:"claude-3-7-sonnet@20250219",foundry:"claude-3-7-sonnet"},AHA={firstParty:"claude-3-5-sonnet-20241022",bedrock:"anthropic.claude-3-5-sonnet-20241022-v2:0",vertex:"claude-3-5-sonnet-v2@20241022",foundry:"claude-3-5-sonnet"},QHA={firstParty:"claude-3-5-haiku-20241022",bedrock:"us.anthropic.claude-3-5-haiku-20241022-v1:0",vertex:"claude-3-5-haiku@20241022",foundry:"claude-3-5-haiku"},BHA={firstParty:"claude-haiku-4-5-20251001",bedrock:"us.anthropic.claude-haiku-4-5-20251001-v1:0",vertex:"claude-haiku-4-5@20251001",foundry:"claude-haiku-4-5"},wr={firstParty:"claude-sonnet-4-20250514",bedrock:"us.anthropic.claude-sonnet-4-20250514-v1:0",vertex:"claude-sonnet-4@20250514",foundry:"claude-sonnet-4"},uR1={firstParty:"claude-sonnet-4-5-20250929",bedrock:"us.anthropic.claude-sonnet-4-5-20250929-v1:0",vertex:"claude-sonnet-4-5@20250929",foundry:"claude-sonnet-4-5"},GHA={firstParty:"claude-opus-4-20250514",bedrock:"us.anthropic.claude-opus-4-20250514-v1:0",vertex:"claude-opus-4@20250514",foundry:"claude-opus-4"},ZHA={firstParty:"claude-opus-4-1-20250805",bedrock:"us.anthropic.claude-opus-4-1-20250805-v1:0",vertex:"claude-opus-4-1@20250805",foundry:"claude-opus-4-1"},Nr={firstParty:"claude-opus-4-5-20251101",bedrock:"us.anthropic.claude-opus-4-5-20251101-v1:0",vertex:"claude-opus-4-5@20251101",foundry:"claude-opus-4-5"}});function yP(A){let Q=[],B=!1;async function G(){if(B)return;if(Q.length===0)return;B=!0;while(Q.length>0){let{args:Z,resolve:Y,reject:J,context:I}=Q.shift();try{let X=await A.apply(I,Z);Y(X)}catch(X){J(X)}}if(B=!1,Q.length>0)G()}return function(...Z){return new Promise((Y,J)=>{Q.push({args:Z,resolve:Y,reject:J,context:this}),G()})}}function ggA(A){return{haiku35:QHA[A],haiku45:BHA[A],sonnet35:AHA[A],sonnet37:eDA[A],sonnet40:wr[A],sonnet45:uR1[A],opus40:GHA[A],opus41:ZHA[A],opus45:Nr[A]}}async function K$6(){let A;try{A=await TCQ()}catch(K){return s(K),ggA("bedrock")}if(!A?.length)return ggA("bedrock");let Q=xP(A,"claude-3-5-haiku-20241022"),B=xP(A,"claude-haiku-4-5-20251001"),G=xP(A,"claude-3-5-sonnet-20241022"),Z=xP(A,"claude-3-7-sonnet-20250219"),Y=xP(A,"claude-sonnet-4-20250514"),J=xP(A,"claude-sonnet-4-5-20250929"),I=xP(A,"claude-opus-4-20250514"),X=xP(A,"claude-opus-4-1-20250805"),W=xP(A,"claude-opus-4-5-20251101");return{haiku35:Q||QHA.bedrock,haiku45:B||BHA.bedrock,sonnet35:G||AHA.bedrock,sonnet37:Z||eDA.bedrock,sonnet40:Y||wr.bedrock,sonnet45:J||uR1.bedrock,opus40:I||GHA.bedrock,opus41:X||ZHA.bedrock,opus45:W||Nr.bedrock}}function E$6(){if($PA()!==null)return;if(X6()!=="bedrock"){hG1(ggA(X6()));return}V$6()}function gY(){let A=$PA();if(A===null)return E$6(),ggA(X6());return A}var V$6;var mR1=L(()=>{g0();h1();hgA();c6A();hX();V$6=yP(async()=>{if($PA()!==null)return;try{let A=await K$6();hG1(A)}catch(A){s(A)}})});function yCQ(){if(process.platform==="darwin"){let A=Ym();dG(`security delete-generic-password -a $USER -s "${A}"`)}}function d$(A){return A.slice(-20)}var YHA=L(()=>{cKA();mSA()});class dD{static instance=null;status={isAuthenticating:!1,output:[]};listeners=new Set;static getInstance(){if(!dD.instance)dD.instance=new dD;return dD.instance}getStatus(){return{...this.status,output:[...this.status.output]}}startAuthentication(){this.status={isAuthenticating:!0,output:[]},this.notifyListeners()}addOutput(A){this.status.output.push(A),this.notifyListeners()}setError(A){this.status.error=A,this.notifyListeners()}endAuthentication(A){if(A)this.status={isAuthenticating:!1,output:[]};else this.status.isAuthenticating=!1;this.notifyListeners()}subscribe(A){return this.listeners.add(A),()=>{this.listeners.delete(A)}}notifyListeners(){this.listeners.forEach((A)=>A(this.getStatus()))}static reset(){if(dD.instance)dD.instance.listeners.clear(),dD.instance=null}}import{exec as D$6}from"child_process";function Mz(){let A=z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY),B=(NQ()||{}).apiKeyHelper,G=process.env.ANTHROPIC_AUTH_TOKEN||B||process.env.CLAUDE_CODE_API_KEY_FILE_DESCRIPTOR,{source:Z}=cD({skipRetrievingKeyFromApiKeyHelper:!0});return!(A||G||(Z==="ANTHROPIC_API_KEY"||Z==="apiKeyHelper")&&!z0(process.env.CLAUDE_CODE_REMOTE))}function Wd(){if(process.env.ANTHROPIC_AUTH_TOKEN)return{source:"ANTHROPIC_AUTH_TOKEN",hasToken:!0};if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{source:"CLAUDE_CODE_OAUTH_TOKEN",hasToken:!0};if(rK1())return{source:"CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR",hasToken:!0};if(JHA())return{source:"apiKeyHelper",hasToken:!0};let B=t6();if(kv(B?.scopes)&&B?.accessToken)return{source:"claude.ai",hasToken:!0};return{source:"none",hasToken:!1}}function w$(){let{key:A}=cD();return A}function kCQ(){let{key:A,source:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});return A!==null&&Q!=="none"}function cD(A={}){if(kK0()&&process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};if(z0(!1)){let G=sK1();if(G)return{key:G,source:"ANTHROPIC_API_KEY"};if(!process.env.ANTHROPIC_API_KEY&&!process.env.CLAUDE_CODE_OAUTH_TOKEN&&!process.env.CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR)throw Error("ANTHROPIC_API_KEY or CLAUDE_CODE_OAUTH_TOKEN env var is required");if(process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};return{key:null,source:"none"}}if(process.env.ANTHROPIC_API_KEY&&d1().customApiKeyResponses?.approved?.includes(d$(process.env.ANTHROPIC_API_KEY)))return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};let Q=sK1();if(Q)return{key:Q,source:"ANTHROPIC_API_KEY"};if(A.skipRetrievingKeyFromApiKeyHelper){if(JHA())return{key:null,source:"apiKeyHelper"}}else{let G=IHA(D4());if(G)return{key:G,source:"apiKeyHelper"}}let B=XHA();if(B)return B;return{key:null,source:"none"}}function JHA(){return(NQ()||{}).apiKeyHelper}function fCQ(){let A=JHA();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.apiKeyHelper===A||B?.apiKeyHelper===A}function dR1(){return(NQ()||{}).awsAuthRefresh}function bCQ(){let A=dR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsAuthRefresh===A||B?.awsAuthRefresh===A}function cR1(){return(NQ()||{}).awsCredentialExport}function hCQ(){let A=cR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsCredentialExport===A||B?.awsCredentialExport===A}function F$6(){let A=process.env.CLAUDE_CODE_API_KEY_HELPER_TTL_MS;if(A){let Q=parseInt(A,10);if(!Number.isNaN(Q)&&Q>=0)return Q;f(`Found CLAUDE_CODE_API_KEY_HELPER_TTL_MS env var, but it was not a valid number. Got ${A}`,{level:"error"})}return H$6}function ugA(){IHA.cache.clear()}function gCQ(A){if(JHA()){if(fCQ()){if(!QY(!0))return}}IHA(A)}async function z$6(){let A=dR1();if(!A)return!1;if(bCQ()){if(!QY(!0)&&!D4()){let B=Error(`Security: awsAuthRefresh executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);return eN("awsAuthRefresh invoked before trust check",B),r("tengu_awsAuthRefresh_missing_trust",{}),!1}}try{return f("Fetching AWS caller identity for AWS auth refresh command"),await w$1(),f("Fetched AWS caller identity, skipping AWS auth refresh command"),!1}catch{return U$6(A)}}function U$6(A){f("Running AWS auth refresh command");let Q=dD.getInstance();return Q.startAuthentication(),new Promise((B)=>{let G=D$6(A);G.stdout.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.addOutput(Y),f(Y,{level:"debug"})}),G.stderr.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.setError(Y),f(Y,{level:"error"})}),G.on("close",(Z)=>{if(Z===0)f("AWS auth refresh completed successfully"),Q.endAuthentication(!0),B(!0);else{let Y=cA.red("Error running awsAuthRefresh (in settings or ~/.claude.json):");console.error(Y),Q.endAuthentication(!1),B(!1)}})})}async function $$6(){let A=cR1();if(!A)return null;if(hCQ()){if(!QY(!0)&&!D4()){let B=Error(`Security: awsCredentialExport executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);return eN("awsCredentialExport invoked before trust check",B),r("tengu_awsCredentialExport_missing_trust",{}),null}}try{return f("Fetching AWS caller identity for credential export command"),await w$1(),f("Fetched AWS caller identity, skipping AWS credential export command"),null}catch{try{f("Running AWS credential export command");let Q=dG(A)?.toString().trim();if(!Q)throw Error("awsCredentialExport did not return a valid value");let B=JSON.parse(Q);if(!o4Q(B))throw Error("awsCredentialExport did not return valid AWS STS output structure");return f("AWS credentials retrieved from awsCredentialExport"),{accessKeyId:B.Credentials.AccessKeyId,secretAccessKey:B.Credentials.SecretAccessKey,sessionToken:B.Credentials.SessionToken}}catch(Q){let B=cA.red("Error getting AWS credentials from awsCredentialExport (in settings or ~/.claude.json):");if(Q instanceof Error&&"stderr"in Q)console.error(B,String(Q.stderr));else if(Q instanceof Error)console.error(B,Q.message);else console.error(B,Q);return null}}}function mgA(){$r.cache.clear()}function uCQ(){let A=dR1(),Q=cR1();if(!A&&!Q)return;if(bCQ()||hCQ()){if(!QY(!0)&&!D4())return}$r(),gY()}function w$6(A){return/^[a-zA-Z0-9-_]+$/.test(A)}function ru0(A){if(!w$6(A))throw Error("Invalid API key format. API key must contain only alphanumeric characters, dashes, and underscores.");dCQ();let Q=!1;if(process.platform==="darwin")try{let G=Ym(),Z=dKA(),Y=Buffer.from(A,"utf-8").toString("hex"),J=`add-generic-password -U -a "${Z}" -s "${G}" -X "${Y}"
bundles/ClaudeCodeCode/cli.js:191:`;dG("security -i",{input:J,stdio:["pipe","pipe","pipe"]}),r("tengu_api_key_saved_to_keychain",{}),Q=!0}catch(G){s(G),r("tengu_api_key_keychain_error",{error:G.message}),r("tengu_api_key_saved_to_config",{})}else r("tengu_api_key_saved_to_config",{});let B=d$(A);i0((G)=>{let Z=G.customApiKeyResponses?.approved??[];return{...G,primaryApiKey:Q?G.primaryApiKey:A,customApiKeyResponses:{...G.customApiKeyResponses,approved:Z.includes(B)?Z:[...Z,B],rejected:G.customApiKeyResponses?.rejected??[]}}}),XHA.cache.clear?.()}function mCQ(){dCQ(),i0((A)=>({...A,primaryApiKey:void 0})),XHA.cache.clear?.()}function dCQ(){try{yCQ()}catch(A){s(A)}}function WHA(A){if(!kv(A.scopes))return r("tengu_oauth_tokens_not_claude_ai",{}),{success:!0};if(!A.refreshToken||!A.expiresAt)return r("tengu_oauth_tokens_inference_only",{}),{success:!0};let Q=$$(),B=Q.name;try{let G=Q.read()||{};G.claudeAiOauth={accessToken:A.accessToken,refreshToken:A.refreshToken,expiresAt:A.expiresAt,scopes:A.scopes,subscriptionType:A.subscriptionType,rateLimitTier:A.rateLimitTier};let Z=Q.update(G);if(Z.success)r("tengu_oauth_tokens_saved",{storageBackend:B});else r("tengu_oauth_tokens_save_failed",{storageBackend:B});return t6.cache?.clear?.(),oyA(),Z}catch(G){return s(G),r("tengu_oauth_tokens_save_exception",{storageBackend:B,error:G.message}),{success:!1,warning:"Failed to save OAuth tokens"}}}async function Mk(A=0){let B=t6();if(!B?.refreshToken||!Jm(B.expiresAt))return!1;if(!kv(B.scopes))return!1;if(t6.cache?.clear?.(),B=t6(),!B?.refreshToken||!Jm(B.expiresAt))return!1;let G=mQ();jA().mkdirSync(G);let Y;try{Y=await vCQ.lock(G)}catch(J){if(J.code==="ELOCKED"){if(A<5)return r("tengu_oauth_token_refresh_lock_retry",{retryCount:A+1}),await new Promise((I)=>setTimeout(I,1000+Math.random()*1000)),Mk(A+1);return r("tengu_oauth_token_refresh_lock_retry_limit_reached",{maxRetries:5}),!1}return s(J),r("tengu_oauth_token_refresh_lock_error",{error:J.message}),!1}try{if(t6.cache?.clear?.(),B=t6(),!B?.refreshToken||!Jm(B.expiresAt))return r("tengu_oauth_token_refresh_race_resolved",{}),!1;let J=await iu0(B.refreshToken);return WHA(J),t6.cache?.clear?.(),!0}catch(J){return s(J instanceof Error?J:Error(String(J))),!1}finally{await Y()}}function RB(){if(!Mz())return!1;return kv(t6()?.scopes)}function cCQ(){if(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!1;if(RB())return!1;return!0}function q8(){return Mz()?d1().oauthAccount:void 0}function lq(){let A=d6();return A==="max"||A==="enterprise"||A==="team"||A==="pro"||A===null}function d6(){if(Qm0())return Am0();if(!Mz())return null;let A=t6();if(!A)return null;return A.subscriptionType??null}function Kd(){if(!Mz())return null;let A=t6();if(!A)return null;return A.rateLimitTier??null}function pR1(){switch(d6()){case"enterprise":return"Claude Enterprise";case"team":return"Claude Team";case"max":return"Claude Max";case"pro":return"Claude Pro";default:return"Claude API"}}function vP(){return!!(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))}function pCQ(){return(NQ()||{}).otelHeadersHelper}function KHA(){let A=pCQ();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.otelHeadersHelper===A||B?.otelHeadersHelper===A}function lCQ(){let A=pCQ();if(!A)return{};if(KHA()){if(!QY(!0))return{}}try{let Q=dG(A)?.toString().trim();if(!Q)throw Error("otelHeadersHelper did not return a valid value");let B=JSON.parse(Q);if(typeof B!=="object"||B===null||Array.isArray(B))throw Error("otelHeadersHelper must return a JSON object with string key-value pairs");for(let[G,Z]of Object.entries(B))if(typeof Z!=="string")throw Error(`otelHeadersHelper returned non-string value for key "${G}": ${typeof Z}`);return B}catch(Q){throw s(Error(`Error getting OpenTelemetry headers from otelHeadersHelper (in settings): ${Q instanceof Error?Q.message:String(Q)}`)),Q}}function N$6(A){return A==="max"||A==="pro"}function dgA(){let A=d6();return RB()&&A!==null&&N$6(A)}function cgA(){if(X6()!=="firstParty")return;let{source:Q}=Wd(),B={};if(RB())B.subscription=pR1();else B.tokenSource=Q;let{key:G,source:Z}=cD();if(G)B.apiKeySource=Z;if(Q==="claude.ai"||Z==="/login managed key"){let J=q8()?.organizationName;if(J)B.organization=J}let Y=q8()?.emailAddress;if((Q==="claude.ai"||Z==="/login managed key")&&Y)B.email=Y;return B}var vCQ,H$6=300000,IHA,C$6=3600000,$r,XHA,t6;var F2=L(()=>{xQ();jB();I6();o2();byA();h1();Y0();t2();uyA();pu0();Xq();pyA();fv();XQ();rQ();cKA();g0();N$1();T0();hX();mR1();YHA();vCQ=o(Gm(),1);IHA=dK1((A)=>{let Q=JHA();if(!Q)return null;if(fCQ()){if(!QY(!0)&&!A){let G=Error(`Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);eN("apiKeyHelper invoked before trust check",G),r("tengu_apiKeyHelper_missing_trust8",{})}}try{let B=dG(Q)?.toString().trim();if(!B)throw Error("apiKeyHelper did not return a valid value");return B}catch(B){let G=cA.red("Error getting API key from apiKeyHelper (in settings or ~/.claude.json):");if(B instanceof Error&&"stderr"in B)console.error(G,String(B.stderr));else if(B instanceof Error)console.error(G,B.message);else console.error(G,B);return" "}},F$6());$r=dK1(async()=>{let A=await z$6(),Q=await $$6();if(A||Q)await r4Q();return Q},C$6);XHA=Z0(()=>{if(process.platform==="darwin"){let Q=Ym();try{let B=dG(`security find-generic-password -a $USER -w -s "${Q}"`);if(B)return{key:B,source:"/login managed key"}}catch(B){s(B)}}let A=d1();if(!A.primaryApiKey)return null;return{key:A.primaryApiKey,source:"/login managed key"}});t6=Z0(()=>{if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{accessToken:process.env.CLAUDE_CODE_OAUTH_TOKEN,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};let A=rK1();if(A)return{accessToken:A,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};try{let G=$$().read()?.claudeAiOauth;if(!G?.accessToken)return null;return G}catch(Q){return s(Q),null}})});import{join as VHA}from"path";function aCQ(){return(process.argv[1]||"").includes("/.claude/local/node_modules/")}async function q$6(){try{if(!jA().existsSync(Vd))jA().mkdirSync(Vd);if(!jA().existsSync(iCQ)){let Q={name:"claude-local",version:"0.0.1",private:!0};jA().writeFileSync(iCQ,JSON.stringify(Q,null,2),{encoding:"utf8",flush:!1})}let A=VHA(Vd,"claude");if(!jA().existsSync(A)){let Q=`#!/bin/bash
bundles/ClaudeCodeCode/cli.js:192:exec "${Vd}/node_modules/.bin/claude" "$@"`;jA().writeFileSync(A,Q,{encoding:"utf8",flush:!1}),await CQ("chmod",["+x",A])}return!0}catch(A){return s(A instanceof Error?A:Error(String(A))),!1}}async function EHA(A){try{if(!await q$6())return"install_failed";let Q=A==="stable"?"stable":"latest",B=await L3("npm",["install",`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL}@${Q}`],{cwd:Vd,maxBuffer:1e6});if(B.code!==0)return s(Error(`Failed to install Claude CLI package: ${B.stderr}`)),B.code===190?"in_progress":"install_failed";return i0((G)=>({...G,installMethod:"local"})),"success"}catch(Q){return s(Q instanceof Error?Q:Error(String(Q))),"install_failed"}}function Ed(){return jA().existsSync(VHA(Vd,"node_modules",".bin","claude"))}function p6A(){let A=process.env.SHELL||"";if(A.includes("zsh"))return"zsh";if(A.includes("bash"))return"bash";if(A.includes("fish"))return"fish";return"unknown"}var Vd,iCQ,nCQ;var qr=L(()=>{I6();h1();xQ();XQ();rQ();Vd=VHA(mQ(),"local"),iCQ=VHA(Vd,"package.json"),nCQ=VHA(Vd,"claude")});var DHA=w((S17,oCQ)=>{var L$6=Number.MAX_SAFE_INTEGER||9007199254740991,M$6=["major","premajor","minor","preminor","patch","prepatch","prerelease"];oCQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:L$6,RELEASE_TYPES:M$6,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var HHA=w((x17,rCQ)=>{var O$6=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};rCQ.exports=O$6});var l6A=w((kP,sCQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:lR1,MAX_SAFE_BUILD_LENGTH:R$6,MAX_LENGTH:_$6}=DHA(),T$6=HHA();kP=sCQ.exports={};var j$6=kP.re=[],P$6=kP.safeRe=[],q2=kP.src=[],S$6=kP.safeSrc=[],L2=kP.t={},x$6=0,iR1="[a-zA-Z0-9-]",y$6=[["\\s",1],["\\d",_$6],[iR1,R$6]],v$6=(A)=>{for(let[Q,B]of y$6)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},T6=(A,Q,B)=>{let G=v$6(Q),Z=x$6++;T$6(A,Z,Q),L2[A]=Z,q2[Z]=Q,S$6[Z]=G,j$6[Z]=new RegExp(Q,B?"g":void 0),P$6[Z]=new RegExp(G,B?"g":void 0)};T6("NUMERICIDENTIFIER","0|[1-9]\\d*");T6("NUMERICIDENTIFIERLOOSE","\\d+");T6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${iR1}*`);T6("MAINVERSION",`(${q2[L2.NUMERICIDENTIFIER]})\\.(${q2[L2.NUMERICIDENTIFIER]})\\.(${q2[L2.NUMERICIDENTIFIER]})`);T6("MAINVERSIONLOOSE",`(${q2[L2.NUMERICIDENTIFIERLOOSE]})\\.(${q2[L2.NUMERICIDENTIFIERLOOSE]})\\.(${q2[L2.NUMERICIDENTIFIERLOOSE]})`);T6("PRERELEASEIDENTIFIER",`(?:${q2[L2.NONNUMERICIDENTIFIER]}|${q2[L2.NUMERICIDENTIFIER]})`);T6("PRERELEASEIDENTIFIERLOOSE",`(?:${q2[L2.NONNUMERICIDENTIFIER]}|${q2[L2.NUMERICIDENTIFIERLOOSE]})`);T6("PRERELEASE",`(?:-(${q2[L2.PRERELEASEIDENTIFIER]}(?:\\.${q2[L2.PRERELEASEIDENTIFIER]})*))`);T6("PRERELEASELOOSE",`(?:-?(${q2[L2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${q2[L2.PRERELEASEIDENTIFIERLOOSE]})*))`);T6("BUILDIDENTIFIER",`${iR1}+`);T6("BUILD",`(?:\\+(${q2[L2.BUILDIDENTIFIER]}(?:\\.${q2[L2.BUILDIDENTIFIER]})*))`);T6("FULLPLAIN",`v?${q2[L2.MAINVERSION]}${q2[L2.PRERELEASE]}?${q2[L2.BUILD]}?`);T6("FULL",`^${q2[L2.FULLPLAIN]}$`);T6("LOOSEPLAIN",`[v=\\s]*${q2[L2.MAINVERSIONLOOSE]}${q2[L2.PRERELEASELOOSE]}?${q2[L2.BUILD]}?`);T6("LOOSE",`^${q2[L2.LOOSEPLAIN]}$`);T6("GTLT","((?:<|>)?=?)");T6("XRANGEIDENTIFIERLOOSE",`${q2[L2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);T6("XRANGEIDENTIFIER",`${q2[L2.NUMERICIDENTIFIER]}|x|X|\\*`);T6("XRANGEPLAIN",`[v=\\s]*(${q2[L2.XRANGEIDENTIFIER]})(?:\\.(${q2[L2.XRANGEIDENTIFIER]})(?:\\.(${q2[L2.XRANGEIDENTIFIER]})(?:${q2[L2.PRERELEASE]})?${q2[L2.BUILD]}?)?)?`);T6("XRANGEPLAINLOOSE",`[v=\\s]*(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:${q2[L2.PRERELEASELOOSE]})?${q2[L2.BUILD]}?)?)?`);T6("XRANGE",`^${q2[L2.GTLT]}\\s*${q2[L2.XRANGEPLAIN]}$`);T6("XRANGELOOSE",`^${q2[L2.GTLT]}\\s*${q2[L2.XRANGEPLAINLOOSE]}$`);T6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${lR1}})(?:\\.(\\d{1,${lR1}}))?(?:\\.(\\d{1,${lR1}}))?`);T6("COERCE",`${q2[L2.COERCEPLAIN]}(?:$|[^\\d])`);T6("COERCEFULL",q2[L2.COERCEPLAIN]+`(?:${q2[L2.PRERELEASE]})?(?:${q2[L2.BUILD]})?(?:$|[^\\d])`);T6("COERCERTL",q2[L2.COERCE],!0);T6("COERCERTLFULL",q2[L2.COERCEFULL],!0);T6("LONETILDE","(?:~>?)");T6("TILDETRIM",`(\\s*)${q2[L2.LONETILDE]}\\s+`,!0);kP.tildeTrimReplace="$1~";T6("TILDE",`^${q2[L2.LONETILDE]}${q2[L2.XRANGEPLAIN]}$`);T6("TILDELOOSE",`^${q2[L2.LONETILDE]}${q2[L2.XRANGEPLAINLOOSE]}$`);T6("LONECARET","(?:\\^)");T6("CARETTRIM",`(\\s*)${q2[L2.LONECARET]}\\s+`,!0);kP.caretTrimReplace="$1^";T6("CARET",`^${q2[L2.LONECARET]}${q2[L2.XRANGEPLAIN]}$`);T6("CARETLOOSE",`^${q2[L2.LONECARET]}${q2[L2.XRANGEPLAINLOOSE]}$`);T6("COMPARATORLOOSE",`^${q2[L2.GTLT]}\\s*(${q2[L2.LOOSEPLAIN]})$|^$`);T6("COMPARATOR",`^${q2[L2.GTLT]}\\s*(${q2[L2.FULLPLAIN]})$|^$`);T6("COMPARATORTRIM",`(\\s*)${q2[L2.GTLT]}\\s*(${q2[L2.LOOSEPLAIN]}|${q2[L2.XRANGEPLAIN]})`,!0);kP.comparatorTrimReplace="$1$2$3";T6("HYPHENRANGE",`^\\s*(${q2[L2.XRANGEPLAIN]})\\s+-\\s+(${q2[L2.XRANGEPLAIN]})\\s*$`);T6("HYPHENRANGELOOSE",`^\\s*(${q2[L2.XRANGEPLAINLOOSE]})\\s+-\\s+(${q2[L2.XRANGEPLAINLOOSE]})\\s*$`);T6("STAR","(<|>)?=?\\s*\\*");T6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");T6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pgA=w((y17,tCQ)=>{var k$6=Object.freeze({loose:!0}),f$6=Object.freeze({}),b$6=(A)=>{if(!A)return f$6;if(typeof A!=="object")return k$6;return A};tCQ.exports=b$6});var nR1=w((v17,QzQ)=>{var eCQ=/^[0-9]+$/,AzQ=(A,Q)=>{let B=eCQ.test(A),G=eCQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},h$6=(A,Q)=>AzQ(Q,A);QzQ.exports={compareIdentifiers:AzQ,rcompareIdentifiers:h$6}});var pD=w((k17,GzQ)=>{var lgA=HHA(),{MAX_LENGTH:BzQ,MAX_SAFE_INTEGER:igA}=DHA(),{safeRe:ngA,t:agA}=l6A(),g$6=pgA(),{compareIdentifiers:i6A}=nR1();class CR{constructor(A,Q){if(Q=g$6(Q),A instanceof CR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>BzQ)throw TypeError(`version is longer than ${BzQ} characters`);lgA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?ngA[agA.LOOSE]:ngA[agA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>igA||this.major<0)throw TypeError("Invalid major version");if(this.minor>igA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>igA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<igA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(lgA("SemVer.compare",this.version,this.options,A),!(A instanceof CR)){if(typeof A==="string"&&A===this.version)return 0;A=new CR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof CR))A=new CR(A,this.options);return i6A(this.major,A.major)||i6A(this.minor,A.minor)||i6A(this.patch,A.patch)}comparePre(A){if(!(A instanceof CR))A=new CR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(lgA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof CR))A=new CR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(lgA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=`-${Q}`.match(this.options.loose?ngA[agA.PRERELEASELOOSE]:ngA[agA.PRERELEASE]);if(!G||G[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(i6A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}GzQ.exports=CR});var Lr=w((f17,YzQ)=>{var ZzQ=pD(),u$6=(A,Q,B=!1)=>{if(A instanceof ZzQ)return A;try{return new ZzQ(A,Q)}catch(G){if(!B)return null;throw G}};YzQ.exports=u$6});var IzQ=w((b17,JzQ)=>{var m$6=Lr(),d$6=(A,Q)=>{let B=m$6(A,Q);return B?B.version:null};JzQ.exports=d$6});var WzQ=w((h17,XzQ)=>{var c$6=Lr(),p$6=(A,Q)=>{let B=c$6(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};XzQ.exports=p$6});var EzQ=w((g17,VzQ)=>{var KzQ=pD(),l$6=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new KzQ(A instanceof KzQ?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};VzQ.exports=l$6});var FzQ=w((u17,HzQ)=>{var DzQ=Lr(),i$6=(A,Q)=>{let B=DzQ(A,null,!0),G=DzQ(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};HzQ.exports=i$6});var zzQ=w((m17,CzQ)=>{var n$6=pD(),a$6=(A,Q)=>new n$6(A,Q).major;CzQ.exports=a$6});var $zQ=w((d17,UzQ)=>{var o$6=pD(),r$6=(A,Q)=>new o$6(A,Q).minor;UzQ.exports=r$6});var NzQ=w((c17,wzQ)=>{var s$6=pD(),t$6=(A,Q)=>new s$6(A,Q).patch;wzQ.exports=t$6});var LzQ=w((p17,qzQ)=>{var e$6=Lr(),Aw6=(A,Q)=>{let B=e$6(A,Q);return B&&B.prerelease.length?B.prerelease:null};qzQ.exports=Aw6});var iq=w((l17,OzQ)=>{var MzQ=pD(),Qw6=(A,Q,B)=>new MzQ(A,B).compare(new MzQ(Q,B));OzQ.exports=Qw6});var _zQ=w((i17,RzQ)=>{var Bw6=iq(),Gw6=(A,Q,B)=>Bw6(Q,A,B);RzQ.exports=Gw6});var jzQ=w((n17,TzQ)=>{var Zw6=iq(),Yw6=(A,Q)=>Zw6(A,Q,!0);TzQ.exports=Yw6});var ogA=w((a17,SzQ)=>{var PzQ=pD(),Jw6=(A,Q,B)=>{let G=new PzQ(A,B),Z=new PzQ(Q,B);return G.compare(Z)||G.compareBuild(Z)};SzQ.exports=Jw6});var yzQ=w((o17,xzQ)=>{var Iw6=ogA(),Xw6=(A,Q)=>A.sort((B,G)=>Iw6(B,G,Q));xzQ.exports=Xw6});var kzQ=w((r17,vzQ)=>{var Ww6=ogA(),Kw6=(A,Q)=>A.sort((B,G)=>Ww6(G,B,Q));vzQ.exports=Kw6});var FHA=w((s17,fzQ)=>{var Vw6=iq(),Ew6=(A,Q,B)=>Vw6(A,Q,B)>0;fzQ.exports=Ew6});var rgA=w((t17,bzQ)=>{var Dw6=iq(),Hw6=(A,Q,B)=>Dw6(A,Q,B)<0;bzQ.exports=Hw6});var aR1=w((e17,hzQ)=>{var Fw6=iq(),Cw6=(A,Q,B)=>Fw6(A,Q,B)===0;hzQ.exports=Cw6});var oR1=w((A07,gzQ)=>{var zw6=iq(),Uw6=(A,Q,B)=>zw6(A,Q,B)!==0;gzQ.exports=Uw6});var sgA=w((Q07,uzQ)=>{var $w6=iq(),ww6=(A,Q,B)=>$w6(A,Q,B)>=0;uzQ.exports=ww6});var tgA=w((B07,mzQ)=>{var Nw6=iq(),qw6=(A,Q,B)=>Nw6(A,Q,B)<=0;mzQ.exports=qw6});var rR1=w((G07,dzQ)=>{var Lw6=aR1(),Mw6=oR1(),Ow6=FHA(),Rw6=sgA(),_w6=rgA(),Tw6=tgA(),jw6=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return Lw6(A,B,G);case"!=":return Mw6(A,B,G);case">":return Ow6(A,B,G);case">=":return Rw6(A,B,G);case"<":return _w6(A,B,G);case"<=":return Tw6(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};dzQ.exports=jw6});var pzQ=w((Z07,czQ)=>{var Pw6=pD(),Sw6=Lr(),{safeRe:egA,t:AuA}=l6A(),xw6=(A,Q)=>{if(A instanceof Pw6)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?egA[AuA.COERCEFULL]:egA[AuA.COERCE]);else{let X=Q.includePrerelease?egA[AuA.COERCERTLFULL]:egA[AuA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return Sw6(`${G}.${Z}.${Y}${J}${I}`,Q)};czQ.exports=xw6});var nzQ=w((Y07,izQ)=>{class lzQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}izQ.exports=lzQ});var nq=w((J07,szQ)=>{var yw6=/\s+/g;class CHA{constructor(A,Q){if(Q=kw6(Q),A instanceof CHA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new CHA(A.raw,Q);if(A instanceof sR1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(yw6," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!ozQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&dw6(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&uw6)|(this.options.loose&&mw6))+":"+A,G=azQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?Oz[FF.HYPHENRANGELOOSE]:Oz[FF.HYPHENRANGE];A=A.replace(Y,tw6(this.options.includePrerelease)),BY("hyphen replace",A),A=A.replace(Oz[FF.COMPARATORTRIM],bw6),BY("comparator trim",A),A=A.replace(Oz[FF.TILDETRIM],hw6),BY("tilde trim",A),A=A.replace(Oz[FF.CARETTRIM],gw6),BY("caret trim",A);let J=A.split(" ").map((K)=>cw6(K,this.options)).join(" ").split(/\s+/).map((K)=>sw6(K,this.options));if(Z)J=J.filter((K)=>{return BY("loose invalid filter",K,this.options),!!K.match(Oz[FF.COMPARATORLOOSE])});BY("range list",J);let I=new Map,X=J.map((K)=>new sR1(K,this.options));for(let K of X){if(ozQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return azQ.set(B,W),W}intersects(A,Q){if(!(A instanceof CHA))throw TypeError("a Range is required");return this.set.some((B)=>{return rzQ(B,Q)&&A.set.some((G)=>{return rzQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new fw6(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(ew6(this.set[Q],A,this.options))return!0;return!1}}szQ.exports=CHA;var vw6=nzQ(),azQ=new vw6,kw6=pgA(),sR1=zHA(),BY=HHA(),fw6=pD(),{safeRe:Oz,t:FF,comparatorTrimReplace:bw6,tildeTrimReplace:hw6,caretTrimReplace:gw6}=l6A(),{FLAG_INCLUDE_PRERELEASE:uw6,FLAG_LOOSE:mw6}=DHA(),ozQ=(A)=>A.value==="<0.0.0-0",dw6=(A)=>A.value==="",rzQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},cw6=(A,Q)=>{return BY("comp",A,Q),A=iw6(A,Q),BY("caret",A),A=pw6(A,Q),BY("tildes",A),A=aw6(A,Q),BY("xrange",A),A=rw6(A,Q),BY("stars",A),A},CF=(A)=>!A||A.toLowerCase()==="x"||A==="*",pw6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>lw6(B,Q)).join(" ")},lw6=(A,Q)=>{let B=Q.loose?Oz[FF.TILDELOOSE]:Oz[FF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{BY("tilde",A,G,Z,Y,J,I);let X;if(CF(Z))X="";else if(CF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(CF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)BY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return BY("tilde return",X),X})},iw6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>nw6(B,Q)).join(" ")},nw6=(A,Q)=>{BY("caret",A,Q);let B=Q.loose?Oz[FF.CARETLOOSE]:Oz[FF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{BY("caret",A,Z,Y,J,I,X);let W;if(CF(Y))W="";else if(CF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(CF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(BY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(BY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return BY("caret return",W),W})},aw6=(A,Q)=>{return BY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>ow6(B,Q)).join(" ")},ow6=(A,Q)=>{A=A.trim();let B=Q.loose?Oz[FF.XRANGELOOSE]:Oz[FF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{BY("xRange",A,G,Z,Y,J,I,X);let W=CF(Y),K=W||CF(J),V=K||CF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return BY("xRange return",G),G})},rw6=(A,Q)=>{return BY("replaceStars",A,Q),A.trim().replace(Oz[FF.STAR],"")},sw6=(A,Q)=>{return BY("replaceGTE0",A,Q),A.trim().replace(Oz[Q.includePrerelease?FF.GTE0PRE:FF.GTE0],"")},tw6=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(CF(G))B="";else if(CF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(CF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(CF(W))X="";else if(CF(K))X=`<${+W+1}.0.0-0`;else if(CF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},ew6=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(BY(A[G].semver),A[G].semver===sR1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var zHA=w((I07,GUQ)=>{var UHA=Symbol("SemVer ANY");class QuA{static get ANY(){return UHA}constructor(A,Q){if(Q=tzQ(Q),A instanceof QuA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),eR1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===UHA)this.value="";else this.value=this.operator+this.semver.version;eR1("comp",this)}parse(A){let Q=this.options.loose?ezQ[AUQ.COMPARATORLOOSE]:ezQ[AUQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=UHA;else this.semver=new QUQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(eR1("Comparator.test",A,this.options.loose),this.semver===UHA||A===UHA)return!0;if(typeof A==="string")try{A=new QUQ(A,this.options)}catch(Q){return!1}return tR1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof QuA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new BUQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new BUQ(this.value,Q).test(A.semver)}if(Q=tzQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(tR1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(tR1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}GUQ.exports=QuA;var tzQ=pgA(),{safeRe:ezQ,t:AUQ}=l6A(),tR1=rR1(),eR1=HHA(),QUQ=pD(),BUQ=nq()});var $HA=w((X07,ZUQ)=>{var AN6=nq(),QN6=(A,Q,B)=>{try{Q=new AN6(Q,B)}catch(G){return!1}return Q.test(A)};ZUQ.exports=QN6});var JUQ=w((W07,YUQ)=>{var BN6=nq(),GN6=(A,Q)=>new BN6(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));YUQ.exports=GN6});var XUQ=w((K07,IUQ)=>{var ZN6=pD(),YN6=nq(),JN6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new YN6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new ZN6(G,B)}}),G};IUQ.exports=JN6});var KUQ=w((V07,WUQ)=>{var IN6=pD(),XN6=nq(),WN6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new XN6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new IN6(G,B)}}),G};WUQ.exports=WN6});var DUQ=w((E07,EUQ)=>{var A_1=pD(),KN6=nq(),VUQ=FHA(),VN6=(A,Q)=>{A=new KN6(A,Q);let B=new A_1("0.0.0");if(A.test(B))return B;if(B=new A_1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new A_1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||VUQ(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||VUQ(B,Y)))B=Y}if(B&&A.test(B))return B;return null};EUQ.exports=VN6});var FUQ=w((D07,HUQ)=>{var EN6=nq(),DN6=(A,Q)=>{try{return new EN6(A,Q).range||"*"}catch(B){return null}};HUQ.exports=DN6});var BuA=w((H07,$UQ)=>{var HN6=pD(),UUQ=zHA(),{ANY:FN6}=UUQ,CN6=nq(),zN6=$HA(),CUQ=FHA(),zUQ=rgA(),UN6=tgA(),$N6=sgA(),wN6=(A,Q,B,G)=>{A=new HN6(A,G),Q=new CN6(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=CUQ,Y=UN6,J=zUQ,I=">",X=">=";break;case"<":Z=zUQ,Y=$N6,J=CUQ,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(zN6(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===FN6)D=new UUQ(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};$UQ.exports=wN6});var NUQ=w((F07,wUQ)=>{var NN6=BuA(),qN6=(A,Q,B)=>NN6(A,Q,">",B);wUQ.exports=qN6});var LUQ=w((C07,qUQ)=>{var LN6=BuA(),MN6=(A,Q,B)=>LN6(A,Q,"<",B);qUQ.exports=MN6});var RUQ=w((z07,OUQ)=>{var MUQ=nq(),ON6=(A,Q,B)=>{return A=new MUQ(A,B),Q=new MUQ(Q,B),A.intersects(Q,B)};OUQ.exports=ON6});var TUQ=w((U07,_UQ)=>{var RN6=$HA(),_N6=iq();_UQ.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>_N6(K,V,B));for(let K of J)if(RN6(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var vUQ=w(($07,yUQ)=>{var jUQ=nq(),B_1=zHA(),{ANY:Q_1}=B_1,wHA=$HA(),G_1=iq(),TN6=(A,Q,B={})=>{if(A===Q)return!0;A=new jUQ(A,B),Q=new jUQ(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=PN6(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},jN6=[new B_1(">=0.0.0-0")],PUQ=[new B_1(">=0.0.0")],PN6=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===Q_1)if(Q.length===1&&Q[0].semver===Q_1)return!0;else if(B.includePrerelease)A=jN6;else A=PUQ;if(Q.length===1&&Q[0].semver===Q_1)if(B.includePrerelease)return!0;else Q=PUQ;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=SUQ(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=xUQ(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=G_1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!wHA(D,String(Z),B))return null;if(Y&&!wHA(D,String(Y),B))return null;for(let H of Q)if(!wHA(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=SUQ(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!wHA(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=xUQ(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!wHA(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},SUQ=(A,Q,B)=>{if(!A)return Q;let G=G_1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},xUQ=(A,Q,B)=>{if(!A)return Q;let G=G_1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};yUQ.exports=TN6});var zR=w((w07,bUQ)=>{var Z_1=l6A(),kUQ=DHA(),SN6=pD(),fUQ=nR1(),xN6=Lr(),yN6=IzQ(),vN6=WzQ(),kN6=EzQ(),fN6=FzQ(),bN6=zzQ(),hN6=$zQ(),gN6=NzQ(),uN6=LzQ(),mN6=iq(),dN6=_zQ(),cN6=jzQ(),pN6=ogA(),lN6=yzQ(),iN6=kzQ(),nN6=FHA(),aN6=rgA(),oN6=aR1(),rN6=oR1(),sN6=sgA(),tN6=tgA(),eN6=rR1(),Aq6=pzQ(),Qq6=zHA(),Bq6=nq(),Gq6=$HA(),Zq6=JUQ(),Yq6=XUQ(),Jq6=KUQ(),Iq6=DUQ(),Xq6=FUQ(),Wq6=BuA(),Kq6=NUQ(),Vq6=LUQ(),Eq6=RUQ(),Dq6=TUQ(),Hq6=vUQ();bUQ.exports={parse:xN6,valid:yN6,clean:vN6,inc:kN6,diff:fN6,major:bN6,minor:hN6,patch:gN6,prerelease:uN6,compare:mN6,rcompare:dN6,compareLoose:cN6,compareBuild:pN6,sort:lN6,rsort:iN6,gt:nN6,lt:aN6,eq:oN6,neq:rN6,gte:sN6,lte:tN6,cmp:eN6,coerce:Aq6,Comparator:Qq6,Range:Bq6,satisfies:Gq6,toComparators:Zq6,maxSatisfying:Yq6,minSatisfying:Jq6,minVersion:Iq6,validRange:Xq6,outside:Wq6,gtr:Kq6,ltr:Vq6,intersects:Eq6,simplifyRange:Dq6,subset:Hq6,SemVer:SN6,re:Z_1.re,src:Z_1.src,tokens:Z_1.t,SEMVER_SPEC_VERSION:kUQ.SEMVER_SPEC_VERSION,RELEASE_TYPES:kUQ.RELEASE_TYPES,compareIdentifiers:fUQ.compareIdentifiers,rcompareIdentifiers:fUQ.rcompareIdentifiers}});function aX(){return z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY)||!!process.env.DISABLE_TELEMETRY||!!process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC}var Mr=L(()=>{rQ()});var uUQ=w((hUQ)=>{Object.defineProperty(hUQ,"__esModule",{value:!0});hUQ._globalThis=void 0;hUQ._globalThis=typeof globalThis==="object"?globalThis:global});var mUQ=w((Or)=>{var Fq6=Or&&Or.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Cq6=Or&&Or.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Fq6(Q,A,B)};Object.defineProperty(Or,"__esModule",{value:!0});Cq6(uUQ(),Or)});var dUQ=w((Rr)=>{var zq6=Rr&&Rr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Uq6=Rr&&Rr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))zq6(Q,A,B)};Object.defineProperty(Rr,"__esModule",{value:!0});Uq6(mUQ(),Rr)});var Y_1=w((cUQ)=>{Object.defineProperty(cUQ,"__esModule",{value:!0});cUQ.VERSION=void 0;cUQ.VERSION="1.9.0"});var oUQ=w((nUQ)=>{Object.defineProperty(nUQ,"__esModule",{value:!0});nUQ.isCompatible=nUQ._makeCompatibilityCheck=void 0;var $q6=Y_1(),lUQ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function iUQ(A){let Q=new Set([A]),B=new Set,G=A.match(lUQ);if(!G)return()=>!1;let Z={major:+G[1],minor:+G[2],patch:+G[3],prerelease:G[4]};if(Z.prerelease!=null)return function(X){return X===A};function Y(I){return B.add(I),!1}function J(I){return Q.add(I),!0}return function(X){if(Q.has(X))return!0;if(B.has(X))return!1;let W=X.match(lUQ);if(!W)return Y(X);let K={major:+W[1],minor:+W[2],patch:+W[3],prerelease:W[4]};if(K.prerelease!=null)return Y(X);if(Z.major!==K.major)return Y(X);if(Z.major===0){if(Z.minor===K.minor&&Z.patch<=K.patch)return J(X);return Y(X)}if(Z.minor<=K.minor)return J(X);return Y(X)}}nUQ._makeCompatibilityCheck=iUQ;nUQ.isCompatible=iUQ($q6.VERSION)});var _r=w((rUQ)=>{Object.defineProperty(rUQ,"__esModule",{value:!0});rUQ.unregisterGlobal=rUQ.getGlobal=rUQ.registerGlobal=void 0;var Nq6=dUQ(),n6A=Y_1(),qq6=oUQ(),Lq6=n6A.VERSION.split(".")[0],NHA=Symbol.for(`opentelemetry.js.api.${Lq6}`),qHA=Nq6._globalThis;function Mq6(A,Q,B,G=!1){var Z;let Y=qHA[NHA]=(Z=qHA[NHA])!==null&&Z!==void 0?Z:{version:n6A.VERSION};if(!G&&Y[A]){let J=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${A}`);return B.error(J.stack||J.message),!1}if(Y.version!==n6A.VERSION){let J=Error(`@opentelemetry/api: Registration of version v${Y.version} for ${A} does not match previously registered API v${n6A.VERSION}`);return B.error(J.stack||J.message),!1}return Y[A]=Q,B.debug(`@opentelemetry/api: Registered a global for ${A} v${n6A.VERSION}.`),!0}rUQ.registerGlobal=Mq6;function Oq6(A){var Q,B;let G=(Q=qHA[NHA])===null||Q===void 0?void 0:Q.version;if(!G||!(0,qq6.isCompatible)(G))return;return(B=qHA[NHA])===null||B===void 0?void 0:B[A]}rUQ.getGlobal=Oq6;function Rq6(A,Q){Q.debug(`@opentelemetry/api: Unregistering a global for ${A} v${n6A.VERSION}.`);let B=qHA[NHA];if(B)delete B[A]}rUQ.unregisterGlobal=Rq6});var Q$Q=w((eUQ)=>{Object.defineProperty(eUQ,"__esModule",{value:!0});eUQ.DiagComponentLogger=void 0;var jq6=_r();class tUQ{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return LHA("debug",this._namespace,A)}error(...A){return LHA("error",this._namespace,A)}info(...A){return LHA("info",this._namespace,A)}warn(...A){return LHA("warn",this._namespace,A)}verbose(...A){return LHA("verbose",this._namespace,A)}}eUQ.DiagComponentLogger=tUQ;function LHA(A,Q,B){let G=(0,jq6.getGlobal)("diag");if(!G)return;return B.unshift(Q),G[A](...B)}});var GuA=w((B$Q)=>{Object.defineProperty(B$Q,"__esModule",{value:!0});B$Q.DiagLogLevel=void 0;var Pq6;(function(A){A[A.NONE=0]="NONE",A[A.ERROR=30]="ERROR",A[A.WARN=50]="WARN",A[A.INFO=60]="INFO",A[A.DEBUG=70]="DEBUG",A[A.VERBOSE=80]="VERBOSE",A[A.ALL=9999]="ALL"})(Pq6=B$Q.DiagLogLevel||(B$Q.DiagLogLevel={}))});var Y$Q=w((G$Q)=>{Object.defineProperty(G$Q,"__esModule",{value:!0});G$Q.createLogLevelDiagLogger=void 0;var Ok=GuA();function Sq6(A,Q){if(A<Ok.DiagLogLevel.NONE)A=Ok.DiagLogLevel.NONE;else if(A>Ok.DiagLogLevel.ALL)A=Ok.DiagLogLevel.ALL;Q=Q||{};function B(G,Z){let Y=Q[G];if(typeof Y==="function"&&A>=Z)return Y.bind(Q);return function(){}}return{error:B("error",Ok.DiagLogLevel.ERROR),warn:B("warn",Ok.DiagLogLevel.WARN),info:B("info",Ok.DiagLogLevel.INFO),debug:B("debug",Ok.DiagLogLevel.DEBUG),verbose:B("verbose",Ok.DiagLogLevel.VERBOSE)}}G$Q.createLogLevelDiagLogger=Sq6});var Tr=w((I$Q)=>{Object.defineProperty(I$Q,"__esModule",{value:!0});I$Q.DiagAPI=void 0;var xq6=Q$Q(),yq6=Y$Q(),J$Q=GuA(),ZuA=_r(),vq6="diag";class I_1{constructor(){function A(G){return function(...Z){let Y=(0,ZuA.getGlobal)("diag");if(!Y)return;return Y[G](...Z)}}let Q=this,B=(G,Z={logLevel:J$Q.DiagLogLevel.INFO})=>{var Y,J,I;if(G===Q){let K=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return Q.error((Y=K.stack)!==null&&Y!==void 0?Y:K.message),!1}if(typeof Z==="number")Z={logLevel:Z};let X=(0,ZuA.getGlobal)("diag"),W=(0,yq6.createLogLevelDiagLogger)((J=Z.logLevel)!==null&&J!==void 0?J:J$Q.DiagLogLevel.INFO,G);if(X&&!Z.suppressOverrideMessage){let K=(I=Error().stack)!==null&&I!==void 0?I:"<failed to generate stacktrace>";X.warn(`Current logger will be overwritten from ${K}`),W.warn(`Current logger will overwrite one already registered from ${K}`)}return(0,ZuA.registerGlobal)("diag",W,Q,!0)};Q.setLogger=B,Q.disable=()=>{(0,ZuA.unregisterGlobal)(vq6,Q)},Q.createComponentLogger=(G)=>{return new xq6.DiagComponentLogger(G)},Q.verbose=A("verbose"),Q.debug=A("debug"),Q.info=A("info"),Q.warn=A("warn"),Q.error=A("error")}static instance(){if(!this._instance)this._instance=new I_1;return this._instance}}I$Q.DiagAPI=I_1});var V$Q=w((W$Q)=>{Object.defineProperty(W$Q,"__esModule",{value:!0});W$Q.BaggageImpl=void 0;class a6A{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let Q=this._entries.get(A);if(!Q)return;return Object.assign({},Q)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,Q])=>[A,Q])}setEntry(A,Q){let B=new a6A(this._entries);return B._entries.set(A,Q),B}removeEntry(A){let Q=new a6A(this._entries);return Q._entries.delete(A),Q}removeEntries(...A){let Q=new a6A(this._entries);for(let B of A)Q._entries.delete(B);return Q}clear(){return new a6A}}W$Q.BaggageImpl=a6A});var H$Q=w((E$Q)=>{Object.defineProperty(E$Q,"__esModule",{value:!0});E$Q.baggageEntryMetadataSymbol=void 0;E$Q.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var X_1=w((F$Q)=>{Object.defineProperty(F$Q,"__esModule",{value:!0});F$Q.baggageEntryMetadataFromString=F$Q.createBaggage=void 0;var kq6=Tr(),fq6=V$Q(),bq6=H$Q(),hq6=kq6.DiagAPI.instance();function gq6(A={}){return new fq6.BaggageImpl(new Map(Object.entries(A)))}F$Q.createBaggage=gq6;function uq6(A){if(typeof A!=="string")hq6.error(`Cannot create baggage metadata from unknown type: ${typeof A}`),A="";return{__TYPE__:bq6.baggageEntryMetadataSymbol,toString(){return A}}}F$Q.baggageEntryMetadataFromString=uq6});var MHA=w((z$Q)=>{Object.defineProperty(z$Q,"__esModule",{value:!0});z$Q.ROOT_CONTEXT=z$Q.createContextKey=void 0;function dq6(A){return Symbol.for(A)}z$Q.createContextKey=dq6;class YuA{constructor(A){let Q=this;Q._currentContext=A?new Map(A):new Map,Q.getValue=(B)=>Q._currentContext.get(B),Q.setValue=(B,G)=>{let Z=new YuA(Q._currentContext);return Z._currentContext.set(B,G),Z},Q.deleteValue=(B)=>{let G=new YuA(Q._currentContext);return G._currentContext.delete(B),G}}}z$Q.ROOT_CONTEXT=new YuA});var q$Q=w((w$Q)=>{Object.defineProperty(w$Q,"__esModule",{value:!0});w$Q.DiagConsoleLogger=void 0;var W_1=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class $$Q{constructor(){function A(Q){return function(...B){if(console){let G=console[Q];if(typeof G!=="function")G=console.log;if(typeof G==="function")return G.apply(console,B)}}}for(let Q=0;Q<W_1.length;Q++)this[W_1[Q].n]=A(W_1[Q].c)}}w$Q.DiagConsoleLogger=$$Q});var U_1=w((L$Q)=>{Object.defineProperty(L$Q,"__esModule",{value:!0});L$Q.createNoopMeter=L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=L$Q.NOOP_OBSERVABLE_GAUGE_METRIC=L$Q.NOOP_OBSERVABLE_COUNTER_METRIC=L$Q.NOOP_UP_DOWN_COUNTER_METRIC=L$Q.NOOP_HISTOGRAM_METRIC=L$Q.NOOP_GAUGE_METRIC=L$Q.NOOP_COUNTER_METRIC=L$Q.NOOP_METER=L$Q.NoopObservableUpDownCounterMetric=L$Q.NoopObservableGaugeMetric=L$Q.NoopObservableCounterMetric=L$Q.NoopObservableMetric=L$Q.NoopHistogramMetric=L$Q.NoopGaugeMetric=L$Q.NoopUpDownCounterMetric=L$Q.NoopCounterMetric=L$Q.NoopMetric=L$Q.NoopMeter=void 0;class K_1{constructor(){}createGauge(A,Q){return L$Q.NOOP_GAUGE_METRIC}createHistogram(A,Q){return L$Q.NOOP_HISTOGRAM_METRIC}createCounter(A,Q){return L$Q.NOOP_COUNTER_METRIC}createUpDownCounter(A,Q){return L$Q.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,Q){return L$Q.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,Q){return L$Q.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,Q){return L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,Q){}removeBatchObservableCallback(A){}}L$Q.NoopMeter=K_1;class o6A{}L$Q.NoopMetric=o6A;class V_1 extends o6A{add(A,Q){}}L$Q.NoopCounterMetric=V_1;class E_1 extends o6A{add(A,Q){}}L$Q.NoopUpDownCounterMetric=E_1;class D_1 extends o6A{record(A,Q){}}L$Q.NoopGaugeMetric=D_1;class H_1 extends o6A{record(A,Q){}}L$Q.NoopHistogramMetric=H_1;class OHA{addCallback(A){}removeCallback(A){}}L$Q.NoopObservableMetric=OHA;class F_1 extends OHA{}L$Q.NoopObservableCounterMetric=F_1;class C_1 extends OHA{}L$Q.NoopObservableGaugeMetric=C_1;class z_1 extends OHA{}L$Q.NoopObservableUpDownCounterMetric=z_1;L$Q.NOOP_METER=new K_1;L$Q.NOOP_COUNTER_METRIC=new V_1;L$Q.NOOP_GAUGE_METRIC=new D_1;L$Q.NOOP_HISTOGRAM_METRIC=new H_1;L$Q.NOOP_UP_DOWN_COUNTER_METRIC=new E_1;L$Q.NOOP_OBSERVABLE_COUNTER_METRIC=new F_1;L$Q.NOOP_OBSERVABLE_GAUGE_METRIC=new C_1;L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new z_1;function pq6(){return L$Q.NOOP_METER}L$Q.createNoopMeter=pq6});var v$Q=w((y$Q)=>{Object.defineProperty(y$Q,"__esModule",{value:!0});y$Q.ValueType=void 0;var QL6;(function(A){A[A.INT=0]="INT",A[A.DOUBLE=1]="DOUBLE"})(QL6=y$Q.ValueType||(y$Q.ValueType={}))});var w_1=w((k$Q)=>{Object.defineProperty(k$Q,"__esModule",{value:!0});k$Q.defaultTextMapSetter=k$Q.defaultTextMapGetter=void 0;k$Q.defaultTextMapGetter={get(A,Q){if(A==null)return;return A[Q]},keys(A){if(A==null)return[];return Object.keys(A)}};k$Q.defaultTextMapSetter={set(A,Q,B){if(A==null)return;A[Q]=B}}});var u$Q=w((h$Q)=>{Object.defineProperty(h$Q,"__esModule",{value:!0});h$Q.NoopContextManager=void 0;var GL6=MHA();class b$Q{active(){return GL6.ROOT_CONTEXT}with(A,Q,B,...G){return Q.call(B,...G)}bind(A,Q){return Q}enable(){return this}disable(){return this}}h$Q.NoopContextManager=b$Q});var RHA=w((d$Q)=>{Object.defineProperty(d$Q,"__esModule",{value:!0});d$Q.ContextAPI=void 0;var ZL6=u$Q(),N_1=_r(),m$Q=Tr(),q_1="context",YL6=new ZL6.NoopContextManager;class L_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new L_1;return this._instance}setGlobalContextManager(A){return(0,N_1.registerGlobal)(q_1,A,m$Q.DiagAPI.instance())}active(){return this._getContextManager().active()}with(A,Q,B,...G){return this._getContextManager().with(A,Q,B,...G)}bind(A,Q){return this._getContextManager().bind(A,Q)}_getContextManager(){return(0,N_1.getGlobal)(q_1)||YL6}disable(){this._getContextManager().disable(),(0,N_1.unregisterGlobal)(q_1,m$Q.DiagAPI.instance())}}d$Q.ContextAPI=L_1});var O_1=w((p$Q)=>{Object.defineProperty(p$Q,"__esModule",{value:!0});p$Q.TraceFlags=void 0;var JL6;(function(A){A[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED"})(JL6=p$Q.TraceFlags||(p$Q.TraceFlags={}))});var JuA=w((l$Q)=>{Object.defineProperty(l$Q,"__esModule",{value:!0});l$Q.INVALID_SPAN_CONTEXT=l$Q.INVALID_TRACEID=l$Q.INVALID_SPANID=void 0;var IL6=O_1();l$Q.INVALID_SPANID="0000000000000000";l$Q.INVALID_TRACEID="00000000000000000000000000000000";l$Q.INVALID_SPAN_CONTEXT={traceId:l$Q.INVALID_TRACEID,spanId:l$Q.INVALID_SPANID,traceFlags:IL6.TraceFlags.NONE}});var IuA=w((r$Q)=>{Object.defineProperty(r$Q,"__esModule",{value:!0});r$Q.NonRecordingSpan=void 0;var XL6=JuA();class o$Q{constructor(A=XL6.INVALID_SPAN_CONTEXT){this._spanContext=A}spanContext(){return this._spanContext}setAttribute(A,Q){return this}setAttributes(A){return this}addEvent(A,Q){return this}addLink(A){return this}addLinks(A){return this}setStatus(A){return this}updateName(A){return this}end(A){}isRecording(){return!1}recordException(A,Q){}}r$Q.NonRecordingSpan=o$Q});var T_1=w((e$Q)=>{Object.defineProperty(e$Q,"__esModule",{value:!0});e$Q.getSpanContext=e$Q.setSpanContext=e$Q.deleteSpan=e$Q.setSpan=e$Q.getActiveSpan=e$Q.getSpan=void 0;var WL6=MHA(),KL6=IuA(),VL6=RHA(),R_1=(0,WL6.createContextKey)("OpenTelemetry Context Key SPAN");function __1(A){return A.getValue(R_1)||void 0}e$Q.getSpan=__1;function EL6(){return __1(VL6.ContextAPI.getInstance().active())}e$Q.getActiveSpan=EL6;function t$Q(A,Q){return A.setValue(R_1,Q)}e$Q.setSpan=t$Q;function DL6(A){return A.deleteValue(R_1)}e$Q.deleteSpan=DL6;function HL6(A,Q){return t$Q(A,new KL6.NonRecordingSpan(Q))}e$Q.setSpanContext=HL6;function FL6(A){var Q;return(Q=__1(A))===null||Q===void 0?void 0:Q.spanContext()}e$Q.getSpanContext=FL6});var XuA=w((ZwQ)=>{Object.defineProperty(ZwQ,"__esModule",{value:!0});ZwQ.wrapSpanContext=ZwQ.isSpanContextValid=ZwQ.isValidSpanId=ZwQ.isValidTraceId=void 0;var QwQ=JuA(),NL6=IuA(),qL6=/^([0-9a-f]{32})$/i,LL6=/^[0-9a-f]{16}$/i;function BwQ(A){return qL6.test(A)&&A!==QwQ.INVALID_TRACEID}ZwQ.isValidTraceId=BwQ;function GwQ(A){return LL6.test(A)&&A!==QwQ.INVALID_SPANID}ZwQ.isValidSpanId=GwQ;function ML6(A){return BwQ(A.traceId)&&GwQ(A.spanId)}ZwQ.isSpanContextValid=ML6;function OL6(A){return new NL6.NonRecordingSpan(A)}ZwQ.wrapSpanContext=OL6});var S_1=w((XwQ)=>{Object.defineProperty(XwQ,"__esModule",{value:!0});XwQ.NoopTracer=void 0;var jL6=RHA(),JwQ=T_1(),j_1=IuA(),PL6=XuA(),P_1=jL6.ContextAPI.getInstance();class IwQ{startSpan(A,Q,B=P_1.active()){if(Boolean(Q===null||Q===void 0?void 0:Q.root))return new j_1.NonRecordingSpan;let Z=B&&(0,JwQ.getSpanContext)(B);if(SL6(Z)&&(0,PL6.isSpanContextValid)(Z))return new j_1.NonRecordingSpan(Z);else return new j_1.NonRecordingSpan}startActiveSpan(A,Q,B,G){let Z,Y,J;if(arguments.length<2)return;else if(arguments.length===2)J=Q;else if(arguments.length===3)Z=Q,J=B;else Z=Q,Y=B,J=G;let I=Y!==null&&Y!==void 0?Y:P_1.active(),X=this.startSpan(A,Z,I),W=(0,JwQ.setSpan)(I,X);return P_1.with(W,J,void 0,X)}}XwQ.NoopTracer=IwQ;function SL6(A){return typeof A==="object"&&typeof A.spanId==="string"&&typeof A.traceId==="string"&&typeof A.traceFlags==="number"}});var x_1=w((VwQ)=>{Object.defineProperty(VwQ,"__esModule",{value:!0});VwQ.ProxyTracer=void 0;var xL6=S_1(),yL6=new xL6.NoopTracer;class KwQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}startSpan(A,Q,B){return this._getTracer().startSpan(A,Q,B)}startActiveSpan(A,Q,B,G){let Z=this._getTracer();return Reflect.apply(Z.startActiveSpan,Z,arguments)}_getTracer(){if(this._delegate)return this._delegate;let A=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!A)return yL6;return this._delegate=A,this._delegate}}VwQ.ProxyTracer=KwQ});var CwQ=w((HwQ)=>{Object.defineProperty(HwQ,"__esModule",{value:!0});HwQ.NoopTracerProvider=void 0;var vL6=S_1();class DwQ{getTracer(A,Q,B){return new vL6.NoopTracer}}HwQ.NoopTracerProvider=DwQ});var y_1=w((UwQ)=>{Object.defineProperty(UwQ,"__esModule",{value:!0});UwQ.ProxyTracerProvider=void 0;var kL6=x_1(),fL6=CwQ(),bL6=new fL6.NoopTracerProvider;class zwQ{getTracer(A,Q,B){var G;return(G=this.getDelegateTracer(A,Q,B))!==null&&G!==void 0?G:new kL6.ProxyTracer(this,A,Q,B)}getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:bL6}setDelegate(A){this._delegate=A}getDelegateTracer(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getTracer(A,Q,B)}}UwQ.ProxyTracerProvider=zwQ});var NwQ=w((wwQ)=>{Object.defineProperty(wwQ,"__esModule",{value:!0});wwQ.SamplingDecision=void 0;var hL6;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(hL6=wwQ.SamplingDecision||(wwQ.SamplingDecision={}))});var LwQ=w((qwQ)=>{Object.defineProperty(qwQ,"__esModule",{value:!0});qwQ.SpanKind=void 0;var gL6;(function(A){A[A.INTERNAL=0]="INTERNAL",A[A.SERVER=1]="SERVER",A[A.CLIENT=2]="CLIENT",A[A.PRODUCER=3]="PRODUCER",A[A.CONSUMER=4]="CONSUMER"})(gL6=qwQ.SpanKind||(qwQ.SpanKind={}))});var OwQ=w((MwQ)=>{Object.defineProperty(MwQ,"__esModule",{value:!0});MwQ.SpanStatusCode=void 0;var uL6;(function(A){A[A.UNSET=0]="UNSET",A[A.OK=1]="OK",A[A.ERROR=2]="ERROR"})(uL6=MwQ.SpanStatusCode||(MwQ.SpanStatusCode={}))});var TwQ=w((RwQ)=>{Object.defineProperty(RwQ,"__esModule",{value:!0});RwQ.validateValue=RwQ.validateKey=void 0;var b_1="[_0-9a-z-*/]",mL6=`[a-z]${b_1}{0,255}`,dL6=`[a-z0-9]${b_1}{0,240}@[a-z]${b_1}{0,13}`,cL6=new RegExp(`^(?:${mL6}|${dL6})$`),pL6=/^[ -~]{0,255}[!-~]$/,lL6=/,|=/;function iL6(A){return cL6.test(A)}RwQ.validateKey=iL6;function nL6(A){return pL6.test(A)&&!lL6.test(A)}RwQ.validateValue=nL6});var kwQ=w((ywQ)=>{Object.defineProperty(ywQ,"__esModule",{value:!0});ywQ.TraceStateImpl=void 0;var jwQ=TwQ(),PwQ=32,oL6=512,SwQ=",",xwQ="=";class h_1{constructor(A){if(this._internalState=new Map,A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+xwQ+this.get(Q)),A},[]).join(SwQ)}_parse(A){if(A.length>oL6)return;if(this._internalState=A.split(SwQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(xwQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,jwQ.validateKey)(Y)&&(0,jwQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>PwQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,PwQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new h_1;return A._internalState=new Map(this._internalState),A}}ywQ.TraceStateImpl=h_1});var hwQ=w((fwQ)=>{Object.defineProperty(fwQ,"__esModule",{value:!0});fwQ.createTraceState=void 0;var rL6=kwQ();function sL6(A){return new rL6.TraceStateImpl(A)}fwQ.createTraceState=sL6});var mwQ=w((gwQ)=>{Object.defineProperty(gwQ,"__esModule",{value:!0});gwQ.context=void 0;var tL6=RHA();gwQ.context=tL6.ContextAPI.getInstance()});var pwQ=w((dwQ)=>{Object.defineProperty(dwQ,"__esModule",{value:!0});dwQ.diag=void 0;var eL6=Tr();dwQ.diag=eL6.DiagAPI.instance()});var nwQ=w((lwQ)=>{Object.defineProperty(lwQ,"__esModule",{value:!0});lwQ.NOOP_METER_PROVIDER=lwQ.NoopMeterProvider=void 0;var AM6=U_1();class g_1{getMeter(A,Q,B){return AM6.NOOP_METER}}lwQ.NoopMeterProvider=g_1;lwQ.NOOP_METER_PROVIDER=new g_1});var swQ=w((owQ)=>{Object.defineProperty(owQ,"__esModule",{value:!0});owQ.MetricsAPI=void 0;var BM6=nwQ(),u_1=_r(),awQ=Tr(),m_1="metrics";class d_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new d_1;return this._instance}setGlobalMeterProvider(A){return(0,u_1.registerGlobal)(m_1,A,awQ.DiagAPI.instance())}getMeterProvider(){return(0,u_1.getGlobal)(m_1)||BM6.NOOP_METER_PROVIDER}getMeter(A,Q,B){return this.getMeterProvider().getMeter(A,Q,B)}disable(){(0,u_1.unregisterGlobal)(m_1,awQ.DiagAPI.instance())}}owQ.MetricsAPI=d_1});var ANQ=w((twQ)=>{Object.defineProperty(twQ,"__esModule",{value:!0});twQ.metrics=void 0;var GM6=swQ();twQ.metrics=GM6.MetricsAPI.getInstance()});var ZNQ=w((BNQ)=>{Object.defineProperty(BNQ,"__esModule",{value:!0});BNQ.NoopTextMapPropagator=void 0;class QNQ{inject(A,Q){}extract(A,Q){return A}fields(){return[]}}BNQ.NoopTextMapPropagator=QNQ});var XNQ=w((JNQ)=>{Object.defineProperty(JNQ,"__esModule",{value:!0});JNQ.deleteBaggage=JNQ.setBaggage=JNQ.getActiveBaggage=JNQ.getBaggage=void 0;var ZM6=RHA(),YM6=MHA(),c_1=(0,YM6.createContextKey)("OpenTelemetry Baggage Key");function YNQ(A){return A.getValue(c_1)||void 0}JNQ.getBaggage=YNQ;function JM6(){return YNQ(ZM6.ContextAPI.getInstance().active())}JNQ.getActiveBaggage=JM6;function IM6(A,Q){return A.setValue(c_1,Q)}JNQ.setBaggage=IM6;function XM6(A){return A.deleteValue(c_1)}JNQ.deleteBaggage=XM6});var DNQ=w((VNQ)=>{Object.defineProperty(VNQ,"__esModule",{value:!0});VNQ.PropagationAPI=void 0;var p_1=_r(),EM6=ZNQ(),WNQ=w_1(),WuA=XNQ(),DM6=X_1(),KNQ=Tr(),l_1="propagation",HM6=new EM6.NoopTextMapPropagator;class i_1{constructor(){this.createBaggage=DM6.createBaggage,this.getBaggage=WuA.getBaggage,this.getActiveBaggage=WuA.getActiveBaggage,this.setBaggage=WuA.setBaggage,this.deleteBaggage=WuA.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new i_1;return this._instance}setGlobalPropagator(A){return(0,p_1.registerGlobal)(l_1,A,KNQ.DiagAPI.instance())}inject(A,Q,B=WNQ.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,Q,B)}extract(A,Q,B=WNQ.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,Q,B)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,p_1.unregisterGlobal)(l_1,KNQ.DiagAPI.instance())}_getGlobalPropagator(){return(0,p_1.getGlobal)(l_1)||HM6}}VNQ.PropagationAPI=i_1});var CNQ=w((HNQ)=>{Object.defineProperty(HNQ,"__esModule",{value:!0});HNQ.propagation=void 0;var FM6=DNQ();HNQ.propagation=FM6.PropagationAPI.getInstance()});var qNQ=w((wNQ)=>{Object.defineProperty(wNQ,"__esModule",{value:!0});wNQ.TraceAPI=void 0;var n_1=_r(),zNQ=y_1(),UNQ=XuA(),r6A=T_1(),$NQ=Tr(),a_1="trace";class o_1{constructor(){this._proxyTracerProvider=new zNQ.ProxyTracerProvider,this.wrapSpanContext=UNQ.wrapSpanContext,this.isSpanContextValid=UNQ.isSpanContextValid,this.deleteSpan=r6A.deleteSpan,this.getSpan=r6A.getSpan,this.getActiveSpan=r6A.getActiveSpan,this.getSpanContext=r6A.getSpanContext,this.setSpan=r6A.setSpan,this.setSpanContext=r6A.setSpanContext}static getInstance(){if(!this._instance)this._instance=new o_1;return this._instance}setGlobalTracerProvider(A){let Q=(0,n_1.registerGlobal)(a_1,this._proxyTracerProvider,$NQ.DiagAPI.instance());if(Q)this._proxyTracerProvider.setDelegate(A);return Q}getTracerProvider(){return(0,n_1.getGlobal)(a_1)||this._proxyTracerProvider}getTracer(A,Q){return this.getTracerProvider().getTracer(A,Q)}disable(){(0,n_1.unregisterGlobal)(a_1,$NQ.DiagAPI.instance()),this._proxyTracerProvider=new zNQ.ProxyTracerProvider}}wNQ.TraceAPI=o_1});var ONQ=w((LNQ)=>{Object.defineProperty(LNQ,"__esModule",{value:!0});LNQ.trace=void 0;var CM6=qNQ();LNQ.trace=CM6.TraceAPI.getInstance()});var O9=w((p7)=>{Object.defineProperty(p7,"__esModule",{value:!0});p7.trace=p7.propagation=p7.metrics=p7.diag=p7.context=p7.INVALID_SPAN_CONTEXT=p7.INVALID_TRACEID=p7.INVALID_SPANID=p7.isValidSpanId=p7.isValidTraceId=p7.isSpanContextValid=p7.createTraceState=p7.TraceFlags=p7.SpanStatusCode=p7.SpanKind=p7.SamplingDecision=p7.ProxyTracerProvider=p7.ProxyTracer=p7.defaultTextMapSetter=p7.defaultTextMapGetter=p7.ValueType=p7.createNoopMeter=p7.DiagLogLevel=p7.DiagConsoleLogger=p7.ROOT_CONTEXT=p7.createContextKey=p7.baggageEntryMetadataFromString=void 0;var zM6=X_1();Object.defineProperty(p7,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return zM6.baggageEntryMetadataFromString}});var RNQ=MHA();Object.defineProperty(p7,"createContextKey",{enumerable:!0,get:function(){return RNQ.createContextKey}});Object.defineProperty(p7,"ROOT_CONTEXT",{enumerable:!0,get:function(){return RNQ.ROOT_CONTEXT}});var UM6=q$Q();Object.defineProperty(p7,"DiagConsoleLogger",{enumerable:!0,get:function(){return UM6.DiagConsoleLogger}});var $M6=GuA();Object.defineProperty(p7,"DiagLogLevel",{enumerable:!0,get:function(){return $M6.DiagLogLevel}});var wM6=U_1();Object.defineProperty(p7,"createNoopMeter",{enumerable:!0,get:function(){return wM6.createNoopMeter}});var NM6=v$Q();Object.defineProperty(p7,"ValueType",{enumerable:!0,get:function(){return NM6.ValueType}});var _NQ=w_1();Object.defineProperty(p7,"defaultTextMapGetter",{enumerable:!0,get:function(){return _NQ.defaultTextMapGetter}});Object.defineProperty(p7,"defaultTextMapSetter",{enumerable:!0,get:function(){return _NQ.defaultTextMapSetter}});var qM6=x_1();Object.defineProperty(p7,"ProxyTracer",{enumerable:!0,get:function(){return qM6.ProxyTracer}});var LM6=y_1();Object.defineProperty(p7,"ProxyTracerProvider",{enumerable:!0,get:function(){return LM6.ProxyTracerProvider}});var MM6=NwQ();Object.defineProperty(p7,"SamplingDecision",{enumerable:!0,get:function(){return MM6.SamplingDecision}});var OM6=LwQ();Object.defineProperty(p7,"SpanKind",{enumerable:!0,get:function(){return OM6.SpanKind}});var RM6=OwQ();Object.defineProperty(p7,"SpanStatusCode",{enumerable:!0,get:function(){return RM6.SpanStatusCode}});var _M6=O_1();Object.defineProperty(p7,"TraceFlags",{enumerable:!0,get:function(){return _M6.TraceFlags}});var TM6=hwQ();Object.defineProperty(p7,"createTraceState",{enumerable:!0,get:function(){return TM6.createTraceState}});var r_1=XuA();Object.defineProperty(p7,"isSpanContextValid",{enumerable:!0,get:function(){return r_1.isSpanContextValid}});Object.defineProperty(p7,"isValidTraceId",{enumerable:!0,get:function(){return r_1.isValidTraceId}});Object.defineProperty(p7,"isValidSpanId",{enumerable:!0,get:function(){return r_1.isValidSpanId}});var s_1=JuA();Object.defineProperty(p7,"INVALID_SPANID",{enumerable:!0,get:function(){return s_1.INVALID_SPANID}});Object.defineProperty(p7,"INVALID_TRACEID",{enumerable:!0,get:function(){return s_1.INVALID_TRACEID}});Object.defineProperty(p7,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return s_1.INVALID_SPAN_CONTEXT}});var TNQ=mwQ();Object.defineProperty(p7,"context",{enumerable:!0,get:function(){return TNQ.context}});var jNQ=pwQ();Object.defineProperty(p7,"diag",{enumerable:!0,get:function(){return jNQ.diag}});var PNQ=ANQ();Object.defineProperty(p7,"metrics",{enumerable:!0,get:function(){return PNQ.metrics}});var SNQ=CNQ();Object.defineProperty(p7,"propagation",{enumerable:!0,get:function(){return SNQ.propagation}});var xNQ=ONQ();Object.defineProperty(p7,"trace",{enumerable:!0,get:function(){return xNQ.trace}});p7.default={context:TNQ.context,diag:jNQ.diag,metrics:PNQ.metrics,propagation:SNQ.propagation,trace:xNQ.trace}});var vNQ=w((yNQ)=>{Object.defineProperty(yNQ,"__esModule",{value:!0});yNQ.SeverityNumber=void 0;var SM6;(function(A){A[A.UNSPECIFIED=0]="UNSPECIFIED",A[A.TRACE=1]="TRACE",A[A.TRACE2=2]="TRACE2",A[A.TRACE3=3]="TRACE3",A[A.TRACE4=4]="TRACE4",A[A.DEBUG=5]="DEBUG",A[A.DEBUG2=6]="DEBUG2",A[A.DEBUG3=7]="DEBUG3",A[A.DEBUG4=8]="DEBUG4",A[A.INFO=9]="INFO",A[A.INFO2=10]="INFO2",A[A.INFO3=11]="INFO3",A[A.INFO4=12]="INFO4",A[A.WARN=13]="WARN",A[A.WARN2=14]="WARN2",A[A.WARN3=15]="WARN3",A[A.WARN4=16]="WARN4",A[A.ERROR=17]="ERROR",A[A.ERROR2=18]="ERROR2",A[A.ERROR3=19]="ERROR3",A[A.ERROR4=20]="ERROR4",A[A.FATAL=21]="FATAL",A[A.FATAL2=22]="FATAL2",A[A.FATAL3=23]="FATAL3",A[A.FATAL4=24]="FATAL4"})(SM6=yNQ.SeverityNumber||(yNQ.SeverityNumber={}))});var KuA=w((kNQ)=>{Object.defineProperty(kNQ,"__esModule",{value:!0});kNQ.NOOP_LOGGER=kNQ.NoopLogger=void 0;class e_1{emit(A){}}kNQ.NoopLogger=e_1;kNQ.NOOP_LOGGER=new e_1});var VuA=w((bNQ)=>{Object.defineProperty(bNQ,"__esModule",{value:!0});bNQ.NOOP_LOGGER_PROVIDER=bNQ.NoopLoggerProvider=void 0;var yM6=KuA();class AT1{getLogger(A,Q,B){return new yM6.NoopLogger}}bNQ.NoopLoggerProvider=AT1;bNQ.NOOP_LOGGER_PROVIDER=new AT1});var QT1=w((uNQ)=>{Object.defineProperty(uNQ,"__esModule",{value:!0});uNQ.ProxyLogger=void 0;var kM6=KuA();class gNQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}emit(A){this._getLogger().emit(A)}_getLogger(){if(this._delegate)return this._delegate;let A=this._provider._getDelegateLogger(this.name,this.version,this.options);if(!A)return kM6.NOOP_LOGGER;return this._delegate=A,this._delegate}}uNQ.ProxyLogger=gNQ});var BT1=w((cNQ)=>{Object.defineProperty(cNQ,"__esModule",{value:!0});cNQ.ProxyLoggerProvider=void 0;var fM6=VuA(),bM6=QT1();class dNQ{getLogger(A,Q,B){var G;return(G=this._getDelegateLogger(A,Q,B))!==null&&G!==void 0?G:new bM6.ProxyLogger(this,A,Q,B)}_getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:fM6.NOOP_LOGGER_PROVIDER}_setDelegate(A){this._delegate=A}_getDelegateLogger(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getLogger(A,Q,B)}}cNQ.ProxyLoggerProvider=dNQ});var nNQ=w((lNQ)=>{Object.defineProperty(lNQ,"__esModule",{value:!0});lNQ._globalThis=void 0;lNQ._globalThis=typeof globalThis==="object"?globalThis:global});var aNQ=w((GT1)=>{Object.defineProperty(GT1,"__esModule",{value:!0});GT1._globalThis=void 0;var hM6=nNQ();Object.defineProperty(GT1,"_globalThis",{enumerable:!0,get:function(){return hM6._globalThis}})});var oNQ=w((ZT1)=>{Object.defineProperty(ZT1,"__esModule",{value:!0});ZT1._globalThis=void 0;var uM6=aNQ();Object.defineProperty(ZT1,"_globalThis",{enumerable:!0,get:function(){return uM6._globalThis}})});var tNQ=w((rNQ)=>{Object.defineProperty(rNQ,"__esModule",{value:!0});rNQ.API_BACKWARDS_COMPATIBILITY_VERSION=rNQ.makeGetter=rNQ._global=rNQ.GLOBAL_LOGS_API_KEY=void 0;var dM6=oNQ();rNQ.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");rNQ._global=dM6._globalThis;function cM6(A,Q,B){return(G)=>G===A?Q:B}rNQ.makeGetter=cM6;rNQ.API_BACKWARDS_COMPATIBILITY_VERSION=1});var BqQ=w((AqQ)=>{Object.defineProperty(AqQ,"__esModule",{value:!0});AqQ.LogsAPI=void 0;var aq=tNQ(),nM6=VuA(),eNQ=BT1();class YT1{constructor(){this._proxyLoggerProvider=new eNQ.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new YT1;return this._instance}setGlobalLoggerProvider(A){if(aq._global[aq.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return aq._global[aq.GLOBAL_LOGS_API_KEY]=(0,aq.makeGetter)(aq.API_BACKWARDS_COMPATIBILITY_VERSION,A,nM6.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider._setDelegate(A),A}getLoggerProvider(){var A,Q;return(Q=(A=aq._global[aq.GLOBAL_LOGS_API_KEY])===null||A===void 0?void 0:A.call(aq._global,aq.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Q!==void 0?Q:this._proxyLoggerProvider}getLogger(A,Q,B){return this.getLoggerProvider().getLogger(A,Q,B)}disable(){delete aq._global[aq.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new eNQ.ProxyLoggerProvider}}AqQ.LogsAPI=YT1});var JT1=w((Rk)=>{Object.defineProperty(Rk,"__esModule",{value:!0});Rk.logs=Rk.ProxyLoggerProvider=Rk.ProxyLogger=Rk.NoopLoggerProvider=Rk.NOOP_LOGGER_PROVIDER=Rk.NoopLogger=Rk.NOOP_LOGGER=Rk.SeverityNumber=void 0;var aM6=vNQ();Object.defineProperty(Rk,"SeverityNumber",{enumerable:!0,get:function(){return aM6.SeverityNumber}});var GqQ=KuA();Object.defineProperty(Rk,"NOOP_LOGGER",{enumerable:!0,get:function(){return GqQ.NOOP_LOGGER}});Object.defineProperty(Rk,"NoopLogger",{enumerable:!0,get:function(){return GqQ.NoopLogger}});var ZqQ=VuA();Object.defineProperty(Rk,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return ZqQ.NOOP_LOGGER_PROVIDER}});Object.defineProperty(Rk,"NoopLoggerProvider",{enumerable:!0,get:function(){return ZqQ.NoopLoggerProvider}});var oM6=QT1();Object.defineProperty(Rk,"ProxyLogger",{enumerable:!0,get:function(){return oM6.ProxyLogger}});var rM6=BT1();Object.defineProperty(Rk,"ProxyLoggerProvider",{enumerable:!0,get:function(){return rM6.ProxyLoggerProvider}});var sM6=BqQ();Rk.logs=sM6.LogsAPI.getInstance()});var _HA=w((JqQ)=>{Object.defineProperty(JqQ,"__esModule",{value:!0});JqQ.isTracingSuppressed=JqQ.unsuppressTracing=JqQ.suppressTracing=void 0;var tM6=O9(),IT1=(0,tM6.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function eM6(A){return A.setValue(IT1,!0)}JqQ.suppressTracing=eM6;function AO6(A){return A.deleteValue(IT1)}JqQ.unsuppressTracing=AO6;function QO6(A){return A.getValue(IT1)===!0}JqQ.isTracingSuppressed=QO6});var XT1=w((XqQ)=>{Object.defineProperty(XqQ,"__esModule",{value:!0});XqQ.BAGGAGE_MAX_TOTAL_LENGTH=XqQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=XqQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=XqQ.BAGGAGE_HEADER=XqQ.BAGGAGE_ITEMS_SEPARATOR=XqQ.BAGGAGE_PROPERTIES_SEPARATOR=XqQ.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;XqQ.BAGGAGE_KEY_PAIR_SEPARATOR="=";XqQ.BAGGAGE_PROPERTIES_SEPARATOR=";";XqQ.BAGGAGE_ITEMS_SEPARATOR=",";XqQ.BAGGAGE_HEADER="baggage";XqQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;XqQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;XqQ.BAGGAGE_MAX_TOTAL_LENGTH=8192});var WT1=w((VqQ)=>{Object.defineProperty(VqQ,"__esModule",{value:!0});VqQ.parseKeyPairsIntoRecord=VqQ.parsePairKeyValue=VqQ.getKeyPairs=VqQ.serializeKeyPairs=void 0;var KO6=O9(),jr=XT1();function VO6(A){return A.reduce((Q,B)=>{let G=`${Q}${Q!==""?jr.BAGGAGE_ITEMS_SEPARATOR:""}${B}`;return G.length>jr.BAGGAGE_MAX_TOTAL_LENGTH?Q:G},"")}VqQ.serializeKeyPairs=VO6;function EO6(A){return A.getAllEntries().map(([Q,B])=>{let G=`${encodeURIComponent(Q)}=${encodeURIComponent(B.value)}`;if(B.metadata!==void 0)G+=jr.BAGGAGE_PROPERTIES_SEPARATOR+B.metadata.toString();return G})}VqQ.getKeyPairs=EO6;function KqQ(A){let Q=A.split(jr.BAGGAGE_PROPERTIES_SEPARATOR);if(Q.length<=0)return;let B=Q.shift();if(!B)return;let G=B.indexOf(jr.BAGGAGE_KEY_PAIR_SEPARATOR);if(G<=0)return;let Z=decodeURIComponent(B.substring(0,G).trim()),Y=decodeURIComponent(B.substring(G+1).trim()),J;if(Q.length>0)J=(0,KO6.baggageEntryMetadataFromString)(Q.join(jr.BAGGAGE_PROPERTIES_SEPARATOR));return{key:Z,value:Y,metadata:J}}VqQ.parsePairKeyValue=KqQ;function DO6(A){let Q={};if(typeof A==="string"&&A.length>0)A.split(jr.BAGGAGE_ITEMS_SEPARATOR).forEach((B)=>{let G=KqQ(B);if(G!==void 0&&G.value.length>0)Q[G.key]=G.value});return Q}VqQ.parseKeyPairsIntoRecord=DO6});var CqQ=w((HqQ)=>{Object.defineProperty(HqQ,"__esModule",{value:!0});HqQ.W3CBaggagePropagator=void 0;var KT1=O9(),zO6=_HA(),Pr=XT1(),VT1=WT1();class DqQ{inject(A,Q,B){let G=KT1.propagation.getBaggage(A);if(!G||(0,zO6.isTracingSuppressed)(A))return;let Z=(0,VT1.getKeyPairs)(G).filter((J)=>{return J.length<=Pr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,Pr.BAGGAGE_MAX_NAME_VALUE_PAIRS),Y=(0,VT1.serializeKeyPairs)(Z);if(Y.length>0)B.set(Q,Pr.BAGGAGE_HEADER,Y)}extract(A,Q,B){let G=B.get(Q,Pr.BAGGAGE_HEADER),Z=Array.isArray(G)?G.join(Pr.BAGGAGE_ITEMS_SEPARATOR):G;if(!Z)return A;let Y={};if(Z.length===0)return A;if(Z.split(Pr.BAGGAGE_ITEMS_SEPARATOR).forEach((I)=>{let X=(0,VT1.parsePairKeyValue)(I);if(X){let W={value:X.value};if(X.metadata)W.metadata=X.metadata;Y[X.key]=W}}),Object.entries(Y).length===0)return A;return KT1.propagation.setBaggage(A,KT1.propagation.createBaggage(Y))}fields(){return[Pr.BAGGAGE_HEADER]}}HqQ.W3CBaggagePropagator=DqQ});var wqQ=w((UqQ)=>{Object.defineProperty(UqQ,"__esModule",{value:!0});UqQ.AnchoredClock=void 0;class zqQ{_monotonicClock;_epochMillis;_performanceMillis;constructor(A,Q){this._monotonicClock=Q,this._epochMillis=A.now(),this._performanceMillis=Q.now()}now(){let A=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+A}}UqQ.AnchoredClock=zqQ});var _qQ=w((OqQ)=>{Object.defineProperty(OqQ,"__esModule",{value:!0});OqQ.isAttributeValue=OqQ.isAttributeKey=OqQ.sanitizeAttributes=void 0;var NqQ=O9();function UO6(A){let Q={};if(typeof A!=="object"||A==null)return Q;for(let[B,G]of Object.entries(A)){if(!qqQ(B)){NqQ.diag.warn(`Invalid attribute key: ${B}`);continue}if(!LqQ(G)){NqQ.diag.warn(`Invalid attribute value set for key: ${B}`);continue}if(Array.isArray(G))Q[B]=G.slice();else Q[B]=G}return Q}OqQ.sanitizeAttributes=UO6;function qqQ(A){return typeof A==="string"&&A.length>0}OqQ.isAttributeKey=qqQ;function LqQ(A){if(A==null)return!0;if(Array.isArray(A))return $O6(A);return MqQ(A)}OqQ.isAttributeValue=LqQ;function $O6(A){let Q;for(let B of A){if(B==null)continue;if(!Q){if(MqQ(B)){Q=typeof B;continue}return!1}if(typeof B===Q)continue;return!1}return!0}function MqQ(A){switch(typeof A){case"number":case"boolean":case"string":return!0}return!1}});var ET1=w((TqQ)=>{Object.defineProperty(TqQ,"__esModule",{value:!0});TqQ.loggingErrorHandler=void 0;var qO6=O9();function LO6(){return(A)=>{qO6.diag.error(MO6(A))}}TqQ.loggingErrorHandler=LO6;function MO6(A){if(typeof A==="string")return A;else return JSON.stringify(OO6(A))}function OO6(A){let Q={},B=A;while(B!==null)Object.getOwnPropertyNames(B).forEach((G)=>{if(Q[G])return;let Z=B[G];if(Z)Q[G]=String(Z)}),B=Object.getPrototypeOf(B);return Q}});var yqQ=w((SqQ)=>{Object.defineProperty(SqQ,"__esModule",{value:!0});SqQ.globalErrorHandler=SqQ.setGlobalErrorHandler=void 0;var RO6=ET1(),PqQ=(0,RO6.loggingErrorHandler)();function _O6(A){PqQ=A}SqQ.setGlobalErrorHandler=_O6;function TO6(A){try{PqQ(A)}catch{}}SqQ.globalErrorHandler=TO6});var gqQ=w((bqQ)=>{Object.defineProperty(bqQ,"__esModule",{value:!0});bqQ.getStringListFromEnv=bqQ.getBooleanFromEnv=bqQ.getStringFromEnv=bqQ.getNumberFromEnv=void 0;var vqQ=O9(),kqQ=qA("util");function PO6(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;let B=Number(Q);if(isNaN(B)){vqQ.diag.warn(`Unknown value ${(0,kqQ.inspect)(Q)} for ${A}, expected a number, using defaults`);return}return B}bqQ.getNumberFromEnv=PO6;function fqQ(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;return Q}bqQ.getStringFromEnv=fqQ;function SO6(A){let Q=process.env[A]?.trim().toLowerCase();if(Q==null||Q==="")return!1;if(Q==="true")return!0;else if(Q==="false")return!1;else return vqQ.diag.warn(`Unknown value ${(0,kqQ.inspect)(Q)} for ${A}, expected 'true' or 'false', falling back to 'false' (default)`),!1}bqQ.getBooleanFromEnv=SO6;function xO6(A){return fqQ(A)?.split(",").map((Q)=>Q.trim()).filter((Q)=>Q!=="")}bqQ.getStringListFromEnv=xO6});var dqQ=w((uqQ)=>{Object.defineProperty(uqQ,"__esModule",{value:!0});uqQ._globalThis=void 0;uqQ._globalThis=typeof globalThis==="object"?globalThis:global});var lqQ=w((cqQ)=>{Object.defineProperty(cqQ,"__esModule",{value:!0});cqQ.otperformance=void 0;var fO6=qA("perf_hooks");cqQ.otperformance=fO6.performance});var aqQ=w((iqQ)=>{Object.defineProperty(iqQ,"__esModule",{value:!0});iqQ.VERSION=void 0;iqQ.VERSION="2.1.0"});var DT1=w((oqQ)=>{Object.defineProperty(oqQ,"__esModule",{value:!0});oqQ.createConstMap=void 0;function bO6(A){let Q={},B=A.length;for(let G=0;G<B;G++){let Z=A[G];if(Z)Q[String(Z).toUpperCase().replace(/[-.]/g,"_")]=Z}return Q}oqQ.createConstMap=bO6});var n_Q=w((u_Q)=>{Object.defineProperty(u_Q,"__esModule",{value:!0});u_Q.SEMATTRS_NET_HOST_CARRIER_ICC=u_Q.SEMATTRS_NET_HOST_CARRIER_MNC=u_Q.SEMATTRS_NET_HOST_CARRIER_MCC=u_Q.SEMATTRS_NET_HOST_CARRIER_NAME=u_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=u_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=u_Q.SEMATTRS_NET_HOST_NAME=u_Q.SEMATTRS_NET_HOST_PORT=u_Q.SEMATTRS_NET_HOST_IP=u_Q.SEMATTRS_NET_PEER_NAME=u_Q.SEMATTRS_NET_PEER_PORT=u_Q.SEMATTRS_NET_PEER_IP=u_Q.SEMATTRS_NET_TRANSPORT=u_Q.SEMATTRS_FAAS_INVOKED_REGION=u_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=u_Q.SEMATTRS_FAAS_INVOKED_NAME=u_Q.SEMATTRS_FAAS_COLDSTART=u_Q.SEMATTRS_FAAS_CRON=u_Q.SEMATTRS_FAAS_TIME=u_Q.SEMATTRS_FAAS_DOCUMENT_NAME=u_Q.SEMATTRS_FAAS_DOCUMENT_TIME=u_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=u_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=u_Q.SEMATTRS_FAAS_EXECUTION=u_Q.SEMATTRS_FAAS_TRIGGER=u_Q.SEMATTRS_EXCEPTION_ESCAPED=u_Q.SEMATTRS_EXCEPTION_STACKTRACE=u_Q.SEMATTRS_EXCEPTION_MESSAGE=u_Q.SEMATTRS_EXCEPTION_TYPE=u_Q.SEMATTRS_DB_SQL_TABLE=u_Q.SEMATTRS_DB_MONGODB_COLLECTION=u_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=u_Q.SEMATTRS_DB_HBASE_NAMESPACE=u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=u_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=u_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=u_Q.SEMATTRS_DB_CASSANDRA_TABLE=u_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=u_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=u_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=u_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=u_Q.SEMATTRS_DB_OPERATION=u_Q.SEMATTRS_DB_STATEMENT=u_Q.SEMATTRS_DB_NAME=u_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=u_Q.SEMATTRS_DB_USER=u_Q.SEMATTRS_DB_CONNECTION_STRING=u_Q.SEMATTRS_DB_SYSTEM=u_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;u_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=u_Q.SEMATTRS_MESSAGING_DESTINATION=u_Q.SEMATTRS_MESSAGING_SYSTEM=u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=u_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=u_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=u_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=u_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=u_Q.SEMATTRS_AWS_DYNAMODB_SELECT=u_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=u_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=u_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=u_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=u_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=u_Q.SEMATTRS_HTTP_CLIENT_IP=u_Q.SEMATTRS_HTTP_ROUTE=u_Q.SEMATTRS_HTTP_SERVER_NAME=u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=u_Q.SEMATTRS_HTTP_USER_AGENT=u_Q.SEMATTRS_HTTP_FLAVOR=u_Q.SEMATTRS_HTTP_STATUS_CODE=u_Q.SEMATTRS_HTTP_SCHEME=u_Q.SEMATTRS_HTTP_HOST=u_Q.SEMATTRS_HTTP_TARGET=u_Q.SEMATTRS_HTTP_URL=u_Q.SEMATTRS_HTTP_METHOD=u_Q.SEMATTRS_CODE_LINENO=u_Q.SEMATTRS_CODE_FILEPATH=u_Q.SEMATTRS_CODE_NAMESPACE=u_Q.SEMATTRS_CODE_FUNCTION=u_Q.SEMATTRS_THREAD_NAME=u_Q.SEMATTRS_THREAD_ID=u_Q.SEMATTRS_ENDUSER_SCOPE=u_Q.SEMATTRS_ENDUSER_ROLE=u_Q.SEMATTRS_ENDUSER_ID=u_Q.SEMATTRS_PEER_SERVICE=void 0;u_Q.DBSYSTEMVALUES_FILEMAKER=u_Q.DBSYSTEMVALUES_DERBY=u_Q.DBSYSTEMVALUES_FIREBIRD=u_Q.DBSYSTEMVALUES_ADABAS=u_Q.DBSYSTEMVALUES_CACHE=u_Q.DBSYSTEMVALUES_EDB=u_Q.DBSYSTEMVALUES_FIRSTSQL=u_Q.DBSYSTEMVALUES_INGRES=u_Q.DBSYSTEMVALUES_HANADB=u_Q.DBSYSTEMVALUES_MAXDB=u_Q.DBSYSTEMVALUES_PROGRESS=u_Q.DBSYSTEMVALUES_HSQLDB=u_Q.DBSYSTEMVALUES_CLOUDSCAPE=u_Q.DBSYSTEMVALUES_HIVE=u_Q.DBSYSTEMVALUES_REDSHIFT=u_Q.DBSYSTEMVALUES_POSTGRESQL=u_Q.DBSYSTEMVALUES_DB2=u_Q.DBSYSTEMVALUES_ORACLE=u_Q.DBSYSTEMVALUES_MYSQL=u_Q.DBSYSTEMVALUES_MSSQL=u_Q.DBSYSTEMVALUES_OTHER_SQL=u_Q.SemanticAttributes=u_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=u_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=u_Q.SEMATTRS_MESSAGE_ID=u_Q.SEMATTRS_MESSAGE_TYPE=u_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=u_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=u_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=u_Q.SEMATTRS_RPC_JSONRPC_VERSION=u_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=u_Q.SEMATTRS_RPC_METHOD=u_Q.SEMATTRS_RPC_SERVICE=u_Q.SEMATTRS_RPC_SYSTEM=u_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=u_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=u_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=u_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=u_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=u_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=u_Q.SEMATTRS_MESSAGING_CONSUMER_ID=u_Q.SEMATTRS_MESSAGING_OPERATION=u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=u_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=u_Q.SEMATTRS_MESSAGING_MESSAGE_ID=u_Q.SEMATTRS_MESSAGING_URL=u_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=u_Q.SEMATTRS_MESSAGING_PROTOCOL=u_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;u_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=u_Q.FaasDocumentOperationValues=u_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=u_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=u_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=u_Q.FaasTriggerValues=u_Q.FAASTRIGGERVALUES_OTHER=u_Q.FAASTRIGGERVALUES_TIMER=u_Q.FAASTRIGGERVALUES_PUBSUB=u_Q.FAASTRIGGERVALUES_HTTP=u_Q.FAASTRIGGERVALUES_DATASOURCE=u_Q.DbCassandraConsistencyLevelValues=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=u_Q.DbSystemValues=u_Q.DBSYSTEMVALUES_COCKROACHDB=u_Q.DBSYSTEMVALUES_MEMCACHED=u_Q.DBSYSTEMVALUES_ELASTICSEARCH=u_Q.DBSYSTEMVALUES_GEODE=u_Q.DBSYSTEMVALUES_NEO4J=u_Q.DBSYSTEMVALUES_DYNAMODB=u_Q.DBSYSTEMVALUES_COSMOSDB=u_Q.DBSYSTEMVALUES_COUCHDB=u_Q.DBSYSTEMVALUES_COUCHBASE=u_Q.DBSYSTEMVALUES_REDIS=u_Q.DBSYSTEMVALUES_MONGODB=u_Q.DBSYSTEMVALUES_HBASE=u_Q.DBSYSTEMVALUES_CASSANDRA=u_Q.DBSYSTEMVALUES_COLDFUSION=u_Q.DBSYSTEMVALUES_H2=u_Q.DBSYSTEMVALUES_VERTICA=u_Q.DBSYSTEMVALUES_TERADATA=u_Q.DBSYSTEMVALUES_SYBASE=u_Q.DBSYSTEMVALUES_SQLITE=u_Q.DBSYSTEMVALUES_POINTBASE=u_Q.DBSYSTEMVALUES_PERVASIVE=u_Q.DBSYSTEMVALUES_NETEZZA=u_Q.DBSYSTEMVALUES_MARIADB=u_Q.DBSYSTEMVALUES_INTERBASE=u_Q.DBSYSTEMVALUES_INSTANTDB=u_Q.DBSYSTEMVALUES_INFORMIX=void 0;u_Q.MESSAGINGOPERATIONVALUES_RECEIVE=u_Q.MessagingDestinationKindValues=u_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=u_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=u_Q.HttpFlavorValues=u_Q.HTTPFLAVORVALUES_QUIC=u_Q.HTTPFLAVORVALUES_SPDY=u_Q.HTTPFLAVORVALUES_HTTP_2_0=u_Q.HTTPFLAVORVALUES_HTTP_1_1=u_Q.HTTPFLAVORVALUES_HTTP_1_0=u_Q.NetHostConnectionSubtypeValues=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=u_Q.NetHostConnectionTypeValues=u_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=u_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=u_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=u_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=u_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=u_Q.NetTransportValues=u_Q.NETTRANSPORTVALUES_OTHER=u_Q.NETTRANSPORTVALUES_INPROC=u_Q.NETTRANSPORTVALUES_PIPE=u_Q.NETTRANSPORTVALUES_UNIX=u_Q.NETTRANSPORTVALUES_IP=u_Q.NETTRANSPORTVALUES_IP_UDP=u_Q.NETTRANSPORTVALUES_IP_TCP=u_Q.FaasInvokedProviderValues=u_Q.FAASINVOKEDPROVIDERVALUES_GCP=u_Q.FAASINVOKEDPROVIDERVALUES_AZURE=u_Q.FAASINVOKEDPROVIDERVALUES_AWS=void 0;u_Q.MessageTypeValues=u_Q.MESSAGETYPEVALUES_RECEIVED=u_Q.MESSAGETYPEVALUES_SENT=u_Q.RpcGrpcStatusCodeValues=u_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=u_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=u_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=u_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=u_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=u_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=u_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=u_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=u_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=u_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=u_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=u_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=u_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=u_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=u_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=u_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=u_Q.RPCGRPCSTATUSCODEVALUES_OK=u_Q.MessagingOperationValues=u_Q.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var oq=DT1(),sqQ="aws.lambda.invoked_arn",tqQ="db.system",eqQ="db.connection_string",ALQ="db.user",QLQ="db.jdbc.driver_classname",BLQ="db.name",GLQ="db.statement",ZLQ="db.operation",YLQ="db.mssql.instance_name",JLQ="db.cassandra.keyspace",ILQ="db.cassandra.page_size",XLQ="db.cassandra.consistency_level",WLQ="db.cassandra.table",KLQ="db.cassandra.idempotence",VLQ="db.cassandra.speculative_execution_count",ELQ="db.cassandra.coordinator.id",DLQ="db.cassandra.coordinator.dc",HLQ="db.hbase.namespace",FLQ="db.redis.database_index",CLQ="db.mongodb.collection",zLQ="db.sql.table",ULQ="exception.type",$LQ="exception.message",wLQ="exception.stacktrace",NLQ="exception.escaped",qLQ="faas.trigger",LLQ="faas.execution",MLQ="faas.document.collection",OLQ="faas.document.operation",RLQ="faas.document.time",_LQ="faas.document.name",TLQ="faas.time",jLQ="faas.cron",PLQ="faas.coldstart",SLQ="faas.invoked_name",xLQ="faas.invoked_provider",yLQ="faas.invoked_region",vLQ="net.transport",kLQ="net.peer.ip",fLQ="net.peer.port",bLQ="net.peer.name",hLQ="net.host.ip",gLQ="net.host.port",uLQ="net.host.name",mLQ="net.host.connection.type",dLQ="net.host.connection.subtype",cLQ="net.host.carrier.name",pLQ="net.host.carrier.mcc",lLQ="net.host.carrier.mnc",iLQ="net.host.carrier.icc",nLQ="peer.service",aLQ="enduser.id",oLQ="enduser.role",rLQ="enduser.scope",sLQ="thread.id",tLQ="thread.name",eLQ="code.function",AMQ="code.namespace",QMQ="code.filepath",BMQ="code.lineno",GMQ="http.method",ZMQ="http.url",YMQ="http.target",JMQ="http.host",IMQ="http.scheme",XMQ="http.status_code",WMQ="http.flavor",KMQ="http.user_agent",VMQ="http.request_content_length",EMQ="http.request_content_length_uncompressed",DMQ="http.response_content_length",HMQ="http.response_content_length_uncompressed",FMQ="http.server_name",CMQ="http.route",zMQ="http.client_ip",UMQ="aws.dynamodb.table_names",$MQ="aws.dynamodb.consumed_capacity",wMQ="aws.dynamodb.item_collection_metrics",NMQ="aws.dynamodb.provisioned_read_capacity",qMQ="aws.dynamodb.provisioned_write_capacity",LMQ="aws.dynamodb.consistent_read",MMQ="aws.dynamodb.projection",OMQ="aws.dynamodb.limit",RMQ="aws.dynamodb.attributes_to_get",_MQ="aws.dynamodb.index_name",TMQ="aws.dynamodb.select",jMQ="aws.dynamodb.global_secondary_indexes",PMQ="aws.dynamodb.local_secondary_indexes",SMQ="aws.dynamodb.exclusive_start_table",xMQ="aws.dynamodb.table_count",yMQ="aws.dynamodb.scan_forward",vMQ="aws.dynamodb.segment",kMQ="aws.dynamodb.total_segments",fMQ="aws.dynamodb.count",bMQ="aws.dynamodb.scanned_count",hMQ="aws.dynamodb.attribute_definitions",gMQ="aws.dynamodb.global_secondary_index_updates",uMQ="messaging.system",mMQ="messaging.destination",dMQ="messaging.destination_kind",cMQ="messaging.temp_destination",pMQ="messaging.protocol",lMQ="messaging.protocol_version",iMQ="messaging.url",nMQ="messaging.message_id",aMQ="messaging.conversation_id",oMQ="messaging.message_payload_size_bytes",rMQ="messaging.message_payload_compressed_size_bytes",sMQ="messaging.operation",tMQ="messaging.consumer_id",eMQ="messaging.rabbitmq.routing_key",AOQ="messaging.kafka.message_key",QOQ="messaging.kafka.consumer_group",BOQ="messaging.kafka.client_id",GOQ="messaging.kafka.partition",ZOQ="messaging.kafka.tombstone",YOQ="rpc.system",JOQ="rpc.service",IOQ="rpc.method",XOQ="rpc.grpc.status_code",WOQ="rpc.jsonrpc.version",KOQ="rpc.jsonrpc.request_id",VOQ="rpc.jsonrpc.error_code",EOQ="rpc.jsonrpc.error_message",DOQ="message.type",HOQ="message.id",FOQ="message.compressed_size",COQ="message.uncompressed_size";u_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=sqQ;u_Q.SEMATTRS_DB_SYSTEM=tqQ;u_Q.SEMATTRS_DB_CONNECTION_STRING=eqQ;u_Q.SEMATTRS_DB_USER=ALQ;u_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=QLQ;u_Q.SEMATTRS_DB_NAME=BLQ;u_Q.SEMATTRS_DB_STATEMENT=GLQ;u_Q.SEMATTRS_DB_OPERATION=ZLQ;u_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=YLQ;u_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=JLQ;u_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=ILQ;u_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=XLQ;u_Q.SEMATTRS_DB_CASSANDRA_TABLE=WLQ;u_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=KLQ;u_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=VLQ;u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=ELQ;u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=DLQ;u_Q.SEMATTRS_DB_HBASE_NAMESPACE=HLQ;u_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=FLQ;u_Q.SEMATTRS_DB_MONGODB_COLLECTION=CLQ;u_Q.SEMATTRS_DB_SQL_TABLE=zLQ;u_Q.SEMATTRS_EXCEPTION_TYPE=ULQ;u_Q.SEMATTRS_EXCEPTION_MESSAGE=$LQ;u_Q.SEMATTRS_EXCEPTION_STACKTRACE=wLQ;u_Q.SEMATTRS_EXCEPTION_ESCAPED=NLQ;u_Q.SEMATTRS_FAAS_TRIGGER=qLQ;u_Q.SEMATTRS_FAAS_EXECUTION=LLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=MLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=OLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_TIME=RLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_NAME=_LQ;u_Q.SEMATTRS_FAAS_TIME=TLQ;u_Q.SEMATTRS_FAAS_CRON=jLQ;u_Q.SEMATTRS_FAAS_COLDSTART=PLQ;u_Q.SEMATTRS_FAAS_INVOKED_NAME=SLQ;u_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=xLQ;u_Q.SEMATTRS_FAAS_INVOKED_REGION=yLQ;u_Q.SEMATTRS_NET_TRANSPORT=vLQ;u_Q.SEMATTRS_NET_PEER_IP=kLQ;u_Q.SEMATTRS_NET_PEER_PORT=fLQ;u_Q.SEMATTRS_NET_PEER_NAME=bLQ;u_Q.SEMATTRS_NET_HOST_IP=hLQ;u_Q.SEMATTRS_NET_HOST_PORT=gLQ;u_Q.SEMATTRS_NET_HOST_NAME=uLQ;u_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=mLQ;u_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=dLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_NAME=cLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_MCC=pLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_MNC=lLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_ICC=iLQ;u_Q.SEMATTRS_PEER_SERVICE=nLQ;u_Q.SEMATTRS_ENDUSER_ID=aLQ;u_Q.SEMATTRS_ENDUSER_ROLE=oLQ;u_Q.SEMATTRS_ENDUSER_SCOPE=rLQ;u_Q.SEMATTRS_THREAD_ID=sLQ;u_Q.SEMATTRS_THREAD_NAME=tLQ;u_Q.SEMATTRS_CODE_FUNCTION=eLQ;u_Q.SEMATTRS_CODE_NAMESPACE=AMQ;u_Q.SEMATTRS_CODE_FILEPATH=QMQ;u_Q.SEMATTRS_CODE_LINENO=BMQ;u_Q.SEMATTRS_HTTP_METHOD=GMQ;u_Q.SEMATTRS_HTTP_URL=ZMQ;u_Q.SEMATTRS_HTTP_TARGET=YMQ;u_Q.SEMATTRS_HTTP_HOST=JMQ;u_Q.SEMATTRS_HTTP_SCHEME=IMQ;u_Q.SEMATTRS_HTTP_STATUS_CODE=XMQ;u_Q.SEMATTRS_HTTP_FLAVOR=WMQ;u_Q.SEMATTRS_HTTP_USER_AGENT=KMQ;u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=VMQ;u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=EMQ;u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=DMQ;u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=HMQ;u_Q.SEMATTRS_HTTP_SERVER_NAME=FMQ;u_Q.SEMATTRS_HTTP_ROUTE=CMQ;u_Q.SEMATTRS_HTTP_CLIENT_IP=zMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=UMQ;u_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=$MQ;u_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=wMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=NMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=qMQ;u_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=LMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=MMQ;u_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=OMQ;u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=RMQ;u_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=_MQ;u_Q.SEMATTRS_AWS_DYNAMODB_SELECT=TMQ;u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=jMQ;u_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=PMQ;u_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=SMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=xMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=yMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=vMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=kMQ;u_Q.SEMATTRS_AWS_DYNAMODB_COUNT=fMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=bMQ;u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=hMQ;u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=gMQ;u_Q.SEMATTRS_MESSAGING_SYSTEM=uMQ;u_Q.SEMATTRS_MESSAGING_DESTINATION=mMQ;u_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=dMQ;u_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=cMQ;u_Q.SEMATTRS_MESSAGING_PROTOCOL=pMQ;u_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=lMQ;u_Q.SEMATTRS_MESSAGING_URL=iMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_ID=nMQ;u_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=aMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=oMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=rMQ;u_Q.SEMATTRS_MESSAGING_OPERATION=sMQ;u_Q.SEMATTRS_MESSAGING_CONSUMER_ID=tMQ;u_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=eMQ;u_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=AOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=QOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=BOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=GOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=ZOQ;u_Q.SEMATTRS_RPC_SYSTEM=YOQ;u_Q.SEMATTRS_RPC_SERVICE=JOQ;u_Q.SEMATTRS_RPC_METHOD=IOQ;u_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=XOQ;u_Q.SEMATTRS_RPC_JSONRPC_VERSION=WOQ;u_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=KOQ;u_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=VOQ;u_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=EOQ;u_Q.SEMATTRS_MESSAGE_TYPE=DOQ;u_Q.SEMATTRS_MESSAGE_ID=HOQ;u_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=FOQ;u_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=COQ;u_Q.SemanticAttributes=(0,oq.createConstMap)([sqQ,tqQ,eqQ,ALQ,QLQ,BLQ,GLQ,ZLQ,YLQ,JLQ,ILQ,XLQ,WLQ,KLQ,VLQ,ELQ,DLQ,HLQ,FLQ,CLQ,zLQ,ULQ,$LQ,wLQ,NLQ,qLQ,LLQ,MLQ,OLQ,RLQ,_LQ,TLQ,jLQ,PLQ,SLQ,xLQ,yLQ,vLQ,kLQ,fLQ,bLQ,hLQ,gLQ,uLQ,mLQ,dLQ,cLQ,pLQ,lLQ,iLQ,nLQ,aLQ,oLQ,rLQ,sLQ,tLQ,eLQ,AMQ,QMQ,BMQ,GMQ,ZMQ,YMQ,JMQ,IMQ,XMQ,WMQ,KMQ,VMQ,EMQ,DMQ,HMQ,FMQ,CMQ,zMQ,UMQ,$MQ,wMQ,NMQ,qMQ,LMQ,MMQ,OMQ,RMQ,_MQ,TMQ,jMQ,PMQ,SMQ,xMQ,yMQ,vMQ,kMQ,fMQ,bMQ,hMQ,gMQ,uMQ,mMQ,dMQ,cMQ,pMQ,lMQ,iMQ,nMQ,aMQ,oMQ,rMQ,sMQ,tMQ,eMQ,AOQ,QOQ,BOQ,GOQ,ZOQ,YOQ,JOQ,IOQ,XOQ,WOQ,KOQ,VOQ,EOQ,DOQ,HOQ,FOQ,COQ]);var zOQ="other_sql",UOQ="mssql",$OQ="mysql",wOQ="oracle",NOQ="db2",qOQ="postgresql",LOQ="redshift",MOQ="hive",OOQ="cloudscape",ROQ="hsqldb",_OQ="progress",TOQ="maxdb",jOQ="hanadb",POQ="ingres",SOQ="firstsql",xOQ="edb",yOQ="cache",vOQ="adabas",kOQ="firebird",fOQ="derby",bOQ="filemaker",hOQ="informix",gOQ="instantdb",uOQ="interbase",mOQ="mariadb",dOQ="netezza",cOQ="pervasive",pOQ="pointbase",lOQ="sqlite",iOQ="sybase",nOQ="teradata",aOQ="vertica",oOQ="h2",rOQ="coldfusion",sOQ="cassandra",tOQ="hbase",eOQ="mongodb",ARQ="redis",QRQ="couchbase",BRQ="couchdb",GRQ="cosmosdb",ZRQ="dynamodb",YRQ="neo4j",JRQ="geode",IRQ="elasticsearch",XRQ="memcached",WRQ="cockroachdb";u_Q.DBSYSTEMVALUES_OTHER_SQL=zOQ;u_Q.DBSYSTEMVALUES_MSSQL=UOQ;u_Q.DBSYSTEMVALUES_MYSQL=$OQ;u_Q.DBSYSTEMVALUES_ORACLE=wOQ;u_Q.DBSYSTEMVALUES_DB2=NOQ;u_Q.DBSYSTEMVALUES_POSTGRESQL=qOQ;u_Q.DBSYSTEMVALUES_REDSHIFT=LOQ;u_Q.DBSYSTEMVALUES_HIVE=MOQ;u_Q.DBSYSTEMVALUES_CLOUDSCAPE=OOQ;u_Q.DBSYSTEMVALUES_HSQLDB=ROQ;u_Q.DBSYSTEMVALUES_PROGRESS=_OQ;u_Q.DBSYSTEMVALUES_MAXDB=TOQ;u_Q.DBSYSTEMVALUES_HANADB=jOQ;u_Q.DBSYSTEMVALUES_INGRES=POQ;u_Q.DBSYSTEMVALUES_FIRSTSQL=SOQ;u_Q.DBSYSTEMVALUES_EDB=xOQ;u_Q.DBSYSTEMVALUES_CACHE=yOQ;u_Q.DBSYSTEMVALUES_ADABAS=vOQ;u_Q.DBSYSTEMVALUES_FIREBIRD=kOQ;u_Q.DBSYSTEMVALUES_DERBY=fOQ;u_Q.DBSYSTEMVALUES_FILEMAKER=bOQ;u_Q.DBSYSTEMVALUES_INFORMIX=hOQ;u_Q.DBSYSTEMVALUES_INSTANTDB=gOQ;u_Q.DBSYSTEMVALUES_INTERBASE=uOQ;u_Q.DBSYSTEMVALUES_MARIADB=mOQ;u_Q.DBSYSTEMVALUES_NETEZZA=dOQ;u_Q.DBSYSTEMVALUES_PERVASIVE=cOQ;u_Q.DBSYSTEMVALUES_POINTBASE=pOQ;u_Q.DBSYSTEMVALUES_SQLITE=lOQ;u_Q.DBSYSTEMVALUES_SYBASE=iOQ;u_Q.DBSYSTEMVALUES_TERADATA=nOQ;u_Q.DBSYSTEMVALUES_VERTICA=aOQ;u_Q.DBSYSTEMVALUES_H2=oOQ;u_Q.DBSYSTEMVALUES_COLDFUSION=rOQ;u_Q.DBSYSTEMVALUES_CASSANDRA=sOQ;u_Q.DBSYSTEMVALUES_HBASE=tOQ;u_Q.DBSYSTEMVALUES_MONGODB=eOQ;u_Q.DBSYSTEMVALUES_REDIS=ARQ;u_Q.DBSYSTEMVALUES_COUCHBASE=QRQ;u_Q.DBSYSTEMVALUES_COUCHDB=BRQ;u_Q.DBSYSTEMVALUES_COSMOSDB=GRQ;u_Q.DBSYSTEMVALUES_DYNAMODB=ZRQ;u_Q.DBSYSTEMVALUES_NEO4J=YRQ;u_Q.DBSYSTEMVALUES_GEODE=JRQ;u_Q.DBSYSTEMVALUES_ELASTICSEARCH=IRQ;u_Q.DBSYSTEMVALUES_MEMCACHED=XRQ;u_Q.DBSYSTEMVALUES_COCKROACHDB=WRQ;u_Q.DbSystemValues=(0,oq.createConstMap)([zOQ,UOQ,$OQ,wOQ,NOQ,qOQ,LOQ,MOQ,OOQ,ROQ,_OQ,TOQ,jOQ,POQ,SOQ,xOQ,yOQ,vOQ,kOQ,fOQ,bOQ,hOQ,gOQ,uOQ,mOQ,dOQ,cOQ,pOQ,lOQ,iOQ,nOQ,aOQ,oOQ,rOQ,sOQ,tOQ,eOQ,ARQ,QRQ,BRQ,GRQ,ZRQ,YRQ,JRQ,IRQ,XRQ,WRQ]);var KRQ="all",VRQ="each_quorum",ERQ="quorum",DRQ="local_quorum",HRQ="one",FRQ="two",CRQ="three",zRQ="local_one",URQ="any",$RQ="serial",wRQ="local_serial";u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=KRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=VRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=ERQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=DRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=HRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=FRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=CRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=zRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=URQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=$RQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=wRQ;u_Q.DbCassandraConsistencyLevelValues=(0,oq.createConstMap)([KRQ,VRQ,ERQ,DRQ,HRQ,FRQ,CRQ,zRQ,URQ,$RQ,wRQ]);var NRQ="datasource",qRQ="http",LRQ="pubsub",MRQ="timer",ORQ="other";u_Q.FAASTRIGGERVALUES_DATASOURCE=NRQ;u_Q.FAASTRIGGERVALUES_HTTP=qRQ;u_Q.FAASTRIGGERVALUES_PUBSUB=LRQ;u_Q.FAASTRIGGERVALUES_TIMER=MRQ;u_Q.FAASTRIGGERVALUES_OTHER=ORQ;u_Q.FaasTriggerValues=(0,oq.createConstMap)([NRQ,qRQ,LRQ,MRQ,ORQ]);var RRQ="insert",_RQ="edit",TRQ="delete";u_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=RRQ;u_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=_RQ;u_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=TRQ;u_Q.FaasDocumentOperationValues=(0,oq.createConstMap)([RRQ,_RQ,TRQ]);var jRQ="alibaba_cloud",PRQ="aws",SRQ="azure",xRQ="gcp";u_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=jRQ;u_Q.FAASINVOKEDPROVIDERVALUES_AWS=PRQ;u_Q.FAASINVOKEDPROVIDERVALUES_AZURE=SRQ;u_Q.FAASINVOKEDPROVIDERVALUES_GCP=xRQ;u_Q.FaasInvokedProviderValues=(0,oq.createConstMap)([jRQ,PRQ,SRQ,xRQ]);var yRQ="ip_tcp",vRQ="ip_udp",kRQ="ip",fRQ="unix",bRQ="pipe",hRQ="inproc",gRQ="other";u_Q.NETTRANSPORTVALUES_IP_TCP=yRQ;u_Q.NETTRANSPORTVALUES_IP_UDP=vRQ;u_Q.NETTRANSPORTVALUES_IP=kRQ;u_Q.NETTRANSPORTVALUES_UNIX=fRQ;u_Q.NETTRANSPORTVALUES_PIPE=bRQ;u_Q.NETTRANSPORTVALUES_INPROC=hRQ;u_Q.NETTRANSPORTVALUES_OTHER=gRQ;u_Q.NetTransportValues=(0,oq.createConstMap)([yRQ,vRQ,kRQ,fRQ,bRQ,hRQ,gRQ]);var uRQ="wifi",mRQ="wired",dRQ="cell",cRQ="unavailable",pRQ="unknown";u_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=uRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=mRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=dRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=cRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=pRQ;u_Q.NetHostConnectionTypeValues=(0,oq.createConstMap)([uRQ,mRQ,dRQ,cRQ,pRQ]);var lRQ="gprs",iRQ="edge",nRQ="umts",aRQ="cdma",oRQ="evdo_0",rRQ="evdo_a",sRQ="cdma2000_1xrtt",tRQ="hsdpa",eRQ="hsupa",A_Q="hspa",Q_Q="iden",B_Q="evdo_b",G_Q="lte",Z_Q="ehrpd",Y_Q="hspap",J_Q="gsm",I_Q="td_scdma",X_Q="iwlan",W_Q="nr",K_Q="nrnsa",V_Q="lte_ca";u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=lRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=iRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=nRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=aRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=oRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=rRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=sRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=tRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=eRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=A_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=Q_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=B_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=G_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=Z_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Y_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=J_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=I_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=X_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=W_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=K_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=V_Q;u_Q.NetHostConnectionSubtypeValues=(0,oq.createConstMap)([lRQ,iRQ,nRQ,aRQ,oRQ,rRQ,sRQ,tRQ,eRQ,A_Q,Q_Q,B_Q,G_Q,Z_Q,Y_Q,J_Q,I_Q,X_Q,W_Q,K_Q,V_Q]);var E_Q="1.0",D_Q="1.1",H_Q="2.0",F_Q="SPDY",C_Q="QUIC";u_Q.HTTPFLAVORVALUES_HTTP_1_0=E_Q;u_Q.HTTPFLAVORVALUES_HTTP_1_1=D_Q;u_Q.HTTPFLAVORVALUES_HTTP_2_0=H_Q;u_Q.HTTPFLAVORVALUES_SPDY=F_Q;u_Q.HTTPFLAVORVALUES_QUIC=C_Q;u_Q.HttpFlavorValues={HTTP_1_0:E_Q,HTTP_1_1:D_Q,HTTP_2_0:H_Q,SPDY:F_Q,QUIC:C_Q};var z_Q="queue",U_Q="topic";u_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=z_Q;u_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=U_Q;u_Q.MessagingDestinationKindValues=(0,oq.createConstMap)([z_Q,U_Q]);var $_Q="receive",w_Q="process";u_Q.MESSAGINGOPERATIONVALUES_RECEIVE=$_Q;u_Q.MESSAGINGOPERATIONVALUES_PROCESS=w_Q;u_Q.MessagingOperationValues=(0,oq.createConstMap)([$_Q,w_Q]);var N_Q=0,q_Q=1,L_Q=2,M_Q=3,O_Q=4,R_Q=5,__Q=6,T_Q=7,j_Q=8,P_Q=9,S_Q=10,x_Q=11,y_Q=12,v_Q=13,k_Q=14,f_Q=15,b_Q=16;u_Q.RPCGRPCSTATUSCODEVALUES_OK=N_Q;u_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=q_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=L_Q;u_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=M_Q;u_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=O_Q;u_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=R_Q;u_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=__Q;u_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=T_Q;u_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=j_Q;u_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=P_Q;u_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=S_Q;u_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=x_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=y_Q;u_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=v_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=k_Q;u_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=f_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=b_Q;u_Q.RpcGrpcStatusCodeValues={OK:N_Q,CANCELLED:q_Q,UNKNOWN:L_Q,INVALID_ARGUMENT:M_Q,DEADLINE_EXCEEDED:O_Q,NOT_FOUND:R_Q,ALREADY_EXISTS:__Q,PERMISSION_DENIED:T_Q,RESOURCE_EXHAUSTED:j_Q,FAILED_PRECONDITION:P_Q,ABORTED:S_Q,OUT_OF_RANGE:x_Q,UNIMPLEMENTED:y_Q,INTERNAL:v_Q,UNAVAILABLE:k_Q,DATA_LOSS:f_Q,UNAUTHENTICATED:b_Q};var h_Q="SENT",g_Q="RECEIVED";u_Q.MESSAGETYPEVALUES_SENT=h_Q;u_Q.MESSAGETYPEVALUES_RECEIVED=g_Q;u_Q.MessageTypeValues=(0,oq.createConstMap)([h_Q,g_Q])});var a_Q=w((Sr)=>{var kP6=Sr&&Sr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),fP6=Sr&&Sr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))kP6(Q,A,B)};Object.defineProperty(Sr,"__esModule",{value:!0});fP6(n_Q(),Sr)});var LPQ=w(($PQ)=>{Object.defineProperty($PQ,"__esModule",{value:!0});$PQ.SEMRESATTRS_K8S_STATEFULSET_NAME=$PQ.SEMRESATTRS_K8S_STATEFULSET_UID=$PQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=$PQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=$PQ.SEMRESATTRS_K8S_REPLICASET_NAME=$PQ.SEMRESATTRS_K8S_REPLICASET_UID=$PQ.SEMRESATTRS_K8S_CONTAINER_NAME=$PQ.SEMRESATTRS_K8S_POD_NAME=$PQ.SEMRESATTRS_K8S_POD_UID=$PQ.SEMRESATTRS_K8S_NAMESPACE_NAME=$PQ.SEMRESATTRS_K8S_NODE_UID=$PQ.SEMRESATTRS_K8S_NODE_NAME=$PQ.SEMRESATTRS_K8S_CLUSTER_NAME=$PQ.SEMRESATTRS_HOST_IMAGE_VERSION=$PQ.SEMRESATTRS_HOST_IMAGE_ID=$PQ.SEMRESATTRS_HOST_IMAGE_NAME=$PQ.SEMRESATTRS_HOST_ARCH=$PQ.SEMRESATTRS_HOST_TYPE=$PQ.SEMRESATTRS_HOST_NAME=$PQ.SEMRESATTRS_HOST_ID=$PQ.SEMRESATTRS_FAAS_MAX_MEMORY=$PQ.SEMRESATTRS_FAAS_INSTANCE=$PQ.SEMRESATTRS_FAAS_VERSION=$PQ.SEMRESATTRS_FAAS_ID=$PQ.SEMRESATTRS_FAAS_NAME=$PQ.SEMRESATTRS_DEVICE_MODEL_NAME=$PQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=$PQ.SEMRESATTRS_DEVICE_ID=$PQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=$PQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=$PQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=$PQ.SEMRESATTRS_CONTAINER_RUNTIME=$PQ.SEMRESATTRS_CONTAINER_ID=$PQ.SEMRESATTRS_CONTAINER_NAME=$PQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=$PQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=$PQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=$PQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=$PQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=$PQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=$PQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=$PQ.SEMRESATTRS_AWS_ECS_TASK_ARN=$PQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=$PQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=$PQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=$PQ.SEMRESATTRS_CLOUD_PLATFORM=$PQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=$PQ.SEMRESATTRS_CLOUD_REGION=$PQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=$PQ.SEMRESATTRS_CLOUD_PROVIDER=void 0;$PQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=$PQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=$PQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=$PQ.CLOUDPLATFORMVALUES_AZURE_AKS=$PQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=$PQ.CLOUDPLATFORMVALUES_AZURE_VM=$PQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=$PQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=$PQ.CLOUDPLATFORMVALUES_AWS_EKS=$PQ.CLOUDPLATFORMVALUES_AWS_ECS=$PQ.CLOUDPLATFORMVALUES_AWS_EC2=$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=$PQ.CloudProviderValues=$PQ.CLOUDPROVIDERVALUES_GCP=$PQ.CLOUDPROVIDERVALUES_AZURE=$PQ.CLOUDPROVIDERVALUES_AWS=$PQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=$PQ.SemanticResourceAttributes=$PQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=$PQ.SEMRESATTRS_WEBENGINE_VERSION=$PQ.SEMRESATTRS_WEBENGINE_NAME=$PQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=$PQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=$PQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=$PQ.SEMRESATTRS_TELEMETRY_SDK_NAME=$PQ.SEMRESATTRS_SERVICE_VERSION=$PQ.SEMRESATTRS_SERVICE_INSTANCE_ID=$PQ.SEMRESATTRS_SERVICE_NAMESPACE=$PQ.SEMRESATTRS_SERVICE_NAME=$PQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=$PQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=$PQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=$PQ.SEMRESATTRS_PROCESS_OWNER=$PQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=$PQ.SEMRESATTRS_PROCESS_COMMAND_LINE=$PQ.SEMRESATTRS_PROCESS_COMMAND=$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=$PQ.SEMRESATTRS_PROCESS_PID=$PQ.SEMRESATTRS_OS_VERSION=$PQ.SEMRESATTRS_OS_NAME=$PQ.SEMRESATTRS_OS_DESCRIPTION=$PQ.SEMRESATTRS_OS_TYPE=$PQ.SEMRESATTRS_K8S_CRONJOB_NAME=$PQ.SEMRESATTRS_K8S_CRONJOB_UID=$PQ.SEMRESATTRS_K8S_JOB_NAME=$PQ.SEMRESATTRS_K8S_JOB_UID=$PQ.SEMRESATTRS_K8S_DAEMONSET_NAME=$PQ.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;$PQ.TelemetrySdkLanguageValues=$PQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=$PQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=$PQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=$PQ.TELEMETRYSDKLANGUAGEVALUES_PHP=$PQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=$PQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=$PQ.TELEMETRYSDKLANGUAGEVALUES_GO=$PQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=$PQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=$PQ.TELEMETRYSDKLANGUAGEVALUES_CPP=$PQ.OsTypeValues=$PQ.OSTYPEVALUES_Z_OS=$PQ.OSTYPEVALUES_SOLARIS=$PQ.OSTYPEVALUES_AIX=$PQ.OSTYPEVALUES_HPUX=$PQ.OSTYPEVALUES_DRAGONFLYBSD=$PQ.OSTYPEVALUES_OPENBSD=$PQ.OSTYPEVALUES_NETBSD=$PQ.OSTYPEVALUES_FREEBSD=$PQ.OSTYPEVALUES_DARWIN=$PQ.OSTYPEVALUES_LINUX=$PQ.OSTYPEVALUES_WINDOWS=$PQ.HostArchValues=$PQ.HOSTARCHVALUES_X86=$PQ.HOSTARCHVALUES_PPC64=$PQ.HOSTARCHVALUES_PPC32=$PQ.HOSTARCHVALUES_IA64=$PQ.HOSTARCHVALUES_ARM64=$PQ.HOSTARCHVALUES_ARM32=$PQ.HOSTARCHVALUES_AMD64=$PQ.AwsEcsLaunchtypeValues=$PQ.AWSECSLAUNCHTYPEVALUES_FARGATE=$PQ.AWSECSLAUNCHTYPEVALUES_EC2=$PQ.CloudPlatformValues=$PQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=$PQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var xr=DT1(),o_Q="cloud.provider",r_Q="cloud.account.id",s_Q="cloud.region",t_Q="cloud.availability_zone",e_Q="cloud.platform",ATQ="aws.ecs.container.arn",QTQ="aws.ecs.cluster.arn",BTQ="aws.ecs.launchtype",GTQ="aws.ecs.task.arn",ZTQ="aws.ecs.task.family",YTQ="aws.ecs.task.revision",JTQ="aws.eks.cluster.arn",ITQ="aws.log.group.names",XTQ="aws.log.group.arns",WTQ="aws.log.stream.names",KTQ="aws.log.stream.arns",VTQ="container.name",ETQ="container.id",DTQ="container.runtime",HTQ="container.image.name",FTQ="container.image.tag",CTQ="deployment.environment",zTQ="device.id",UTQ="device.model.identifier",$TQ="device.model.name",wTQ="faas.name",NTQ="faas.id",qTQ="faas.version",LTQ="faas.instance",MTQ="faas.max_memory",OTQ="host.id",RTQ="host.name",_TQ="host.type",TTQ="host.arch",jTQ="host.image.name",PTQ="host.image.id",STQ="host.image.version",xTQ="k8s.cluster.name",yTQ="k8s.node.name",vTQ="k8s.node.uid",kTQ="k8s.namespace.name",fTQ="k8s.pod.uid",bTQ="k8s.pod.name",hTQ="k8s.container.name",gTQ="k8s.replicaset.uid",uTQ="k8s.replicaset.name",mTQ="k8s.deployment.uid",dTQ="k8s.deployment.name",cTQ="k8s.statefulset.uid",pTQ="k8s.statefulset.name",lTQ="k8s.daemonset.uid",iTQ="k8s.daemonset.name",nTQ="k8s.job.uid",aTQ="k8s.job.name",oTQ="k8s.cronjob.uid",rTQ="k8s.cronjob.name",sTQ="os.type",tTQ="os.description",eTQ="os.name",AjQ="os.version",QjQ="process.pid",BjQ="process.executable.name",GjQ="process.executable.path",ZjQ="process.command",YjQ="process.command_line",JjQ="process.command_args",IjQ="process.owner",XjQ="process.runtime.name",WjQ="process.runtime.version",KjQ="process.runtime.description",VjQ="service.name",EjQ="service.namespace",DjQ="service.instance.id",HjQ="service.version",FjQ="telemetry.sdk.name",CjQ="telemetry.sdk.language",zjQ="telemetry.sdk.version",UjQ="telemetry.auto.version",$jQ="webengine.name",wjQ="webengine.version",NjQ="webengine.description";$PQ.SEMRESATTRS_CLOUD_PROVIDER=o_Q;$PQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=r_Q;$PQ.SEMRESATTRS_CLOUD_REGION=s_Q;$PQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=t_Q;$PQ.SEMRESATTRS_CLOUD_PLATFORM=e_Q;$PQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=ATQ;$PQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=QTQ;$PQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=BTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_ARN=GTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=ZTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=YTQ;$PQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=JTQ;$PQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=ITQ;$PQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=XTQ;$PQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=WTQ;$PQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=KTQ;$PQ.SEMRESATTRS_CONTAINER_NAME=VTQ;$PQ.SEMRESATTRS_CONTAINER_ID=ETQ;$PQ.SEMRESATTRS_CONTAINER_RUNTIME=DTQ;$PQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=HTQ;$PQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=FTQ;$PQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=CTQ;$PQ.SEMRESATTRS_DEVICE_ID=zTQ;$PQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=UTQ;$PQ.SEMRESATTRS_DEVICE_MODEL_NAME=$TQ;$PQ.SEMRESATTRS_FAAS_NAME=wTQ;$PQ.SEMRESATTRS_FAAS_ID=NTQ;$PQ.SEMRESATTRS_FAAS_VERSION=qTQ;$PQ.SEMRESATTRS_FAAS_INSTANCE=LTQ;$PQ.SEMRESATTRS_FAAS_MAX_MEMORY=MTQ;$PQ.SEMRESATTRS_HOST_ID=OTQ;$PQ.SEMRESATTRS_HOST_NAME=RTQ;$PQ.SEMRESATTRS_HOST_TYPE=_TQ;$PQ.SEMRESATTRS_HOST_ARCH=TTQ;$PQ.SEMRESATTRS_HOST_IMAGE_NAME=jTQ;$PQ.SEMRESATTRS_HOST_IMAGE_ID=PTQ;$PQ.SEMRESATTRS_HOST_IMAGE_VERSION=STQ;$PQ.SEMRESATTRS_K8S_CLUSTER_NAME=xTQ;$PQ.SEMRESATTRS_K8S_NODE_NAME=yTQ;$PQ.SEMRESATTRS_K8S_NODE_UID=vTQ;$PQ.SEMRESATTRS_K8S_NAMESPACE_NAME=kTQ;$PQ.SEMRESATTRS_K8S_POD_UID=fTQ;$PQ.SEMRESATTRS_K8S_POD_NAME=bTQ;$PQ.SEMRESATTRS_K8S_CONTAINER_NAME=hTQ;$PQ.SEMRESATTRS_K8S_REPLICASET_UID=gTQ;$PQ.SEMRESATTRS_K8S_REPLICASET_NAME=uTQ;$PQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=mTQ;$PQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=dTQ;$PQ.SEMRESATTRS_K8S_STATEFULSET_UID=cTQ;$PQ.SEMRESATTRS_K8S_STATEFULSET_NAME=pTQ;$PQ.SEMRESATTRS_K8S_DAEMONSET_UID=lTQ;$PQ.SEMRESATTRS_K8S_DAEMONSET_NAME=iTQ;$PQ.SEMRESATTRS_K8S_JOB_UID=nTQ;$PQ.SEMRESATTRS_K8S_JOB_NAME=aTQ;$PQ.SEMRESATTRS_K8S_CRONJOB_UID=oTQ;$PQ.SEMRESATTRS_K8S_CRONJOB_NAME=rTQ;$PQ.SEMRESATTRS_OS_TYPE=sTQ;$PQ.SEMRESATTRS_OS_DESCRIPTION=tTQ;$PQ.SEMRESATTRS_OS_NAME=eTQ;$PQ.SEMRESATTRS_OS_VERSION=AjQ;$PQ.SEMRESATTRS_PROCESS_PID=QjQ;$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=BjQ;$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=GjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND=ZjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND_LINE=YjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=JjQ;$PQ.SEMRESATTRS_PROCESS_OWNER=IjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=XjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=WjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=KjQ;$PQ.SEMRESATTRS_SERVICE_NAME=VjQ;$PQ.SEMRESATTRS_SERVICE_NAMESPACE=EjQ;$PQ.SEMRESATTRS_SERVICE_INSTANCE_ID=DjQ;$PQ.SEMRESATTRS_SERVICE_VERSION=HjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_NAME=FjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=CjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=zjQ;$PQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=UjQ;$PQ.SEMRESATTRS_WEBENGINE_NAME=$jQ;$PQ.SEMRESATTRS_WEBENGINE_VERSION=wjQ;$PQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=NjQ;$PQ.SemanticResourceAttributes=(0,xr.createConstMap)([o_Q,r_Q,s_Q,t_Q,e_Q,ATQ,QTQ,BTQ,GTQ,ZTQ,YTQ,JTQ,ITQ,XTQ,WTQ,KTQ,VTQ,ETQ,DTQ,HTQ,FTQ,CTQ,zTQ,UTQ,$TQ,wTQ,NTQ,qTQ,LTQ,MTQ,OTQ,RTQ,_TQ,TTQ,jTQ,PTQ,STQ,xTQ,yTQ,vTQ,kTQ,fTQ,bTQ,hTQ,gTQ,uTQ,mTQ,dTQ,cTQ,pTQ,lTQ,iTQ,nTQ,aTQ,oTQ,rTQ,sTQ,tTQ,eTQ,AjQ,QjQ,BjQ,GjQ,ZjQ,YjQ,JjQ,IjQ,XjQ,WjQ,KjQ,VjQ,EjQ,DjQ,HjQ,FjQ,CjQ,zjQ,UjQ,$jQ,wjQ,NjQ]);var qjQ="alibaba_cloud",LjQ="aws",MjQ="azure",OjQ="gcp";$PQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=qjQ;$PQ.CLOUDPROVIDERVALUES_AWS=LjQ;$PQ.CLOUDPROVIDERVALUES_AZURE=MjQ;$PQ.CLOUDPROVIDERVALUES_GCP=OjQ;$PQ.CloudProviderValues=(0,xr.createConstMap)([qjQ,LjQ,MjQ,OjQ]);var RjQ="alibaba_cloud_ecs",_jQ="alibaba_cloud_fc",TjQ="aws_ec2",jjQ="aws_ecs",PjQ="aws_eks",SjQ="aws_lambda",xjQ="aws_elastic_beanstalk",yjQ="azure_vm",vjQ="azure_container_instances",kjQ="azure_aks",fjQ="azure_functions",bjQ="azure_app_service",hjQ="gcp_compute_engine",gjQ="gcp_cloud_run",ujQ="gcp_kubernetes_engine",mjQ="gcp_cloud_functions",djQ="gcp_app_engine";$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=RjQ;$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=_jQ;$PQ.CLOUDPLATFORMVALUES_AWS_EC2=TjQ;$PQ.CLOUDPLATFORMVALUES_AWS_ECS=jjQ;$PQ.CLOUDPLATFORMVALUES_AWS_EKS=PjQ;$PQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=SjQ;$PQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=xjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_VM=yjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=vjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_AKS=kjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=fjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=bjQ;$PQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=hjQ;$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=gjQ;$PQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=ujQ;$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=mjQ;$PQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=djQ;$PQ.CloudPlatformValues=(0,xr.createConstMap)([RjQ,_jQ,TjQ,jjQ,PjQ,SjQ,xjQ,yjQ,vjQ,kjQ,fjQ,bjQ,hjQ,gjQ,ujQ,mjQ,djQ]);var cjQ="ec2",pjQ="fargate";$PQ.AWSECSLAUNCHTYPEVALUES_EC2=cjQ;$PQ.AWSECSLAUNCHTYPEVALUES_FARGATE=pjQ;$PQ.AwsEcsLaunchtypeValues=(0,xr.createConstMap)([cjQ,pjQ]);var ljQ="amd64",ijQ="arm32",njQ="arm64",ajQ="ia64",ojQ="ppc32",rjQ="ppc64",sjQ="x86";$PQ.HOSTARCHVALUES_AMD64=ljQ;$PQ.HOSTARCHVALUES_ARM32=ijQ;$PQ.HOSTARCHVALUES_ARM64=njQ;$PQ.HOSTARCHVALUES_IA64=ajQ;$PQ.HOSTARCHVALUES_PPC32=ojQ;$PQ.HOSTARCHVALUES_PPC64=rjQ;$PQ.HOSTARCHVALUES_X86=sjQ;$PQ.HostArchValues=(0,xr.createConstMap)([ljQ,ijQ,njQ,ajQ,ojQ,rjQ,sjQ]);var tjQ="windows",ejQ="linux",APQ="darwin",QPQ="freebsd",BPQ="netbsd",GPQ="openbsd",ZPQ="dragonflybsd",YPQ="hpux",JPQ="aix",IPQ="solaris",XPQ="z_os";$PQ.OSTYPEVALUES_WINDOWS=tjQ;$PQ.OSTYPEVALUES_LINUX=ejQ;$PQ.OSTYPEVALUES_DARWIN=APQ;$PQ.OSTYPEVALUES_FREEBSD=QPQ;$PQ.OSTYPEVALUES_NETBSD=BPQ;$PQ.OSTYPEVALUES_OPENBSD=GPQ;$PQ.OSTYPEVALUES_DRAGONFLYBSD=ZPQ;$PQ.OSTYPEVALUES_HPUX=YPQ;$PQ.OSTYPEVALUES_AIX=JPQ;$PQ.OSTYPEVALUES_SOLARIS=IPQ;$PQ.OSTYPEVALUES_Z_OS=XPQ;$PQ.OsTypeValues=(0,xr.createConstMap)([tjQ,ejQ,APQ,QPQ,BPQ,GPQ,ZPQ,YPQ,JPQ,IPQ,XPQ]);var WPQ="cpp",KPQ="dotnet",VPQ="erlang",EPQ="go",DPQ="java",HPQ="nodejs",FPQ="php",CPQ="python",zPQ="ruby",UPQ="webjs";$PQ.TELEMETRYSDKLANGUAGEVALUES_CPP=WPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=KPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=VPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_GO=EPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=DPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=HPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_PHP=FPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=CPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=zPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=UPQ;$PQ.TelemetrySdkLanguageValues=(0,xr.createConstMap)([WPQ,KPQ,VPQ,EPQ,DPQ,HPQ,FPQ,CPQ,zPQ,UPQ])});var MPQ=w((yr)=>{var Vy6=yr&&yr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Ey6=yr&&yr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Vy6(Q,A,B)};Object.defineProperty(yr,"__esModule",{value:!0});Ey6(LPQ(),yr)});var jPQ=w((OPQ)=>{Object.defineProperty(OPQ,"__esModule",{value:!0});OPQ.ATTR_EXCEPTION_TYPE=OPQ.ATTR_EXCEPTION_STACKTRACE=OPQ.ATTR_EXCEPTION_MESSAGE=OPQ.ATTR_EXCEPTION_ESCAPED=OPQ.ERROR_TYPE_VALUE_OTHER=OPQ.ATTR_ERROR_TYPE=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=OPQ.ATTR_DOTNET_GC_HEAP_GENERATION=OPQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL=OPQ.DB_SYSTEM_NAME_VALUE_MYSQL=OPQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=OPQ.DB_SYSTEM_NAME_VALUE_MARIADB=OPQ.ATTR_DB_SYSTEM_NAME=OPQ.ATTR_DB_STORED_PROCEDURE_NAME=OPQ.ATTR_DB_RESPONSE_STATUS_CODE=OPQ.ATTR_DB_QUERY_TEXT=OPQ.ATTR_DB_QUERY_SUMMARY=OPQ.ATTR_DB_OPERATION_NAME=OPQ.ATTR_DB_OPERATION_BATCH_SIZE=OPQ.ATTR_DB_NAMESPACE=OPQ.ATTR_DB_COLLECTION_NAME=OPQ.ATTR_CODE_STACKTRACE=OPQ.ATTR_CODE_LINE_NUMBER=OPQ.ATTR_CODE_FUNCTION_NAME=OPQ.ATTR_CODE_FILE_PATH=OPQ.ATTR_CODE_COLUMN_NUMBER=OPQ.ATTR_CLIENT_PORT=OPQ.ATTR_CLIENT_ADDRESS=OPQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=OPQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=OPQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=OPQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=OPQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=OPQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;OPQ.OTEL_STATUS_CODE_VALUE_ERROR=OPQ.ATTR_OTEL_STATUS_CODE=OPQ.ATTR_OTEL_SCOPE_VERSION=OPQ.ATTR_OTEL_SCOPE_NAME=OPQ.NETWORK_TYPE_VALUE_IPV6=OPQ.NETWORK_TYPE_VALUE_IPV4=OPQ.ATTR_NETWORK_TYPE=OPQ.NETWORK_TRANSPORT_VALUE_UNIX=OPQ.NETWORK_TRANSPORT_VALUE_UDP=OPQ.NETWORK_TRANSPORT_VALUE_TCP=OPQ.NETWORK_TRANSPORT_VALUE_QUIC=OPQ.NETWORK_TRANSPORT_VALUE_PIPE=OPQ.ATTR_NETWORK_TRANSPORT=OPQ.ATTR_NETWORK_PROTOCOL_VERSION=OPQ.ATTR_NETWORK_PROTOCOL_NAME=OPQ.ATTR_NETWORK_PEER_PORT=OPQ.ATTR_NETWORK_PEER_ADDRESS=OPQ.ATTR_NETWORK_LOCAL_PORT=OPQ.ATTR_NETWORK_LOCAL_ADDRESS=OPQ.JVM_THREAD_STATE_VALUE_WAITING=OPQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING=OPQ.JVM_THREAD_STATE_VALUE_TERMINATED=OPQ.JVM_THREAD_STATE_VALUE_RUNNABLE=OPQ.JVM_THREAD_STATE_VALUE_NEW=OPQ.JVM_THREAD_STATE_VALUE_BLOCKED=OPQ.ATTR_JVM_THREAD_STATE=OPQ.ATTR_JVM_THREAD_DAEMON=OPQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP=OPQ.JVM_MEMORY_TYPE_VALUE_HEAP=OPQ.ATTR_JVM_MEMORY_TYPE=OPQ.ATTR_JVM_MEMORY_POOL_NAME=OPQ.ATTR_JVM_GC_NAME=OPQ.ATTR_JVM_GC_ACTION=OPQ.ATTR_HTTP_ROUTE=OPQ.ATTR_HTTP_RESPONSE_STATUS_CODE=OPQ.ATTR_HTTP_RESPONSE_HEADER=OPQ.ATTR_HTTP_REQUEST_RESEND_COUNT=OPQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=OPQ.HTTP_REQUEST_METHOD_VALUE_TRACE=OPQ.HTTP_REQUEST_METHOD_VALUE_PUT=OPQ.HTTP_REQUEST_METHOD_VALUE_POST=OPQ.HTTP_REQUEST_METHOD_VALUE_PATCH=OPQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS=OPQ.HTTP_REQUEST_METHOD_VALUE_HEAD=OPQ.HTTP_REQUEST_METHOD_VALUE_GET=OPQ.HTTP_REQUEST_METHOD_VALUE_DELETE=OPQ.HTTP_REQUEST_METHOD_VALUE_CONNECT=OPQ.HTTP_REQUEST_METHOD_VALUE_OTHER=OPQ.ATTR_HTTP_REQUEST_METHOD=OPQ.ATTR_HTTP_REQUEST_HEADER=void 0;OPQ.ATTR_USER_AGENT_ORIGINAL=OPQ.ATTR_URL_SCHEME=OPQ.ATTR_URL_QUERY=OPQ.ATTR_URL_PATH=OPQ.ATTR_URL_FULL=OPQ.ATTR_URL_FRAGMENT=OPQ.ATTR_TELEMETRY_SDK_VERSION=OPQ.ATTR_TELEMETRY_SDK_NAME=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=OPQ.ATTR_TELEMETRY_SDK_LANGUAGE=OPQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=OPQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=OPQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=OPQ.ATTR_SIGNALR_TRANSPORT=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=OPQ.ATTR_SIGNALR_CONNECTION_STATUS=OPQ.ATTR_SERVICE_VERSION=OPQ.ATTR_SERVICE_NAME=OPQ.ATTR_SERVER_PORT=OPQ.ATTR_SERVER_ADDRESS=OPQ.ATTR_OTEL_STATUS_DESCRIPTION=OPQ.OTEL_STATUS_CODE_VALUE_OK=void 0;OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";OPQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";OPQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";OPQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";OPQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";OPQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";OPQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated";OPQ.ATTR_CLIENT_ADDRESS="client.address";OPQ.ATTR_CLIENT_PORT="client.port";OPQ.ATTR_CODE_COLUMN_NUMBER="code.column.number";OPQ.ATTR_CODE_FILE_PATH="code.file.path";OPQ.ATTR_CODE_FUNCTION_NAME="code.function.name";OPQ.ATTR_CODE_LINE_NUMBER="code.line.number";OPQ.ATTR_CODE_STACKTRACE="code.stacktrace";OPQ.ATTR_DB_COLLECTION_NAME="db.collection.name";OPQ.ATTR_DB_NAMESPACE="db.namespace";OPQ.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";OPQ.ATTR_DB_OPERATION_NAME="db.operation.name";OPQ.ATTR_DB_QUERY_SUMMARY="db.query.summary";OPQ.ATTR_DB_QUERY_TEXT="db.query.text";OPQ.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";OPQ.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";OPQ.ATTR_DB_SYSTEM_NAME="db.system.name";OPQ.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";OPQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";OPQ.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";OPQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";OPQ.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";OPQ.ATTR_ERROR_TYPE="error.type";OPQ.ERROR_TYPE_VALUE_OTHER="_OTHER";OPQ.ATTR_EXCEPTION_ESCAPED="exception.escaped";OPQ.ATTR_EXCEPTION_MESSAGE="exception.message";OPQ.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";OPQ.ATTR_EXCEPTION_TYPE="exception.type";var Dy6=(A)=>`http.request.header.${A}`;OPQ.ATTR_HTTP_REQUEST_HEADER=Dy6;OPQ.ATTR_HTTP_REQUEST_METHOD="http.request.method";OPQ.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";OPQ.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";OPQ.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";OPQ.HTTP_REQUEST_METHOD_VALUE_GET="GET";OPQ.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";OPQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";OPQ.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";OPQ.HTTP_REQUEST_METHOD_VALUE_POST="POST";OPQ.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";OPQ.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";OPQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";OPQ.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var Hy6=(A)=>`http.response.header.${A}`;OPQ.ATTR_HTTP_RESPONSE_HEADER=Hy6;OPQ.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";OPQ.ATTR_HTTP_ROUTE="http.route";OPQ.ATTR_JVM_GC_ACTION="jvm.gc.action";OPQ.ATTR_JVM_GC_NAME="jvm.gc.name";OPQ.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";OPQ.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";OPQ.JVM_MEMORY_TYPE_VALUE_HEAP="heap";OPQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";OPQ.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";OPQ.ATTR_JVM_THREAD_STATE="jvm.thread.state";OPQ.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";OPQ.JVM_THREAD_STATE_VALUE_NEW="new";OPQ.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";OPQ.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";OPQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";OPQ.JVM_THREAD_STATE_VALUE_WAITING="waiting";OPQ.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";OPQ.ATTR_NETWORK_LOCAL_PORT="network.local.port";OPQ.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";OPQ.ATTR_NETWORK_PEER_PORT="network.peer.port";OPQ.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";OPQ.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";OPQ.ATTR_NETWORK_TRANSPORT="network.transport";OPQ.NETWORK_TRANSPORT_VALUE_PIPE="pipe";OPQ.NETWORK_TRANSPORT_VALUE_QUIC="quic";OPQ.NETWORK_TRANSPORT_VALUE_TCP="tcp";OPQ.NETWORK_TRANSPORT_VALUE_UDP="udp";OPQ.NETWORK_TRANSPORT_VALUE_UNIX="unix";OPQ.ATTR_NETWORK_TYPE="network.type";OPQ.NETWORK_TYPE_VALUE_IPV4="ipv4";OPQ.NETWORK_TYPE_VALUE_IPV6="ipv6";OPQ.ATTR_OTEL_SCOPE_NAME="otel.scope.name";OPQ.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";OPQ.ATTR_OTEL_STATUS_CODE="otel.status_code";OPQ.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";OPQ.OTEL_STATUS_CODE_VALUE_OK="OK";OPQ.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";OPQ.ATTR_SERVER_ADDRESS="server.address";OPQ.ATTR_SERVER_PORT="server.port";OPQ.ATTR_SERVICE_NAME="service.name";OPQ.ATTR_SERVICE_VERSION="service.version";OPQ.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";OPQ.ATTR_SIGNALR_TRANSPORT="signalr.transport";OPQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";OPQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";OPQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";OPQ.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";OPQ.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";OPQ.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";OPQ.ATTR_URL_FRAGMENT="url.fragment";OPQ.ATTR_URL_FULL="url.full";OPQ.ATTR_URL_PATH="url.path";OPQ.ATTR_URL_QUERY="url.query";OPQ.ATTR_URL_SCHEME="url.scheme";OPQ.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var yPQ=w((PPQ)=>{Object.defineProperty(PPQ,"__esModule",{value:!0});PPQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=PPQ.METRIC_KESTREL_UPGRADED_CONNECTIONS=PPQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=PPQ.METRIC_KESTREL_REJECTED_CONNECTIONS=PPQ.METRIC_KESTREL_QUEUED_REQUESTS=PPQ.METRIC_KESTREL_QUEUED_CONNECTIONS=PPQ.METRIC_KESTREL_CONNECTION_DURATION=PPQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=PPQ.METRIC_KESTREL_ACTIVE_CONNECTIONS=PPQ.METRIC_JVM_THREAD_COUNT=PPQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=PPQ.METRIC_JVM_MEMORY_USED=PPQ.METRIC_JVM_MEMORY_LIMIT=PPQ.METRIC_JVM_MEMORY_COMMITTED=PPQ.METRIC_JVM_GC_DURATION=PPQ.METRIC_JVM_CPU_TIME=PPQ.METRIC_JVM_CPU_RECENT_UTILIZATION=PPQ.METRIC_JVM_CPU_COUNT=PPQ.METRIC_JVM_CLASS_UNLOADED=PPQ.METRIC_JVM_CLASS_LOADED=PPQ.METRIC_JVM_CLASS_COUNT=PPQ.METRIC_HTTP_SERVER_REQUEST_DURATION=PPQ.METRIC_HTTP_CLIENT_REQUEST_DURATION=PPQ.METRIC_DOTNET_TIMER_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=PPQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=PPQ.METRIC_DOTNET_PROCESS_CPU_TIME=PPQ.METRIC_DOTNET_PROCESS_CPU_COUNT=PPQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=PPQ.METRIC_DOTNET_JIT_COMPILED_METHODS=PPQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=PPQ.METRIC_DOTNET_JIT_COMPILATION_TIME=PPQ.METRIC_DOTNET_GC_PAUSE_TIME=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=PPQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=PPQ.METRIC_DOTNET_GC_COLLECTIONS=PPQ.METRIC_DOTNET_EXCEPTIONS=PPQ.METRIC_DOTNET_ASSEMBLY_COUNT=PPQ.METRIC_DB_CLIENT_OPERATION_DURATION=PPQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=PPQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;PPQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;PPQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";PPQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";PPQ.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";PPQ.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";PPQ.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";PPQ.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";PPQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";PPQ.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";PPQ.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";PPQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";PPQ.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";PPQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";PPQ.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";PPQ.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";PPQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";PPQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";PPQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";PPQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";PPQ.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";PPQ.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";PPQ.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";PPQ.METRIC_JVM_CLASS_COUNT="jvm.class.count";PPQ.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";PPQ.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";PPQ.METRIC_JVM_CPU_COUNT="jvm.cpu.count";PPQ.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";PPQ.METRIC_JVM_CPU_TIME="jvm.cpu.time";PPQ.METRIC_JVM_GC_DURATION="jvm.gc.duration";PPQ.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";PPQ.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";PPQ.METRIC_JVM_MEMORY_USED="jvm.memory.used";PPQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";PPQ.METRIC_JVM_THREAD_COUNT="jvm.thread.count";PPQ.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";PPQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";PPQ.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";PPQ.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";PPQ.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";PPQ.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";PPQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";PPQ.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";PPQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";PPQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var fPQ=w((vPQ)=>{Object.defineProperty(vPQ,"__esModule",{value:!0});vPQ.EVENT_EXCEPTION=void 0;vPQ.EVENT_EXCEPTION="exception"});var vr=w((UR)=>{var vf6=UR&&UR.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),THA=UR&&UR.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))vf6(Q,A,B)};Object.defineProperty(UR,"__esModule",{value:!0});THA(a_Q(),UR);THA(MPQ(),UR);THA(jPQ(),UR);THA(yPQ(),UR);THA(fPQ(),UR)});var gPQ=w((bPQ)=>{Object.defineProperty(bPQ,"__esModule",{value:!0});bPQ.ATTR_PROCESS_RUNTIME_NAME=void 0;bPQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var dPQ=w((uPQ)=>{Object.defineProperty(uPQ,"__esModule",{value:!0});uPQ.SDK_INFO=void 0;var kf6=aqQ(),EuA=vr(),ff6=gPQ();uPQ.SDK_INFO={[EuA.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[ff6.ATTR_PROCESS_RUNTIME_NAME]:"node",[EuA.ATTR_TELEMETRY_SDK_LANGUAGE]:EuA.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[EuA.ATTR_TELEMETRY_SDK_VERSION]:kf6.VERSION}});var lPQ=w((cPQ)=>{Object.defineProperty(cPQ,"__esModule",{value:!0});cPQ.unrefTimer=void 0;function bf6(A){A.unref()}cPQ.unrefTimer=bf6});var iPQ=w((fP)=>{Object.defineProperty(fP,"__esModule",{value:!0});fP.unrefTimer=fP.SDK_INFO=fP.otperformance=fP._globalThis=fP.getStringListFromEnv=fP.getNumberFromEnv=fP.getBooleanFromEnv=fP.getStringFromEnv=void 0;var DuA=gqQ();Object.defineProperty(fP,"getStringFromEnv",{enumerable:!0,get:function(){return DuA.getStringFromEnv}});Object.defineProperty(fP,"getBooleanFromEnv",{enumerable:!0,get:function(){return DuA.getBooleanFromEnv}});Object.defineProperty(fP,"getNumberFromEnv",{enumerable:!0,get:function(){return DuA.getNumberFromEnv}});Object.defineProperty(fP,"getStringListFromEnv",{enumerable:!0,get:function(){return DuA.getStringListFromEnv}});var hf6=dqQ();Object.defineProperty(fP,"_globalThis",{enumerable:!0,get:function(){return hf6._globalThis}});var gf6=lqQ();Object.defineProperty(fP,"otperformance",{enumerable:!0,get:function(){return gf6.otperformance}});var uf6=dPQ();Object.defineProperty(fP,"SDK_INFO",{enumerable:!0,get:function(){return uf6.SDK_INFO}});var mf6=lPQ();Object.defineProperty(fP,"unrefTimer",{enumerable:!0,get:function(){return mf6.unrefTimer}})});var HT1=w((bP)=>{Object.defineProperty(bP,"__esModule",{value:!0});bP.getStringListFromEnv=bP.getNumberFromEnv=bP.getStringFromEnv=bP.getBooleanFromEnv=bP.unrefTimer=bP.otperformance=bP._globalThis=bP.SDK_INFO=void 0;var Dd=iPQ();Object.defineProperty(bP,"SDK_INFO",{enumerable:!0,get:function(){return Dd.SDK_INFO}});Object.defineProperty(bP,"_globalThis",{enumerable:!0,get:function(){return Dd._globalThis}});Object.defineProperty(bP,"otperformance",{enumerable:!0,get:function(){return Dd.otperformance}});Object.defineProperty(bP,"unrefTimer",{enumerable:!0,get:function(){return Dd.unrefTimer}});Object.defineProperty(bP,"getBooleanFromEnv",{enumerable:!0,get:function(){return Dd.getBooleanFromEnv}});Object.defineProperty(bP,"getStringFromEnv",{enumerable:!0,get:function(){return Dd.getStringFromEnv}});Object.defineProperty(bP,"getNumberFromEnv",{enumerable:!0,get:function(){return Dd.getNumberFromEnv}});Object.defineProperty(bP,"getStringListFromEnv",{enumerable:!0,get:function(){return Dd.getStringListFromEnv}})});var tPQ=w((rPQ)=>{Object.defineProperty(rPQ,"__esModule",{value:!0});rPQ.addHrTimes=rPQ.isTimeInput=rPQ.isTimeInputHrTime=rPQ.hrTimeToMicroseconds=rPQ.hrTimeToMilliseconds=rPQ.hrTimeToNanoseconds=rPQ.hrTimeToTimeStamp=rPQ.hrTimeDuration=rPQ.timeInputToHrTime=rPQ.hrTime=rPQ.getTimeOrigin=rPQ.millisToHrTime=void 0;var FT1=HT1(),nPQ=9,pf6=6,lf6=Math.pow(10,pf6),HuA=Math.pow(10,nPQ);function jHA(A){let Q=A/1000,B=Math.trunc(Q),G=Math.round(A%1000*lf6);return[B,G]}rPQ.millisToHrTime=jHA;function CT1(){let A=FT1.otperformance.timeOrigin;if(typeof A!=="number"){let Q=FT1.otperformance;A=Q.timing&&Q.timing.fetchStart}return A}rPQ.getTimeOrigin=CT1;function aPQ(A){let Q=jHA(CT1()),B=jHA(typeof A==="number"?A:FT1.otperformance.now());return oPQ(Q,B)}rPQ.hrTime=aPQ;function if6(A){if(zT1(A))return A;else if(typeof A==="number")if(A<CT1())return aPQ(A);else return jHA(A);else if(A instanceof Date)return jHA(A.getTime());else throw TypeError("Invalid input type")}rPQ.timeInputToHrTime=if6;function nf6(A,Q){let B=Q[0]-A[0],G=Q[1]-A[1];if(G<0)B-=1,G+=HuA;return[B,G]}rPQ.hrTimeDuration=nf6;function af6(A){let Q=nPQ,B=`${"0".repeat(Q)}${A[1]}Z`,G=B.substring(B.length-Q-1);return new Date(A[0]*1000).toISOString().replace("000Z",G)}rPQ.hrTimeToTimeStamp=af6;function of6(A){return A[0]*HuA+A[1]}rPQ.hrTimeToNanoseconds=of6;function rf6(A){return A[0]*1000+A[1]/1e6}rPQ.hrTimeToMilliseconds=rf6;function sf6(A){return A[0]*1e6+A[1]/1000}rPQ.hrTimeToMicroseconds=sf6;function zT1(A){return Array.isArray(A)&&A.length===2&&typeof A[0]==="number"&&typeof A[1]==="number"}rPQ.isTimeInputHrTime=zT1;function tf6(A){return zT1(A)||typeof A==="number"||A instanceof Date}rPQ.isTimeInput=tf6;function oPQ(A,Q){let B=[A[0]+Q[0],A[1]+Q[1]];if(B[1]>=HuA)B[1]-=HuA,B[0]+=1;return B}rPQ.addHrTimes=oPQ});var ASQ=w((ePQ)=>{Object.defineProperty(ePQ,"__esModule",{value:!0});ePQ.ExportResultCode=void 0;var Kb6;(function(A){A[A.SUCCESS=0]="SUCCESS",A[A.FAILED=1]="FAILED"})(Kb6=ePQ.ExportResultCode||(ePQ.ExportResultCode={}))});var YSQ=w((GSQ)=>{Object.defineProperty(GSQ,"__esModule",{value:!0});GSQ.CompositePropagator=void 0;var QSQ=O9();class BSQ{_propagators;_fields;constructor(A={}){this._propagators=A.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Q)=>typeof Q.fields==="function"?Q.fields():[]).reduce((Q,B)=>Q.concat(B),[])))}inject(A,Q,B){for(let G of this._propagators)try{G.inject(A,Q,B)}catch(Z){QSQ.diag.warn(`Failed to inject with ${G.constructor.name}. Err: ${Z.message}`)}}extract(A,Q,B){return this._propagators.reduce((G,Z)=>{try{return Z.extract(G,Q,B)}catch(Y){QSQ.diag.warn(`Failed to extract with ${Z.constructor.name}. Err: ${Y.message}`)}return G},A)}fields(){return this._fields.slice()}}GSQ.CompositePropagator=BSQ});var XSQ=w((JSQ)=>{Object.defineProperty(JSQ,"__esModule",{value:!0});JSQ.validateValue=JSQ.validateKey=void 0;var $T1="[_0-9a-z-*/]",Vb6=`[a-z]${$T1}{0,255}`,Eb6=`[a-z0-9]${$T1}{0,240}@[a-z]${$T1}{0,13}`,Db6=new RegExp(`^(?:${Vb6}|${Eb6})$`),Hb6=/^[ -~]{0,255}[!-~]$/,Fb6=/,|=/;function Cb6(A){return Db6.test(A)}JSQ.validateKey=Cb6;function zb6(A){return Hb6.test(A)&&!Fb6.test(A)}JSQ.validateValue=zb6});var NT1=w((DSQ)=>{Object.defineProperty(DSQ,"__esModule",{value:!0});DSQ.TraceState=void 0;var WSQ=XSQ(),KSQ=32,$b6=512,VSQ=",",ESQ="=";class wT1{_internalState=new Map;constructor(A){if(A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+ESQ+this.get(Q)),A},[]).join(VSQ)}_parse(A){if(A.length>$b6)return;if(this._internalState=A.split(VSQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(ESQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,WSQ.validateKey)(Y)&&(0,WSQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>KSQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,KSQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new wT1;return A._internalState=new Map(this._internalState),A}}DSQ.TraceState=wT1});var $SQ=w((zSQ)=>{Object.defineProperty(zSQ,"__esModule",{value:!0});zSQ.W3CTraceContextPropagator=zSQ.parseTraceParent=zSQ.TRACE_STATE_HEADER=zSQ.TRACE_PARENT_HEADER=void 0;var FuA=O9(),wb6=_HA(),Nb6=NT1();zSQ.TRACE_PARENT_HEADER="traceparent";zSQ.TRACE_STATE_HEADER="tracestate";var qb6="00",Lb6="(?!ff)[\\da-f]{2}",Mb6="(?![0]{32})[\\da-f]{32}",Ob6="(?![0]{16})[\\da-f]{16}",Rb6="[\\da-f]{2}",_b6=new RegExp(`^\\s?(${Lb6})-(${Mb6})-(${Ob6})-(${Rb6})(-.*)?\\s?$`);function FSQ(A){let Q=_b6.exec(A);if(!Q)return null;if(Q[1]==="00"&&Q[5])return null;return{traceId:Q[2],spanId:Q[3],traceFlags:parseInt(Q[4],16)}}zSQ.parseTraceParent=FSQ;class CSQ{inject(A,Q,B){let G=FuA.trace.getSpanContext(A);if(!G||(0,wb6.isTracingSuppressed)(A)||!(0,FuA.isSpanContextValid)(G))return;let Z=`${qb6}-${G.traceId}-${G.spanId}-0${Number(G.traceFlags||FuA.TraceFlags.NONE).toString(16)}`;if(B.set(Q,zSQ.TRACE_PARENT_HEADER,Z),G.traceState)B.set(Q,zSQ.TRACE_STATE_HEADER,G.traceState.serialize())}extract(A,Q,B){let G=B.get(Q,zSQ.TRACE_PARENT_HEADER);if(!G)return A;let Z=Array.isArray(G)?G[0]:G;if(typeof Z!=="string")return A;let Y=FSQ(Z);if(!Y)return A;Y.isRemote=!0;let J=B.get(Q,zSQ.TRACE_STATE_HEADER);if(J){let I=Array.isArray(J)?J.join(","):J;Y.traceState=new Nb6.TraceState(typeof I==="string"?I:void 0)}return FuA.trace.setSpanContext(A,Y)}fields(){return[zSQ.TRACE_PARENT_HEADER,zSQ.TRACE_STATE_HEADER]}}zSQ.W3CTraceContextPropagator=CSQ});var LSQ=w((NSQ)=>{Object.defineProperty(NSQ,"__esModule",{value:!0});NSQ.getRPCMetadata=NSQ.deleteRPCMetadata=NSQ.setRPCMetadata=NSQ.RPCType=void 0;var jb6=O9(),qT1=(0,jb6.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Pb6;(function(A){A.HTTP="http"})(Pb6=NSQ.RPCType||(NSQ.RPCType={}));function Sb6(A,Q){return A.setValue(qT1,Q)}NSQ.setRPCMetadata=Sb6;function xb6(A){return A.deleteValue(qT1)}NSQ.deleteRPCMetadata=xb6;function yb6(A){return A.getValue(qT1)}NSQ.getRPCMetadata=yb6});var PSQ=w((TSQ)=>{Object.defineProperty(TSQ,"__esModule",{value:!0});TSQ.isPlainObject=void 0;var fb6="[object Object]",bb6="[object Null]",hb6="[object Undefined]",gb6=Function.prototype,MSQ=gb6.toString,ub6=MSQ.call(Object),mb6=Object.getPrototypeOf,OSQ=Object.prototype,RSQ=OSQ.hasOwnProperty,kr=Symbol?Symbol.toStringTag:void 0,_SQ=OSQ.toString;function db6(A){if(!cb6(A)||pb6(A)!==fb6)return!1;let Q=mb6(A);if(Q===null)return!0;let B=RSQ.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&MSQ.call(B)===ub6}TSQ.isPlainObject=db6;function cb6(A){return A!=null&&typeof A=="object"}function pb6(A){if(A==null)return A===void 0?hb6:bb6;return kr&&kr in Object(A)?lb6(A):ib6(A)}function lb6(A){let Q=RSQ.call(A,kr),B=A[kr],G=!1;try{A[kr]=void 0,G=!0}catch{}let Z=_SQ.call(A);if(G)if(Q)A[kr]=B;else delete A[kr];return Z}function ib6(A){return _SQ.call(A)}});var bSQ=w((kSQ)=>{Object.defineProperty(kSQ,"__esModule",{value:!0});kSQ.merge=void 0;var SSQ=PSQ(),nb6=20;function ab6(...A){let Q=A.shift(),B=new WeakMap;while(A.length>0)Q=ySQ(Q,A.shift(),0,B);return Q}kSQ.merge=ab6;function LT1(A){if($uA(A))return A.slice();return A}function ySQ(A,Q,B=0,G){let Z;if(B>nb6)return;if(B++,UuA(A)||UuA(Q)||vSQ(Q))Z=LT1(Q);else if($uA(A)){if(Z=A.slice(),$uA(Q))for(let Y=0,J=Q.length;Y<J;Y++)Z.push(LT1(Q[Y]));else if(PHA(Q)){let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J];Z[X]=LT1(Q[X])}}}else if(PHA(A))if(PHA(Q)){if(!ob6(A,Q))return Q;Z=Object.assign({},A);let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J],W=Q[X];if(UuA(W))if(typeof W>"u")delete Z[X];else Z[X]=W;else{let K=Z[X],V=W;if(xSQ(A,X,G)||xSQ(Q,X,G))delete Z[X];else{if(PHA(K)&&PHA(V)){let E=G.get(K)||[],D=G.get(V)||[];E.push({obj:A,key:X}),D.push({obj:Q,key:X}),G.set(K,E),G.set(V,D)}Z[X]=ySQ(Z[X],W,B,G)}}}}else Z=Q;return Z}function xSQ(A,Q,B){let G=B.get(A[Q])||[];for(let Z=0,Y=G.length;Z<Y;Z++){let J=G[Z];if(J.key===Q&&J.obj===A)return!0}return!1}function $uA(A){return Array.isArray(A)}function vSQ(A){return typeof A==="function"}function PHA(A){return!UuA(A)&&!$uA(A)&&!vSQ(A)&&typeof A==="object"}function UuA(A){return typeof A==="string"||typeof A==="number"||typeof A==="boolean"||typeof A>"u"||A instanceof Date||A instanceof RegExp||A===null}function ob6(A,Q){if(!(0,SSQ.isPlainObject)(A)||!(0,SSQ.isPlainObject)(Q))return!1;return!0}});var uSQ=w((hSQ)=>{Object.defineProperty(hSQ,"__esModule",{value:!0});hSQ.callWithTimeout=hSQ.TimeoutError=void 0;class wuA extends Error{constructor(A){super(A);Object.setPrototypeOf(this,wuA.prototype)}}hSQ.TimeoutError=wuA;function rb6(A,Q){let B,G=new Promise(function(Y,J){B=setTimeout(function(){J(new wuA("Operation timed out."))},Q)});return Promise.race([A,G]).then((Z)=>{return clearTimeout(B),Z},(Z)=>{throw clearTimeout(B),Z})}hSQ.callWithTimeout=rb6});var pSQ=w((dSQ)=>{Object.defineProperty(dSQ,"__esModule",{value:!0});dSQ.isUrlIgnored=dSQ.urlMatches=void 0;function mSQ(A,Q){if(typeof Q==="string")return A===Q;else return!!A.match(Q)}dSQ.urlMatches=mSQ;function tb6(A,Q){if(!Q)return!1;for(let B of Q)if(mSQ(A,B))return!0;return!1}dSQ.isUrlIgnored=tb6});var aSQ=w((iSQ)=>{Object.defineProperty(iSQ,"__esModule",{value:!0});iSQ.Deferred=void 0;class lSQ{_promise;_resolve;_reject;constructor(){this._promise=new Promise((A,Q)=>{this._resolve=A,this._reject=Q})}get promise(){return this._promise}resolve(A){this._resolve(A)}reject(A){this._reject(A)}}iSQ.Deferred=lSQ});var tSQ=w((rSQ)=>{Object.defineProperty(rSQ,"__esModule",{value:!0});rSQ.BindOnceFuture=void 0;var Ah6=aSQ();class oSQ{_callback;_that;_isCalled=!1;_deferred=new Ah6.Deferred;constructor(A,Q){this._callback=A,this._that=Q}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...A){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...A)).then((Q)=>this._deferred.resolve(Q),(Q)=>this._deferred.reject(Q))}catch(Q){this._deferred.reject(Q)}}return this._deferred.promise}}rSQ.BindOnceFuture=oSQ});var BxQ=w((AxQ)=>{Object.defineProperty(AxQ,"__esModule",{value:!0});AxQ.diagLogLevelFromString=void 0;var _k=O9(),eSQ={ALL:_k.DiagLogLevel.ALL,VERBOSE:_k.DiagLogLevel.VERBOSE,DEBUG:_k.DiagLogLevel.DEBUG,INFO:_k.DiagLogLevel.INFO,WARN:_k.DiagLogLevel.WARN,ERROR:_k.DiagLogLevel.ERROR,NONE:_k.DiagLogLevel.NONE};function Qh6(A){if(A==null)return;let Q=eSQ[A.toUpperCase()];if(Q==null)return _k.diag.warn(`Unknown log level "${A}", expected one of ${Object.keys(eSQ)}, using default`),_k.DiagLogLevel.INFO;return Q}AxQ.diagLogLevelFromString=Qh6});var JxQ=w((ZxQ)=>{Object.defineProperty(ZxQ,"__esModule",{value:!0});ZxQ._export=void 0;var GxQ=O9(),Bh6=_HA();function Gh6(A,Q){return new Promise((B)=>{GxQ.context.with((0,Bh6.suppressTracing)(GxQ.context.active()),()=>{A.export(Q,(G)=>{B(G)})})})}ZxQ._export=Gh6});var Q8=w((F4)=>{Object.defineProperty(F4,"__esModule",{value:!0});F4.internal=F4.diagLogLevelFromString=F4.BindOnceFuture=F4.urlMatches=F4.isUrlIgnored=F4.callWithTimeout=F4.TimeoutError=F4.merge=F4.TraceState=F4.unsuppressTracing=F4.suppressTracing=F4.isTracingSuppressed=F4.setRPCMetadata=F4.getRPCMetadata=F4.deleteRPCMetadata=F4.RPCType=F4.parseTraceParent=F4.W3CTraceContextPropagator=F4.TRACE_STATE_HEADER=F4.TRACE_PARENT_HEADER=F4.CompositePropagator=F4.unrefTimer=F4.otperformance=F4.getStringListFromEnv=F4.getNumberFromEnv=F4.getBooleanFromEnv=F4.getStringFromEnv=F4._globalThis=F4.SDK_INFO=F4.parseKeyPairsIntoRecord=F4.ExportResultCode=F4.timeInputToHrTime=F4.millisToHrTime=F4.isTimeInputHrTime=F4.isTimeInput=F4.hrTimeToTimeStamp=F4.hrTimeToNanoseconds=F4.hrTimeToMilliseconds=F4.hrTimeToMicroseconds=F4.hrTimeDuration=F4.hrTime=F4.getTimeOrigin=F4.addHrTimes=F4.loggingErrorHandler=F4.setGlobalErrorHandler=F4.globalErrorHandler=F4.sanitizeAttributes=F4.isAttributeValue=F4.AnchoredClock=F4.W3CBaggagePropagator=void 0;var Zh6=CqQ();Object.defineProperty(F4,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Zh6.W3CBaggagePropagator}});var Yh6=wqQ();Object.defineProperty(F4,"AnchoredClock",{enumerable:!0,get:function(){return Yh6.AnchoredClock}});var IxQ=_qQ();Object.defineProperty(F4,"isAttributeValue",{enumerable:!0,get:function(){return IxQ.isAttributeValue}});Object.defineProperty(F4,"sanitizeAttributes",{enumerable:!0,get:function(){return IxQ.sanitizeAttributes}});var XxQ=yqQ();Object.defineProperty(F4,"globalErrorHandler",{enumerable:!0,get:function(){return XxQ.globalErrorHandler}});Object.defineProperty(F4,"setGlobalErrorHandler",{enumerable:!0,get:function(){return XxQ.setGlobalErrorHandler}});var Jh6=ET1();Object.defineProperty(F4,"loggingErrorHandler",{enumerable:!0,get:function(){return Jh6.loggingErrorHandler}});var rq=tPQ();Object.defineProperty(F4,"addHrTimes",{enumerable:!0,get:function(){return rq.addHrTimes}});Object.defineProperty(F4,"getTimeOrigin",{enumerable:!0,get:function(){return rq.getTimeOrigin}});Object.defineProperty(F4,"hrTime",{enumerable:!0,get:function(){return rq.hrTime}});Object.defineProperty(F4,"hrTimeDuration",{enumerable:!0,get:function(){return rq.hrTimeDuration}});Object.defineProperty(F4,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return rq.hrTimeToMicroseconds}});Object.defineProperty(F4,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return rq.hrTimeToMilliseconds}});Object.defineProperty(F4,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return rq.hrTimeToNanoseconds}});Object.defineProperty(F4,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return rq.hrTimeToTimeStamp}});Object.defineProperty(F4,"isTimeInput",{enumerable:!0,get:function(){return rq.isTimeInput}});Object.defineProperty(F4,"isTimeInputHrTime",{enumerable:!0,get:function(){return rq.isTimeInputHrTime}});Object.defineProperty(F4,"millisToHrTime",{enumerable:!0,get:function(){return rq.millisToHrTime}});Object.defineProperty(F4,"timeInputToHrTime",{enumerable:!0,get:function(){return rq.timeInputToHrTime}});var Ih6=ASQ();Object.defineProperty(F4,"ExportResultCode",{enumerable:!0,get:function(){return Ih6.ExportResultCode}});var Xh6=WT1();Object.defineProperty(F4,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Xh6.parseKeyPairsIntoRecord}});var Hd=HT1();Object.defineProperty(F4,"SDK_INFO",{enumerable:!0,get:function(){return Hd.SDK_INFO}});Object.defineProperty(F4,"_globalThis",{enumerable:!0,get:function(){return Hd._globalThis}});Object.defineProperty(F4,"getStringFromEnv",{enumerable:!0,get:function(){return Hd.getStringFromEnv}});Object.defineProperty(F4,"getBooleanFromEnv",{enumerable:!0,get:function(){return Hd.getBooleanFromEnv}});Object.defineProperty(F4,"getNumberFromEnv",{enumerable:!0,get:function(){return Hd.getNumberFromEnv}});Object.defineProperty(F4,"getStringListFromEnv",{enumerable:!0,get:function(){return Hd.getStringListFromEnv}});Object.defineProperty(F4,"otperformance",{enumerable:!0,get:function(){return Hd.otperformance}});Object.defineProperty(F4,"unrefTimer",{enumerable:!0,get:function(){return Hd.unrefTimer}});var Wh6=YSQ();Object.defineProperty(F4,"CompositePropagator",{enumerable:!0,get:function(){return Wh6.CompositePropagator}});var NuA=$SQ();Object.defineProperty(F4,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_PARENT_HEADER}});Object.defineProperty(F4,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_STATE_HEADER}});Object.defineProperty(F4,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return NuA.W3CTraceContextPropagator}});Object.defineProperty(F4,"parseTraceParent",{enumerable:!0,get:function(){return NuA.parseTraceParent}});var quA=LSQ();Object.defineProperty(F4,"RPCType",{enumerable:!0,get:function(){return quA.RPCType}});Object.defineProperty(F4,"deleteRPCMetadata",{enumerable:!0,get:function(){return quA.deleteRPCMetadata}});Object.defineProperty(F4,"getRPCMetadata",{enumerable:!0,get:function(){return quA.getRPCMetadata}});Object.defineProperty(F4,"setRPCMetadata",{enumerable:!0,get:function(){return quA.setRPCMetadata}});var MT1=_HA();Object.defineProperty(F4,"isTracingSuppressed",{enumerable:!0,get:function(){return MT1.isTracingSuppressed}});Object.defineProperty(F4,"suppressTracing",{enumerable:!0,get:function(){return MT1.suppressTracing}});Object.defineProperty(F4,"unsuppressTracing",{enumerable:!0,get:function(){return MT1.unsuppressTracing}});var Kh6=NT1();Object.defineProperty(F4,"TraceState",{enumerable:!0,get:function(){return Kh6.TraceState}});var Vh6=bSQ();Object.defineProperty(F4,"merge",{enumerable:!0,get:function(){return Vh6.merge}});var WxQ=uSQ();Object.defineProperty(F4,"TimeoutError",{enumerable:!0,get:function(){return WxQ.TimeoutError}});Object.defineProperty(F4,"callWithTimeout",{enumerable:!0,get:function(){return WxQ.callWithTimeout}});var KxQ=pSQ();Object.defineProperty(F4,"isUrlIgnored",{enumerable:!0,get:function(){return KxQ.isUrlIgnored}});Object.defineProperty(F4,"urlMatches",{enumerable:!0,get:function(){return KxQ.urlMatches}});var Eh6=tSQ();Object.defineProperty(F4,"BindOnceFuture",{enumerable:!0,get:function(){return Eh6.BindOnceFuture}});var Dh6=BxQ();Object.defineProperty(F4,"diagLogLevelFromString",{enumerable:!0,get:function(){return Dh6.diagLogLevelFromString}});var Hh6=JxQ();F4.internal={_export:Hh6._export}});var HxQ=w((ExQ)=>{Object.defineProperty(ExQ,"__esModule",{value:!0});ExQ.defaultServiceName=void 0;function Fh6(){return`unknown_service:${process.argv0}`}ExQ.defaultServiceName=Fh6});var FxQ=w((OT1)=>{Object.defineProperty(OT1,"__esModule",{value:!0});OT1.defaultServiceName=void 0;var Ch6=HxQ();Object.defineProperty(OT1,"defaultServiceName",{enumerable:!0,get:function(){return Ch6.defaultServiceName}})});var _T1=w((RT1)=>{Object.defineProperty(RT1,"__esModule",{value:!0});RT1.defaultServiceName=void 0;var Uh6=FxQ();Object.defineProperty(RT1,"defaultServiceName",{enumerable:!0,get:function(){return Uh6.defaultServiceName}})});var UxQ=w((CxQ)=>{Object.defineProperty(CxQ,"__esModule",{value:!0});CxQ.identity=CxQ.isPromiseLike=void 0;var wh6=(A)=>{return A!==null&&typeof A==="object"&&typeof A.then==="function"};CxQ.isPromiseLike=wh6;function Nh6(A){return A}CxQ.identity=Nh6});var PT1=w((wxQ)=>{Object.defineProperty(wxQ,"__esModule",{value:!0});wxQ.defaultResource=wxQ.emptyResource=wxQ.resourceFromDetectedResource=wxQ.resourceFromAttributes=void 0;var xHA=O9(),TT1=Q8(),fr=vr(),Lh6=_T1(),SHA=UxQ();class yHA{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(A,Q){let B=new yHA({},Q);return B._rawAttributes=$xQ(A),B._asyncAttributesPending=A.filter(([G,Z])=>(0,SHA.isPromiseLike)(Z)).length>0,B}constructor(A,Q){let B=A.attributes??{};this._rawAttributes=Object.entries(B).map(([G,Z])=>{if((0,SHA.isPromiseLike)(Z))this._asyncAttributesPending=!0;return[G,Z]}),this._rawAttributes=$xQ(this._rawAttributes),this._schemaUrl=_h6(Q?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let A=0;A<this._rawAttributes.length;A++){let[Q,B]=this._rawAttributes[A];this._rawAttributes[A]=[Q,(0,SHA.isPromiseLike)(B)?await B:B]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)xHA.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let A={};for(let[Q,B]of this._rawAttributes){if((0,SHA.isPromiseLike)(B)){xHA.diag.debug(`Unsettled resource attribute ${Q} skipped`);continue}if(B!=null)A[Q]??=B}if(!this._asyncAttributesPending)this._memoizedAttributes=A;return A}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(A){if(A==null)return this;let Q=Th6(this,A),B=Q?{schemaUrl:Q}:void 0;return yHA.FromAttributeList([...A.getRawAttributes(),...this.getRawAttributes()],B)}}function jT1(A,Q){return yHA.FromAttributeList(Object.entries(A),Q)}wxQ.resourceFromAttributes=jT1;function Mh6(A,Q){return new yHA(A,Q)}wxQ.resourceFromDetectedResource=Mh6;function Oh6(){return jT1({})}wxQ.emptyResource=Oh6;function Rh6(){return jT1({[fr.ATTR_SERVICE_NAME]:(0,Lh6.defaultServiceName)(),[fr.ATTR_TELEMETRY_SDK_LANGUAGE]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_LANGUAGE],[fr.ATTR_TELEMETRY_SDK_NAME]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_NAME],[fr.ATTR_TELEMETRY_SDK_VERSION]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_VERSION]})}wxQ.defaultResource=Rh6;function $xQ(A){return A.map(([Q,B])=>{if((0,SHA.isPromiseLike)(B))return[Q,B.catch((G)=>{xHA.diag.debug("promise rejection for resource attribute: %s - %s",Q,G);return})];return[Q,B]})}function _h6(A){if(typeof A==="string"||A===void 0)return A;xHA.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",A);return}function Th6(A,Q){let B=A?.schemaUrl,G=Q?.schemaUrl,Z=B===void 0||B==="",Y=G===void 0||G==="";if(Z)return G;if(Y)return B;if(B===G)return B;xHA.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',B,G);return}});var OxQ=w((LxQ)=>{Object.defineProperty(LxQ,"__esModule",{value:!0});LxQ.detectResources=void 0;var qxQ=O9(),ST1=PT1(),xh6=(A={})=>{return(A.detectors||[]).map((B)=>{try{let G=(0,ST1.resourceFromDetectedResource)(B.detect(A));return qxQ.diag.debug(`${B.constructor.name} found resource.`,G),G}catch(G){return qxQ.diag.debug(`${B.constructor.name} failed: ${G.message}`),(0,ST1.emptyResource)()}}).reduce((B,G)=>B.merge(G),(0,ST1.emptyResource)())};LxQ.detectResources=xh6});var PxQ=w((TxQ)=>{Object.defineProperty(TxQ,"__esModule",{value:!0});TxQ.envDetector=void 0;var yh6=O9(),vh6=vr(),RxQ=Q8();class _xQ{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(A){let Q={},B=(0,RxQ.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),G=(0,RxQ.getStringFromEnv)("OTEL_SERVICE_NAME");if(B)try{let Z=this._parseResourceAttributes(B);Object.assign(Q,Z)}catch(Z){yh6.diag.debug(`EnvDetector failed: ${Z.message}`)}if(G)Q[vh6.ATTR_SERVICE_NAME]=G;return{attributes:Q}}_parseResourceAttributes(A){if(!A)return{};let Q={},B=A.split(this._COMMA_SEPARATOR,-1);for(let G of B){let Z=G.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(Z.length!==2)continue;let[Y,J]=Z;if(Y=Y.trim(),J=J.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(Y))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(J))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);Q[Y]=decodeURIComponent(J)}return Q}_isValid(A){return A.length<=this._MAX_LENGTH&&this._isBaggageOctetString(A)}_isBaggageOctetString(A){for(let Q=0;Q<A.length;Q++){let B=A.charCodeAt(Q);if(B<33||B===44||B===59||B===92||B>126)return!1}return!0}_isValidAndNotEmpty(A){return A.length>0&&this._isValid(A)}}TxQ.envDetector=new _xQ});var vHA=w((SxQ)=>{Object.defineProperty(SxQ,"__esModule",{value:!0});SxQ.ATTR_WEBENGINE_VERSION=SxQ.ATTR_WEBENGINE_NAME=SxQ.ATTR_WEBENGINE_DESCRIPTION=SxQ.ATTR_SERVICE_NAMESPACE=SxQ.ATTR_SERVICE_INSTANCE_ID=SxQ.ATTR_PROCESS_RUNTIME_VERSION=SxQ.ATTR_PROCESS_RUNTIME_NAME=SxQ.ATTR_PROCESS_RUNTIME_DESCRIPTION=SxQ.ATTR_PROCESS_PID=SxQ.ATTR_PROCESS_OWNER=SxQ.ATTR_PROCESS_EXECUTABLE_PATH=SxQ.ATTR_PROCESS_EXECUTABLE_NAME=SxQ.ATTR_PROCESS_COMMAND_ARGS=SxQ.ATTR_PROCESS_COMMAND=SxQ.ATTR_OS_VERSION=SxQ.ATTR_OS_TYPE=SxQ.ATTR_K8S_POD_NAME=SxQ.ATTR_K8S_NAMESPACE_NAME=SxQ.ATTR_K8S_DEPLOYMENT_NAME=SxQ.ATTR_K8S_CLUSTER_NAME=SxQ.ATTR_HOST_TYPE=SxQ.ATTR_HOST_NAME=SxQ.ATTR_HOST_IMAGE_VERSION=SxQ.ATTR_HOST_IMAGE_NAME=SxQ.ATTR_HOST_IMAGE_ID=SxQ.ATTR_HOST_ID=SxQ.ATTR_HOST_ARCH=SxQ.ATTR_CONTAINER_NAME=SxQ.ATTR_CONTAINER_IMAGE_TAGS=SxQ.ATTR_CONTAINER_IMAGE_NAME=SxQ.ATTR_CONTAINER_ID=SxQ.ATTR_CLOUD_REGION=SxQ.ATTR_CLOUD_PROVIDER=SxQ.ATTR_CLOUD_AVAILABILITY_ZONE=SxQ.ATTR_CLOUD_ACCOUNT_ID=void 0;SxQ.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";SxQ.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";SxQ.ATTR_CLOUD_PROVIDER="cloud.provider";SxQ.ATTR_CLOUD_REGION="cloud.region";SxQ.ATTR_CONTAINER_ID="container.id";SxQ.ATTR_CONTAINER_IMAGE_NAME="container.image.name";SxQ.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";SxQ.ATTR_CONTAINER_NAME="container.name";SxQ.ATTR_HOST_ARCH="host.arch";SxQ.ATTR_HOST_ID="host.id";SxQ.ATTR_HOST_IMAGE_ID="host.image.id";SxQ.ATTR_HOST_IMAGE_NAME="host.image.name";SxQ.ATTR_HOST_IMAGE_VERSION="host.image.version";SxQ.ATTR_HOST_NAME="host.name";SxQ.ATTR_HOST_TYPE="host.type";SxQ.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";SxQ.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";SxQ.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";SxQ.ATTR_K8S_POD_NAME="k8s.pod.name";SxQ.ATTR_OS_TYPE="os.type";SxQ.ATTR_OS_VERSION="os.version";SxQ.ATTR_PROCESS_COMMAND="process.command";SxQ.ATTR_PROCESS_COMMAND_ARGS="process.command_args";SxQ.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";SxQ.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";SxQ.ATTR_PROCESS_OWNER="process.owner";SxQ.ATTR_PROCESS_PID="process.pid";SxQ.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";SxQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";SxQ.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";SxQ.ATTR_SERVICE_INSTANCE_ID="service.instance.id";SxQ.ATTR_SERVICE_NAMESPACE="service.namespace";SxQ.ATTR_WEBENGINE_DESCRIPTION="webengine.description";SxQ.ATTR_WEBENGINE_NAME="webengine.name";SxQ.ATTR_WEBENGINE_VERSION="webengine.version"});var LuA=w((yxQ)=>{Object.defineProperty(yxQ,"__esModule",{value:!0});yxQ.execAsync=void 0;var Fg6=qA("child_process"),Cg6=qA("util");yxQ.execAsync=Cg6.promisify(Fg6.exec)});var bxQ=w((kxQ)=>{Object.defineProperty(kxQ,"__esModule",{value:!0});kxQ.getMachineId=void 0;var zg6=LuA(),Ug6=O9();async function $g6(){try{let Q=(await(0,zg6.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
bundles/ClaudeCodeCode/cli.js:193:`).find((G)=>G.includes("IOPlatformUUID"));if(!Q)return;let B=Q.split('" = "');if(B.length===2)return B[1].slice(0,-1)}catch(A){Ug6.diag.debug(`error reading machine id: ${A}`)}return}kxQ.getMachineId=$g6});var uxQ=w((hxQ)=>{Object.defineProperty(hxQ,"__esModule",{value:!0});hxQ.getMachineId=void 0;var wg6=qA("fs"),Ng6=O9();async function qg6(){let A=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let Q of A)try{return(await wg6.promises.readFile(Q,{encoding:"utf8"})).trim()}catch(B){Ng6.diag.debug(`error reading machine id: ${B}`)}return}hxQ.getMachineId=qg6});var pxQ=w((dxQ)=>{Object.defineProperty(dxQ,"__esModule",{value:!0});dxQ.getMachineId=void 0;var Lg6=qA("fs"),Mg6=LuA(),mxQ=O9();async function Og6(){try{return(await Lg6.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(A){mxQ.diag.debug(`error reading machine id: ${A}`)}try{return(await(0,Mg6.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(A){mxQ.diag.debug(`error reading machine id: ${A}`)}return}dxQ.getMachineId=Og6});var axQ=w((ixQ)=>{Object.defineProperty(ixQ,"__esModule",{value:!0});ixQ.getMachineId=void 0;var lxQ=qA("process"),Rg6=LuA(),_g6=O9();async function Tg6(){let Q="%windir%\\System32\\REG.exe";if(lxQ.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in lxQ.env)Q="%windir%\\sysnative\\cmd.exe /c "+Q;try{let G=(await(0,Rg6.execAsync)(`${Q} QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`)).stdout.split("REG_SZ");if(G.length===2)return G[1].trim()}catch(B){_g6.diag.debug(`error reading machine id: ${B}`)}return}ixQ.getMachineId=Tg6});var sxQ=w((oxQ)=>{Object.defineProperty(oxQ,"__esModule",{value:!0});oxQ.getMachineId=void 0;var jg6=O9();async function Pg6(){jg6.diag.debug("could not read machine-id: unsupported platform");return}oxQ.getMachineId=Pg6});var AyQ=w((txQ)=>{Object.defineProperty(txQ,"__esModule",{value:!0});txQ.getMachineId=void 0;var Sg6=qA("process"),br;async function xg6(){if(!br)switch(Sg6.platform){case"darwin":br=(await Promise.resolve().then(() => o(bxQ()))).getMachineId;break;case"linux":br=(await Promise.resolve().then(() => o(uxQ()))).getMachineId;break;case"freebsd":br=(await Promise.resolve().then(() => o(pxQ()))).getMachineId;break;case"win32":br=(await Promise.resolve().then(() => o(axQ()))).getMachineId;break;default:br=(await Promise.resolve().then(() => o(sxQ()))).getMachineId;break}return br()}txQ.getMachineId=xg6});var xT1=w((QyQ)=>{Object.defineProperty(QyQ,"__esModule",{value:!0});QyQ.normalizeType=QyQ.normalizeArch=void 0;var yg6=(A)=>{switch(A){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return A}};QyQ.normalizeArch=yg6;var vg6=(A)=>{switch(A){case"sunos":return"solaris";case"win32":return"windows";default:return A}};QyQ.normalizeType=vg6});var IyQ=w((YyQ)=>{Object.defineProperty(YyQ,"__esModule",{value:!0});YyQ.hostDetector=void 0;var yT1=vHA(),GyQ=qA("os"),fg6=AyQ(),bg6=xT1();class ZyQ{detect(A){return{attributes:{[yT1.ATTR_HOST_NAME]:(0,GyQ.hostname)(),[yT1.ATTR_HOST_ARCH]:(0,bg6.normalizeArch)((0,GyQ.arch)()),[yT1.ATTR_HOST_ID]:(0,fg6.getMachineId)()}}}}YyQ.hostDetector=new ZyQ});var DyQ=w((VyQ)=>{Object.defineProperty(VyQ,"__esModule",{value:!0});VyQ.osDetector=void 0;var XyQ=vHA(),WyQ=qA("os"),hg6=xT1();class KyQ{detect(A){return{attributes:{[XyQ.ATTR_OS_TYPE]:(0,hg6.normalizeType)((0,WyQ.platform)()),[XyQ.ATTR_OS_VERSION]:(0,WyQ.release)()}}}}VyQ.osDetector=new KyQ});var zyQ=w((FyQ)=>{Object.defineProperty(FyQ,"__esModule",{value:!0});FyQ.processDetector=void 0;var gg6=O9(),Tk=vHA(),ug6=qA("os");class HyQ{detect(A){let Q={[Tk.ATTR_PROCESS_PID]:process.pid,[Tk.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[Tk.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[Tk.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Tk.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[Tk.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[Tk.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)Q[Tk.ATTR_PROCESS_COMMAND]=process.argv[1];try{let B=ug6.userInfo();Q[Tk.ATTR_PROCESS_OWNER]=B.username}catch(B){gg6.diag.debug(`error obtaining process owner: ${B}`)}return{attributes:Q}}}FyQ.processDetector=new HyQ});var NyQ=w(($yQ)=>{Object.defineProperty($yQ,"__esModule",{value:!0});$yQ.serviceInstanceIdDetector=void 0;var mg6=vHA(),dg6=qA("crypto");class UyQ{detect(A){return{attributes:{[mg6.ATTR_SERVICE_INSTANCE_ID]:(0,dg6.randomUUID)()}}}}$yQ.serviceInstanceIdDetector=new UyQ});var qyQ=w((s6A)=>{Object.defineProperty(s6A,"__esModule",{value:!0});s6A.serviceInstanceIdDetector=s6A.processDetector=s6A.osDetector=s6A.hostDetector=void 0;var cg6=IyQ();Object.defineProperty(s6A,"hostDetector",{enumerable:!0,get:function(){return cg6.hostDetector}});var pg6=DyQ();Object.defineProperty(s6A,"osDetector",{enumerable:!0,get:function(){return pg6.osDetector}});var lg6=zyQ();Object.defineProperty(s6A,"processDetector",{enumerable:!0,get:function(){return lg6.processDetector}});var ig6=NyQ();Object.defineProperty(s6A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return ig6.serviceInstanceIdDetector}})});var LyQ=w((t6A)=>{Object.defineProperty(t6A,"__esModule",{value:!0});t6A.serviceInstanceIdDetector=t6A.processDetector=t6A.osDetector=t6A.hostDetector=void 0;var MuA=qyQ();Object.defineProperty(t6A,"hostDetector",{enumerable:!0,get:function(){return MuA.hostDetector}});Object.defineProperty(t6A,"osDetector",{enumerable:!0,get:function(){return MuA.osDetector}});Object.defineProperty(t6A,"processDetector",{enumerable:!0,get:function(){return MuA.processDetector}});Object.defineProperty(t6A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return MuA.serviceInstanceIdDetector}})});var RyQ=w((MyQ)=>{Object.defineProperty(MyQ,"__esModule",{value:!0});MyQ.noopDetector=MyQ.NoopDetector=void 0;class vT1{detect(){return{attributes:{}}}}MyQ.NoopDetector=vT1;MyQ.noopDetector=new vT1});var _yQ=w((Fd)=>{Object.defineProperty(Fd,"__esModule",{value:!0});Fd.noopDetector=Fd.serviceInstanceIdDetector=Fd.processDetector=Fd.osDetector=Fd.hostDetector=Fd.envDetector=void 0;var rg6=PxQ();Object.defineProperty(Fd,"envDetector",{enumerable:!0,get:function(){return rg6.envDetector}});var OuA=LyQ();Object.defineProperty(Fd,"hostDetector",{enumerable:!0,get:function(){return OuA.hostDetector}});Object.defineProperty(Fd,"osDetector",{enumerable:!0,get:function(){return OuA.osDetector}});Object.defineProperty(Fd,"processDetector",{enumerable:!0,get:function(){return OuA.processDetector}});Object.defineProperty(Fd,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return OuA.serviceInstanceIdDetector}});var sg6=RyQ();Object.defineProperty(Fd,"noopDetector",{enumerable:!0,get:function(){return sg6.noopDetector}})});var e6A=w((sq)=>{Object.defineProperty(sq,"__esModule",{value:!0});sq.defaultServiceName=sq.emptyResource=sq.defaultResource=sq.resourceFromAttributes=sq.serviceInstanceIdDetector=sq.processDetector=sq.osDetector=sq.hostDetector=sq.envDetector=sq.detectResources=void 0;var eg6=OxQ();Object.defineProperty(sq,"detectResources",{enumerable:!0,get:function(){return eg6.detectResources}});var kHA=_yQ();Object.defineProperty(sq,"envDetector",{enumerable:!0,get:function(){return kHA.envDetector}});Object.defineProperty(sq,"hostDetector",{enumerable:!0,get:function(){return kHA.hostDetector}});Object.defineProperty(sq,"osDetector",{enumerable:!0,get:function(){return kHA.osDetector}});Object.defineProperty(sq,"processDetector",{enumerable:!0,get:function(){return kHA.processDetector}});Object.defineProperty(sq,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return kHA.serviceInstanceIdDetector}});var kT1=PT1();Object.defineProperty(sq,"resourceFromAttributes",{enumerable:!0,get:function(){return kT1.resourceFromAttributes}});Object.defineProperty(sq,"defaultResource",{enumerable:!0,get:function(){return kT1.defaultResource}});Object.defineProperty(sq,"emptyResource",{enumerable:!0,get:function(){return kT1.emptyResource}});var Au6=_T1();Object.defineProperty(sq,"defaultServiceName",{enumerable:!0,get:function(){return Au6.defaultServiceName}})});var SyQ=w((jyQ)=>{Object.defineProperty(jyQ,"__esModule",{value:!0});jyQ.LogRecordImpl=void 0;var hr=O9(),RuA=Q8();class TyQ{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(A){if(this._isLogRecordReadonly())return;this._severityText=A}get severityText(){return this._severityText}set severityNumber(A){if(this._isLogRecordReadonly())return;this._severityNumber=A}get severityNumber(){return this._severityNumber}set body(A){if(this._isLogRecordReadonly())return;this._body=A}get body(){return this._body}get eventName(){return this._eventName}set eventName(A){if(this._isLogRecordReadonly())return;this._eventName=A}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(A,Q,B){let{timestamp:G,observedTimestamp:Z,eventName:Y,severityNumber:J,severityText:I,body:X,attributes:W={},context:K}=B,V=Date.now();if(this.hrTime=(0,RuA.timeInputToHrTime)(G??V),this.hrTimeObserved=(0,RuA.timeInputToHrTime)(Z??V),K){let E=hr.trace.getSpanContext(K);if(E&&hr.isSpanContextValid(E))this.spanContext=E}this.severityNumber=J,this.severityText=I,this.body=X,this.resource=A.resource,this.instrumentationScope=Q,this._logRecordLimits=A.logRecordLimits,this._eventName=Y,this.setAttributes(W)}setAttribute(A,Q){if(this._isLogRecordReadonly())return this;if(Q===null)return this;if(A.length===0)return hr.diag.warn(`Invalid attribute key: ${A}`),this;if(!(0,RuA.isAttributeValue)(Q)&&!(typeof Q==="object"&&!Array.isArray(Q)&&Object.keys(Q).length>0))return hr.diag.warn(`Invalid attribute value set for key: ${A}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,A)){if(this.droppedAttributesCount===1)hr.diag.warn("Dropping extra attributes.");return this}if((0,RuA.isAttributeValue)(Q))this.attributes[A]=this._truncateToSize(Q);else this.attributes[A]=Q;return this}setAttributes(A){for(let[Q,B]of Object.entries(A))this.setAttribute(Q,B);return this}setBody(A){return this.body=A,this}setEventName(A){return this.eventName=A,this}setSeverityNumber(A){return this.severityNumber=A,this}setSeverityText(A){return this.severityText=A,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(A){let Q=this._logRecordLimits.attributeValueLengthLimit;if(Q<=0)return hr.diag.warn(`Attribute value limit must be positive, got ${Q}`),A;if(typeof A==="string")return this._truncateToLimitUtil(A,Q);if(Array.isArray(A))return A.map((B)=>typeof B==="string"?this._truncateToLimitUtil(B,Q):B);return A}_truncateToLimitUtil(A,Q){if(A.length<=Q)return A;return A.substring(0,Q)}_isLogRecordReadonly(){if(this._isReadonly)hr.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}jyQ.LogRecordImpl=TyQ});var kyQ=w((yyQ)=>{Object.defineProperty(yyQ,"__esModule",{value:!0});yyQ.Logger=void 0;var Bu6=O9(),Gu6=SyQ();class xyQ{instrumentationScope;_sharedState;constructor(A,Q){this.instrumentationScope=A,this._sharedState=Q}emit(A){let Q=A.context||Bu6.context.active(),B=new Gu6.LogRecordImpl(this._sharedState,this.instrumentationScope,{context:Q,...A});this._sharedState.activeProcessor.onEmit(B,Q),B._makeReadonly()}}yyQ.Logger=xyQ});var hyQ=w((fyQ)=>{Object.defineProperty(fyQ,"__esModule",{value:!0});fyQ.reconfigureLimits=fyQ.loadDefaultConfig=void 0;var A3A=Q8();function Zu6(){return{forceFlushTimeoutMillis:30000,logRecordLimits:{attributeValueLengthLimit:(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}fyQ.loadDefaultConfig=Zu6;function Yu6(A){return{attributeCountLimit:A.attributeCountLimit??(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,A3A.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:A.attributeValueLengthLimit??(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,A3A.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}fyQ.reconfigureLimits=Yu6});var fT1=w((uyQ)=>{Object.defineProperty(uyQ,"__esModule",{value:!0});uyQ.NoopLogRecordProcessor=void 0;class gyQ{forceFlush(){return Promise.resolve()}onEmit(A,Q){}shutdown(){return Promise.resolve()}}uyQ.NoopLogRecordProcessor=gyQ});var lyQ=w((cyQ)=>{Object.defineProperty(cyQ,"__esModule",{value:!0});cyQ.MultiLogRecordProcessor=void 0;var Iu6=Q8();class dyQ{processors;forceFlushTimeoutMillis;constructor(A,Q){this.processors=A,this.forceFlushTimeoutMillis=Q}async forceFlush(){let A=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((Q)=>(0,Iu6.callWithTimeout)(Q.forceFlush(),A)))}onEmit(A,Q){this.processors.forEach((B)=>B.onEmit(A,Q))}async shutdown(){await Promise.all(this.processors.map((A)=>A.shutdown()))}}cyQ.MultiLogRecordProcessor=dyQ});var oyQ=w((nyQ)=>{Object.defineProperty(nyQ,"__esModule",{value:!0});nyQ.LoggerProviderSharedState=void 0;var Xu6=fT1(),Wu6=lyQ();class iyQ{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(A,Q,B,G){if(this.resource=A,this.forceFlushTimeoutMillis=Q,this.logRecordLimits=B,this.processors=G,G.length>0)this.registeredLogRecordProcessors=G,this.activeProcessor=new Wu6.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new Xu6.NoopLogRecordProcessor}}nyQ.LoggerProviderSharedState=iyQ});var BvQ=w((eyQ)=>{Object.defineProperty(eyQ,"__esModule",{value:!0});eyQ.LoggerProvider=eyQ.DEFAULT_LOGGER_NAME=void 0;var _uA=O9(),Ku6=JT1(),Vu6=e6A(),ryQ=Q8(),Eu6=kyQ(),syQ=hyQ(),Du6=oyQ();eyQ.DEFAULT_LOGGER_NAME="unknown";class tyQ{_shutdownOnce;_sharedState;constructor(A={}){let Q=(0,ryQ.merge)({},(0,syQ.loadDefaultConfig)(),A),B=A.resource??(0,Vu6.defaultResource)();this._sharedState=new Du6.LoggerProviderSharedState(B,Q.forceFlushTimeoutMillis,(0,syQ.reconfigureLimits)(Q.logRecordLimits),A?.processors??[]),this._shutdownOnce=new ryQ.BindOnceFuture(this._shutdown,this)}getLogger(A,Q,B){if(this._shutdownOnce.isCalled)return _uA.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),Ku6.NOOP_LOGGER;if(!A)_uA.diag.warn("Logger requested without instrumentation scope name.");let G=A||eyQ.DEFAULT_LOGGER_NAME,Z=`${G}@${Q||""}:${B?.schemaUrl||""}`;if(!this._sharedState.loggers.has(Z))this._sharedState.loggers.set(Z,new Eu6.Logger({name:G,version:Q,schemaUrl:B?.schemaUrl},this._sharedState));return this._sharedState.loggers.get(Z)}forceFlush(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}eyQ.LoggerProvider=tyQ});var IvQ=w((YvQ)=>{Object.defineProperty(YvQ,"__esModule",{value:!0});YvQ.ConsoleLogRecordExporter=void 0;var GvQ=Q8();class ZvQ{export(A,Q){this._sendLogRecords(A,Q)}shutdown(){return Promise.resolve()}_exportInfo(A){return{resource:{attributes:A.resource.attributes},instrumentationScope:A.instrumentationScope,timestamp:(0,GvQ.hrTimeToMicroseconds)(A.hrTime),traceId:A.spanContext?.traceId,spanId:A.spanContext?.spanId,traceFlags:A.spanContext?.traceFlags,severityText:A.severityText,severityNumber:A.severityNumber,body:A.body,attributes:A.attributes}}_sendLogRecords(A,Q){for(let B of A)console.dir(this._exportInfo(B),{depth:3});Q?.({code:GvQ.ExportResultCode.SUCCESS})}}YvQ.ConsoleLogRecordExporter=ZvQ});var VvQ=w((WvQ)=>{Object.defineProperty(WvQ,"__esModule",{value:!0});WvQ.SimpleLogRecordProcessor=void 0;var Q3A=Q8();class XvQ{_exporter;_shutdownOnce;_unresolvedExports;constructor(A){this._exporter=A,this._shutdownOnce=new Q3A.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(A){if(this._shutdownOnce.isCalled)return;let Q=()=>Q3A.internal._export(this._exporter,[A]).then((B)=>{if(B.code!==Q3A.ExportResultCode.SUCCESS)(0,Q3A.globalErrorHandler)(B.error??Error(`SimpleLogRecordProcessor: log record export failed (status ${B})`))}).catch(Q3A.globalErrorHandler);if(A.resource.asyncAttributesPending){let B=A.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(B),Q()},Q3A.globalErrorHandler);if(B!=null)this._unresolvedExports.add(B)}else Q()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}WvQ.SimpleLogRecordProcessor=XvQ});var CvQ=w((HvQ)=>{Object.defineProperty(HvQ,"__esModule",{value:!0});HvQ.InMemoryLogRecordExporter=void 0;var EvQ=Q8();class DvQ{_finishedLogRecords=[];_stopped=!1;export(A,Q){if(this._stopped)return Q({code:EvQ.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...A),Q({code:EvQ.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}HvQ.InMemoryLogRecordExporter=DvQ});var wvQ=w((UvQ)=>{Object.defineProperty(UvQ,"__esModule",{value:!0});UvQ.BatchLogRecordProcessorBase=void 0;var Hu6=O9(),c$=Q8();class zvQ{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(A,Q){if(this._exporter=A,this._maxExportBatchSize=Q?.maxExportBatchSize??(0,c$.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=Q?.maxQueueSize??(0,c$.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=Q?.scheduledDelayMillis??(0,c$.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=Q?.exportTimeoutMillis??(0,c$.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new c$.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)Hu6.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(A){if(this._shutdownOnce.isCalled)return;this._addToBuffer(A)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(A){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(A),this._maybeStartTimer()}_flushAll(){return new Promise((A,Q)=>{let B=[],G=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let Z=0;Z<G;Z++)B.push(this._flushOneBatch());Promise.all(B).then(()=>{A()}).catch(Q)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise((A,Q)=>{(0,c$.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>A()).catch(Q)})}_maybeStartTimer(){if(this._timer!==void 0)return;this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{if(this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((A)=>{(0,c$.globalErrorHandler)(A)})},this._scheduledDelayMillis),(0,c$.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(A){let Q=()=>c$.internal._export(this._exporter,A).then((G)=>{if(G.code!==c$.ExportResultCode.SUCCESS)(0,c$.globalErrorHandler)(G.error??Error(`BatchLogRecordProcessor: log record export failed (status ${G})`))}).catch(c$.globalErrorHandler),B=A.map((G)=>G.resource).filter((G)=>G.asyncAttributesPending);if(B.length===0)return Q();else return Promise.all(B.map((G)=>G.waitForAsyncAttributes?.())).then(Q,c$.globalErrorHandler)}}UvQ.BatchLogRecordProcessorBase=zvQ});var MvQ=w((qvQ)=>{Object.defineProperty(qvQ,"__esModule",{value:!0});qvQ.BatchLogRecordProcessor=void 0;var Fu6=wvQ();class NvQ extends Fu6.BatchLogRecordProcessorBase{onShutdown(){}}qvQ.BatchLogRecordProcessor=NvQ});var OvQ=w((bT1)=>{Object.defineProperty(bT1,"__esModule",{value:!0});bT1.BatchLogRecordProcessor=void 0;var Cu6=MvQ();Object.defineProperty(bT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Cu6.BatchLogRecordProcessor}})});var RvQ=w((hT1)=>{Object.defineProperty(hT1,"__esModule",{value:!0});hT1.BatchLogRecordProcessor=void 0;var Uu6=OvQ();Object.defineProperty(hT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Uu6.BatchLogRecordProcessor}})});var gT1=w((Cd)=>{Object.defineProperty(Cd,"__esModule",{value:!0});Cd.BatchLogRecordProcessor=Cd.InMemoryLogRecordExporter=Cd.SimpleLogRecordProcessor=Cd.ConsoleLogRecordExporter=Cd.NoopLogRecordProcessor=Cd.LoggerProvider=void 0;var wu6=BvQ();Object.defineProperty(Cd,"LoggerProvider",{enumerable:!0,get:function(){return wu6.LoggerProvider}});var Nu6=fT1();Object.defineProperty(Cd,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return Nu6.NoopLogRecordProcessor}});var qu6=IvQ();Object.defineProperty(Cd,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return qu6.ConsoleLogRecordExporter}});var Lu6=VvQ();Object.defineProperty(Cd,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return Lu6.SimpleLogRecordProcessor}});var Mu6=CvQ();Object.defineProperty(Cd,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return Mu6.InMemoryLogRecordExporter}});var Ou6=RvQ();Object.defineProperty(Cd,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Ou6.BatchLogRecordProcessor}})});function zd(){let A=process.env.CLAUDE_AGENT_SDK_VERSION?`, agent-sdk/${process.env.CLAUDE_AGENT_SDK_VERSION}`:"";return`claude-cli/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} (external, ${process.env.CLAUDE_CODE_ENTRYPOINT}${A})`}function gr(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}`}function iI(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}`}function GY(){if(RB()){let Q=t6();if(!Q?.accessToken)return{headers:{},error:"No OAuth token available"};return{headers:{Authorization:`Bearer ${Q.accessToken}`,"anthropic-beta":tu}}}let A=w$();if(!A)return{headers:{},error:"No API key available"};return{headers:{"x-api-key":A}}}var lD=L(()=>{F2();eJ()});function TuA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").ParentProcessId"`:`ps -o ppid= -p ${Q}`,G=dG(B,{timeout:1000});return G?G.trim():null}catch{return null}}function juA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").CommandLine"`:`ps -o command= -p ${Q}`,G=dG(B,{timeout:1000});return G?G.trim():null}catch{return null}}var PuA=L(()=>{I6()});function xu6(){if(process.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"){if(JQ.platform!=="darwin")return Su6()||"pycharm"}return JQ.terminal}var _u6,Tu6=()=>{return process.platform==="linux"&&process.env.CLAUDE_CODE_BUBBLEWRAP==="1"},ju6,Pu6,Su6,Rz;var ur=L(()=>{I6();PuA();o2();XQ();Y0();$8();_u6=Z0(async()=>{let{code:A}=await CQ("test",["-f","/.dockerenv"]);if(A!==0)return!1;return process.platform==="linux"}),ju6=Z0(()=>{if(process.platform!=="linux")return!1;let A=jA();try{if(A.existsSync("/lib/libc.musl-x86_64.so.1")||A.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let Q=dG("ldd /bin/ls 2>/dev/null");return Q!==null&&Q.includes("musl")}catch{return f("musl detection failed, assuming glibc"),!1}}),Pu6=["pycharm","intellij","webstorm","phpstorm","rubymine","clion","goland","rider","datagrip","appcode","dataspell","aqua","gateway","fleet","jetbrains","androidstudio"],Su6=Z0(()=>{if(process.platform==="darwin")return null;try{let Q=process.pid.toString();for(let B=0;B<10;B++){let G=juA(Q);if(G){let Y=G.toLowerCase();for(let J of Pu6)if(Y.includes(J))return J}let Z=TuA(Q);if(!Z||Z==="0"||Z===Q)break;Q=Z}}catch{}return null});Rz={...JQ,terminal:xu6(),getIsDocker:_u6,getIsBubblewrapSandbox:Tu6,isMuslEnvironment:ju6}});function Q5(A,Q,B=!1){let G=A;if(B){let Z=A.indexOf(`
bundles/ClaudeCodeCode/cli.js:201:`);mT1()};return process.on("exit",A),()=>{process.off("exit",A)}},[])}function vu6(A,Q){return Math.round(A*Q)/Q}function xuA(A,Q,B){YK0(A,Q,B),CK0()?.add(A,{model:B}),HWA()?.add(Q.input_tokens,{type:"input",model:B}),HWA()?.add(Q.output_tokens,{type:"output",model:B}),HWA()?.add(Q.cache_read_input_tokens??0,{type:"cacheRead",model:B}),HWA()?.add(Q.cache_creation_input_tokens??0,{type:"cacheCreation",model:B})}var TvQ;var tq=L(()=>{t2();l2();xQ();g0();g0();g0();TvQ=o(WA(),1)});function ku6(A,Q){return Q.input_tokens/1e6*A.inputTokens+Q.output_tokens/1e6*A.outputTokens+(Q.cache_read_input_tokens??0)/1e6*A.promptCacheReadTokens+(Q.cache_creation_input_tokens??0)/1e6*A.promptCacheWriteTokens+(Q.server_tool_use?.web_search_requests??0)*A.webSearchRequests}function fu6(A){return A.input_tokens+(A.cache_read_input_tokens??0)+(A.cache_creation_input_tokens??0)}function bu6(A,Q){let B=p$(A),G=PvQ[B];if(G===dr&&fu6(Q)>200000)return cT1;if(!G)return r("tengu_unknown_model_cost",{model:A,shortName:B}),fG1(),PvQ[p$(xvQ)];return G}function fuA(A,Q){let B=bu6(A,Q);return ku6(B,Q)}function SvQ(A){if(Number.isInteger(A))return`$${A}`;return`$${A.toFixed(2)}`}function Ud(A){return`${SvQ(A.inputTokens)}/${SvQ(A.outputTokens)} per Mtok`}var dr,vuA,kuA,cT1,pT1,lT1,PvQ;var buA=L(()=>{tq();T0();c6A();l2();dr={inputTokens:3,outputTokens:15,promptCacheWriteTokens:3.75,promptCacheReadTokens:0.3,webSearchRequests:0.01},vuA={inputTokens:15,outputTokens:75,promptCacheWriteTokens:18.75,promptCacheReadTokens:1.5,webSearchRequests:0.01},kuA={inputTokens:5,outputTokens:25,promptCacheWriteTokens:6.25,promptCacheReadTokens:0.5,webSearchRequests:0.01},cT1={inputTokens:6,outputTokens:22.5,promptCacheWriteTokens:7.5,promptCacheReadTokens:0.6,webSearchRequests:0.01},pT1={inputTokens:0.8,outputTokens:4,promptCacheWriteTokens:1,promptCacheReadTokens:0.08,webSearchRequests:0.01},lT1={inputTokens:1,outputTokens:5,promptCacheWriteTokens:1.25,promptCacheReadTokens:0.1,webSearchRequests:0.01},PvQ={[p$(QHA.firstParty)]:pT1,[p$(BHA.firstParty)]:lT1,[p$(AHA.firstParty)]:dr,[p$(eDA.firstParty)]:dr,[p$(wr.firstParty)]:dr,[p$(GHA.firstParty)]:vuA,[p$(ZHA.firstParty)]:vuA,[p$(Nr.firstParty)]:kuA,...{}}});async function gu6(){let A=q8()?.organizationUuid;if(!A)throw Error("No organization ID available");let Q=GY();if(Q.error)throw Error(`Auth error: ${Q.error}`);let B={"Content-Type":"application/json","User-Agent":iI(),...Q.headers};try{let G=`https://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await wQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return s(G),{hasAccess:!1,hasError:!0}}}async function mu6(){try{return await uu6()}catch(A){return f("Sonnet-1M access check failed, defaulting to no access"),{hasAccess:!1,hasError:!0}}}function $d(){let A=q8()?.organizationUuid;if(!A)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!1};let Q=d1(),B=(RB()?Q.s1mAccessCache:Q.s1mNonSubscriberAccessCache)?.[A],G=Date.now();if(!B)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!0};let{hasAccess:Z,hasAccessNotAsDefault:Y,timestamp:J}=B,I=G-J>du6;return{hasAccess:Z||(Y??!1),wasPartOfDefaultRollout:Z,needsRefresh:I}}async function yvQ(){let{needsRefresh:A}=$d();if(A)cu6()}async function cu6(){let A=q8()?.organizationUuid;if(!A)return;if(!RB()){let Q=await myA();if(!Q)return;let{uuid:B,rate_limit_tier:G}=Q.organization,Z={hasAccess:G==="auto_prepaid_tier_3"||G==="manual_tier_3",timestamp:Date.now()};i0((Y)=>({...Y,s1mNonSubscriberAccessCache:{...Y.s1mNonSubscriberAccessCache,[B]:Z}}));return}try{let{hasAccess:Q,hasAccessNotAsDefault:B}=await mu6(),G={hasAccess:Q,hasAccessNotAsDefault:B,timestamp:Date.now()};i0((Z)=>({...Z,s1mAccessCache:{...Z.s1mAccessCache,[A]:G}}))}catch(Q){f("Failed to fetch and cache Sonnet-1M access"),s(Q)}}var hu6=3600000,uu6,du6=3600000;var huA=L(()=>{b8();byA();lD();Y0();h1();xQ();F2();pKA();uu6=fyA(gu6,hu6)});function pu6(){}var wd;var iT1=L(()=>{wd=pu6});function lu6(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}var vvQ;var kvQ=L(()=>{vvQ=lu6});function iu6(A){return A!==A}var fvQ;var bvQ=L(()=>{fvQ=iu6});function nu6(A,Q,B){var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}var hvQ;var gvQ=L(()=>{hvQ=nu6});function au6(A,Q,B){return Q===Q?hvQ(A,Q,B):vvQ(A,fvQ,B)}var uvQ;var mvQ=L(()=>{kvQ();bvQ();gvQ();uvQ=au6});function ou6(A,Q){var B=A==null?0:A.length;return!!B&&uvQ(A,Q,0)>-1}var dvQ;var cvQ=L(()=>{mvQ();dvQ=ou6});function ru6(A){return V7(A)||$v(A)||!!(pvQ&&A&&A[pvQ])}var pvQ,lvQ;var ivQ=L(()=>{za();YWA();ZF();pvQ=SK?SK.isConcatSpreadable:void 0;lvQ=ru6});function nvQ(A,Q,B,G,Z){var Y=-1,J=A.length;B||(B=lvQ),Z||(Z=[]);while(++Y<J){var I=A[Y];if(Q>0&&B(I))if(Q>1)nvQ(I,Q-1,B,G,Z);else VBA(Z,I);else if(!G)Z[Z.length]=I}return Z}var avQ;var ovQ=L(()=>{fjA();ivQ();avQ=nvQ});function su6(A){var Q=A==null?0:A.length;return Q?avQ(A,1):[]}var rvQ;var svQ=L(()=>{ovQ();rvQ=su6});function tu6(A){return hPA(bPA(A,void 0,rvQ),A+"")}var tvQ;var evQ=L(()=>{svQ();JZ1();IZ1();tvQ=tu6});function eu6(A,Q,B){var G=-1,Z=A.length;if(Q<0)Q=-Q>Z?0:Z+Q;if(B=B>Z?Z:B,B<0)B+=Z;Z=Q>B?0:B-Q>>>0,Q>>>=0;var Y=Array(Z);while(++G<Z)Y[G]=A[G+Q];return Y}var guA;var nT1=L(()=>{guA=eu6});function Am6(A,Q,B){var G=A.length;return B=B===void 0?G:B,!Q&&B>=G?A:guA(A,Q,B)}var AkQ;var QkQ=L(()=>{nT1();AkQ=Am6});function Wm6(A){return Xm6.test(A)}var Qm6="\\ud800-\\udfff",Bm6="\\u0300-\\u036f",Gm6="\\ufe20-\\ufe2f",Zm6="\\u20d0-\\u20ff",Ym6,Jm6="\\ufe0e\\ufe0f",Im6="\\u200d",Xm6,uuA;var aT1=L(()=>{Ym6=Bm6+Gm6+Zm6,Xm6=RegExp("["+Im6+Qm6+Ym6+Jm6+"]");uuA=Wm6});function Km6(A){return A.split("")}var BkQ;var GkQ=L(()=>{BkQ=Km6});function Lm6(A){return A.match(qm6)||[]}var ZkQ="\\ud800-\\udfff",Vm6="\\u0300-\\u036f",Em6="\\ufe20-\\ufe2f",Dm6="\\u20d0-\\u20ff",Hm6,Fm6="\\ufe0e\\ufe0f",Cm6,oT1,rT1="\\ud83c[\\udffb-\\udfff]",zm6,YkQ,JkQ="(?:\\ud83c[\\udde6-\\uddff]){2}",IkQ="[\\ud800-\\udbff][\\udc00-\\udfff]",Um6="\\u200d",XkQ,WkQ,$m6,wm6,Nm6,qm6,KkQ;var VkQ=L(()=>{Hm6=Vm6+Em6+Dm6,Cm6="["+ZkQ+"]",oT1="["+Hm6+"]",zm6="(?:"+oT1+"|"+rT1+")",YkQ="[^"+ZkQ+"]",XkQ=zm6+"?",WkQ="["+Fm6+"]?",$m6="(?:"+Um6+"(?:"+[YkQ,JkQ,IkQ].join("|")+")"+WkQ+XkQ+")*",wm6=WkQ+XkQ+$m6,Nm6="(?:"+[YkQ+oT1+"?",oT1,JkQ,IkQ,Cm6].join("|")+")",qm6=RegExp(rT1+"(?="+rT1+")|"+Nm6+wm6,"g");KkQ=Lm6});function Mm6(A){return uuA(A)?KkQ(A):BkQ(A)}var EkQ;var DkQ=L(()=>{GkQ();aT1();VkQ();EkQ=Mm6});function Om6(A){return function(Q){Q=qBA(Q);var B=uuA(Q)?EkQ(Q):void 0,G=B?B[0]:Q.charAt(0),Z=B?AkQ(B,1).join(""):Q.slice(1);return G[A]()+Z}}var HkQ;var FkQ=L(()=>{QkQ();aT1();DkQ();XPA();HkQ=Om6});var Rm6,CkQ;var zkQ=L(()=>{FkQ();Rm6=HkQ("toUpperCase"),CkQ=Rm6});function _m6(A){return CkQ(qBA(A).toLowerCase())}var gHA;var sT1=L(()=>{XPA();zkQ();gHA=_m6});function Tm6(A,Q,B,G){var Z=-1,Y=A==null?0:A.length;while(++Z<Y){var J=A[Z];Q(G,J,B(J),A)}return G}var UkQ;var $kQ=L(()=>{UkQ=Tm6});function jm6(A,Q){return A&&TPA(A,Q,oN)}var muA;var tT1=L(()=>{AZ1();qa();muA=jm6});function Pm6(A,Q){return function(B,G){if(B==null)return B;if(!zj(B))return A(B,G);var Z=B.length,Y=Q?Z:-1,J=Object(B);while(Q?Y--:++Y<Z)if(G(J[Y],Y,J)===!1)break;return B}}var wkQ;var NkQ=L(()=>{zBA();wkQ=Pm6});var Sm6,duA;var eT1=L(()=>{tT1();NkQ();Sm6=wkQ(muA),duA=Sm6});function xm6(A,Q,B,G){return duA(A,function(Z,Y,J){Q(G,Z,B(Z),J)}),G}var qkQ;var LkQ=L(()=>{eT1();qkQ=xm6});function ym6(A,Q){return function(B,G){var Z=V7(B)?UkQ:qkQ,Y=Q?Q():{};return Z(B,A,$j(G,2),Y)}}var MkQ;var OkQ=L(()=>{$kQ();LkQ();RBA();ZF();MkQ=ym6});function vm6(A,Q,B){var G=-1,Z=A==null?0:A.length;while(++G<Z)if(B(Q,A[G]))return!0;return!1}var RkQ;var _kQ=L(()=>{RkQ=vm6});function km6(A){var Q=A==null?0:A.length;return Q?A[Q-1]:void 0}var zF;var G3A=L(()=>{zF=km6});function fm6(A,Q){var B=[];return duA(A,function(G,Z,Y){if(Q(G,Z,Y))B.push(G)}),B}var TkQ;var jkQ=L(()=>{eT1();TkQ=fm6});function bm6(A,Q){return NBA(Q,function(B){return A[B]})}var PkQ;var SkQ=L(()=>{IPA();PkQ=bm6});function hm6(A){return A==null?[]:PkQ(A,oN(A))}var xkQ;var ykQ=L(()=>{SkQ();qa();xkQ=hm6});function gm6(A,Q){return Q.length<2?A:MBA(A,guA(Q,0,-1))}var vkQ;var kkQ=L(()=>{WPA();nT1();vkQ=gm6});function um6(A,Q){return UBA(A,Q)}var Aj1;var fkQ=L(()=>{BPA();Aj1=um6});function mm6(A,Q){var B={};return Q=$j(Q,3),muA(A,function(G,Z,Y){zu(B,Z,Q(G,Z,Y))}),B}var cr;var cuA=L(()=>{UWA();tT1();RBA();cr=mm6});function cm6(A){if(typeof A!="function")throw TypeError(dm6);return function(){var Q=arguments;switch(Q.length){case 0:return!A.call(this);case 1:return!A.call(this,Q[0]);case 2:return!A.call(this,Q[0],Q[1]);case 3:return!A.call(this,Q[0],Q[1],Q[2])}return!A.apply(this,Q)}}var dm6="Expected a function",bkQ;var hkQ=L(()=>{bkQ=cm6});function pm6(A,Q){return Q=Uj(Q,A),A=vkQ(A,Q),A==null||delete A[rN(zF(Q))]}var gkQ;var ukQ=L(()=>{LBA();G3A();kkQ();Ma();gkQ=pm6});function lm6(A){return gBA(A)?void 0:A}var mkQ;var dkQ=L(()=>{fPA();mkQ=lm6});var im6=1,nm6=2,am6=4,om6,ckQ;var pkQ=L(()=>{IPA();VK1();ukQ();LBA();ja();dkQ();evQ();KK1();om6=tvQ(function(A,Q){var B={};if(A==null)return B;var G=!1;if(Q=NBA(Q,function(Y){return Y=Uj(Y,A),G||(G=Y.length>1),Y}),Aq(A,HyA(A),B),G)B=CyA(B,im6|nm6|am6,mkQ);var Z=Q.length;while(Z--)gkQ(B,Q[Z]);return B}),ckQ=om6});function rm6(A,Q,B,G){if(!FJ(A))return A;Q=Uj(Q,A);var Z=-1,Y=Q.length,J=Y-1,I=A;while(I!=null&&++Z<Y){var X=rN(Q[Z]),W=B;if(X==="__proto__"||X==="constructor"||X==="prototype")return A;if(Z!=J){var K=I[X];if(W=G?G(K,X,I):void 0,W===void 0)W=FJ(K)?K:Du(Q[Z+1])?[]:{}}Uu(I,X,W),I=I[X]}return A}var lkQ;var ikQ=L(()=>{qWA();LBA();IWA();aN();Ma();lkQ=rm6});var sm6,nkQ;var akQ=L(()=>{OkQ();sm6=MkQ(function(A,Q,B){A[B?0:1].push(Q)},function(){return[[],[]]}),nkQ=sm6});function Ad6(A,Q){return A+tm6(em6()*(Q-A+1))}var tm6,em6,okQ;var rkQ=L(()=>{tm6=Math.floor,em6=Math.random;okQ=Ad6});function Qd6(A,Q){var B=V7(A)?hjA:TkQ;return B(A,bkQ($j(Q,3)))}var Qj1;var skQ=L(()=>{LG1();jkQ();RBA();ZF();hkQ();Qj1=Qd6});function Bd6(A){var Q=A.length;return Q?A[okQ(0,Q-1)]:void 0}var puA;var Bj1=L(()=>{rkQ();puA=Bd6});function Gd6(A){return puA(xkQ(A))}var tkQ;var ekQ=L(()=>{Bj1();ykQ();tkQ=Gd6});function Zd6(A){var Q=V7(A)?puA:tkQ;return Q(A)}var pr;var luA=L(()=>{Bj1();ekQ();ZF();pr=Zd6});function Yd6(A,Q,B,G){return G=typeof G=="function"?G:void 0,A==null?A:lkQ(A,Q,B,G)}var AfQ;var QfQ=L(()=>{ikQ();AfQ=Yd6});var Jd6=1/0,Id6,BfQ;var GfQ=L(()=>{PG1();iT1();kjA();Id6=!(Hu&&1/KBA(new Hu([,-0]))[1]==Jd6)?wd:function(A){return new Hu(A)},BfQ=Id6});function Wd6(A,Q,B){var G=-1,Z=dvQ,Y=A.length,J=!0,I=[],X=I;if(B)J=!1,Z=RkQ;else if(Y>=Xd6){var W=Q?null:BfQ(A);if(W)return KBA(W);J=!1,Z=yjA,X=new xjA}else X=Q?[]:I;A:while(++G<Y){var K=A[G],V=Q?Q(K):K;if(K=B||K!==0?K:0,J&&V===V){var E=X.length;while(E--)if(X[E]===V)continue A;if(Q)X.push(V);I.push(K)}else if(!Z(X,V,B)){if(X!==I)X.push(V);I.push(K)}}return I}var Xd6=200,ZfQ;var YfQ=L(()=>{zG1();cvQ();_kQ();UG1();GfQ();kjA();ZfQ=Wd6});function Kd6(A,Q){return A&&A.length?ZfQ(A,$j(Q,2)):[]}var Z3A;var iuA=L(()=>{RBA();YfQ();Z3A=Kd6});function Vd6(A,Q,B){var G=-1,Z=A.length,Y=Q.length,J={};while(++G<Z){var I=G<Y?Q[G]:void 0;B(J,A[G],I)}return J}var JfQ;var IfQ=L(()=>{JfQ=Vd6});function Ed6(A,Q){return JfQ(A||[],Q||[],Uu)}var XfQ;var WfQ=L(()=>{qWA();IfQ();XfQ=Ed6});var Y3A=L(()=>{zyA();o2()});function EfQ(){return VfQ}function Gj1(A){let Q=2166136261,B=A.length;for(let G=0;G<B;G++)Q^=A.charCodeAt(G),Q+=(Q<<1)+(Q<<4)+(Q<<7)+(Q<<8)+(Q<<24);return Q>>>0}function uHA(A,Q,B){if(B===2)return Gj1(Gj1(A+Q)+"")%1e4/1e4;if(B===1)return Gj1(Q+A)%1000/1000;return null}function Dd6(A){if(A<=0)return[];return Array(A).fill(1/A)}function nuA(A,Q){return A>=Q[0]&&A<Q[1]}function DfQ(A,Q){let B=uHA("__"+Q[0],A,1);if(B===null)return!1;return B>=Q[1]&&B<Q[2]}function HfQ(A,Q){for(let B=0;B<Q.length;B++)if(nuA(A,Q[B]))return B;return-1}function Yj1(A){try{let Q=A.replace(/([^\\])\//g,"$1\\/");return new RegExp(Q)}catch(Q){console.error(Q);return}}function auA(A,Q){if(!Q.length)return!1;let B=!1,G=!1;for(let Z=0;Z<Q.length;Z++){let Y=Cd6(A,Q[Z].type,Q[Z].pattern);if(Q[Z].include===!1){if(Y)return!1}else if(B=!0,Y)G=!0}return G||!B}function Hd6(A,Q,B){try{let G=Q.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");if(B)G="\\/?"+G.replace(/(^\/|\/$)/g,"")+"\\/?";return new RegExp("^"+G+"$","i").test(A)}catch(G){return!1}}function Fd6(A,Q){try{let B=new URL(Q.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),G=[[A.host,B.host,!1],[A.pathname,B.pathname,!0]];if(B.hash)G.push([A.hash,B.hash,!1]);return B.searchParams.forEach((Z,Y)=>{G.push([A.searchParams.get(Y)||"",Z,!1])}),!G.some((Z)=>!Hd6(Z[0],Z[1],Z[2]))}catch(B){return!1}}function Cd6(A,Q,B){try{let G=new URL(A,"https://_");if(Q==="regex"){let Z=Yj1(B);if(!Z)return!1;return Z.test(G.href)||Z.test(G.href.substring(G.origin.length))}else if(Q==="simple")return Fd6(G,B);return!1}catch(G){return!1}}function FfQ(A,Q,B){if(Q=Q===void 0?1:Q,Q<0)Q=0;else if(Q>1)Q=1;let G=Dd6(A);if(B=B||G,B.length!==A)B=G;let Z=B.reduce((J,I)=>I+J,0);if(Z<0.99||Z>1.01)B=G;let Y=0;return B.map((J)=>{let I=Y;return Y+=J,[I,I+Q*J]})}function CfQ(A,Q,B){if(!Q)return null;let G=Q.split("?")[1];if(!G)return null;let Z=G.replace(/#.*/,"").split("&").map((Y)=>Y.split("=",2)).filter((Y)=>{let[J]=Y;return J===A}).map((Y)=>{let[,J]=Y;return parseInt(J)});if(Z.length>0&&Z[0]>=0&&Z[0]<B)return Z[0];return null}function zfQ(A){try{return A()}catch(Q){return console.error(Q),!1}}async function lr(A,Q,B){if(Q=Q||"",B=B||globalThis.crypto&&globalThis.crypto.subtle||VfQ.SubtleCrypto,!B)throw Error("No SubtleCrypto implementation found");try{let G=await B.importKey("raw",Zj1(Q),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[Z,Y]=A.split("."),J=await B.decrypt({name:"AES-CBC",iv:Zj1(Z)},G,Zj1(Y));return new TextDecoder().decode(J)}catch(G){throw Error("Failed to decrypt")}}function mHA(A){if(typeof A==="string")return A;return JSON.stringify(A)}function l$(A){if(typeof A==="number")A=A+"";if(!A||typeof A!=="string")A="0";let Q=A.replace(/(^v|\+.*$)/g,"").split(/[-.]/);if(Q.length===3)Q.push("~");return Q.map((B)=>B.match(/^[0-9]+$/)?B.padStart(5," "):B).join("-")}function UfQ(){let A;try{A="1.6.1"}catch(Q){A=""}return A}function $fQ(A,Q){let B,G;try{B=new URL(A),G=new URL(Q)}catch(Z){return console.error(`Unable to merge query strings: ${Z}`),Q}return B.searchParams.forEach((Z,Y)=>{if(G.searchParams.has(Y))return;G.searchParams.set(Y,Z)}),G.toString()}function KfQ(A){return typeof A==="object"&&A!==null}function ouA(A){if(A.urlPatterns&&A.variations.some((Q)=>KfQ(Q)&&("urlRedirect"in Q)))return"redirect";else if(A.variations.some((Q)=>KfQ(Q)&&(Q.domMutations||("js"in Q)||("css"in Q))))return"visual";return"unknown"}async function ruA(A,Q){return new Promise((B)=>{let G=!1,Z,Y=(J)=>{if(G)return;G=!0,Z&&clearTimeout(Z),B(J||null)};if(Q)Z=setTimeout(()=>Y(),Q);A.then((J)=>Y(J)).catch(()=>Y())})}var VfQ,Zj1=(A)=>Uint8Array.from(atob(A),(Q)=>Q.charCodeAt(0));var dHA=L(()=>{VfQ={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource}});function qfQ(A){if(Object.assign(iD,A),!iD.backgroundSync)Md6()}async function LfQ(A){let{instance:Q,timeout:B,skipCache:G,allowStale:Z,backgroundSync:Y}=A;if(!Y)iD.backgroundSync=!1;return wd6({instance:Q,allowStale:Z,timeout:B,skipCache:G})}function zd6(A){let Q=cHA(A),B=I3A.get(Q)||new Set;B.add(A),I3A.set(Q,B)}function MfQ(A){I3A.forEach((Q)=>Q.delete(A))}function Ud6(){X3A.forEach((A)=>{if(!A)return;A.state="idle",Wj1(A)})}function $d6(){X3A.forEach((A)=>{if(!A)return;if(A.state!=="idle")return;Kj1(A)})}async function NfQ(){try{if(!hP.localStorage)return;await hP.localStorage.setItem(iD.cacheKey,JSON.stringify(Array.from(jk.entries())))}catch(A){}}async function wd6(A){let{instance:Q,allowStale:B,timeout:G,skipCache:Z}=A,Y=cHA(Q),J=Ij1(Q),I=new Date,X=new Date(I.getTime()-iD.maxAge+iD.staleTTL);await Nd6();let W=!iD.disableCache&&!Z?jk.get(J):void 0;if(W&&(B||W.staleAt>I)&&W.staleAt>X){if(W.sse)W3A.add(Y);if(W.staleAt<I)Jj1(Q);else Xj1(Q);return{data:W.data,success:!0,source:"cache"}}else return await ruA(Jj1(Q),G)||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}function cHA(A){let[Q,B]=A.getApiInfo();return`${Q}||${B}`}function Ij1(A){let Q=cHA(A);if(!("isRemoteEval"in A)||!A.isRemoteEval())return Q;let B=A.getAttributes(),G=A.getCacheKeyAttributes()||Object.keys(A.getAttributes()),Z={};G.forEach((I)=>{Z[I]=B[I]});let Y=A.getForcedVariations(),J=A.getUrl();return`${Q}||${JSON.stringify({ca:Z,fv:Y,url:J})}`}async function Nd6(){if(wfQ)return;wfQ=!0;try{if(hP.localStorage){let A=await hP.localStorage.getItem(iD.cacheKey);if(!iD.disableCache&&A){let Q=JSON.parse(A);if(Q&&Array.isArray(Q))Q.forEach((B)=>{let[G,Z]=B;jk.set(G,{...Z,staleAt:new Date(Z.staleAt)})});OfQ()}}}catch(A){}if(!iD.disableIdleStreams){let A=J3A.startIdleListener();if(A)J3A.stopIdleListener=A}}function OfQ(){let A=Array.from(jk.entries()).map((B)=>{let[G,Z]=B;return{key:G,staleAt:Z.staleAt.getTime()}}).sort((B,G)=>B.staleAt-G.staleAt),Q=Math.min(Math.max(0,jk.size-iD.maxEntries),jk.size);for(let B=0;B<Q;B++)jk.delete(A[B].key)}function RfQ(A,Q,B){let G=B.dateUpdated||"",Z=new Date(Date.now()+iD.staleTTL),Y=!iD.disableCache?jk.get(Q):void 0;if(Y&&G&&Y.version===G){Y.staleAt=Z,NfQ();return}if(!iD.disableCache)jk.set(Q,{data:B,version:G,staleAt:Z,sse:W3A.has(A)}),OfQ();NfQ();let J=I3A.get(A);J&&J.forEach((I)=>qd6(I,B))}async function qd6(A,Q){await A.setPayload(Q||A.getPayload())}async function Jj1(A){let{apiHost:Q,apiRequestHeaders:B}=A.getApiHosts(),G=A.getClientKey(),Z="isRemoteEval"in A&&A.isRemoteEval(),Y=cHA(A),J=Ij1(A),I=suA.get(J);if(!I)I=(Z?J3A.fetchRemoteEvalCall({host:Q,clientKey:G,payload:{attributes:A.getAttributes(),forcedVariations:A.getForcedVariations(),forcedFeatures:Array.from(A.getForcedFeatures().entries()),url:A.getUrl()},headers:B}):J3A.fetchFeaturesCall({host:Q,clientKey:G,headers:B})).then((W)=>{if(!W.ok)throw Error(`HTTP error: ${W.status}`);if(W.headers.get("x-sse-support")==="enabled")W3A.add(Y);return W.json()}).then((W)=>{return RfQ(Y,J,W),Xj1(A),suA.delete(J),{data:W,success:!0,source:"network"}}).catch((W)=>{return suA.delete(J),{data:null,source:"error",success:!1,error:W}}),suA.set(J,I);return I}function Xj1(A){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=cHA(A),G=Ij1(A),{streamingHost:Z,streamingHostRequestHeaders:Y}=A.getApiHosts(),J=A.getClientKey();if(Q)W3A.add(B);if(iD.backgroundSync&&W3A.has(B)&&hP.EventSource){if(X3A.has(B))return;let I={src:null,host:Z,clientKey:J,headers:Y,cb:(X)=>{try{if(X.type==="features-updated"){let W=I3A.get(B);W&&W.forEach((K)=>{Jj1(K)})}else if(X.type==="features"){let W=JSON.parse(X.data);RfQ(B,G,W)}I.errors=0}catch(W){_fQ(I)}},errors:0,state:"active"};X3A.set(B,I),Kj1(I)}}function _fQ(A){if(A.state==="idle")return;if(A.errors++,A.errors>3||A.src&&A.src.readyState===2){let Q=Math.pow(3,A.errors-3)*(1000+Math.random()*1000);Wj1(A),setTimeout(()=>{if(["idle","active"].includes(A.state))return;Kj1(A)},Math.min(Q,300000))}}function Wj1(A){if(!A.src)return;if(A.src.onopen=null,A.src.onerror=null,A.src.close(),A.src=null,A.state==="active")A.state="disabled"}function Kj1(A){A.src=J3A.eventSourceCall({host:A.host,clientKey:A.clientKey,headers:A.headers}),A.state="active",A.src.addEventListener("features",A.cb),A.src.addEventListener("features-updated",A.cb),A.src.onerror=()=>_fQ(A),A.src.onopen=()=>{A.errors=0}}function Ld6(A,Q){Wj1(A),X3A.delete(Q)}function Md6(){W3A.clear(),X3A.forEach(Ld6),I3A.clear(),J3A.stopIdleListener()}function tuA(A,Q){if(Q.streaming){if(!A.getClientKey())throw Error("Must specify clientKey to enable streaming");if(Q.payload)Xj1(A,!0);zd6(A)}}var iD,hP,J3A,I3A,wfQ=!1,jk,suA,X3A,W3A;var TfQ=L(()=>{dHA();iD={staleTTL:60000,maxAge:14400000,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:20000,disableCache:!1},hP=EfQ(),J3A={fetchFeaturesCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;return hP.fetch(`${Q}/api/features/${B}`,{headers:G})},fetchRemoteEvalCall:(A)=>{let{host:Q,clientKey:B,payload:G,headers:Z}=A,Y={method:"POST",headers:{"Content-Type":"application/json",...Z},body:JSON.stringify(G)};return hP.fetch(`${Q}/api/eval/${B}`,Y)},eventSourceCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;if(G)return new hP.EventSource(`${Q}/sub/${B}`,{headers:G});return new hP.EventSource(`${Q}/sub/${B}`)},startIdleListener:()=>{let A;if(!(typeof window<"u"&&typeof document<"u"))return;let B=()=>{if(document.visibilityState==="visible")window.clearTimeout(A),$d6();else if(document.visibilityState==="hidden")A=window.setTimeout(Ud6,iD.idleStreamInterval)};return document.addEventListener("visibilitychange",B),()=>document.removeEventListener("visibilitychange",B)},stopIdleListener:()=>{}};try{if(globalThis.localStorage)hP.localStorage=globalThis.localStorage}catch(A){}I3A=new Map,jk=new Map,suA=new Map,X3A=new Map,W3A=new Set});var ufQ=w((gfQ)=>{Object.defineProperty(gfQ,"__esModule",{value:!0});var xfQ=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,Dj1={revert:function(){}},BmA=new Map,Ej1=new Set;function GmA(A){var Q=BmA.get(A);return Q||BmA.set(A,Q={element:A,attributes:{}}),Q}function ZmA(A,Q,B,G,Z){var Y=B(A),J={isDirty:!1,originalValue:Y,virtualValue:Y,mutations:[],el:A,_positionTimeout:null,observer:new MutationObserver(function(){if(Q!=="position"||!J._positionTimeout){Q==="position"&&(J._positionTimeout=setTimeout(function(){J._positionTimeout=null},1000));var I=B(A);Q==="position"&&I.parentNode===J.virtualValue.parentNode&&I.insertBeforeNode===J.virtualValue.insertBeforeNode||I!==J.virtualValue&&(J.originalValue=I,Z(J))}}),mutationRunner:Z,setValue:G,getCurrentValue:B};return Q==="position"&&A.parentNode?J.observer.observe(A.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):J.observer.observe(A,function(I){return I==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[I]}}(Q)),J}function YmA(A,Q){var B=Q.getCurrentValue(Q.el);Q.virtualValue=A,A&&typeof A!="string"?B&&A.parentNode===B.parentNode&&A.insertBeforeNode===B.insertBeforeNode||(Q.isDirty=!0,jfQ()):A!==B&&(Q.isDirty=!0,jfQ())}function Od6(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(function(B){return euA||(euA=document.createElement("div")),euA.innerHTML=B,euA.innerHTML}(Q),A)}function Rd6(A){var Q=new Set(A.originalValue.split(/\s+/).filter(Boolean));A.mutations.forEach(function(B){return B.mutate(Q)}),YmA(Array.from(Q).filter(Boolean).join(" "),A)}function _d6(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(Q,A)}function Td6(A){var Q=A.originalValue;A.mutations.forEach(function(B){var G=function(Z){var Y=Z.insertBeforeSelector,J=document.querySelector(Z.parentSelector);if(!J)return null;var I=Y?document.querySelector(Y):null;return Y&&!I?null:{parentNode:J,insertBeforeNode:I}}(B.mutate());Q=G||Q}),YmA(Q,A)}var jd6=function(A){return A.innerHTML},Pd6=function(A,Q){return A.innerHTML=Q};function yfQ(A){var Q=GmA(A);return Q.html||(Q.html=ZmA(A,"html",jd6,Pd6,Od6)),Q.html}var Sd6=function(A){return{parentNode:A.parentElement,insertBeforeNode:A.nextElementSibling}},xd6=function(A,Q){Q.insertBeforeNode&&!Q.parentNode.contains(Q.insertBeforeNode)||Q.parentNode.insertBefore(A,Q.insertBeforeNode)};function vfQ(A){var Q=GmA(A);return Q.position||(Q.position=ZmA(A,"position",Sd6,xd6,Td6)),Q.position}var euA,lHA,yd6=function(A,Q){return Q?A.className=Q:A.removeAttribute("class")},vd6=function(A){return A.className};function kfQ(A){var Q=GmA(A);return Q.classes||(Q.classes=ZmA(A,"class",vd6,yd6,Rd6)),Q.classes}function ffQ(A,Q){var B,G=GmA(A);return G.attributes[Q]||(G.attributes[Q]=ZmA(A,Q,(B=Q,function(Z){var Y;return(Y=Z.getAttribute(B))!=null?Y:null}),function(Z){return function(Y,J){return J!==null?Y.setAttribute(Z,J):Y.removeAttribute(Z)}}(Q),_d6)),G.attributes[Q]}function AmA(A,Q,B){if(B.isDirty){B.isDirty=!1;var G=B.virtualValue;B.mutations.length||function(Z,Y){var J,I,X=BmA.get(Z);if(X)if(Y==="html")(J=X.html)==null||(I=J.observer)==null||I.disconnect(),delete X.html;else if(Y==="class"){var W,K;(W=X.classes)==null||(K=W.observer)==null||K.disconnect(),delete X.classes}else if(Y==="position"){var V,E;(V=X.position)==null||(E=V.observer)==null||E.disconnect(),delete X.position}else{var D,H,F;(D=X.attributes)==null||(H=D[Y])==null||(F=H.observer)==null||F.disconnect(),delete X.attributes[Y]}}(A,Q),B.setValue(A,G)}}function kd6(A,Q){A.html&&AmA(Q,"html",A.html),A.classes&&AmA(Q,"class",A.classes),A.position&&AmA(Q,"position",A.position),Object.keys(A.attributes).forEach(function(B){AmA(Q,B,A.attributes[B])})}function jfQ(){BmA.forEach(kd6)}function bfQ(A){if(A.kind!=="position"||A.elements.size!==1){var Q=new Set(A.elements);document.querySelectorAll(A.selector).forEach(function(B){Q.has(B)||(A.elements.add(B),function(G,Z){var Y=null;G.kind==="html"?Y=yfQ(Z):G.kind==="class"?Y=kfQ(Z):G.kind==="attribute"?Y=ffQ(Z,G.attribute):G.kind==="position"&&(Y=vfQ(Z)),Y&&(Y.mutations.push(G),Y.mutationRunner(Y))}(A,B))})}}function PfQ(){Ej1.forEach(bfQ)}function hfQ(){typeof document<"u"&&(lHA||(lHA=new MutationObserver(function(){PfQ()})),PfQ(),lHA.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}function JmA(A){return typeof document>"u"?Dj1:(Ej1.add(A),bfQ(A),{revert:function(){var Q;(Q=A).elements.forEach(function(B){return function(G,Z){var Y=null;if(G.kind==="html"?Y=yfQ(Z):G.kind==="class"?Y=kfQ(Z):G.kind==="attribute"?Y=ffQ(Z,G.attribute):G.kind==="position"&&(Y=vfQ(Z)),Y){var J=Y.mutations.indexOf(G);J!==-1&&Y.mutations.splice(J,1),Y.mutationRunner(Y)}}(Q,B)}),Q.elements.clear(),Ej1.delete(Q)}})}function Vj1(A,Q){return JmA({kind:"html",elements:new Set,mutate:Q,selector:A})}function SfQ(A,Q){return JmA({kind:"position",elements:new Set,mutate:Q,selector:A})}function pHA(A,Q){return JmA({kind:"class",elements:new Set,mutate:Q,selector:A})}function QmA(A,Q,B){return xfQ.test(Q)?Q==="class"||Q==="className"?pHA(A,function(G){var Z=B(Array.from(G).join(" "));G.clear(),Z&&Z.split(/\s+/g).filter(Boolean).forEach(function(Y){return G.add(Y)})}):JmA({kind:"attribute",attribute:Q,elements:new Set,mutate:B,selector:A}):Dj1}hfQ();var fd6={html:Vj1,classes:pHA,attribute:QmA,position:SfQ,declarative:function(A){var{selector:Q,action:B,value:G,attribute:Z,parentSelector:Y,insertBeforeSelector:J}=A;if(Z==="html"){if(B==="append")return Vj1(Q,function(I){return I+(G!=null?G:"")});if(B==="set")return Vj1(Q,function(){return G!=null?G:""})}else if(Z==="class"){if(B==="append")return pHA(Q,function(I){G&&I.add(G)});if(B==="remove")return pHA(Q,function(I){G&&I.delete(G)});if(B==="set")return pHA(Q,function(I){I.clear(),G&&I.add(G)})}else if(Z==="position"){if(B==="set"&&Y)return SfQ(Q,function(){return{insertBeforeSelector:J,parentSelector:Y}})}else{if(B==="append")return QmA(Q,Z,function(I){return I!==null?I+(G!=null?G:""):G!=null?G:""});if(B==="set")return QmA(Q,Z,function(){return G!=null?G:""});if(B==="remove")return QmA(Q,Z,function(){return null})}return Dj1}};gfQ.connectGlobalObserver=hfQ,gfQ.default=fd6,gfQ.disconnectGlobalObserver=function(){lHA&&lHA.disconnect()},gfQ.validAttributeName=xfQ});function Nd(A,Q,B){B=B||{};for(let[G,Z]of Object.entries(Q))switch(G){case"$or":if(!mfQ(A,Z,B))return!1;break;case"$nor":if(mfQ(A,Z,B))return!1;break;case"$and":if(!dd6(A,Z,B))return!1;break;case"$not":if(Nd(A,Z,B))return!1;break;default:if(!iHA(Z,bd6(A,G),B))return!1}return!0}function bd6(A,Q){let B=Q.split("."),G=A;for(let Z=0;Z<B.length;Z++)if(G&&typeof G==="object"&&B[Z]in G)G=G[B[Z]];else return null;return G}function hd6(A){if(!Hj1[A])Hj1[A]=new RegExp(A.replace(/([^\\])\//g,"$1\\/"));return Hj1[A]}function iHA(A,Q,B){if(typeof A==="string")return Q+""===A;if(typeof A==="number")return Q*1===A;if(typeof A==="boolean")return Q!==null&&!!Q===A;if(A===null)return Q===null;if(Array.isArray(A)||!dfQ(A))return JSON.stringify(Q)===JSON.stringify(A);for(let G in A)if(!md6(G,Q,A[G],B))return!1;return!0}function dfQ(A){let Q=Object.keys(A);return Q.length>0&&Q.filter((B)=>B[0]==="$").length===Q.length}function gd6(A){if(A===null)return"null";if(Array.isArray(A))return"array";let Q=typeof A;if(["string","number","boolean","object","undefined"].includes(Q))return Q;return"unknown"}function ud6(A,Q,B){if(!Array.isArray(A))return!1;let G=dfQ(Q)?(Z)=>iHA(Q,Z,B):(Z)=>Nd(Z,Q,B);for(let Z=0;Z<A.length;Z++)if(A[Z]&&G(A[Z]))return!0;return!1}function ImA(A,Q){if(Array.isArray(A))return A.some((B)=>Q.includes(B));return Q.includes(A)}function md6(A,Q,B,G){switch(A){case"$veq":return l$(Q)===l$(B);case"$vne":return l$(Q)!==l$(B);case"$vgt":return l$(Q)>l$(B);case"$vgte":return l$(Q)>=l$(B);case"$vlt":return l$(Q)<l$(B);case"$vlte":return l$(Q)<=l$(B);case"$eq":return Q===B;case"$ne":return Q!==B;case"$lt":return Q<B;case"$lte":return Q<=B;case"$gt":return Q>B;case"$gte":return Q>=B;case"$exists":return B?Q!=null:Q==null;case"$in":if(!Array.isArray(B))return!1;return ImA(Q,B);case"$inGroup":return ImA(Q,G[B]||[]);case"$notInGroup":return!ImA(Q,G[B]||[]);case"$nin":if(!Array.isArray(B))return!1;return!ImA(Q,B);case"$not":return!iHA(B,Q,G);case"$size":if(!Array.isArray(Q))return!1;return iHA(B,Q.length,G);case"$elemMatch":return ud6(Q,B,G);case"$all":if(!Array.isArray(Q))return!1;for(let Z=0;Z<B.length;Z++){let Y=!1;for(let J=0;J<Q.length;J++)if(iHA(B[Z],Q[J],G)){Y=!0;break}if(!Y)return!1}return!0;case"$regex":try{return hd6(B).test(Q)}catch(Z){return!1}case"$type":return gd6(Q)===B;default:return console.error("Unknown operator: "+A),!1}}function mfQ(A,Q,B){if(!Q.length)return!0;for(let G=0;G<Q.length;G++)if(Nd(A,Q[G],B))return!0;return!1}function dd6(A,Q,B){for(let G=0;G<Q.length;G++)if(!Nd(A,Q[G],B))return!1;return!0}var Hj1;var cfQ=L(()=>{dHA();Hj1={}});function ld6(A){let Q=new Map;if(A.global.forcedFeatureValues)A.global.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));if(A.user.forcedFeatureValues)A.user.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));return Q}function id6(A){if(A.global.forcedVariations&&A.user.forcedVariations)return{...A.global.forcedVariations,...A.user.forcedVariations};else if(A.global.forcedVariations)return A.global.forcedVariations;else if(A.user.forcedVariations)return A.user.forcedVariations;else return{}}async function K3A(A){try{await A()}catch(Q){}}function pfQ(A,Q,B){if(A.user.trackedExperiments){let Z=KmA(Q,B);if(A.user.trackedExperiments.has(Z))return[];A.user.trackedExperiments.add(Z)}if(A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({experiment:Q,result:B,timestamp:Date.now().toString(),logType:"experiment"});let G=[];if(A.global.trackingCallback){let Z=A.global.trackingCallback;G.push(K3A(()=>Z(Q,B,A.user)))}if(A.user.trackingCallback){let Z=A.user.trackingCallback;G.push(K3A(()=>Z(Q,B)))}if(A.global.eventLogger){let Z=A.global.eventLogger;G.push(K3A(()=>Z(pd6,{experimentId:Q.key,variationId:B.key,hashAttribute:B.hashAttribute,hashValue:B.hashValue},A.user)))}return G}function nd6(A,Q,B){if(A.user.trackedFeatureUsage){let G=JSON.stringify(B.value);if(A.user.trackedFeatureUsage[Q]===G)return;if(A.user.trackedFeatureUsage[Q]=G,A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({featureKey:Q,result:B,timestamp:Date.now().toString(),logType:"feature"})}if(A.global.onFeatureUsage){let G=A.global.onFeatureUsage;K3A(()=>G(Q,B,A.user))}if(A.user.onFeatureUsage){let G=A.user.onFeatureUsage;K3A(()=>G(Q,B))}if(A.global.eventLogger){let G=A.global.eventLogger;K3A(()=>G(cd6,{feature:Q,source:B.source,value:B.value,ruleId:B.source==="defaultValue"?"$default":B.ruleId||"",variationId:B.experimentResult?B.experimentResult.key:""},A.user))}}function XmA(A,Q){if(Q.stack.evaluatedFeatures.has(A))return qd(Q,A,null,"cyclicPrerequisite");Q.stack.evaluatedFeatures.add(A),Q.stack.id=A;let B=ld6(Q);if(B.has(A))return qd(Q,A,B.get(A),"override");if(!Q.global.features||!Q.global.features[A])return qd(Q,A,null,"unknownFeature");let G=Q.global.features[A];if(G.rules){let Z=new Set(Q.stack.evaluatedFeatures);A:for(let Y of G.rules){if(Y.parentConditions)for(let X of Y.parentConditions){Q.stack.evaluatedFeatures=new Set(Z);let W=XmA(X.id,Q);if(W.source==="cyclicPrerequisite")return qd(Q,A,null,"cyclicPrerequisite");let K={value:W.value};if(!Nd(K,X.condition||{})){if(X.gate)return qd(Q,A,null,"prerequisite");continue A}}if(Y.filters&&nfQ(Y.filters,Q))continue;if("force"in Y){if(Y.condition&&!ifQ(Y.condition,Q))continue;if(!ad6(Q,Y.seed||A,Y.hashAttribute,Q.user.saveStickyBucketAssignmentDoc&&!Y.disableStickyBucketing?Y.fallbackAttribute:void 0,Y.range,Y.coverage,Y.hashVersion))continue;if(Y.tracks)Y.tracks.forEach((X)=>{if(!pfQ(Q,X.experiment,X.result).length&&Q.global.saveDeferredTrack)Q.global.saveDeferredTrack({experiment:X.experiment,result:X.result})});return qd(Q,A,Y.force,"force",Y.id)}if(!Y.variations)continue;let J={variations:Y.variations,key:Y.key||A};if("coverage"in Y)J.coverage=Y.coverage;if(Y.weights)J.weights=Y.weights;if(Y.hashAttribute)J.hashAttribute=Y.hashAttribute;if(Y.fallbackAttribute)J.fallbackAttribute=Y.fallbackAttribute;if(Y.disableStickyBucketing)J.disableStickyBucketing=Y.disableStickyBucketing;if(Y.bucketVersion!==void 0)J.bucketVersion=Y.bucketVersion;if(Y.minBucketVersion!==void 0)J.minBucketVersion=Y.minBucketVersion;if(Y.namespace)J.namespace=Y.namespace;if(Y.meta)J.meta=Y.meta;if(Y.ranges)J.ranges=Y.ranges;if(Y.name)J.name=Y.name;if(Y.phase)J.phase=Y.phase;if(Y.seed)J.seed=Y.seed;if(Y.hashVersion)J.hashVersion=Y.hashVersion;if(Y.filters)J.filters=Y.filters;if(Y.condition)J.condition=Y.condition;let{result:I}=WmA(J,A,Q);if(Q.global.onExperimentEval&&Q.global.onExperimentEval(J,I),I.inExperiment&&!I.passthrough)return qd(Q,A,I.value,"experiment",Y.id,J,I)}}return qd(Q,A,G.defaultValue===void 0?null:G.defaultValue,"defaultValue")}function WmA(A,Q,B){let G=A.key,Z=A.variations.length;if(Z<2)return{result:uY(B,A,-1,!1,Q)};if(B.global.enabled===!1||B.user.enabled===!1)return{result:uY(B,A,-1,!1,Q)};if(A=od6(A,B),A.urlPatterns&&!auA(B.user.url||"",A.urlPatterns))return{result:uY(B,A,-1,!1,Q)};let Y=CfQ(G,B.user.url||"",Z);if(Y!==null)return{result:uY(B,A,Y,!1,Q)};let J=id6(B);if(G in J){let C=J[G];return{result:uY(B,A,C,!1,Q)}}if(A.status==="draft"||A.active===!1)return{result:uY(B,A,-1,!1,Q)};let{hashAttribute:I,hashValue:X}=ir(B,A.hashAttribute,B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing?A.fallbackAttribute:void 0);if(!X)return{result:uY(B,A,-1,!1,Q)};let W=-1,K=!1,V=!1;if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{variation:C,versionIsBlocked:U}=td6({ctx:B,expKey:A.key,expBucketVersion:A.bucketVersion,expHashAttribute:A.hashAttribute,expFallbackAttribute:A.fallbackAttribute,expMinBucketVersion:A.minBucketVersion,expMeta:A.meta});K=C>=0,W=C,V=!!U}if(!K){if(A.filters){if(nfQ(A.filters,B))return{result:uY(B,A,-1,!1,Q)}}else if(A.namespace&&!DfQ(X,A.namespace))return{result:uY(B,A,-1,!1,Q)};if(A.include&&!zfQ(A.include))return{result:uY(B,A,-1,!1,Q)};if(A.condition&&!ifQ(A.condition,B))return{result:uY(B,A,-1,!1,Q)};if(A.parentConditions){let C=new Set(B.stack.evaluatedFeatures);for(let U of A.parentConditions){B.stack.evaluatedFeatures=new Set(C);let O=XmA(U.id,B);if(O.source==="cyclicPrerequisite")return{result:uY(B,A,-1,!1,Q)};let q={value:O.value};if(!Nd(q,U.condition||{}))return{result:uY(B,A,-1,!1,Q)}}}if(A.groups&&!sd6(A.groups,B))return{result:uY(B,A,-1,!1,Q)}}if(A.url&&!rd6(A.url,B))return{result:uY(B,A,-1,!1,Q)};let E=uHA(A.seed||G,X,A.hashVersion||1);if(E===null)return{result:uY(B,A,-1,!1,Q)};if(!K){let C=A.ranges||FfQ(Z,A.coverage===void 0?1:A.coverage,A.weights);W=HfQ(E,C)}if(V)return{result:uY(B,A,-1,!1,Q,void 0,!0)};if(W<0)return{result:uY(B,A,-1,!1,Q)};if("force"in A)return{result:uY(B,A,A.force===void 0?-1:A.force,!1,Q)};if(B.global.qaMode||B.user.qaMode)return{result:uY(B,A,-1,!1,Q)};if(A.status==="stopped")return{result:uY(B,A,-1,!1,Q)};let D=uY(B,A,W,!0,Q,E,K);if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{changed:C,key:U,doc:O}=Ac6(B,I,mHA(X),{[Fj1(A.key,A.bucketVersion)]:D.key});if(C)B.user.stickyBucketAssignmentDocs=B.user.stickyBucketAssignmentDocs||{},B.user.stickyBucketAssignmentDocs[U]=O,B.user.saveStickyBucketAssignmentDoc(O)}let H=pfQ(B,A,D);if(H.length===0&&B.global.saveDeferredTrack)B.global.saveDeferredTrack({experiment:A,result:D});let F=!H.length?void 0:H.length===1?H[0]:Promise.all(H).then(()=>{});return"changeId"in A&&A.changeId&&B.global.recordChangeId&&B.global.recordChangeId(A.changeId),{result:D,trackingCall:F}}function qd(A,Q,B,G,Z,Y,J){let I={value:B,on:!!B,off:!B,source:G,ruleId:Z||""};if(Y)I.experiment=Y;if(J)I.experimentResult=J;if(G!=="override")nd6(A,Q,I);return I}function lfQ(A){return{...A.user.attributes,...A.user.attributeOverrides}}function ifQ(A,Q){return Nd(lfQ(Q),A,Q.global.savedGroups||{})}function nfQ(A,Q){return A.some((B)=>{let{hashValue:G}=ir(Q,B.attribute);if(!G)return!0;let Z=uHA(B.seed,G,B.hashVersion||2);if(Z===null)return!0;return!B.ranges.some((Y)=>nuA(Z,Y))})}function ad6(A,Q,B,G,Z,Y,J){if(!Z&&Y===void 0)return!0;if(!Z&&Y===0)return!1;let{hashValue:I}=ir(A,B,G);if(!I)return!1;let X=uHA(Q,I,J||1);if(X===null)return!1;return Z?nuA(X,Z):Y!==void 0?X<=Y:!0}function uY(A,Q,B,G,Z,Y,J){let I=!0;if(B<0||B>=Q.variations.length)B=0,I=!1;let{hashAttribute:X,hashValue:W}=ir(A,Q.hashAttribute,A.user.saveStickyBucketAssignmentDoc&&!Q.disableStickyBucketing?Q.fallbackAttribute:void 0),K=Q.meta?Q.meta[B]:{},V={key:K.key||""+B,featureId:Z,inExperiment:I,hashUsed:G,variationId:B,value:Q.variations[B],hashAttribute:X,hashValue:W,stickyBucketUsed:!!J};if(K.name)V.name=K.name;if(Y!==void 0)V.bucket=Y;if(K.passthrough)V.passthrough=K.passthrough;return V}function od6(A,Q){let B=A.key,G=Q.global.overrides;if(G&&G[B]){if(A=Object.assign({},A,G[B]),typeof A.url==="string")A.url=Yj1(A.url)}return A}function ir(A,Q,B){let G=Q||"id",Z="",Y=lfQ(A);if(Y[G])Z=Y[G];if(!Z&&B){if(Y[B])Z=Y[B];if(Z)G=B}return{hashAttribute:G,hashValue:Z}}function rd6(A,Q){let B=Q.user.url;if(!B)return!1;let G=B.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");if(A.test(B))return!0;if(A.test(G))return!0;return!1}function sd6(A,Q){let B=Q.global.groups||{};for(let G=0;G<A.length;G++)if(B[A[G]])return!0;return!1}function td6(A){let{ctx:Q,expKey:B,expBucketVersion:G,expHashAttribute:Z,expFallbackAttribute:Y,expMinBucketVersion:J,expMeta:I}=A;G=G||0,J=J||0,Z=Z||"id",I=I||[];let X=Fj1(B,G),W=ed6(Q,Z,Y);if(J>0)for(let E=0;E<=J;E++){let D=Fj1(B,E);if(W[D]!==void 0)return{variation:-1,versionIsBlocked:!0}}let K=W[X];if(K===void 0)return{variation:-1};let V=I.findIndex((E)=>E.key===K);if(V<0)return{variation:-1};return{variation:V}}function Fj1(A,Q){return Q=Q||0,`${A}__${Q}`}function Cj1(A,Q){return`${A}||${Q}`}function ed6(A,Q,B){if(!A.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:G,hashValue:Z}=ir(A,Q),Y=Cj1(G,mHA(Z)),{hashAttribute:J,hashValue:I}=ir(A,B),X=I?Cj1(J,mHA(I)):null,W={};if(X&&A.user.stickyBucketAssignmentDocs[X])Object.assign(W,A.user.stickyBucketAssignmentDocs[X].assignments||{});if(A.user.stickyBucketAssignmentDocs[Y])Object.assign(W,A.user.stickyBucketAssignmentDocs[Y].assignments||{});return W}function Ac6(A,Q,B,G){let Z=Cj1(Q,B),Y=A.user.stickyBucketAssignmentDocs&&A.user.stickyBucketAssignmentDocs[Z]?A.user.stickyBucketAssignmentDocs[Z].assignments||{}:{},J={...Y,...G},I=JSON.stringify(Y)!==JSON.stringify(J);return{key:Z,doc:{attributeName:Q,attributeValue:B,assignments:J},changed:I}}function Qc6(A,Q){let B=new Set,G=Q&&Q.features?Q.features:A.global.features||{},Z=Q&&Q.experiments?Q.experiments:A.global.experiments||[];return Object.keys(G).forEach((Y)=>{let J=G[Y];if(J.rules){for(let I of J.rules)if(I.variations){if(B.add(I.hashAttribute||"id"),I.fallbackAttribute)B.add(I.fallbackAttribute)}}}),Z.map((Y)=>{if(B.add(Y.hashAttribute||"id"),Y.fallbackAttribute)B.add(Y.fallbackAttribute)}),Array.from(B)}async function afQ(A,Q,B){let G=zj1(A,B);return Q.getAllAssignments(G)}function zj1(A,Q){let B={};return Qc6(A,Q).forEach((Z)=>{let{hashValue:Y}=ir(A,Z);B[Z]=mHA(Y)}),B}async function ofQ(A,Q,B){if(A={...A},A.encryptedFeatures){try{A.features=JSON.parse(await lr(A.encryptedFeatures,Q,B))}catch(G){console.error(G)}delete A.encryptedFeatures}if(A.encryptedExperiments){try{A.experiments=JSON.parse(await lr(A.encryptedExperiments,Q,B))}catch(G){console.error(G)}delete A.encryptedExperiments}if(A.encryptedSavedGroups){try{A.savedGroups=JSON.parse(await lr(A.encryptedSavedGroups,Q,B))}catch(G){console.error(G)}delete A.encryptedSavedGroups}return A}function rfQ(A){let Q=A.apiHost||"https://cdn.growthbook.io";return{apiHost:Q.replace(/\/*$/,""),streamingHost:(A.streamingHost||Q).replace(/\/*$/,""),apiRequestHeaders:A.apiHostRequestHeaders,streamingHostRequestHeaders:A.streamingHostRequestHeaders}}function KmA(A,Q){return Q.hashAttribute+Q.hashValue+A.key+Q.variationId}var cd6="Feature Evaluated",pd6="Experiment Viewed";var sfQ=L(()=>{cfQ();dHA()});class VmA{constructor(A){if(A=A||{},this.version=Bc6,this._options=this.context=A,this._renderer=A.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!A.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!A.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),A.remoteEval){if(A.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!A.clientKey)throw Error("Missing clientKey");let Q=!1;try{Q=!!new URL(A.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(B){}if(Q)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(A.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(A.stickyBucketService){let Q=A.stickyBucketService;this._saveStickyBucketAssignmentDoc=(B)=>{return Q.saveAssignments(B)}}if(A.plugins)for(let Q of A.plugins)Q(this);if(A.features)this.ready=!0;if(V3A&&A.enableDevMode)window._growthbook=this,document.dispatchEvent(new Event("gbloaded"));if(A.experiments)this.ready=!0,this._updateAllAutoExperiments();if(this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let Q in this._options.stickyBucketAssignmentDocs){let B=this._options.stickyBucketAssignmentDocs[Q];if(B)this._options.stickyBucketService.saveAssignments(B).catch(()=>{})}if(this.ready)this.refreshStickyBuckets(this.getPayload())}async setPayload(A){this._payload=A;let Q=await ofQ(A,this._options.decryptionKey);if(this._decryptedPayload=Q,await this.refreshStickyBuckets(Q),Q.features)this._options.features=Q.features;if(Q.savedGroups)this._options.savedGroups=Q.savedGroups;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();this.ready=!0,this._render()}initSync(A){this._initialized=!0;let Q=A.payload;if(Q.encryptedExperiments||Q.encryptedFeatures)throw Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,Q);if(this._payload=Q,this._decryptedPayload=Q,Q.features)this._options.features=Q.features;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();return this.ready=!0,tuA(this,A),this}async init(A){if(this._initialized=!0,A=A||{},A.cacheSettings)qfQ(A.cacheSettings);if(A.payload)return await this.setPayload(A.payload),tuA(this,A),{success:!0,source:"init"};else{let{data:Q,...B}=await this._refresh({...A,allowStale:!0});return tuA(this,A),await this.setPayload(Q||{}),B}}async loadFeatures(A){A=A||{},await this.init({skipCache:A.skipCache,timeout:A.timeout,streaming:(this._options.backgroundSync??!0)&&(A.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(A){let Q=await this._refresh({...A||{},allowStale:!1});if(Q.data)await this.setPayload(Q.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return rfQ(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(A){let{timeout:Q,skipCache:B,allowStale:G,streaming:Z}=A;if(!this._options.clientKey)throw Error("Missing clientKey");return LfQ({instance:this,timeout:Q,skipCache:B||this._options.disableCache,allowStale:G,backgroundSync:Z??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(A){console.error("Failed to render",A)}}setFeatures(A){this._options.features=A,this.ready=!0,this._render()}async setEncryptedFeatures(A,Q,B){let G=await lr(A,Q||this._options.decryptionKey,B);this.setFeatures(JSON.parse(G))}setExperiments(A){this._options.experiments=A,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(A,Q,B){let G=await lr(A,Q||this._options.decryptionKey,B);this.setExperiments(JSON.parse(G))}async setAttributes(A){if(this._options.attributes=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(A){return this.setAttributes({...this._options.attributes,...A})}async setAttributeOverrides(A){if(this._options.attributeOverrides=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(A){if(this._options.forcedVariations=A||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(A){this._options.forcedFeatureValues=A,this._render()}async setURL(A){if(A===this._options.url)return;if(this._options.url=A,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(A){return this._subscriptions.add(A),()=>{this._subscriptions.delete(A)}}async _refreshForRemoteEval(){if(!this._options.remoteEval)return;if(!this._initialized)return;let A=await this._refresh({allowStale:!1});if(A.data)await this.setPayload(A.data)}getAllResults(){return new Map(this._assigned)}onDestroy(A){this._destroyCallbacks.push(A)}isDestroyed(){return!!this._destroyed}destroy(){if(this._destroyed=!0,this._destroyCallbacks.forEach((A)=>{try{A()}catch(Q){console.error(Q)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,MfQ(this),this.logs=[],V3A&&window._growthbook===this)delete window._growthbook;this._activeAutoExperiments.forEach((A)=>{A.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(A){this._renderer=A}forceVariation(A,Q){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[A]=Q,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(A){let{result:Q}=WmA(A,null,this._getEvalContext());return this._fireSubscriptions(A,Q),Q}triggerExperiment(A){if(this._triggeredExpKeys.add(A),!this._options.experiments)return null;return this._options.experiments.filter((B)=>B.key===A).map((B)=>{return this._runAutoExperiment(B)}).filter((B)=>B!==null)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(A,Q){let B=this._activeAutoExperiments.get(A);if(A.manual&&!this._triggeredExpKeys.has(A.key)&&!B)return null;let G=this._isAutoExperimentBlockedByContext(A),Z,Y;if(G)Z=uY(this._getEvalContext(),A,-1,!1,"");else({result:Z,trackingCall:Y}=WmA(A,null,this._getEvalContext())),this._fireSubscriptions(A,Z);let J=JSON.stringify(Z.value);if(!Q&&Z.inExperiment&&B&&B.valueHash===J)return Z;if(B)this._undoActiveAutoExperiment(A);if(Z.inExperiment){let I=ouA(A);if(I==="redirect"&&Z.value.urlRedirect&&A.urlPatterns){let X=A.persistQueryString?$fQ(this._getContextUrl(),Z.value.urlRedirect):Z.value.urlRedirect;if(auA(X,A.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:A.key}),Z;this._redirectedUrl=X;let{navigate:W,delay:K}=this._getNavigateFunction();if(W)if(V3A)Promise.all([...Y?[ruA(Y,this._options.maxNavigateDelay??1000)]:[],new Promise((V)=>window.setTimeout(V,this._options.navigateDelay??K))]).then(()=>{try{W(X)}catch(V){console.error(V)}});else try{W(X)}catch(V){console.error(V)}}else if(I==="visual"){let X=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(Z.value):this._applyDOMChanges(Z.value);if(X)this._activeAutoExperiments.set(A,{undo:X,valueHash:J})}}return Z}_undoActiveAutoExperiment(A){let Q=this._activeAutoExperiments.get(A);if(Q)Q.undo(),this._activeAutoExperiments.delete(A)}_updateAllAutoExperiments(A){if(!this._autoExperimentsAllowed)return;let Q=this._options.experiments||[],B=new Set(Q);this._activeAutoExperiments.forEach((G,Z)=>{if(!B.has(Z))G.undo(),this._activeAutoExperiments.delete(Z)});for(let G of Q){let Z=this._runAutoExperiment(G,A);if(Z!==null&&Z!==void 0&&Z.inExperiment&&ouA(G)==="redirect")break}}_fireSubscriptions(A,Q){let B=A.key,G=this._assigned.get(B);if(!G||G.result.inExperiment!==Q.inExperiment||G.result.variationId!==Q.variationId)this._assigned.set(B,{experiment:A,result:Q}),this._subscriptions.forEach((Z)=>{try{Z(A,Q)}catch(Y){console.error(Y)}})}_recordChangedId(A){this._completedChangeIds.add(A)}isOn(A){return this.evalFeature(A).on}isOff(A){return this.evalFeature(A).off}getFeatureValue(A,Q){let B=this.evalFeature(A).value;return B===null?Q:B}feature(A){return this.evalFeature(A)}evalFeature(A){return XmA(A,this._getEvalContext())}log(A,Q){if(!this.debug)return;if(this._options.log)this._options.log(A,Q);else console.log(A,Q)}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(A){this._deferredTrackingCalls=new Map(A.filter((Q)=>Q&&Q.experiment&&Q.result).map((Q)=>{return[KmA(Q.experiment,Q.result),Q]}))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let A=[];this._deferredTrackingCalls.forEach((Q)=>{if(!Q||!Q.experiment||!Q.result)console.error("Invalid deferred tracking call",{call:Q});else A.push(this._options.trackingCallback(Q.experiment,Q.result))}),this._deferredTrackingCalls.clear(),await Promise.all(A)}setTrackingCallback(A){this._options.trackingCallback=A,this.fireDeferredTrackingCalls()}setEventLogger(A){this._options.eventLogger=A}async logEvent(A,Q){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode)this.logs.push({eventName:A,properties:Q,timestamp:Date.now().toString(),logType:"event"});if(this._options.eventLogger)try{await this._options.eventLogger(A,Q||{},this._getUserContext())}catch(B){console.error(B)}else console.error("No event logger configured")}_saveDeferredTrack(A){this._deferredTrackingCalls.set(KmA(A.experiment,A.result),A)}_getContextUrl(){return this._options.url||(V3A?window.location.href:"")}_isAutoExperimentBlockedByContext(A){let Q=ouA(A);if(Q==="visual"){if(this._options.disableVisualExperiments)return!0;if(this._options.disableJsInjection){if(A.variations.some((B)=>B.js))return!0}}else if(Q==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{let B=new URL(this._getContextUrl());for(let G of A.variations){if(!G||!G.urlRedirect)continue;let Z=new URL(G.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments){if(Z.protocol!==B.protocol)return!0;if(Z.host!==B.host)return!0}}}catch(B){return this.log("Error parsing current or redirect URL",{id:A.key,error:B}),!0}}else return!0;if(A.changeId&&(this._options.blockedChangeIds||[]).includes(A.changeId))return!0;return!1}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){if(this._options.navigate)return{navigate:this._options.navigate,delay:0};else if(V3A)return{navigate:(A)=>{window.location.replace(A)},delay:100};return{navigate:null,delay:0}}_applyDOMChanges(A){if(!V3A)return;let Q=[];if(A.css){let B=document.createElement("style");B.innerHTML=A.css,document.head.appendChild(B),Q.push(()=>B.remove())}if(A.js){let B=document.createElement("script");if(B.innerHTML=A.js,this._options.jsInjectionNonce)B.nonce=this._options.jsInjectionNonce;document.head.appendChild(B),Q.push(()=>B.remove())}if(A.domMutations)A.domMutations.forEach((B)=>{Q.push(tfQ.default.declarative(B).revert)});return()=>{Q.forEach((B)=>B())}}async refreshStickyBuckets(A){if(this._options.stickyBucketService){let Q=this._getEvalContext(),B=await afQ(Q,this._options.stickyBucketService,A);this._options.stickyBucketAssignmentDocs=B}}generateStickyBucketAssignmentDocsSync(A,Q){if(!("getAllAssignmentsSync"in A)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let B=this._getEvalContext(),G=zj1(B,Q);return A.getAllAssignmentsSync(G)}inDevMode(){return!!this._options.enableDevMode}}var tfQ,V3A,Bc6;var efQ=L(()=>{dHA();TfQ();sfQ();tfQ=o(ufQ(),1),V3A=typeof window<"u"&&typeof document<"u",Bc6=UfQ()});var AbQ=L(()=>{efQ()});function $j1(A){let Q=HmA.get(A);if(Q)JbQ({experimentId:Q.experimentId,variationId:Q.variationId,userAttributes:QbQ(),experimentMetadata:{feature_id:A}})}function H3A(){return aHA()}function QbQ(){let A=IbQ();return{id:A.deviceId,sessionId:A.sessionId,deviceID:A.deviceId,...A.organizationUuid&&{organizationUUID:A.organizationUuid},...A.accountUuid&&{accountUUID:A.accountUuid},...A.userType&&{userType:A.userType},...A.subscriptionType&&{subscriptionType:A.subscriptionType},...A.firstTokenTime&&{firstTokenTime:A.firstTokenTime},...A.email&&{email:A.email},...A.appVersion&&{appVersion:A.appVersion},...A.githubActionsMetadata&&{githubActionsMetadata:A.githubActionsMetadata}}}async function Gc6(A,Q,B){if(!H3A())return Q;let G=await nr();if(!G)return Q;let Z=G.getFeatureValue(A,Q);if(B)$j1(A);return Z}function nHA(A,Q){if(!H3A())return Q;if(BbQ(A,Q),HmA.has(A))$j1(A);else DmA.add(A);try{let B=d1().cachedGrowthBookFeatures?.[A];return B!==void 0?B:Q}catch{return Q}}function GbQ(){if(!H3A())return;try{wj1(),nr()}catch(A){s(A instanceof Error?A:Error(`GrowthBook: Force refresh failed: ${A}`))}}function wj1(){YbQ(),Pk?.destroy(),Pk=null,Uj1=!1,HmA.clear(),DmA.clear(),EmA.cache?.clear?.(),nr.cache?.clear?.(),BbQ.cache?.clear?.()}async function Yc6(){if(!H3A())return;try{let A=await nr();if(!A)return;await A.refreshFeatures();let Q=d1().cachedGrowthBookFeatures;if(Q){let B={...Q},G=!1;for(let Z of Object.keys(Q)){let Y=A.getFeatureValue(Z,void 0);if(Y!==void 0&&Y!==Q[Z])B[Z]=Y,G=!0}if(G)i0((Z)=>({...Z,cachedGrowthBookFeatures:B}))}}catch(A){s(A instanceof Error?A:Error(`GrowthBook: Light refresh failed: ${A}`))}}function ZbQ(){if(!H3A())return;if(E3A)clearInterval(E3A);if(E3A=setInterval(()=>{Yc6()},Zc6),!D3A)D3A=()=>{YbQ()},process.on("beforeExit",D3A)}function YbQ(){if(E3A)clearInterval(E3A),E3A=null;if(D3A)process.removeListener("beforeExit",D3A),D3A=null}var Pk=null,Uj1=!1,HmA,DmA,EmA,nr,BbQ,Zc6=21600000,E3A=null,D3A=null;var ar=L(()=>{Y3A();AbQ();Sk();Y0();h1();oHA();xQ();lD();g0();HmA=new Map,DmA=new Set;EmA=Z0(()=>{if(!H3A())return null;let A=QbQ(),Q="https://api.anthropic.com/",G=QY(!0)||D4()?GY():{headers:{},error:"trust not established"};Uj1=!G.error,Pk=new VmA({apiHost:Q,clientKey:fh0,attributes:A,remoteEval:!0,cacheKeyAttributes:["id"],...G.error?{}:{apiHostRequestHeaders:G.headers},...{}});let Y=Pk.init({timeout:5000}).then(async(J)=>{let I=Pk?.getPayload();if(I?.features){let X={};for(let[W,K]of Object.entries(I.features)){let V=K;if("value"in V&&!("defaultValue"in V))X[W]={...V,defaultValue:V.value};else X[W]=V;if(V.source==="experiment"&&V.experimentResult){let{experimentResult:E,experiment:D}=V;if(D?.key&&E.variationId!==void 0)HmA.set(W,{experimentId:D.key,variationId:E.variationId})}}await Pk?.setPayload({...I,features:X});for(let W of DmA)$j1(W);DmA.clear()}}).catch((J)=>{});return process.on("beforeExit",()=>{Pk?.destroy()}),process.on("exit",()=>{Pk?.destroy()}),{client:Pk,initialized:Y}}),nr=Z0(async()=>{let A=EmA();if(!A)return null;if(!Uj1){if(QY(!0)||D4()){if(!GY().error){if(EmA.cache?.clear?.(),nr.cache?.clear?.(),A=EmA(),!A)return null}}}return await A.initialized,A.client});BbQ=Z0(async(A,Q)=>{let B=await Gc6(A,Q,!1);if(d1().cachedGrowthBookFeatures?.[A]===B)return;i0((Z)=>({...Z,cachedGrowthBookFeatures:{...Z.cachedGrowthBookFeatures??{},[A]:B}}))})});function aI(){return process.env.ANTHROPIC_SMALL_FAST_MODEL||tHA()}function z3A(A){return A===gY().opus40||A===gY().opus41||A===gY().opus45}function FmA(A){return A.includes("opus")}function CmA(){let A,Q=bG1();if(Q!==void 0)A=Q;else{let B=NQ()||{};A=process.env.ANTHROPIC_MODEL||B.model||void 0}if(RB()&&!lq()&&A&&FmA(A))return;return A}function rr(A={}){let Q=CmA();if(Q!==null&&Q!==void 0)return Q;let{forDisplay:B=!1}=A;return KbQ(B)}function g8(){let A=rr();if(A!==void 0&&A!==null)return nI(A);return xk()}function _z(){if(process.env.ANTHROPIC_DEFAULT_SONNET_MODEL)return process.env.ANTHROPIC_DEFAULT_SONNET_MODEL;return gY().sonnet45}function rHA(){return d6()==="max"}function sHA(){return d6()==="team"}function WbQ(){return d6()==="pro"}function sr(){if(process.env.ANTHROPIC_DEFAULT_OPUS_MODEL)return process.env.ANTHROPIC_DEFAULT_OPUS_MODEL;if(X6()==="firstParty")return gY().opus45;return gY().opus41}function tHA(){if(process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL)return process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL;if(X6()==="firstParty"||X6()==="foundry")return gY().haiku45;return gY().haiku35}function zmA(){return b7("tengu_opus_default_pro_plan","opus_is_default",!1)}function tr(A){let{permissionMode:Q,mainLoopModel:B,exceeds200kTokens:G=!1}=A;if(rr()==="opusplan"&&Q==="plan"&&!G)return sr();if(rr()==="haiku"&&Q==="plan")return _z();return B}function Lj1(){if(!RB())return!1;let{hasAccess:A}=$d();if(!A)return!1;return b7("sonnet_1m_default","enabled",!1)}function KbQ(A){let Q=Ic6();if(Q!==null&&Q.name)return A?Q.displayName??Q.name:Q.name;if(Lj1())return"sonnet[1m]";return}function UmA(A={}){let{forDisplay:Q=!1}=A,B=KbQ(Q);if(B!==void 0)return B;if(rHA()||sHA())return sr();if(WbQ()&&zmA())return sr();return _z()}function xk(A={}){return nI(UmA(A))}function p$(A){if(A.includes("claude-opus-4-5"))return"claude-opus-4-5";if(A.includes("claude-opus-4-1"))return"claude-opus-4-1";if(A.includes("claude-opus-4"))return"claude-opus-4";let Q=A.match(/(claude-(\d+-\d+-)?\w+)/);if(Q&&Q[1])return Q[1];return A}async function VbQ(){try{if(d1().claudeCodeFirstTokenDate!==void 0)return;let Q=GY();if(Q.error){s(Error(`Failed to get auth headers: ${Q.error}`));return}let G=`${u9().BASE_API_URL}/api/organization/claude_code_first_token_date`,Y=(await wQ.get(G,{headers:{...Q.headers,"User-Agent":iI()}})).data?.first_token_date??null;if(Y!==null){let J=new Date(Y).getTime();if(isNaN(J)){s(Error(`Received invalid first_token_date from API: ${Y}`));return}}i0((J)=>({...J,claudeCodeFirstTokenDate:Y}))}catch(A){s(A instanceof Error?A:Error(String(A)))}}function $mA(){if(Lj1())return"Sonnet 4.5 with 1M context ¬∑ Best for everyday tasks";if(rHA()||sHA())return"Opus 4.5 ¬∑ Most capable for complex work";if(WbQ()&&zmA())return"Opus 4.5 ¬∑ Most capable for complex work";return"Sonnet 4.5 ¬∑ Best for everyday tasks"}function Xc6(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return nD(nI(A))}function EbQ(A){if(A==="opusplan")return"Opus Plan";if(Oj1(A))return A.charAt(0).toUpperCase()+A.slice(1);return nD(A)}function nD(A){if(A===gY().opus45)return"Opus 4.5";if(A===gY().opus41)return"Opus 4.1";if(A===gY().opus40)return"Opus 4";if(A===gY().sonnet45+"[1m]")return"Sonnet 4.5 (1M context)";if(A===gY().sonnet45)return"Sonnet 4.5";if(A===gY().sonnet40)return"Sonnet 4";if(A===gY().sonnet40+"[1m]")return"Sonnet 4 (1M context)";if(A===gY().sonnet37)return"Sonnet 3.7";if(A===gY().sonnet35)return"Sonnet 3.5";if(A===gY().haiku45)return"Haiku 4.5";if(A===gY().haiku35)return"Haiku 3.5";return A}function DbQ(A){let Q=nD(A);if(Q===A)return"Claude";return`Claude ${Q}`}function or(){if(RB()){if(!lq())return{value:null,label:"Sonnet",description:Mj1.description};return{value:null,label:"Default (recommended)",description:$mA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${Xc6(UmA({forDisplay:!0}))}) ¬∑ ${Ud(dr)}`}}function Vc6(){return tHA()===gY().haiku45?CbQ:Kc6}function Fc6(){let A=X6()==="firstParty"?CbQ:null;if(RB()){if(!lq())return[or(),Nj1];if(rHA()||sHA()){let G=[or(),Dc6];if($d().hasAccess)G.push(XbQ);return G.push(Nj1),G}let B=[or(),Ec6];if(Lj1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if($d().hasAccess)B.push(XbQ);return B.push(Nj1),B}let Q=[or(),FbQ()];if(X6()!=="firstParty")Q.push(Wc6());if($d().hasAccess)Q.push(HbQ);if(A)Q.push(A);return Q}function wmA(){let A=Fc6(),Q=null,B=CmA(),G=zPA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,Hc6()];if(!RB()&&Oj1(Q))if(Q==="sonnet")A.push(Mj1);else if(Q==="sonnet[1m]")A.push(HbQ);else if(Q==="opus")A.push(FbQ());else if(Q==="haiku")A.push(Vc6());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Oj1(A){return F3A.includes(A)}function nI(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Oj1(Z))switch(Z){case"opusplan":return _z()+(G?"[1m]":"");case"sonnet":return _z()+(G?"[1m]":"");case"haiku":return tHA()+(G?"[1m]":"");case"opus":return sr();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function eq(A){if(A===null){if(RB()&&!lq())return`Sonnet (${Mj1.description})`;else if(RB())return`Default (${$mA()})`;return`Default (${xk({forDisplay:!0})})`}let Q=nI(A);return A===Q?Q:`${A} (${Q})`}function U3A(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;if(B)return nI(B);if(!A)return nI(qj1);if(A==="inherit")return tr({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return nI(A)}function NmA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function zbQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(lq())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function yk(A){return A.replace(/\[(1|2)m\]/gi,"")}var F3A,Jc6,xvQ,C3A,qj1="sonnet",Ic6,Mj1,HbQ,FbQ=()=>{let A=X6()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} ¬∑ ${A?"Legacy":"Most capable for complex work"} ¬∑ ${Ud(A?vuA:kuA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},Wc6=()=>{return{value:gY().opus45,label:"Opus 4.5",description:`Opus 4.5 ¬∑ Most capable for complex work ¬∑ ${Ud(kuA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},CbQ,Kc6,Ec6,XbQ,Dc6,Nj1,Hc6=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var l2=L(()=>{o2();xQ();g0();F2();c6A();mR1();buA();jB();J4();Sk();b8();eJ();h1();lD();huA();hX();ar();F3A=["sonnet","opus","haiku","sonnet[1m]","opusplan"],Jc6=wr,xvQ=Jc6.firstParty,C3A=[...F3A,"inherit"];Ic6=Z0(()=>{return nHA("strawberry_granite_flag","N/A"),nHA("persimmon_marble_flag","N/A"),null});Mj1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 ¬∑ Best for everyday tasks ¬∑ ${Ud(dr)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},HbQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions ¬∑ ${Ud(cT1)}`,descriptionForModel:"Sonnet 4.5 with 1M context window - for long sessions with large codebases"},CbQ={value:"haiku",label:"Haiku",description:`Haiku 4.5 ¬∑ Fastest for quick answers ¬∑ ${Ud(lT1)}`,descriptionForModel:"Haiku 4.5 - fastest for quick answers. Lower cost but less capable than Sonnet 4.5."},Kc6={value:"haiku",label:"Haiku",description:`Haiku 3.5 for simple tasks ¬∑ ${Ud(pT1)}`,descriptionForModel:"Haiku 3.5 - faster and lower cost, but less capable than Sonnet. Use for simple tasks."};Ec6={value:"opus",label:"Opus",description:"Opus 4.5 ¬∑ Most capable for complex work"},XbQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:"Sonnet 4.5 with 1M context ¬∑ Uses rate limits faster"},Dc6={value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 ¬∑ Best for everyday tasks"},Nj1={value:"haiku",label:"Haiku",description:"Haiku 4.5 ¬∑ Fastest for quick answers"}});function $c6(){return}async function Ld(A={}){let Q=A.model?String(A.model):g8(),B=N$(Q),G=await Uc6(),Z=$c6();return{model:Q,sessionId:W0(),userType:"external",...B.length>0?{betas:B.join(",")}:{},envContext:G,...process.env.CLAUDE_CODE_ENTRYPOINT&&{entrypoint:process.env.CLAUDE_CODE_ENTRYPOINT},...process.env.CLAUDE_AGENT_SDK_VERSION&&{agentSdkVersion:process.env.CLAUDE_AGENT_SDK_VERSION},isInteractive:String(SBA()),clientType:wPA(),...Z&&{processMetrics:Z},sweBenchRunId:process.env.SWE_BENCH_RUN_ID||"",sweBenchInstanceId:process.env.SWE_BENCH_INSTANCE_ID||"",sweBenchTaskId:process.env.SWE_BENCH_TASK_ID||""}}function UbQ(A,Q={}){let B={};for(let[G,Z]of Object.entries(Q))if(Z!==void 0)B[G]=String(Z);for(let[G,Z]of Object.entries(A)){if(Z===void 0)continue;if(G==="envContext")B.env=JSON.stringify(Z);else if(G==="processMetrics")B.process=JSON.stringify(Z);else B[G]=String(Z)}return B}function $bQ(A,Q={}){let{envContext:B,processMetrics:G,...Z}=A;return{...Q,...Z,env:B,...G&&{process:G},surface:Cc6}}function wbQ(A,Q,B={}){let{envContext:G,processMetrics:Z,...Y}=A,J={platform:G.platform,arch:G.arch,node_version:G.nodeVersion,terminal:G.terminal||"unknown",package_managers:G.packageManagers,runtimes:G.runtimes,is_running_with_bun:G.isRunningWithBun,is_ci:G.isCi,is_claubbit:G.isClaubbit,is_claude_code_remote:G.isClaudeCodeRemote,is_conductor:G.isConductor,is_github_action:G.isGithubAction,is_claude_code_action:G.isClaudeCodeAction,is_claude_ai_auth:G.isClaudeAiAuth,version:G.version,build_time:G.buildTime,deployment_environment:G.deploymentEnvironment};if(G.remoteEnvironmentType)J.remote_environment_type=G.remoteEnvironmentType;if(G.claudeCodeContainerId)J.claude_code_container_id=G.claudeCodeContainerId;if(G.claudeCodeRemoteSessionId)J.claude_code_remote_session_id=G.claudeCodeRemoteSessionId;if(G.tags)J.tags=G.tags.split(",").map((X)=>X.trim()).filter(Boolean);if(G.githubEventName)J.github_event_name=G.githubEventName;if(G.githubActionsRunnerEnvironment)J.github_actions_runner_environment=G.githubActionsRunnerEnvironment;if(G.githubActionsRunnerOs)J.github_actions_runner_os=G.githubActionsRunnerOs;if(G.githubActionRef)J.github_action_ref=G.githubActionRef;if(G.wslVersion)J.wsl_version=G.wslVersion;if(G.versionBase)J.version_base=G.versionBase;let I={session_id:Y.sessionId,model:Y.model,user_type:Y.userType,is_interactive:Y.isInteractive==="true",client_type:Y.clientType};if(Y.betas)I.betas=Y.betas;if(Y.entrypoint)I.entrypoint=Y.entrypoint;if(Y.agentSdkVersion)I.agent_sdk_version=Y.agentSdkVersion;if(Y.sweBenchRunId)I.swe_bench_run_id=Y.sweBenchRunId;if(Y.sweBenchInstanceId)I.swe_bench_instance_id=Y.sweBenchInstanceId;if(Y.sweBenchTaskId)I.swe_bench_task_id=Y.sweBenchTaskId;if(Q.githubActionsMetadata){let X=Q.githubActionsMetadata;J.github_actions_metadata={actor_id:X.actorId,repository_id:X.repositoryId,repository_owner_id:X.repositoryOwnerId}}return{env:J,...Z&&{process:JSON.stringify(Z)},core:I,additional:B}}var Cc6="claude-code",zc6,Uc6;var $3A=L(()=>{o2();$8();ur();fv();l2();g0();rQ();F2();k3();zc6=Z0(()=>{let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION.match(/^\d+\.\d+\.\d+(?:-[a-z]+)?/);return A?A[0]:void 0}),Uc6=Z0(async()=>{let[A,Q]=await Promise.all([JQ.getPackageManagers(),JQ.getRuntimes()]);return{platform:JQ.platform,arch:JQ.arch,nodeVersion:JQ.nodeVersion,terminal:Rz.terminal,packageManagers:A.join(","),runtimes:Q.join(","),isRunningWithBun:JQ.isRunningWithBun(),isCi:z0(!1),isClaubbit:process.env.CLAUBBIT==="true",isClaudeCodeRemote:process.env.CLAUDE_CODE_REMOTE==="true",isConductor:JQ.isConductor(),...process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE&&{remoteEnvironmentType:process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE},...process.env.CLAUDE_CODE_CONTAINER_ID&&{claudeCodeContainerId:process.env.CLAUDE_CODE_CONTAINER_ID},...process.env.CLAUDE_CODE_REMOTE_SESSION_ID&&{claudeCodeRemoteSessionId:process.env.CLAUDE_CODE_REMOTE_SESSION_ID},...process.env.CLAUDE_CODE_TAGS&&{tags:process.env.CLAUDE_CODE_TAGS},isGithubAction:process.env.GITHUB_ACTIONS==="true",isClaudeCodeAction:process.env.CLAUDE_CODE_ACTION==="1"||process.env.CLAUDE_CODE_ACTION==="true",isClaudeAiAuth:RB(),version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,versionBase:zc6(),buildTime:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.BUILD_TIME,deploymentEnvironment:JQ.detectDeploymentEnvironment(),...process.env.GITHUB_ACTIONS==="true"&&{githubEventName:process.env.GITHUB_EVENT_NAME,githubActionsRunnerEnvironment:process.env.RUNNER_ENVIRONMENT,githubActionsRunnerOs:process.env.RUNNER_OS,githubActionRef:process.env.GITHUB_ACTION_PATH?.includes("claude-code-action/")?process.env.GITHUB_ACTION_PATH.split("claude-code-action/")[1]:void 0},...ua()&&{wslVersion:ua()}}})});function wc6(){return{seconds:0,nanos:0}}function NbQ(A){return A!==null&&A!==void 0}var eHA;var Rj1=L(()=>{eHA={fromJSON(A){return{seconds:NbQ(A.seconds)?globalThis.Number(A.seconds):0,nanos:NbQ(A.nanos)?globalThis.Number(A.nanos):0}},toJSON(A){let Q={};if(A.seconds!==void 0)Q.seconds=Math.round(A.seconds);if(A.nanos!==void 0)Q.nanos=Math.round(A.nanos);return Q},create(A){return eHA.fromPartial(A??{})},fromPartial(A){let Q=wc6();return Q.seconds=A.seconds??0,Q.nanos=A.nanos??0,Q}}});function Nc6(){return{account_id:0,organization_uuid:"",account_uuid:""}}function _j1(A){return A!==null&&A!==void 0}var vk;var Tj1=L(()=>{vk={fromJSON(A){return{account_id:_j1(A.account_id)?globalThis.Number(A.account_id):0,organization_uuid:_j1(A.organization_uuid)?globalThis.String(A.organization_uuid):"",account_uuid:_j1(A.account_uuid)?globalThis.String(A.account_uuid):""}},toJSON(A){let Q={};if(A.account_id!==void 0)Q.account_id=Math.round(A.account_id);if(A.organization_uuid!==void 0)Q.organization_uuid=A.organization_uuid;if(A.account_uuid!==void 0)Q.account_uuid=A.account_uuid;return Q},create(A){return vk.fromPartial(A??{})},fromPartial(A){let Q=Nc6();return Q.account_id=A.account_id??0,Q.organization_uuid=A.organization_uuid??"",Q.account_uuid=A.account_uuid??"",Q}}});function qc6(){return{actor_id:"",repository_id:"",repository_owner_id:""}}function Lc6(){return{platform:"",node_version:"",terminal:"",package_managers:"",runtimes:"",is_running_with_bun:!1,is_ci:!1,is_claubbit:!1,is_github_action:!1,is_claude_code_action:!1,is_claude_ai_auth:!1,version:"",github_event_name:"",github_actions_runner_environment:"",github_actions_runner_os:"",github_action_ref:"",wsl_version:"",github_actions_metadata:void 0,arch:"",is_claude_code_remote:!1,remote_environment_type:"",claude_code_container_id:"",claude_code_remote_session_id:"",tags:[],deployment_environment:""}}function Mc6(){return{event_name:"",client_timestamp:void 0,model:"",session_id:"",user_type:"",betas:"",env:void 0,entrypoint:"",agent_sdk_version:"",is_interactive:!1,client_type:"",process:"",additional_metadata:"",auth:void 0,server_timestamp:void 0,event_id:"",device_id:"",swe_bench_run_id:"",swe_bench_instance_id:"",swe_bench_task_id:"",email:""}}function Oc6(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function qbQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Oc6(eHA.fromJSON(A))}function b4(A){return A!==null&&A!==void 0}var qmA,LmA,MmA;var LbQ=L(()=>{Rj1();Tj1();qmA={fromJSON(A){return{actor_id:b4(A.actor_id)?globalThis.String(A.actor_id):"",repository_id:b4(A.repository_id)?globalThis.String(A.repository_id):"",repository_owner_id:b4(A.repository_owner_id)?globalThis.String(A.repository_owner_id):""}},toJSON(A){let Q={};if(A.actor_id!==void 0)Q.actor_id=A.actor_id;if(A.repository_id!==void 0)Q.repository_id=A.repository_id;if(A.repository_owner_id!==void 0)Q.repository_owner_id=A.repository_owner_id;return Q},create(A){return qmA.fromPartial(A??{})},fromPartial(A){let Q=qc6();return Q.actor_id=A.actor_id??"",Q.repository_id=A.repository_id??"",Q.repository_owner_id=A.repository_owner_id??"",Q}};LmA={fromJSON(A){return{platform:b4(A.platform)?globalThis.String(A.platform):"",node_version:b4(A.node_version)?globalThis.String(A.node_version):"",terminal:b4(A.terminal)?globalThis.String(A.terminal):"",package_managers:b4(A.package_managers)?globalThis.String(A.package_managers):"",runtimes:b4(A.runtimes)?globalThis.String(A.runtimes):"",is_running_with_bun:b4(A.is_running_with_bun)?globalThis.Boolean(A.is_running_with_bun):!1,is_ci:b4(A.is_ci)?globalThis.Boolean(A.is_ci):!1,is_claubbit:b4(A.is_claubbit)?globalThis.Boolean(A.is_claubbit):!1,is_github_action:b4(A.is_github_action)?globalThis.Boolean(A.is_github_action):!1,is_claude_code_action:b4(A.is_claude_code_action)?globalThis.Boolean(A.is_claude_code_action):!1,is_claude_ai_auth:b4(A.is_claude_ai_auth)?globalThis.Boolean(A.is_claude_ai_auth):!1,version:b4(A.version)?globalThis.String(A.version):"",github_event_name:b4(A.github_event_name)?globalThis.String(A.github_event_name):"",github_actions_runner_environment:b4(A.github_actions_runner_environment)?globalThis.String(A.github_actions_runner_environment):"",github_actions_runner_os:b4(A.github_actions_runner_os)?globalThis.String(A.github_actions_runner_os):"",github_action_ref:b4(A.github_action_ref)?globalThis.String(A.github_action_ref):"",wsl_version:b4(A.wsl_version)?globalThis.String(A.wsl_version):"",github_actions_metadata:b4(A.github_actions_metadata)?qmA.fromJSON(A.github_actions_metadata):void 0,arch:b4(A.arch)?globalThis.String(A.arch):"",is_claude_code_remote:b4(A.is_claude_code_remote)?globalThis.Boolean(A.is_claude_code_remote):!1,remote_environment_type:b4(A.remote_environment_type)?globalThis.String(A.remote_environment_type):"",claude_code_container_id:b4(A.claude_code_container_id)?globalThis.String(A.claude_code_container_id):"",claude_code_remote_session_id:b4(A.claude_code_remote_session_id)?globalThis.String(A.claude_code_remote_session_id):"",tags:globalThis.Array.isArray(A?.tags)?A.tags.map((Q)=>globalThis.String(Q)):[],deployment_environment:b4(A.deployment_environment)?globalThis.String(A.deployment_environment):""}},toJSON(A){let Q={};if(A.platform!==void 0)Q.platform=A.platform;if(A.node_version!==void 0)Q.node_version=A.node_version;if(A.terminal!==void 0)Q.terminal=A.terminal;if(A.package_managers!==void 0)Q.package_managers=A.package_managers;if(A.runtimes!==void 0)Q.runtimes=A.runtimes;if(A.is_running_with_bun!==void 0)Q.is_running_with_bun=A.is_running_with_bun;if(A.is_ci!==void 0)Q.is_ci=A.is_ci;if(A.is_claubbit!==void 0)Q.is_claubbit=A.is_claubbit;if(A.is_github_action!==void 0)Q.is_github_action=A.is_github_action;if(A.is_claude_code_action!==void 0)Q.is_claude_code_action=A.is_claude_code_action;if(A.is_claude_ai_auth!==void 0)Q.is_claude_ai_auth=A.is_claude_ai_auth;if(A.version!==void 0)Q.version=A.version;if(A.github_event_name!==void 0)Q.github_event_name=A.github_event_name;if(A.github_actions_runner_environment!==void 0)Q.github_actions_runner_environment=A.github_actions_runner_environment;if(A.github_actions_runner_os!==void 0)Q.github_actions_runner_os=A.github_actions_runner_os;if(A.github_action_ref!==void 0)Q.github_action_ref=A.github_action_ref;if(A.wsl_version!==void 0)Q.wsl_version=A.wsl_version;if(A.github_actions_metadata!==void 0)Q.github_actions_metadata=qmA.toJSON(A.github_actions_metadata);if(A.arch!==void 0)Q.arch=A.arch;if(A.is_claude_code_remote!==void 0)Q.is_claude_code_remote=A.is_claude_code_remote;if(A.remote_environment_type!==void 0)Q.remote_environment_type=A.remote_environment_type;if(A.claude_code_container_id!==void 0)Q.claude_code_container_id=A.claude_code_container_id;if(A.claude_code_remote_session_id!==void 0)Q.claude_code_remote_session_id=A.claude_code_remote_session_id;if(A.tags?.length)Q.tags=A.tags;if(A.deployment_environment!==void 0)Q.deployment_environment=A.deployment_environment;return Q},create(A){return LmA.fromPartial(A??{})},fromPartial(A){let Q=Lc6();return Q.platform=A.platform??"",Q.node_version=A.node_version??"",Q.terminal=A.terminal??"",Q.package_managers=A.package_managers??"",Q.runtimes=A.runtimes??"",Q.is_running_with_bun=A.is_running_with_bun??!1,Q.is_ci=A.is_ci??!1,Q.is_claubbit=A.is_claubbit??!1,Q.is_github_action=A.is_github_action??!1,Q.is_claude_code_action=A.is_claude_code_action??!1,Q.is_claude_ai_auth=A.is_claude_ai_auth??!1,Q.version=A.version??"",Q.github_event_name=A.github_event_name??"",Q.github_actions_runner_environment=A.github_actions_runner_environment??"",Q.github_actions_runner_os=A.github_actions_runner_os??"",Q.github_action_ref=A.github_action_ref??"",Q.wsl_version=A.wsl_version??"",Q.github_actions_metadata=A.github_actions_metadata!==void 0&&A.github_actions_metadata!==null?qmA.fromPartial(A.github_actions_metadata):void 0,Q.arch=A.arch??"",Q.is_claude_code_remote=A.is_claude_code_remote??!1,Q.remote_environment_type=A.remote_environment_type??"",Q.claude_code_container_id=A.claude_code_container_id??"",Q.claude_code_remote_session_id=A.claude_code_remote_session_id??"",Q.tags=A.tags?.map((B)=>B)||[],Q.deployment_environment=A.deployment_environment??"",Q}};MmA={fromJSON(A){return{event_name:b4(A.event_name)?globalThis.String(A.event_name):"",client_timestamp:b4(A.client_timestamp)?qbQ(A.client_timestamp):void 0,model:b4(A.model)?globalThis.String(A.model):"",session_id:b4(A.session_id)?globalThis.String(A.session_id):"",user_type:b4(A.user_type)?globalThis.String(A.user_type):"",betas:b4(A.betas)?globalThis.String(A.betas):"",env:b4(A.env)?LmA.fromJSON(A.env):void 0,entrypoint:b4(A.entrypoint)?globalThis.String(A.entrypoint):"",agent_sdk_version:b4(A.agent_sdk_version)?globalThis.String(A.agent_sdk_version):"",is_interactive:b4(A.is_interactive)?globalThis.Boolean(A.is_interactive):!1,client_type:b4(A.client_type)?globalThis.String(A.client_type):"",process:b4(A.process)?globalThis.String(A.process):"",additional_metadata:b4(A.additional_metadata)?globalThis.String(A.additional_metadata):"",auth:b4(A.auth)?vk.fromJSON(A.auth):void 0,server_timestamp:b4(A.server_timestamp)?qbQ(A.server_timestamp):void 0,event_id:b4(A.event_id)?globalThis.String(A.event_id):"",device_id:b4(A.device_id)?globalThis.String(A.device_id):"",swe_bench_run_id:b4(A.swe_bench_run_id)?globalThis.String(A.swe_bench_run_id):"",swe_bench_instance_id:b4(A.swe_bench_instance_id)?globalThis.String(A.swe_bench_instance_id):"",swe_bench_task_id:b4(A.swe_bench_task_id)?globalThis.String(A.swe_bench_task_id):"",email:b4(A.email)?globalThis.String(A.email):""}},toJSON(A){let Q={};if(A.event_name!==void 0)Q.event_name=A.event_name;if(A.client_timestamp!==void 0)Q.client_timestamp=A.client_timestamp.toISOString();if(A.model!==void 0)Q.model=A.model;if(A.session_id!==void 0)Q.session_id=A.session_id;if(A.user_type!==void 0)Q.user_type=A.user_type;if(A.betas!==void 0)Q.betas=A.betas;if(A.env!==void 0)Q.env=LmA.toJSON(A.env);if(A.entrypoint!==void 0)Q.entrypoint=A.entrypoint;if(A.agent_sdk_version!==void 0)Q.agent_sdk_version=A.agent_sdk_version;if(A.is_interactive!==void 0)Q.is_interactive=A.is_interactive;if(A.client_type!==void 0)Q.client_type=A.client_type;if(A.process!==void 0)Q.process=A.process;if(A.additional_metadata!==void 0)Q.additional_metadata=A.additional_metadata;if(A.auth!==void 0)Q.auth=vk.toJSON(A.auth);if(A.server_timestamp!==void 0)Q.server_timestamp=A.server_timestamp.toISOString();if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.swe_bench_run_id!==void 0)Q.swe_bench_run_id=A.swe_bench_run_id;if(A.swe_bench_instance_id!==void 0)Q.swe_bench_instance_id=A.swe_bench_instance_id;if(A.swe_bench_task_id!==void 0)Q.swe_bench_task_id=A.swe_bench_task_id;if(A.email!==void 0)Q.email=A.email;return Q},create(A){return MmA.fromPartial(A??{})},fromPartial(A){let Q=Mc6();return Q.event_name=A.event_name??"",Q.client_timestamp=A.client_timestamp??void 0,Q.model=A.model??"",Q.session_id=A.session_id??"",Q.user_type=A.user_type??"",Q.betas=A.betas??"",Q.env=A.env!==void 0&&A.env!==null?LmA.fromPartial(A.env):void 0,Q.entrypoint=A.entrypoint??"",Q.agent_sdk_version=A.agent_sdk_version??"",Q.is_interactive=A.is_interactive??!1,Q.client_type=A.client_type??"",Q.process=A.process??"",Q.additional_metadata=A.additional_metadata??"",Q.auth=A.auth!==void 0&&A.auth!==null?vk.fromPartial(A.auth):void 0,Q.server_timestamp=A.server_timestamp??void 0,Q.event_id=A.event_id??"",Q.device_id=A.device_id??"",Q.swe_bench_run_id=A.swe_bench_run_id??"",Q.swe_bench_instance_id=A.swe_bench_instance_id??"",Q.swe_bench_task_id=A.swe_bench_task_id??"",Q.email=A.email??"",Q}}});function Rc6(){return{event_id:"",event_timestamp:void 0,timestamp:void 0,experiment_id:"",variation_id:0,environment:"",user_attributes:"",experiment_metadata:"",device_id:"",auth:void 0,session_id:""}}function _c6(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function MbQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return _c6(eHA.fromJSON(A))}function $R(A){return A!==null&&A!==void 0}var jj1;var ObQ=L(()=>{Rj1();Tj1();jj1={fromJSON(A){return{event_id:$R(A.event_id)?globalThis.String(A.event_id):"",event_timestamp:$R(A.event_timestamp)?MbQ(A.event_timestamp):void 0,timestamp:$R(A.timestamp)?MbQ(A.timestamp):void 0,experiment_id:$R(A.experiment_id)?globalThis.String(A.experiment_id):"",variation_id:$R(A.variation_id)?globalThis.Number(A.variation_id):0,environment:$R(A.environment)?globalThis.String(A.environment):"",user_attributes:$R(A.user_attributes)?globalThis.String(A.user_attributes):"",experiment_metadata:$R(A.experiment_metadata)?globalThis.String(A.experiment_metadata):"",device_id:$R(A.device_id)?globalThis.String(A.device_id):"",auth:$R(A.auth)?vk.fromJSON(A.auth):void 0,session_id:$R(A.session_id)?globalThis.String(A.session_id):""}},toJSON(A){let Q={};if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.event_timestamp!==void 0)Q.event_timestamp=A.event_timestamp.toISOString();if(A.timestamp!==void 0)Q.timestamp=A.timestamp.toISOString();if(A.experiment_id!==void 0)Q.experiment_id=A.experiment_id;if(A.variation_id!==void 0)Q.variation_id=Math.round(A.variation_id);if(A.environment!==void 0)Q.environment=A.environment;if(A.user_attributes!==void 0)Q.user_attributes=A.user_attributes;if(A.experiment_metadata!==void 0)Q.experiment_metadata=A.experiment_metadata;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.auth!==void 0)Q.auth=vk.toJSON(A.auth);if(A.session_id!==void 0)Q.session_id=A.session_id;return Q},create(A){return jj1.fromPartial(A??{})},fromPartial(A){let Q=Rc6();return Q.event_id=A.event_id??"",Q.event_timestamp=A.event_timestamp??void 0,Q.timestamp=A.timestamp??void 0,Q.experiment_id=A.experiment_id??"",Q.variation_id=A.variation_id??0,Q.environment=A.environment??"",Q.user_attributes=A.user_attributes??"",Q.experiment_metadata=A.experiment_metadata??"",Q.device_id=A.device_id??"",Q.auth=A.auth!==void 0&&A.auth!==null?vk.fromPartial(A.auth):void 0,Q.session_id=A.session_id??"",Q}}});import{randomUUID as Tc6}from"crypto";import{existsSync as AFA,readFileSync as jc6,writeFileSync as Pc6,unlinkSync as RbQ,readdirSync as Sc6,mkdirSync as xc6}from"fs";import*as OmA from"path";function w3A(){return OmA.join(mQ(),"telemetry")}class Pj1{endpoint;timeout;maxQueuedEvents;maxBatchSize;batchDelayMs;baseBackoffDelayMs;maxBackoffDelayMs;pendingExports=[];isShutdown=!1;backoffRetryTimer=null;backoffAttempt=0;isRetrying=!1;constructor(A={}){let Q=process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com";this.endpoint=`${Q}/api/event_logging/batch`,this.timeout=A.timeout||1e4,this.maxQueuedEvents=A.maxQueuedEvents||8192,this.maxBatchSize=A.maxBatchSize||200,this.batchDelayMs=A.batchDelayMs||100,this.baseBackoffDelayMs=A.baseBackoffDelayMs||500,this.maxBackoffDelayMs=A.maxBackoffDelayMs||30000,this.retryPreviousBatches()}getQueuedEventCount(){return this.loadEventsFromCurrentBatch().length}getCurrentBatchFilePath(){return OmA.join(w3A(),`${TbQ}${W0()}.${_bQ}.json`)}loadEventsFromFile(A){try{if(!AFA(A))return[];let Q=jc6(A,"utf8");return JSON.parse(Q)}catch{return[]}}loadEventsFromCurrentBatch(){return this.loadEventsFromFile(this.getCurrentBatchFilePath())}saveEventsToFile(A,Q){try{if(Q.length===0){if(AFA(A))RbQ(A)}else{if(!AFA(w3A()))xc6(w3A(),{recursive:!0});Pc6(A,JSON.stringify(Q),"utf8")}}catch(B){s(B)}}deleteFile(A){try{if(AFA(A))RbQ(A)}catch(Q){s(Q)}}retryPreviousBatches(){try{if(!AFA(w3A()))return;let A=`${TbQ}${W0()}.`,Q=Sc6(w3A()).filter((B)=>B.startsWith(A)&&B.endsWith(".json")).filter((B)=>!B.includes(_bQ));for(let B of Q){let G=OmA.join(w3A(),B);this.retryFileInBackground(G)}}catch(A){s(A)}}async retryFileInBackground(A){let Q=this.loadEventsFromFile(A);if(Q.length===0){this.deleteFile(A);return}if((await this.sendEventsInBatches(Q)).length===0)this.deleteFile(A)}async export(A,Q){if(this.isShutdown){Q({code:er.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}let B=this.doExport(A,Q);this.pendingExports.push(B),B.finally(()=>{let G=this.pendingExports.indexOf(B);if(G>-1)this.pendingExports.splice(G,1)})}async doExport(A,Q){try{let B=A.filter((Y)=>Y.instrumentationScope?.name==="com.anthropic.claude_code.events");if(B.length===0){Q({code:er.ExportResultCode.SUCCESS});return}let G=this.transformLogsToEvents(B).events;if(G.length===0){Q({code:er.ExportResultCode.SUCCESS});return}let Z=await this.sendEventsInBatches(G);if(Z.length>0){this.queueFailedEvents(Z),this.scheduleBackoffRetry(),Q({code:er.ExportResultCode.FAILED,error:Error(`Failed to export ${Z.length} events`)});return}if(this.resetBackoff(),this.getQueuedEventCount()>0&&!this.isRetrying)this.retryFailedEvents();Q({code:er.ExportResultCode.SUCCESS})}catch(B){s(B),Q({code:er.ExportResultCode.FAILED,error:B instanceof Error?B:Error("Unknown export error")})}}async sendEventsInBatches(A){let Q=[];for(let G=0;G<A.length;G+=this.maxBatchSize)Q.push(A.slice(G,G+this.maxBatchSize));let B=[];for(let G=0;G<Q.length;G++){let Z=Q[G];try{await this.sendBatchWithRetry({events:Z})}catch{B.push(...Z)}if(G<Q.length-1&&this.batchDelayMs>0)await new Promise((Y)=>setTimeout(Y,this.batchDelayMs))}return B}queueFailedEvents(A){let Q=this.getCurrentBatchFilePath(),G=[...this.loadEventsFromFile(Q),...A],Z=G.slice(-this.maxQueuedEvents);G.length-Z.length>0,this.saveEventsToFile(Q,Z),s(Error(`1P event logging: ${A.length} events failed to export`))}scheduleBackoffRetry(){if(this.backoffRetryTimer||this.isRetrying||this.isShutdown)return;let A=this.backoffAttempt+1,Q=Math.min(this.baseBackoffDelayMs*A*A,this.maxBackoffDelayMs);this.backoffRetryTimer=setTimeout(()=>{this.backoffRetryTimer=null,this.retryFailedEvents()},Q)}async retryFailedEvents(){let A=this.getCurrentBatchFilePath();while(!this.isShutdown){let Q=this.loadEventsFromFile(A);if(Q.length===0)break;this.isRetrying=!0,this.backoffAttempt++,this.deleteFile(A);let B=await this.sendEventsInBatches(Q);if(this.isRetrying=!1,B.length>0){this.saveEventsToFile(A,B),this.scheduleBackoffRetry();return}this.resetBackoff()}}resetBackoff(){if(this.backoffAttempt=0,this.backoffRetryTimer)clearTimeout(this.backoffRetryTimer),this.backoffRetryTimer=null}async sendBatchWithRetry(A){let Q={"Content-Type":"application/json","User-Agent":iI(),"x-service-name":"claude-code"},G=!(QY(!0)||D4());if(!G&&RB()){let I=t6();if(I&&Jm(I.expiresAt))G=!0}let Z=G?{headers:{},error:"trust not established or Oauth token expired"}:GY(),Y=!Z.error,J=Y?{...Q,...Z.headers}:Q;try{let I=await wQ.post(this.endpoint,A,{timeout:this.timeout,headers:J});this.logSuccess(A.events.length,Y,I.data);return}catch(I){if(Y&&wQ.isAxiosError(I)&&I.response?.status===401){let X=await wQ.post(this.endpoint,A,{timeout:this.timeout,headers:Q});this.logSuccess(A.events.length,!1,X.data);return}throw I}}logSuccess(A,Q,B){}hrTimeToDate(A){let[Q,B]=A;return new Date(Q*1000+B/1e6)}transformLogsToEvents(A){let Q=[];for(let B of A){let G=B.attributes||{};if(G.event_type==="GrowthbookExperimentEvent"){let K=this.hrTimeToDate(B.hrTime);Q.push({event_type:"GrowthbookExperimentEvent",event_data:jj1.toJSON({event_id:G.event_id,event_timestamp:K,timestamp:K,experiment_id:G.experiment_id,variation_id:G.variation_id,environment:G.environment,user_attributes:G.user_attributes,experiment_metadata:G.experiment_metadata,device_id:G.device_id})});continue}let Z=G.event_name||B.body||"unknown",Y=G.core_metadata,J=G.user_metadata,I=G.event_metadata||{};if(!Y){Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),session_id:W0(),additional_metadata:JSON.stringify({transform_error:"core_metadata attribute is missing"})})});continue}let X=wbQ(Y,J,I),W={...X.additional};Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),device_id:G.user_id,email:J?.email,...X.core,env:X.env,process:X.process,additional_metadata:Object.keys(W).length>0?JSON.stringify(W):void 0})})}return{events:Q}}async shutdown(){this.isShutdown=!0,this.resetBackoff(),await this.forceFlush()}async forceFlush(){await Promise.all(this.pendingExports)}}var er,_bQ,TbQ="1p_failed_events.";var jbQ=L(()=>{b8();Y0();h1();lD();F2();Xq();$3A();g0();xQ();LbQ();ObQ();rQ();er=o(Q8(),1),_bQ=Tc6()});import{randomUUID as PbQ}from"crypto";function vc6(){return ybQ(yc6,{})}function Sj1(A){let B=vc6()[A];if(!B)return null;let G=B.sample_rate;if(typeof G!=="number"||G<0||G>1)return null;if(G>=1)return null;if(G<=0)return 0;return Math.random()<G?G:0}async function xj1(){if(!N3A)return;try{await N3A.shutdown()}catch{}}function aHA(){if(aX())return!1;return x5("tengu_log_1p_events")}async function kc6(A,Q,B={}){try{let G=await Ld({model:B.model}),Z={event_name:Q,event_id:PbQ(),core_metadata:G,user_metadata:As(!0),event_metadata:B},Y=kk();if(Y)Z.user_id=Y;A.emit({body:Q,attributes:Z})}catch(G){}}function yj1(A,Q={}){if(!aHA())return;if(!QFA)return;kc6(QFA,A,Q)}function fc6(){return"production"}function JbQ(A){if(!aHA())return;if(!QFA)return;let Q=kk(),B={event_type:"GrowthbookExperimentEvent",event_id:PbQ(),experiment_id:A.experimentId,variation_id:A.variationId,...Q&&{device_id:Q},...A.userAttributes&&{session_id:A.userAttributes.sessionId,user_attributes:JSON.stringify(A.userAttributes)},...A.experimentMetadata&&{experiment_metadata:JSON.stringify(A.experimentMetadata)},environment:fc6()};QFA.emit({body:"growthbook_experiment",attributes:B})}function xbQ(){if(L9("1p_event_logging_start"),!aHA())return;let Q=q3A("tengu_1p_event_batch_config",{});L9("1p_event_after_statsig_config");let B=Q.scheduledDelayMillis||parseInt(process.env.OTEL_LOGS_EXPORT_INTERVAL||bc6.toString()),G=Q.maxExportBatchSize||hc6,Z=Q.maxQueueSize||gc6,Y=dQ(),J={[_mA.ATTR_SERVICE_NAME]:"claude-code",[_mA.ATTR_SERVICE_VERSION]:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION};if(Y==="wsl"){let W=ua();if(W)J["wsl.version"]=W}let I=SbQ.resourceFromAttributes(J),X=new Pj1({maxQueuedEvents:Z,maxBatchSize:G});N3A=new RmA.LoggerProvider({resource:I,processors:[new RmA.BatchLogRecordProcessor(X,{scheduledDelayMillis:B,maxExportBatchSize:G,maxQueueSize:Z})]}),QFA=N3A.getLogger("com.anthropic.claude_code.events",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION),U8(async()=>{await N3A?.forceFlush()}),process.on("beforeExit",async()=>{await N3A?.forceFlush()})}var RmA,SbQ,_mA,yc6="tengu_event_sampling_config",QFA=null,N3A=null,bc6=5000,hc6=200,gc6=8192;var oHA=L(()=>{xQ();J4();Mr();jbQ();k3();bW();$3A();Y0();Ta();h1();Sk();RmA=o(gT1(),1),SbQ=o(e6A(),1),_mA=o(vr(),1)});var gbQ=w((M77,hbQ)=>{var bbQ=qA("child_process"),vbQ=bbQ.spawn,uc6=bbQ.exec;hbQ.exports=function(A,Q,B){if(typeof Q==="function"&&B===void 0)B=Q,Q=void 0;if(A=parseInt(A),Number.isNaN(A))if(B)return B(Error("pid must be a number"));else throw Error("pid must be a number");var G={},Z={};switch(G[A]=[],Z[A]=1,process.platform){case"win32":uc6("taskkill /pid "+A+" /T /F",B);break;case"darwin":vj1(A,G,Z,function(Y){return vbQ("pgrep",["-P",Y])},function(){kbQ(G,Q,B)});break;default:vj1(A,G,Z,function(Y){return vbQ("ps",["-o","pid","--no-headers","--ppid",Y])},function(){kbQ(G,Q,B)});break}};function kbQ(A,Q,B){var G={};try{Object.keys(A).forEach(function(Z){if(A[Z].forEach(function(Y){if(!G[Y])fbQ(Y,Q),G[Y]=1}),!G[Z])fbQ(Z,Q),G[Z]=1})}catch(Z){if(B)return B(Z);else throw Z}if(B)return B()}function fbQ(A,Q){try{process.kill(parseInt(A,10),Q)}catch(B){if(B.code!=="ESRCH")throw B}}function vj1(A,Q,B,G,Z){var Y=G(A),J="";Y.stdout.on("data",function(W){var W=W.toString("ascii");J+=W});var I=function(X){if(delete B[A],X!=0){if(Object.keys(B).length==0)Z();return}J.match(/\d+/g).forEach(function(W){W=parseInt(W,10),Q[A].push(W),Q[W]=[],B[W]=1,vj1(W,Q,B,G,Z)})};Y.on("close",I)}});class BFA{capacity;buffer;head=0;size=0;constructor(A){this.capacity=A;this.buffer=Array(A)}add(A){if(this.buffer[this.head]=A,this.head=(this.head+1)%this.capacity,this.size<this.capacity)this.size++}addAll(A){for(let Q of A)this.add(Q)}getRecent(A){let Q=[],B=this.size<this.capacity?0:this.head,G=Math.min(A,this.size);for(let Z=0;Z<G;Z++){let Y=(B+this.size-G+Z)%this.capacity;Q.push(this.buffer[Y])}return Q}toArray(){if(this.size===0)return[];let A=[],Q=this.size<this.capacity?0:this.head;for(let B=0;B<this.size;B++){let G=(Q+B)%this.capacity;A.push(this.buffer[G])}return A}clear(){this.head=0,this.size=0}length(){return this.size}}function kj1(A,Q=",",B=67108736){let Z="";for(let Y of A){let J=Z?Q:"",I=J+Y;if(Z.length+I.length<=B)Z+=I;else{let X=B-Z.length-J.length-14;if(X>0)Z+=J+Y.slice(0,X)+"...[truncated]";else Z+="...[truncated]";return Z}}return Z}class L3A{maxSize;content="";isTruncated=!1;totalBytesReceived=0;constructor(A=67108736){this.maxSize=A}append(A){let Q=typeof A==="string"?A:A.toString();if(this.totalBytesReceived+=Q.length,this.isTruncated&&this.content.length>=this.maxSize)return;if(this.content.length+Q.length>this.maxSize){let B=this.maxSize-this.content.length;if(B>0)this.content+=Q.slice(0,B);this.isTruncated=!0}else this.content+=Q}toString(){if(!this.isTruncated)return this.content;let A=this.totalBytesReceived-this.maxSize,Q=Math.round(A/1024);return this.content+`
bundles/ClaudeCodeCode/cli.js:349:`;if(K)G=W;Q.push(new rdA(J,X,I(X),K))}}return Q}getWrappedText(){return this.wrappedLines.map((A)=>A.isPrecededByNewline?A.text:A.text.trimStart())}getWrappedLines(){return this.wrappedLines}getLine(A){let Q=this.wrappedLines;return Q[Math.max(0,Math.min(A,Q.length-1))]}getOffsetFromPosition(A){let Q=this.getLine(A.line);if(Q.text.length===0&&Q.endsWithNewline)return Q.startOffset;let B=Q.isPrecededByNewline?0:Q.text.length-Q.text.trimStart().length,G=A.column+B,Z=this.displayWidthToStringIndex(Q.text,G),Y=Q.startOffset+Z,J=Q.startOffset+Q.text.length,I=J,X=jZ(Q.text);if(Q.endsWithNewline&&A.column>X)I=J+1;return Math.min(Y,I)}getLineLength(A){let Q=this.getLine(A);return jZ(Q.text)}getPositionFromOffset(A){let Q=this.wrappedLines;for(let Z=0;Z<Q.length;Z++){let Y=Q[Z],J=Q[Z+1];if(A>=Y.startOffset&&(!J||A<J.startOffset)){let I=A-Y.startOffset,X;if(Y.isPrecededByNewline)X=this.stringIndexToDisplayWidth(Y.text,I);else{let W=Y.text.length-Y.text.trimStart().length;if(I<W)X=0;else{let K=Y.text.trimStart(),V=I-W;X=this.stringIndexToDisplayWidth(K,V)}}return{line:Z,column:Math.max(0,X)}}}let B=Q.length-1,G=this.wrappedLines[B];return{line:B,column:jZ(G.text)}}get lineCount(){return this.wrappedLines.length}withCache(A,Q){let B=this.navigationCache.get(A);if(B!==void 0)return B;let G=Q();return this.navigationCache.set(A,G),G}nextOffset(A){return this.withCache(`next:${A}`,()=>{let Q=this.getGraphemeBoundaries();return this.binarySearchBoundary(Q,A,!0)})}prevOffset(A){if(A<=0)return 0;return this.withCache(`prev:${A}`,()=>{let Q=this.getGraphemeBoundaries();return this.binarySearchBoundary(Q,A,!1)})}}var odA="",aS1=!1,oS1,Ha6;var rS1=L(()=>{HP1();T3A();oS1=new Intl.Segmenter(void 0,{granularity:"grapheme"}),Ha6=new Intl.Segmenter(void 0,{granularity:"word"})});var pdQ={};EG(pdQ,{sharp:()=>cdQ,default:()=>Fa6});function cdQ(A){let Q=null,B=[];async function G(){if(!Q)Q=(async()=>{if(!edA)throw Error("Native image processor module not available");let{processImage:Y}=edA,J=await Y(A);for(let I of B)I(J);return J})();return Q}let Z={async metadata(){return(await G()).metadata()},resize(Y,J,I){return B.push((X)=>{X.resize(Y,J,I)}),Z},jpeg(Y){return B.push((J)=>{J.jpeg(Y?.quality)}),Z},png(Y){return B.push((J)=>{J.png(Y)}),Z},webp(Y){return B.push((J)=>{J.webp(Y?.quality)}),Z},async toBuffer(){return(await G()).toBuffer()}};return Z}var edA,Fa6;var ldQ=L(()=>{try{edA=(()=>{throw new Error("Cannot require module "+"../../image-processor.node");})()}catch(A){edA=null}Fa6=cdQ});var aP=w((gW7,ndQ)=>{var idQ=function(A){return typeof A<"u"&&A!==null},Ca6=function(A){return typeof A==="object"},za6=function(A){return Object.prototype.toString.call(A)==="[object Object]"},Ua6=function(A){return typeof A==="function"},$a6=function(A){return typeof A==="boolean"},wa6=function(A){return A instanceof Buffer},Na6=function(A){if(idQ(A))switch(A.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},qa6=function(A){return A instanceof ArrayBuffer},La6=function(A){return typeof A==="string"&&A.length>0},Ma6=function(A){return typeof A==="number"&&!Number.isNaN(A)},Oa6=function(A){return Number.isInteger(A)},Ra6=function(A,Q,B){return A>=Q&&A<=B},_a6=function(A,Q){return Q.includes(A)},Ta6=function(A,Q,B){return Error(`Expected ${Q} for ${A} but received ${B} of type ${typeof B}`)},ja6=function(A,Q){return Q.message=A.message,Q};ndQ.exports={defined:idQ,object:Ca6,plainObject:za6,fn:Ua6,bool:$a6,buffer:wa6,typedArray:Na6,arrayBuffer:qa6,string:La6,number:Ma6,integer:Oa6,inRange:Ra6,inArray:_a6,invalidParameterError:Ta6,nativeError:ja6}});var rdQ=w((uW7,odQ)=>{var adQ=()=>process.platform==="linux",AcA=null,Pa6=()=>{if(!AcA)if(adQ()&&process.report){let A=process.report.excludeNetwork;process.report.excludeNetwork=!0,AcA=process.report.getReport(),process.report.excludeNetwork=A}else AcA={};return AcA};odQ.exports={isLinux:adQ,getReport:Pa6}});var edQ=w((mW7,tdQ)=>{var sdQ=qA("fs"),Sa6=(A)=>sdQ.readFileSync(A,"utf-8"),xa6=(A)=>new Promise((Q,B)=>{sdQ.readFile(A,"utf-8",(G,Z)=>{if(G)B(G);else Q(Z)})});tdQ.exports={LDD_PATH:"/usr/bin/ldd",readFileSync:Sa6,readFile:xa6}});var BcA=w((dW7,FcQ)=>{var QcQ=qA("child_process"),{isLinux:o3A,getReport:BcQ}=rdQ(),{LDD_PATH:QcA,readFile:GcQ,readFileSync:ZcQ}=edQ(),oP,rP,ud="",YcQ=()=>{if(!ud)return new Promise((A)=>{QcQ.exec("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",(Q,B)=>{ud=Q?" ":B,A(ud)})});return ud},JcQ=()=>{if(!ud)try{ud=QcQ.execSync("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",{encoding:"utf8"})}catch(A){ud=" "}return ud},md="glibc",IcQ=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,a3A="musl",ya6=(A)=>A.includes("libc.musl-")||A.includes("ld-musl-"),XcQ=()=>{let A=BcQ();if(A.header&&A.header.glibcVersionRuntime)return md;if(Array.isArray(A.sharedObjects)){if(A.sharedObjects.some(ya6))return a3A}return null},WcQ=(A)=>{let[Q,B]=A.split(/[\r\n]+/);if(Q&&Q.includes(md))return md;if(B&&B.includes(a3A))return a3A;return null},KcQ=(A)=>{if(A.includes("musl"))return a3A;if(A.includes("GNU C Library"))return md;return null},va6=async()=>{if(oP!==void 0)return oP;oP=null;try{let A=await GcQ(QcA);oP=KcQ(A)}catch(A){}return oP},ka6=()=>{if(oP!==void 0)return oP;oP=null;try{let A=ZcQ(QcA);oP=KcQ(A)}catch(A){}return oP},VcQ=async()=>{let A=null;if(o3A()){if(A=await va6(),!A)A=XcQ();if(!A){let Q=await YcQ();A=WcQ(Q)}}return A},EcQ=()=>{let A=null;if(o3A()){if(A=ka6(),!A)A=XcQ();if(!A){let Q=JcQ();A=WcQ(Q)}}return A},fa6=async()=>o3A()&&await VcQ()!==md,ba6=()=>o3A()&&EcQ()!==md,ha6=async()=>{if(rP!==void 0)return rP;rP=null;try{let Q=(await GcQ(QcA)).match(IcQ);if(Q)rP=Q[1]}catch(A){}return rP},ga6=()=>{if(rP!==void 0)return rP;rP=null;try{let Q=ZcQ(QcA).match(IcQ);if(Q)rP=Q[1]}catch(A){}return rP},DcQ=()=>{let A=BcQ();if(A.header&&A.header.glibcVersionRuntime)return A.header.glibcVersionRuntime;return null},AcQ=(A)=>A.trim().split(/\s+/)[1],HcQ=(A)=>{let[Q,B,G]=A.split(/[\r\n]+/);if(Q&&Q.includes(md))return AcQ(Q);if(B&&G&&B.includes(a3A))return AcQ(G);return null},ua6=async()=>{let A=null;if(o3A()){if(A=await ha6(),!A)A=DcQ();if(!A){let Q=await YcQ();A=HcQ(Q)}}return A},ma6=()=>{let A=null;if(o3A()){if(A=ga6(),!A)A=DcQ();if(!A){let Q=JcQ();A=HcQ(Q)}}return A};FcQ.exports={GLIBC:md,MUSL:a3A,family:VcQ,familySync:EcQ,isNonGlibcLinux:fa6,isNonGlibcLinuxSync:ba6,version:ua6,versionSync:ma6}});var rFA=w((cW7,CcQ)=>{var da6=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};CcQ.exports=da6});var GcA=w((pW7,zcQ)=>{var ca6=Number.MAX_SAFE_INTEGER||9007199254740991,pa6=["major","premajor","minor","preminor","patch","prepatch","prerelease"];zcQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:ca6,RELEASE_TYPES:pa6,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var sFA=w((sP,UcQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:sS1,MAX_SAFE_BUILD_LENGTH:la6,MAX_LENGTH:ia6}=GcA(),na6=rFA();sP=UcQ.exports={};var aa6=sP.re=[],oa6=sP.safeRe=[],M2=sP.src=[],ra6=sP.safeSrc=[],O2=sP.t={},sa6=0,tS1="[a-zA-Z0-9-]",ta6=[["\\s",1],["\\d",ia6],[tS1,la6]],ea6=(A)=>{for(let[Q,B]of ta6)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},j6=(A,Q,B)=>{let G=ea6(Q),Z=sa6++;na6(A,Z,Q),O2[A]=Z,M2[Z]=Q,ra6[Z]=G,aa6[Z]=new RegExp(Q,B?"g":void 0),oa6[Z]=new RegExp(G,B?"g":void 0)};j6("NUMERICIDENTIFIER","0|[1-9]\\d*");j6("NUMERICIDENTIFIERLOOSE","\\d+");j6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${tS1}*`);j6("MAINVERSION",`(${M2[O2.NUMERICIDENTIFIER]})\\.(${M2[O2.NUMERICIDENTIFIER]})\\.(${M2[O2.NUMERICIDENTIFIER]})`);j6("MAINVERSIONLOOSE",`(${M2[O2.NUMERICIDENTIFIERLOOSE]})\\.(${M2[O2.NUMERICIDENTIFIERLOOSE]})\\.(${M2[O2.NUMERICIDENTIFIERLOOSE]})`);j6("PRERELEASEIDENTIFIER",`(?:${M2[O2.NUMERICIDENTIFIER]}|${M2[O2.NONNUMERICIDENTIFIER]})`);j6("PRERELEASEIDENTIFIERLOOSE",`(?:${M2[O2.NUMERICIDENTIFIERLOOSE]}|${M2[O2.NONNUMERICIDENTIFIER]})`);j6("PRERELEASE",`(?:-(${M2[O2.PRERELEASEIDENTIFIER]}(?:\\.${M2[O2.PRERELEASEIDENTIFIER]})*))`);j6("PRERELEASELOOSE",`(?:-?(${M2[O2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M2[O2.PRERELEASEIDENTIFIERLOOSE]})*))`);j6("BUILDIDENTIFIER",`${tS1}+`);j6("BUILD",`(?:\\+(${M2[O2.BUILDIDENTIFIER]}(?:\\.${M2[O2.BUILDIDENTIFIER]})*))`);j6("FULLPLAIN",`v?${M2[O2.MAINVERSION]}${M2[O2.PRERELEASE]}?${M2[O2.BUILD]}?`);j6("FULL",`^${M2[O2.FULLPLAIN]}$`);j6("LOOSEPLAIN",`[v=\\s]*${M2[O2.MAINVERSIONLOOSE]}${M2[O2.PRERELEASELOOSE]}?${M2[O2.BUILD]}?`);j6("LOOSE",`^${M2[O2.LOOSEPLAIN]}$`);j6("GTLT","((?:<|>)?=?)");j6("XRANGEIDENTIFIERLOOSE",`${M2[O2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);j6("XRANGEIDENTIFIER",`${M2[O2.NUMERICIDENTIFIER]}|x|X|\\*`);j6("XRANGEPLAIN",`[v=\\s]*(${M2[O2.XRANGEIDENTIFIER]})(?:\\.(${M2[O2.XRANGEIDENTIFIER]})(?:\\.(${M2[O2.XRANGEIDENTIFIER]})(?:${M2[O2.PRERELEASE]})?${M2[O2.BUILD]}?)?)?`);j6("XRANGEPLAINLOOSE",`[v=\\s]*(${M2[O2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M2[O2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M2[O2.XRANGEIDENTIFIERLOOSE]})(?:${M2[O2.PRERELEASELOOSE]})?${M2[O2.BUILD]}?)?)?`);j6("XRANGE",`^${M2[O2.GTLT]}\\s*${M2[O2.XRANGEPLAIN]}$`);j6("XRANGELOOSE",`^${M2[O2.GTLT]}\\s*${M2[O2.XRANGEPLAINLOOSE]}$`);j6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${sS1}})(?:\\.(\\d{1,${sS1}}))?(?:\\.(\\d{1,${sS1}}))?`);j6("COERCE",`${M2[O2.COERCEPLAIN]}(?:$|[^\\d])`);j6("COERCEFULL",M2[O2.COERCEPLAIN]+`(?:${M2[O2.PRERELEASE]})?(?:${M2[O2.BUILD]})?(?:$|[^\\d])`);j6("COERCERTL",M2[O2.COERCE],!0);j6("COERCERTLFULL",M2[O2.COERCEFULL],!0);j6("LONETILDE","(?:~>?)");j6("TILDETRIM",`(\\s*)${M2[O2.LONETILDE]}\\s+`,!0);sP.tildeTrimReplace="$1~";j6("TILDE",`^${M2[O2.LONETILDE]}${M2[O2.XRANGEPLAIN]}$`);j6("TILDELOOSE",`^${M2[O2.LONETILDE]}${M2[O2.XRANGEPLAINLOOSE]}$`);j6("LONECARET","(?:\\^)");j6("CARETTRIM",`(\\s*)${M2[O2.LONECARET]}\\s+`,!0);sP.caretTrimReplace="$1^";j6("CARET",`^${M2[O2.LONECARET]}${M2[O2.XRANGEPLAIN]}$`);j6("CARETLOOSE",`^${M2[O2.LONECARET]}${M2[O2.XRANGEPLAINLOOSE]}$`);j6("COMPARATORLOOSE",`^${M2[O2.GTLT]}\\s*(${M2[O2.LOOSEPLAIN]})$|^$`);j6("COMPARATOR",`^${M2[O2.GTLT]}\\s*(${M2[O2.FULLPLAIN]})$|^$`);j6("COMPARATORTRIM",`(\\s*)${M2[O2.GTLT]}\\s*(${M2[O2.LOOSEPLAIN]}|${M2[O2.XRANGEPLAIN]})`,!0);sP.comparatorTrimReplace="$1$2$3";j6("HYPHENRANGE",`^\\s*(${M2[O2.XRANGEPLAIN]})\\s+-\\s+(${M2[O2.XRANGEPLAIN]})\\s*$`);j6("HYPHENRANGELOOSE",`^\\s*(${M2[O2.XRANGEPLAINLOOSE]})\\s+-\\s+(${M2[O2.XRANGEPLAINLOOSE]})\\s*$`);j6("STAR","(<|>)?=?\\s*\\*");j6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ZcA=w((lW7,$cQ)=>{var Ao6=Object.freeze({loose:!0}),Qo6=Object.freeze({}),Bo6=(A)=>{if(!A)return Qo6;if(typeof A!=="object")return Ao6;return A};$cQ.exports=Bo6});var LcQ=w((iW7,qcQ)=>{var wcQ=/^[0-9]+$/,NcQ=(A,Q)=>{let B=wcQ.test(A),G=wcQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},Go6=(A,Q)=>NcQ(Q,A);qcQ.exports={compareIdentifiers:NcQ,rcompareIdentifiers:Go6}});var s3A=w((nW7,_cQ)=>{var YcA=rFA(),{MAX_LENGTH:McQ,MAX_SAFE_INTEGER:JcA}=GcA(),{safeRe:OcQ,safeSrc:RcQ,t:IcA}=sFA(),Zo6=ZcA(),{compareIdentifiers:r3A}=LcQ();class RR{constructor(A,Q){if(Q=Zo6(Q),A instanceof RR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>McQ)throw TypeError(`version is longer than ${McQ} characters`);YcA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?OcQ[IcA.LOOSE]:OcQ[IcA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>JcA||this.major<0)throw TypeError("Invalid major version");if(this.minor>JcA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>JcA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<JcA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(YcA("SemVer.compare",this.version,this.options,A),!(A instanceof RR)){if(typeof A==="string"&&A===this.version)return 0;A=new RR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof RR))A=new RR(A,this.options);return r3A(this.major,A.major)||r3A(this.minor,A.minor)||r3A(this.patch,A.patch)}comparePre(A){if(!(A instanceof RR))A=new RR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(YcA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return r3A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof RR))A=new RR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(YcA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return r3A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=new RegExp(`^${this.options.loose?RcQ[IcA.PRERELEASELOOSE]:RcQ[IcA.PRERELEASE]}$`),Z=`-${Q}`.match(G);if(!Z||Z[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(r3A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}_cQ.exports=RR});var PcQ=w((aW7,jcQ)=>{var TcQ=s3A(),Yo6=(A,Q,B=!1)=>{if(A instanceof TcQ)return A;try{return new TcQ(A,Q)}catch(G){if(!B)return null;throw G}};jcQ.exports=Yo6});var xcQ=w((oW7,ScQ)=>{var Jo6=s3A(),Io6=PcQ(),{safeRe:XcA,t:WcA}=sFA(),Xo6=(A,Q)=>{if(A instanceof Jo6)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?XcA[WcA.COERCEFULL]:XcA[WcA.COERCE]);else{let X=Q.includePrerelease?XcA[WcA.COERCERTLFULL]:XcA[WcA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return Io6(`${G}.${Z}.${Y}${J}${I}`,Q)};ScQ.exports=Xo6});var Cs=w((rW7,vcQ)=>{var ycQ=s3A(),Wo6=(A,Q,B)=>new ycQ(A,B).compare(new ycQ(Q,B));vcQ.exports=Wo6});var eS1=w((sW7,kcQ)=>{var Ko6=Cs(),Vo6=(A,Q,B)=>Ko6(A,Q,B)>=0;kcQ.exports=Vo6});var hcQ=w((tW7,bcQ)=>{class fcQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}bcQ.exports=fcQ});var ucQ=w((eW7,gcQ)=>{var Eo6=Cs(),Do6=(A,Q,B)=>Eo6(A,Q,B)===0;gcQ.exports=Do6});var dcQ=w((AK7,mcQ)=>{var Ho6=Cs(),Fo6=(A,Q,B)=>Ho6(A,Q,B)!==0;mcQ.exports=Fo6});var pcQ=w((QK7,ccQ)=>{var Co6=Cs(),zo6=(A,Q,B)=>Co6(A,Q,B)>0;ccQ.exports=zo6});var icQ=w((BK7,lcQ)=>{var Uo6=Cs(),$o6=(A,Q,B)=>Uo6(A,Q,B)<0;lcQ.exports=$o6});var acQ=w((GK7,ncQ)=>{var wo6=Cs(),No6=(A,Q,B)=>wo6(A,Q,B)<=0;ncQ.exports=No6});var rcQ=w((ZK7,ocQ)=>{var qo6=ucQ(),Lo6=dcQ(),Mo6=pcQ(),Oo6=eS1(),Ro6=icQ(),_o6=acQ(),To6=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return qo6(A,B,G);case"!=":return Lo6(A,B,G);case">":return Mo6(A,B,G);case">=":return Oo6(A,B,G);case"<":return Ro6(A,B,G);case"<=":return _o6(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};ocQ.exports=To6});var GpQ=w((YK7,BpQ)=>{var tFA=Symbol("SemVer ANY");class KcA{static get ANY(){return tFA}constructor(A,Q){if(Q=scQ(Q),A instanceof KcA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),Qx1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===tFA)this.value="";else this.value=this.operator+this.semver.version;Qx1("comp",this)}parse(A){let Q=this.options.loose?tcQ[ecQ.COMPARATORLOOSE]:tcQ[ecQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=tFA;else this.semver=new ApQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(Qx1("Comparator.test",A,this.options.loose),this.semver===tFA||A===tFA)return!0;if(typeof A==="string")try{A=new ApQ(A,this.options)}catch(Q){return!1}return Ax1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof KcA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new QpQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new QpQ(this.value,Q).test(A.semver)}if(Q=scQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(Ax1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(Ax1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}BpQ.exports=KcA;var scQ=ZcA(),{safeRe:tcQ,t:ecQ}=sFA(),Ax1=rcQ(),Qx1=rFA(),ApQ=s3A(),QpQ=Bx1()});var Bx1=w((JK7,IpQ)=>{var jo6=/\s+/g;class eFA{constructor(A,Q){if(Q=So6(Q),A instanceof eFA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new eFA(A.raw,Q);if(A instanceof Gx1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(jo6," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!YpQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&ho6(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&fo6)|(this.options.loose&&bo6))+":"+A,G=ZpQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?Sz[UF.HYPHENRANGELOOSE]:Sz[UF.HYPHENRANGE];A=A.replace(Y,ao6(this.options.includePrerelease)),YY("hyphen replace",A),A=A.replace(Sz[UF.COMPARATORTRIM],yo6),YY("comparator trim",A),A=A.replace(Sz[UF.TILDETRIM],vo6),YY("tilde trim",A),A=A.replace(Sz[UF.CARETTRIM],ko6),YY("caret trim",A);let J=A.split(" ").map((K)=>go6(K,this.options)).join(" ").split(/\s+/).map((K)=>no6(K,this.options));if(Z)J=J.filter((K)=>{return YY("loose invalid filter",K,this.options),!!K.match(Sz[UF.COMPARATORLOOSE])});YY("range list",J);let I=new Map,X=J.map((K)=>new Gx1(K,this.options));for(let K of X){if(YpQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return ZpQ.set(B,W),W}intersects(A,Q){if(!(A instanceof eFA))throw TypeError("a Range is required");return this.set.some((B)=>{return JpQ(B,Q)&&A.set.some((G)=>{return JpQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new xo6(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(oo6(this.set[Q],A,this.options))return!0;return!1}}IpQ.exports=eFA;var Po6=hcQ(),ZpQ=new Po6,So6=ZcA(),Gx1=GpQ(),YY=rFA(),xo6=s3A(),{safeRe:Sz,t:UF,comparatorTrimReplace:yo6,tildeTrimReplace:vo6,caretTrimReplace:ko6}=sFA(),{FLAG_INCLUDE_PRERELEASE:fo6,FLAG_LOOSE:bo6}=GcA(),YpQ=(A)=>A.value==="<0.0.0-0",ho6=(A)=>A.value==="",JpQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},go6=(A,Q)=>{return YY("comp",A,Q),A=do6(A,Q),YY("caret",A),A=uo6(A,Q),YY("tildes",A),A=po6(A,Q),YY("xrange",A),A=io6(A,Q),YY("stars",A),A},$F=(A)=>!A||A.toLowerCase()==="x"||A==="*",uo6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>mo6(B,Q)).join(" ")},mo6=(A,Q)=>{let B=Q.loose?Sz[UF.TILDELOOSE]:Sz[UF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{YY("tilde",A,G,Z,Y,J,I);let X;if($F(Z))X="";else if($F(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if($F(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)YY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return YY("tilde return",X),X})},do6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>co6(B,Q)).join(" ")},co6=(A,Q)=>{YY("caret",A,Q);let B=Q.loose?Sz[UF.CARETLOOSE]:Sz[UF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{YY("caret",A,Z,Y,J,I,X);let W;if($F(Y))W="";else if($F(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if($F(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(YY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(YY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return YY("caret return",W),W})},po6=(A,Q)=>{return YY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>lo6(B,Q)).join(" ")},lo6=(A,Q)=>{A=A.trim();let B=Q.loose?Sz[UF.XRANGELOOSE]:Sz[UF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{YY("xRange",A,G,Z,Y,J,I,X);let W=$F(Y),K=W||$F(J),V=K||$F(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return YY("xRange return",G),G})},io6=(A,Q)=>{return YY("replaceStars",A,Q),A.trim().replace(Sz[UF.STAR],"")},no6=(A,Q)=>{return YY("replaceGTE0",A,Q),A.trim().replace(Sz[Q.includePrerelease?UF.GTE0PRE:UF.GTE0],"")},ao6=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if($F(G))B="";else if($F(Z))B=`>=${G}.0.0${A?"-0":""}`;else if($F(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if($F(W))X="";else if($F(K))X=`<${+W+1}.0.0-0`;else if($F(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},oo6=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(YY(A[G].semver),A[G].semver===Gx1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var WpQ=w((IK7,XpQ)=>{var ro6=Bx1(),so6=(A,Q,B)=>{try{Q=new ro6(Q,B)}catch(G){return!1}return Q.test(A)};XpQ.exports=so6});var Zx1=w((XK7,to6)=>{to6.exports={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.33.5",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://sharp.pixelplumbing.com",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb√§ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B√ºnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J√©r√©my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kotƒõ≈°ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci√±o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu√© <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>","Don Denton <don@happycollision.com>"],scripts:{install:"node install/check",clean:"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT"',"test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build","package-from-github-release":"node npm/from-github-release","docs-build":"node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},type:"commonjs",main:"lib/index.js",types:"lib/index.d.ts",files:["install","lib","src/*.{cc,h,gyp}"],repository:{type:"git",url:"git://github.com/lovell/sharp.git"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{color:"^4.2.3","detect-libc":"^2.0.3",semver:"^7.6.3"},optionalDependencies:{"@img/sharp-darwin-arm64":"0.33.5","@img/sharp-darwin-x64":"0.33.5","@img/sharp-libvips-darwin-arm64":"1.0.4","@img/sharp-libvips-darwin-x64":"1.0.4","@img/sharp-libvips-linux-arm":"1.0.5","@img/sharp-libvips-linux-arm64":"1.0.4","@img/sharp-libvips-linux-s390x":"1.0.4","@img/sharp-libvips-linux-x64":"1.0.4","@img/sharp-libvips-linuxmusl-arm64":"1.0.4","@img/sharp-libvips-linuxmusl-x64":"1.0.4","@img/sharp-linux-arm":"0.33.5","@img/sharp-linux-arm64":"0.33.5","@img/sharp-linux-s390x":"0.33.5","@img/sharp-linux-x64":"0.33.5","@img/sharp-linuxmusl-arm64":"0.33.5","@img/sharp-linuxmusl-x64":"0.33.5","@img/sharp-wasm32":"0.33.5","@img/sharp-win32-ia32":"0.33.5","@img/sharp-win32-x64":"0.33.5"},devDependencies:{"@emnapi/runtime":"^1.2.0","@img/sharp-libvips-dev":"1.0.4","@img/sharp-libvips-dev-wasm32":"1.0.5","@img/sharp-libvips-win32-ia32":"1.0.4","@img/sharp-libvips-win32-x64":"1.0.4","@types/node":"*",async:"^3.2.5",cc:"^3.0.1",emnapi:"^1.2.0","exif-reader":"^2.0.1","extract-zip":"^2.0.1",icc:"^3.0.0","jsdoc-to-markdown":"^8.0.3","license-checker":"^25.0.1",mocha:"^10.7.3","node-addon-api":"^8.1.0",nyc:"^17.0.0",prebuild:"^13.0.1",semistandard:"^17.0.0","tar-fs":"^3.0.6",tsd:"^0.31.1"},license:"Apache-2.0",engines:{node:"^18.17.0 || ^20.3.0 || >=21.0.0"},config:{libvips:">=8.15.3"},funding:{url:"https://opencollective.com/libvips"},binary:{napi_versions:[9]},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]},nyc:{include:["lib"]},tsd:{directory:"test/types/"}}});var Jx1=w((WK7,$pQ)=>{var{spawnSync:VcA}=qA("node:child_process"),{createHash:eo6}=qA("node:crypto"),DpQ=xcQ(),Ar6=eS1(),Qr6=WpQ(),KpQ=BcA(),{config:Br6,engines:VpQ,optionalDependencies:Gr6}=Zx1(),Zr6=process.env.npm_package_config_libvips||Br6.libvips,HpQ=DpQ(Zr6).version,Yr6=["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-ia32","win32-x64"],EcA={encoding:"utf8",shell:!0},Jr6=(A)=>{if(A instanceof Error)console.error(`sharp: Installation error: ${A.message}`);else console.log(`sharp: ${A}`)},FpQ=()=>KpQ.isNonGlibcLinuxSync()?KpQ.familySync():"",Ir6=()=>`${process.platform}${FpQ()}-${process.arch}`,t3A=()=>{if(CpQ())return"wasm32";let{npm_config_arch:A,npm_config_platform:Q,npm_config_libc:B}=process.env,G=typeof B==="string"?B:FpQ();return`${Q||process.platform}${G}-${A||process.arch}`},Xr6=()=>{try{return qA(`@img/sharp-libvips-dev-${t3A()}/include`)}catch{try{return (()=>{throw new Error("Cannot require module "+"@img/sharp-libvips-dev/include");})()}catch{}}return""},Wr6=()=>{try{return (()=>{throw new Error("Cannot require module "+"@img/sharp-libvips-dev/cplusplus");})()}catch{}return""},Kr6=()=>{try{return qA(`@img/sharp-libvips-dev-${t3A()}/lib`)}catch{try{return qA(`@img/sharp-libvips-${t3A()}/lib`)}catch{}}return""},Vr6=()=>{if(process.release?.name==="node"&&process.versions){if(!Qr6(process.versions.node,VpQ.node))return{found:process.versions.node,expected:VpQ.node}}},CpQ=()=>{let{CC:A}=process.env;return Boolean(A&&A.endsWith("/emcc"))},Er6=()=>{if(process.platform==="darwin"&&process.arch==="x64")return(VcA("sysctl sysctl.proc_translated",EcA).stdout||"").trim()==="sysctl.proc_translated: 1";return!1},EpQ=(A)=>eo6("sha512").update(A).digest("hex"),Dr6=()=>{try{let A=EpQ(`imgsharp-libvips-${t3A()}`),Q=DpQ(Gr6[`@img/sharp-libvips-${t3A()}`]).version;return EpQ(`${A}npm:${Q}`).slice(0,10)}catch{}return""},Hr6=()=>VcA(`node-gyp rebuild --directory=src ${CpQ()?"--nodedir=emscripten":""}`,{...EcA,stdio:"inherit"}).status,zpQ=()=>{if(process.platform!=="win32")return(VcA("pkg-config --modversion vips-cpp",{...EcA,env:{...process.env,PKG_CONFIG_PATH:UpQ()}}).stdout||"").trim();else return""},UpQ=()=>{if(process.platform!=="win32")return[(VcA('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',EcA).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":");else return""},Yx1=(A,Q,B)=>{if(B)B(`Detected ${Q}, skipping search for globally-installed libvips`);return A},Fr6=(A)=>{if(Boolean(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS)===!0)return Yx1(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS",A);if(Boolean(process.env.SHARP_FORCE_GLOBAL_LIBVIPS)===!0)return Yx1(!0,"SHARP_FORCE_GLOBAL_LIBVIPS",A);if(Er6())return Yx1(!1,"Rosetta",A);let Q=zpQ();return!!Q&&Ar6(Q,HpQ)};$pQ.exports={minimumLibvipsVersion:HpQ,prebuiltPlatforms:Yr6,buildPlatformArch:t3A,buildSharpLibvipsIncludeDir:Xr6,buildSharpLibvipsCPlusPlusDir:Wr6,buildSharpLibvipsLibDir:Kr6,isUnsupportedNodeRuntime:Vr6,runtimePlatformArch:Ir6,log:Jr6,yarnLocator:Dr6,spawnRebuild:Hr6,globalLibvipsVersion:zpQ,pkgConfigPath:UpQ,useGlobalLibvips:Fr6}});var ACA=w((VK7,NpQ)=>{var{familySync:Cr6,versionSync:zr6}=BcA(),{runtimePlatformArch:Ur6,isUnsupportedNodeRuntime:wpQ,prebuiltPlatforms:$r6,minimumLibvipsVersion:wr6}=Jx1(),zs=Ur6(),Nr6=[`../src/build/Release/sharp-${zs}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${zs}/sharp.node`,"@img/sharp-wasm32/sharp.node"],Ix1,DcA=[];for(let A of Nr6)try{Ix1=qA(A);break}catch(Q){DcA.push(Q)}if(Ix1)NpQ.exports=Ix1;else{let[A,Q,B]=["linux","darwin","win32"].map((Y)=>zs.startsWith(Y)),G=[`Could not load the "sharp" module using the ${zs} runtime`];DcA.forEach((Y)=>{if(Y.code!=="MODULE_NOT_FOUND")G.push(`${Y.code}: ${Y.message}`)});let Z=DcA.map((Y)=>Y.message).join(" ");if(G.push("Possible solutions:"),wpQ()){let{found:Y,expected:J}=wpQ();G.push("- Please upgrade Node.js:",`    Found ${Y}`,`    Requires ${J}`)}else if($r6.includes(zs)){let[Y,J]=zs.split("-"),I=Y.endsWith("musl")?" --libc=musl":"";G.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${Y.replace("musl","")}${I} --cpu=${J} sharp`)}else G.push(`- Manually install libvips >= ${wr6}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(A&&/(symbol not found|CXXABI_)/i.test(Z))try{let{config:Y}=qA(`@img/sharp-libvips-${zs}/package`),J=`${Cr6()} ${zr6()}`,I=`${Y.musl?"musl":"glibc"} ${Y.musl||Y.glibc}`;G.push("- Update your OS:",`    Found ${J}`,`    Requires ${I}`)}catch(Y){}if(A&&/\/snap\/core[0-9]{2}/.test(Z))G.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node");if(Q&&/Incompatible library version/.test(Z))G.push("- Update Homebrew:","    brew update && brew upgrade vips");if(DcA.some((Y)=>Y.code==="ERR_DLOPEN_DISABLED"))G.push("- Run Node.js without using the --no-addons flag");if(B&&/The specified procedure could not be found/.test(Z))G.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp");throw G.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),Error(G.join(`
bundles/ClaudeCodeCode/cli.js:514:`).length}catch(A){return 0}},iaQ=async(A)=>{try{let Q=A||`Claude Code auto-stash - ${new Date().toISOString()}`,{untracked:B}=await by1();if(B.length>0){let{code:Z}=await CQ("git",["add",...B],{preserveOutputOnError:!1});if(Z!==0)return!1}let{code:G}=await CQ("git",["stash","push","--message",Q],{preserveOutputOnError:!1});return G===0}catch(Q){return!1}};var AX=L(()=>{o2();I6();Y0();pB();T0();Jw=Z0(async()=>{let{code:A}=await CQ("git",["rev-parse","--is-inside-work-tree"]);return A===0})});function p03(){if(vP())return`- When you cannot find an answer or the feature doesn't exist, direct the user to ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.ISSUES_EXPLAINER}`;return"- When you cannot find an answer or the feature doesn't exist, direct the user to use /feedback to report a feature request or bug"}var d03="https://code.claude.com/docs/en/claude_code_docs_map.md",naQ="https://platform.claude.com/llms.txt",gy1="claude-code-guide",c03,aaQ;var uy1=L(()=>{AV();uR();k8A();jB();F2();c03=`You are the Claude guide agent. Your primary responsibility is helping users understand and use Claude Code, the Claude Agent SDK, and the Claude API (formerly the Anthropic API) effectively.
bundles/ClaudeCodeCode/cli.js:908:  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,y$A="secret must be a string or buffer",X7A="key must be a string or a buffer",$C3="key must be a string, a buffer or an object",Wm1=typeof jL.createPublicKey==="function";if(Wm1)X7A+=" or a KeyObject",y$A+="or a KeyObject";function LZB(A){if(W7A.isBuffer(A))return;if(typeof A==="string")return;if(!Wm1)throw W_(X7A);if(typeof A!=="object")throw W_(X7A);if(typeof A.type!=="string")throw W_(X7A);if(typeof A.asymmetricKeyType!=="string")throw W_(X7A);if(typeof A.export!=="function")throw W_(X7A)}function MZB(A){if(W7A.isBuffer(A))return;if(typeof A==="string")return;if(typeof A==="object")return;throw W_($C3)}function wC3(A){if(W7A.isBuffer(A))return;if(typeof A==="string")return A;if(!Wm1)throw W_(y$A);if(typeof A!=="object")throw W_(y$A);if(A.type!=="secret")throw W_(y$A);if(typeof A.export!=="function")throw W_(y$A)}function Km1(A){return A.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OZB(A){A=A.toString();var Q=4-A.length%4;if(Q!==4)for(var B=0;B<Q;++B)A+="=";return A.replace(/\-/g,"+").replace(/_/g,"/")}function W_(A){var Q=[].slice.call(arguments,1),B=NZB.format.bind(NZB,A).apply(null,Q);return TypeError(B)}function NC3(A){return W7A.isBuffer(A)||typeof A==="string"}function v$A(A){if(!NC3(A))A=JSON.stringify(A);return A}function RZB(A){return function(B,G){wC3(G),B=v$A(B);var Z=jL.createHmac("sha"+A,G),Y=(Z.update(B),Z.digest("base64"));return Km1(Y)}}var Xm1,qC3="timingSafeEqual"in jL?function(Q,B){if(Q.byteLength!==B.byteLength)return!1;return jL.timingSafeEqual(Q,B)}:function(Q,B){if(!Xm1)Xm1=Gb1();return Xm1(Q,B)};function LC3(A){return function(B,G,Z){var Y=RZB(A)(B,Z);return qC3(W7A.from(G),W7A.from(Y))}}function _ZB(A){return function(B,G){MZB(G),B=v$A(B);var Z=jL.createSign("RSA-SHA"+A),Y=(Z.update(B),Z.sign(G,"base64"));return Km1(Y)}}function TZB(A){return function(B,G,Z){LZB(Z),B=v$A(B),G=OZB(G);var Y=jL.createVerify("RSA-SHA"+A);return Y.update(B),Y.verify(Z,G,"base64")}}function MC3(A){return function(B,G){MZB(G),B=v$A(B);var Z=jL.createSign("RSA-SHA"+A),Y=(Z.update(B),Z.sign({key:G,padding:jL.constants.RSA_PKCS1_PSS_PADDING,saltLength:jL.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Km1(Y)}}function OC3(A){return function(B,G,Z){LZB(Z),B=v$A(B),G=OZB(G);var Y=jL.createVerify("RSA-SHA"+A);return Y.update(B),Y.verify({key:Z,padding:jL.constants.RSA_PKCS1_PSS_PADDING,saltLength:jL.constants.RSA_PSS_SALTLEN_DIGEST},G,"base64")}}function RC3(A){var Q=_ZB(A);return function(){var G=Q.apply(null,arguments);return G=qZB.derToJose(G,"ES"+A),G}}function _C3(A){var Q=TZB(A);return function(G,Z,Y){Z=qZB.joseToDer(Z,"ES"+A).toString("base64");var J=Q(G,Z,Y);return J}}function TC3(){return function(){return""}}function jC3(){return function(Q,B){return B===""}}jZB.exports=function(Q){var B={hs:RZB,rs:_ZB,ps:MC3,es:RC3,none:TC3},G={hs:LC3,rs:TZB,ps:OC3,es:_C3,none:jC3},Z=Q.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!Z)throw W_(UC3,Q);var Y=(Z[1]||Z[3]).toLowerCase(),J=Z[2];return{sign:B[Y](J),verify:G[Y](J)}}});var Em1=w((Fb7,PZB)=>{var PC3=qA("buffer").Buffer;PZB.exports=function(Q){if(typeof Q==="string")return Q;if(typeof Q==="number"||PC3.isBuffer(Q))return Q.toString();return JSON.stringify(Q)}});var fZB=w((Cb7,kZB)=>{var SC3=US().Buffer,SZB=Im1(),xC3=Vm1(),yC3=qA("stream"),xZB=Em1(),Dm1=qA("util");function yZB(A,Q){return SC3.from(A,Q).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vC3(A,Q,B){B=B||"utf8";var G=yZB(xZB(A),"binary"),Z=yZB(xZB(Q),B);return Dm1.format("%s.%s",G,Z)}function vZB(A){var{header:Q,payload:B}=A,G=A.secret||A.privateKey,Z=A.encoding,Y=xC3(Q.alg),J=vC3(Q,B,Z),I=Y.sign(J,G);return Dm1.format("%s.%s",J,I)}function vaA(A){var Q=A.secret||A.privateKey||A.key,B=new SZB(Q);this.readable=!0,this.header=A.header,this.encoding=A.encoding,this.secret=this.privateKey=this.key=B,this.payload=new SZB(A.payload),this.secret.once("close",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this)),this.payload.once("close",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}Dm1.inherits(vaA,yC3);vaA.prototype.sign=function(){try{var Q=vZB({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",Q),this.emit("data",Q),this.emit("end"),this.readable=!1,Q}catch(B){this.readable=!1,this.emit("error",B),this.emit("close")}};vaA.sign=vZB;kZB.exports=vaA});var iZB=w((zb7,lZB)=>{var hZB=US().Buffer,bZB=Im1(),kC3=Vm1(),fC3=qA("stream"),gZB=Em1(),bC3=qA("util"),hC3=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function gC3(A){return Object.prototype.toString.call(A)==="[object Object]"}function uC3(A){if(gC3(A))return A;try{return JSON.parse(A)}catch(Q){return}}function uZB(A){var Q=A.split(".",1)[0];return uC3(hZB.from(Q,"base64").toString("binary"))}function mC3(A){return A.split(".",2).join(".")}function mZB(A){return A.split(".")[2]}function dC3(A,Q){Q=Q||"utf8";var B=A.split(".")[1];return hZB.from(B,"base64").toString(Q)}function dZB(A){return hC3.test(A)&&!!uZB(A)}function cZB(A,Q,B){if(!Q){var G=Error("Missing algorithm parameter for jws.verify");throw G.code="MISSING_ALGORITHM",G}A=gZB(A);var Z=mZB(A),Y=mC3(A),J=kC3(Q);return J.verify(Y,Z,B)}function pZB(A,Q){if(Q=Q||{},A=gZB(A),!dZB(A))return null;var B=uZB(A);if(!B)return null;var G=dC3(A);if(B.typ==="JWT"||Q.json)G=JSON.parse(G,Q.encoding);return{header:B,payload:G,signature:mZB(A)}}function K7A(A){A=A||{};var Q=A.secret||A.publicKey||A.key,B=new bZB(Q);this.readable=!0,this.algorithm=A.algorithm,this.encoding=A.encoding,this.secret=this.publicKey=this.key=B,this.signature=new bZB(A.signature),this.secret.once("close",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this)),this.signature.once("close",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}bC3.inherits(K7A,fC3);K7A.prototype.verify=function(){try{var Q=cZB(this.signature.buffer,this.algorithm,this.key.buffer),B=pZB(this.signature.buffer,this.encoding);return this.emit("done",Q,B),this.emit("data",Q),this.emit("end"),this.readable=!1,Q}catch(G){this.readable=!1,this.emit("error",G),this.emit("close")}};K7A.decode=pZB;K7A.isValid=dZB;K7A.verify=cZB;lZB.exports=K7A});var faA=w((pC3)=>{var nZB=fZB(),kaA=iZB(),cC3=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];pC3.ALGORITHMS=cC3;pC3.sign=nZB.sign;pC3.verify=kaA.verify;pC3.decode=kaA.decode;pC3.isValid=kaA.isValid;pC3.createSign=function(Q){return new nZB(Q)};pC3.createVerify=function(Q){return new kaA(Q)}});var Hm1=w(($b7,aZB)=>{var tC3=faA();aZB.exports=function(A,Q){Q=Q||{};var B=tC3.decode(A,Q);if(!B)return null;var G=B.payload;if(typeof G==="string")try{var Z=JSON.parse(G);if(Z!==null&&typeof Z==="object")G=Z}catch(Y){}if(Q.complete===!0)return{header:B.header,payload:G,signature:B.signature};return G}});var k$A=w((wb7,oZB)=>{var baA=function(A,Q){if(Error.call(this,A),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);if(this.name="JsonWebTokenError",this.message=A,Q)this.inner=Q};baA.prototype=Object.create(Error.prototype);baA.prototype.constructor=baA;oZB.exports=baA});var Fm1=w((Nb7,sZB)=>{var rZB=k$A(),haA=function(A,Q){rZB.call(this,A),this.name="NotBeforeError",this.date=Q};haA.prototype=Object.create(rZB.prototype);haA.prototype.constructor=haA;sZB.exports=haA});var Cm1=w((qb7,eZB)=>{var tZB=k$A(),gaA=function(A,Q){tZB.call(this,A),this.name="TokenExpiredError",this.expiredAt=Q};gaA.prototype=Object.create(tZB.prototype);gaA.prototype.constructor=gaA;eZB.exports=gaA});var zm1=w((Lb7,AYB)=>{var eC3=mJ1();AYB.exports=function(A,Q){var B=Q||Math.floor(Date.now()/1000);if(typeof A==="string"){var G=eC3(A);if(typeof G>"u")return;return Math.floor(B+G/1000)}else if(typeof A==="number")return B+A;else return}});var f$A=w((Mb7,QYB)=>{var Az3=Number.MAX_SAFE_INTEGER||9007199254740991,Qz3=["major","premajor","minor","preminor","patch","prepatch","prerelease"];QYB.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Az3,RELEASE_TYPES:Qz3,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var b$A=w((Ob7,BYB)=>{var Bz3=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};BYB.exports=Bz3});var V7A=w((SS,GYB)=>{var{MAX_SAFE_COMPONENT_LENGTH:Um1,MAX_SAFE_BUILD_LENGTH:Gz3,MAX_LENGTH:Zz3}=f$A(),Yz3=b$A();SS=GYB.exports={};var Jz3=SS.re=[],Iz3=SS.safeRe=[],R2=SS.src=[],Xz3=SS.safeSrc=[],_2=SS.t={},Wz3=0,$m1="[a-zA-Z0-9-]",Kz3=[["\\s",1],["\\d",Zz3],[$m1,Gz3]],Vz3=(A)=>{for(let[Q,B]of Kz3)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},x6=(A,Q,B)=>{let G=Vz3(Q),Z=Wz3++;Yz3(A,Z,Q),_2[A]=Z,R2[Z]=Q,Xz3[Z]=G,Jz3[Z]=new RegExp(Q,B?"g":void 0),Iz3[Z]=new RegExp(G,B?"g":void 0)};x6("NUMERICIDENTIFIER","0|[1-9]\\d*");x6("NUMERICIDENTIFIERLOOSE","\\d+");x6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${$m1}*`);x6("MAINVERSION",`(${R2[_2.NUMERICIDENTIFIER]})\\.(${R2[_2.NUMERICIDENTIFIER]})\\.(${R2[_2.NUMERICIDENTIFIER]})`);x6("MAINVERSIONLOOSE",`(${R2[_2.NUMERICIDENTIFIERLOOSE]})\\.(${R2[_2.NUMERICIDENTIFIERLOOSE]})\\.(${R2[_2.NUMERICIDENTIFIERLOOSE]})`);x6("PRERELEASEIDENTIFIER",`(?:${R2[_2.NUMERICIDENTIFIER]}|${R2[_2.NONNUMERICIDENTIFIER]})`);x6("PRERELEASEIDENTIFIERLOOSE",`(?:${R2[_2.NUMERICIDENTIFIERLOOSE]}|${R2[_2.NONNUMERICIDENTIFIER]})`);x6("PRERELEASE",`(?:-(${R2[_2.PRERELEASEIDENTIFIER]}(?:\\.${R2[_2.PRERELEASEIDENTIFIER]})*))`);x6("PRERELEASELOOSE",`(?:-?(${R2[_2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${R2[_2.PRERELEASEIDENTIFIERLOOSE]})*))`);x6("BUILDIDENTIFIER",`${$m1}+`);x6("BUILD",`(?:\\+(${R2[_2.BUILDIDENTIFIER]}(?:\\.${R2[_2.BUILDIDENTIFIER]})*))`);x6("FULLPLAIN",`v?${R2[_2.MAINVERSION]}${R2[_2.PRERELEASE]}?${R2[_2.BUILD]}?`);x6("FULL",`^${R2[_2.FULLPLAIN]}$`);x6("LOOSEPLAIN",`[v=\\s]*${R2[_2.MAINVERSIONLOOSE]}${R2[_2.PRERELEASELOOSE]}?${R2[_2.BUILD]}?`);x6("LOOSE",`^${R2[_2.LOOSEPLAIN]}$`);x6("GTLT","((?:<|>)?=?)");x6("XRANGEIDENTIFIERLOOSE",`${R2[_2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);x6("XRANGEIDENTIFIER",`${R2[_2.NUMERICIDENTIFIER]}|x|X|\\*`);x6("XRANGEPLAIN",`[v=\\s]*(${R2[_2.XRANGEIDENTIFIER]})(?:\\.(${R2[_2.XRANGEIDENTIFIER]})(?:\\.(${R2[_2.XRANGEIDENTIFIER]})(?:${R2[_2.PRERELEASE]})?${R2[_2.BUILD]}?)?)?`);x6("XRANGEPLAINLOOSE",`[v=\\s]*(${R2[_2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R2[_2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R2[_2.XRANGEIDENTIFIERLOOSE]})(?:${R2[_2.PRERELEASELOOSE]})?${R2[_2.BUILD]}?)?)?`);x6("XRANGE",`^${R2[_2.GTLT]}\\s*${R2[_2.XRANGEPLAIN]}$`);x6("XRANGELOOSE",`^${R2[_2.GTLT]}\\s*${R2[_2.XRANGEPLAINLOOSE]}$`);x6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Um1}})(?:\\.(\\d{1,${Um1}}))?(?:\\.(\\d{1,${Um1}}))?`);x6("COERCE",`${R2[_2.COERCEPLAIN]}(?:$|[^\\d])`);x6("COERCEFULL",R2[_2.COERCEPLAIN]+`(?:${R2[_2.PRERELEASE]})?(?:${R2[_2.BUILD]})?(?:$|[^\\d])`);x6("COERCERTL",R2[_2.COERCE],!0);x6("COERCERTLFULL",R2[_2.COERCEFULL],!0);x6("LONETILDE","(?:~>?)");x6("TILDETRIM",`(\\s*)${R2[_2.LONETILDE]}\\s+`,!0);SS.tildeTrimReplace="$1~";x6("TILDE",`^${R2[_2.LONETILDE]}${R2[_2.XRANGEPLAIN]}$`);x6("TILDELOOSE",`^${R2[_2.LONETILDE]}${R2[_2.XRANGEPLAINLOOSE]}$`);x6("LONECARET","(?:\\^)");x6("CARETTRIM",`(\\s*)${R2[_2.LONECARET]}\\s+`,!0);SS.caretTrimReplace="$1^";x6("CARET",`^${R2[_2.LONECARET]}${R2[_2.XRANGEPLAIN]}$`);x6("CARETLOOSE",`^${R2[_2.LONECARET]}${R2[_2.XRANGEPLAINLOOSE]}$`);x6("COMPARATORLOOSE",`^${R2[_2.GTLT]}\\s*(${R2[_2.LOOSEPLAIN]})$|^$`);x6("COMPARATOR",`^${R2[_2.GTLT]}\\s*(${R2[_2.FULLPLAIN]})$|^$`);x6("COMPARATORTRIM",`(\\s*)${R2[_2.GTLT]}\\s*(${R2[_2.LOOSEPLAIN]}|${R2[_2.XRANGEPLAIN]})`,!0);SS.comparatorTrimReplace="$1$2$3";x6("HYPHENRANGE",`^\\s*(${R2[_2.XRANGEPLAIN]})\\s+-\\s+(${R2[_2.XRANGEPLAIN]})\\s*$`);x6("HYPHENRANGELOOSE",`^\\s*(${R2[_2.XRANGEPLAINLOOSE]})\\s+-\\s+(${R2[_2.XRANGEPLAINLOOSE]})\\s*$`);x6("STAR","(<|>)?=?\\s*\\*");x6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");x6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var uaA=w((Rb7,ZYB)=>{var Ez3=Object.freeze({loose:!0}),Dz3=Object.freeze({}),Hz3=(A)=>{if(!A)return Dz3;if(typeof A!=="object")return Ez3;return A};ZYB.exports=Hz3});var wm1=w((_b7,IYB)=>{var YYB=/^[0-9]+$/,JYB=(A,Q)=>{let B=YYB.test(A),G=YYB.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},Fz3=(A,Q)=>JYB(Q,A);IYB.exports={compareIdentifiers:JYB,rcompareIdentifiers:Fz3}});var GH=w((Tb7,VYB)=>{var maA=b$A(),{MAX_LENGTH:XYB,MAX_SAFE_INTEGER:daA}=f$A(),{safeRe:WYB,safeSrc:KYB,t:caA}=V7A(),Cz3=uaA(),{compareIdentifiers:E7A}=wm1();class K_{constructor(A,Q){if(Q=Cz3(Q),A instanceof K_)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>XYB)throw TypeError(`version is longer than ${XYB} characters`);maA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?WYB[caA.LOOSE]:WYB[caA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>daA||this.major<0)throw TypeError("Invalid major version");if(this.minor>daA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>daA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<daA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(maA("SemVer.compare",this.version,this.options,A),!(A instanceof K_)){if(typeof A==="string"&&A===this.version)return 0;A=new K_(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof K_))A=new K_(A,this.options);return E7A(this.major,A.major)||E7A(this.minor,A.minor)||E7A(this.patch,A.patch)}comparePre(A){if(!(A instanceof K_))A=new K_(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(maA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return E7A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof K_))A=new K_(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(maA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return E7A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=new RegExp(`^${this.options.loose?KYB[caA.PRERELEASELOOSE]:KYB[caA.PRERELEASE]}$`),Z=`-${Q}`.match(G);if(!Z||Z[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(E7A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}VYB.exports=K_});var Qe=w((jb7,DYB)=>{var EYB=GH(),zz3=(A,Q,B=!1)=>{if(A instanceof EYB)return A;try{return new EYB(A,Q)}catch(G){if(!B)return null;throw G}};DYB.exports=zz3});var FYB=w((Pb7,HYB)=>{var Uz3=Qe(),$z3=(A,Q)=>{let B=Uz3(A,Q);return B?B.version:null};HYB.exports=$z3});var zYB=w((Sb7,CYB)=>{var wz3=Qe(),Nz3=(A,Q)=>{let B=wz3(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};CYB.exports=Nz3});var wYB=w((xb7,$YB)=>{var UYB=GH(),qz3=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new UYB(A instanceof UYB?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};$YB.exports=qz3});var LYB=w((yb7,qYB)=>{var NYB=Qe(),Lz3=(A,Q)=>{let B=NYB(A,null,!0),G=NYB(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};qYB.exports=Lz3});var OYB=w((vb7,MYB)=>{var Mz3=GH(),Oz3=(A,Q)=>new Mz3(A,Q).major;MYB.exports=Oz3});var _YB=w((kb7,RYB)=>{var Rz3=GH(),_z3=(A,Q)=>new Rz3(A,Q).minor;RYB.exports=_z3});var jYB=w((fb7,TYB)=>{var Tz3=GH(),jz3=(A,Q)=>new Tz3(A,Q).patch;TYB.exports=jz3});var SYB=w((bb7,PYB)=>{var Pz3=Qe(),Sz3=(A,Q)=>{let B=Pz3(A,Q);return B&&B.prerelease.length?B.prerelease:null};PYB.exports=Sz3});var PL=w((hb7,yYB)=>{var xYB=GH(),xz3=(A,Q,B)=>new xYB(A,B).compare(new xYB(Q,B));yYB.exports=xz3});var kYB=w((gb7,vYB)=>{var yz3=PL(),vz3=(A,Q,B)=>yz3(Q,A,B);vYB.exports=vz3});var bYB=w((ub7,fYB)=>{var kz3=PL(),fz3=(A,Q)=>kz3(A,Q,!0);fYB.exports=fz3});var paA=w((mb7,gYB)=>{var hYB=GH(),bz3=(A,Q,B)=>{let G=new hYB(A,B),Z=new hYB(Q,B);return G.compare(Z)||G.compareBuild(Z)};gYB.exports=bz3});var mYB=w((db7,uYB)=>{var hz3=paA(),gz3=(A,Q)=>A.sort((B,G)=>hz3(B,G,Q));uYB.exports=gz3});var cYB=w((cb7,dYB)=>{var uz3=paA(),mz3=(A,Q)=>A.sort((B,G)=>uz3(G,B,Q));dYB.exports=mz3});var h$A=w((pb7,pYB)=>{var dz3=PL(),cz3=(A,Q,B)=>dz3(A,Q,B)>0;pYB.exports=cz3});var laA=w((lb7,lYB)=>{var pz3=PL(),lz3=(A,Q,B)=>pz3(A,Q,B)<0;lYB.exports=lz3});var Nm1=w((ib7,iYB)=>{var iz3=PL(),nz3=(A,Q,B)=>iz3(A,Q,B)===0;iYB.exports=nz3});var qm1=w((nb7,nYB)=>{var az3=PL(),oz3=(A,Q,B)=>az3(A,Q,B)!==0;nYB.exports=oz3});var iaA=w((ab7,aYB)=>{var rz3=PL(),sz3=(A,Q,B)=>rz3(A,Q,B)>=0;aYB.exports=sz3});var naA=w((ob7,oYB)=>{var tz3=PL(),ez3=(A,Q,B)=>tz3(A,Q,B)<=0;oYB.exports=ez3});var Lm1=w((rb7,rYB)=>{var AU3=Nm1(),QU3=qm1(),BU3=h$A(),GU3=iaA(),ZU3=laA(),YU3=naA(),JU3=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return AU3(A,B,G);case"!=":return QU3(A,B,G);case">":return BU3(A,B,G);case">=":return GU3(A,B,G);case"<":return ZU3(A,B,G);case"<=":return YU3(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};rYB.exports=JU3});var tYB=w((sb7,sYB)=>{var IU3=GH(),XU3=Qe(),{safeRe:aaA,t:oaA}=V7A(),WU3=(A,Q)=>{if(A instanceof IU3)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?aaA[oaA.COERCEFULL]:aaA[oaA.COERCE]);else{let X=Q.includePrerelease?aaA[oaA.COERCERTLFULL]:aaA[oaA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return XU3(`${G}.${Z}.${Y}${J}${I}`,Q)};sYB.exports=WU3});var QJB=w((tb7,AJB)=>{class eYB{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}AJB.exports=eYB});var SL=w((eb7,YJB)=>{var KU3=/\s+/g;class g$A{constructor(A,Q){if(Q=EU3(Q),A instanceof g$A)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new g$A(A.raw,Q);if(A instanceof Mm1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(KU3," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!GJB(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&$U3(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&zU3)|(this.options.loose&&UU3))+":"+A,G=BJB.get(B);if(G)return G;let Z=this.options.loose,Y=Z?iz[gF.HYPHENRANGELOOSE]:iz[gF.HYPHENRANGE];A=A.replace(Y,jU3(this.options.includePrerelease)),KY("hyphen replace",A),A=A.replace(iz[gF.COMPARATORTRIM],HU3),KY("comparator trim",A),A=A.replace(iz[gF.TILDETRIM],FU3),KY("tilde trim",A),A=A.replace(iz[gF.CARETTRIM],CU3),KY("caret trim",A);let J=A.split(" ").map((K)=>wU3(K,this.options)).join(" ").split(/\s+/).map((K)=>TU3(K,this.options));if(Z)J=J.filter((K)=>{return KY("loose invalid filter",K,this.options),!!K.match(iz[gF.COMPARATORLOOSE])});KY("range list",J);let I=new Map,X=J.map((K)=>new Mm1(K,this.options));for(let K of X){if(GJB(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return BJB.set(B,W),W}intersects(A,Q){if(!(A instanceof g$A))throw TypeError("a Range is required");return this.set.some((B)=>{return ZJB(B,Q)&&A.set.some((G)=>{return ZJB(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new DU3(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(PU3(this.set[Q],A,this.options))return!0;return!1}}YJB.exports=g$A;var VU3=QJB(),BJB=new VU3,EU3=uaA(),Mm1=u$A(),KY=b$A(),DU3=GH(),{safeRe:iz,t:gF,comparatorTrimReplace:HU3,tildeTrimReplace:FU3,caretTrimReplace:CU3}=V7A(),{FLAG_INCLUDE_PRERELEASE:zU3,FLAG_LOOSE:UU3}=f$A(),GJB=(A)=>A.value==="<0.0.0-0",$U3=(A)=>A.value==="",ZJB=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},wU3=(A,Q)=>{return KY("comp",A,Q),A=LU3(A,Q),KY("caret",A),A=NU3(A,Q),KY("tildes",A),A=OU3(A,Q),KY("xrange",A),A=_U3(A,Q),KY("stars",A),A},uF=(A)=>!A||A.toLowerCase()==="x"||A==="*",NU3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>qU3(B,Q)).join(" ")},qU3=(A,Q)=>{let B=Q.loose?iz[gF.TILDELOOSE]:iz[gF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{KY("tilde",A,G,Z,Y,J,I);let X;if(uF(Z))X="";else if(uF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(uF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)KY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return KY("tilde return",X),X})},LU3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>MU3(B,Q)).join(" ")},MU3=(A,Q)=>{KY("caret",A,Q);let B=Q.loose?iz[gF.CARETLOOSE]:iz[gF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{KY("caret",A,Z,Y,J,I,X);let W;if(uF(Y))W="";else if(uF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(uF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(KY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(KY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return KY("caret return",W),W})},OU3=(A,Q)=>{return KY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>RU3(B,Q)).join(" ")},RU3=(A,Q)=>{A=A.trim();let B=Q.loose?iz[gF.XRANGELOOSE]:iz[gF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{KY("xRange",A,G,Z,Y,J,I,X);let W=uF(Y),K=W||uF(J),V=K||uF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return KY("xRange return",G),G})},_U3=(A,Q)=>{return KY("replaceStars",A,Q),A.trim().replace(iz[gF.STAR],"")},TU3=(A,Q)=>{return KY("replaceGTE0",A,Q),A.trim().replace(iz[Q.includePrerelease?gF.GTE0PRE:gF.GTE0],"")},jU3=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(uF(G))B="";else if(uF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(uF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(uF(W))X="";else if(uF(K))X=`<${+W+1}.0.0-0`;else if(uF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},PU3=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(KY(A[G].semver),A[G].semver===Mm1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var u$A=w((Ah7,VJB)=>{var m$A=Symbol("SemVer ANY");class raA{static get ANY(){return m$A}constructor(A,Q){if(Q=JJB(Q),A instanceof raA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),Rm1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===m$A)this.value="";else this.value=this.operator+this.semver.version;Rm1("comp",this)}parse(A){let Q=this.options.loose?IJB[XJB.COMPARATORLOOSE]:IJB[XJB.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=m$A;else this.semver=new WJB(B[2],this.options.loose)}toString(){return this.value}test(A){if(Rm1("Comparator.test",A,this.options.loose),this.semver===m$A||A===m$A)return!0;if(typeof A==="string")try{A=new WJB(A,this.options)}catch(Q){return!1}return Om1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof raA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new KJB(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new KJB(this.value,Q).test(A.semver)}if(Q=JJB(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(Om1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(Om1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}VJB.exports=raA;var JJB=uaA(),{safeRe:IJB,t:XJB}=V7A(),Om1=Lm1(),Rm1=b$A(),WJB=GH(),KJB=SL()});var d$A=w((Qh7,EJB)=>{var SU3=SL(),xU3=(A,Q,B)=>{try{Q=new SU3(Q,B)}catch(G){return!1}return Q.test(A)};EJB.exports=xU3});var HJB=w((Bh7,DJB)=>{var yU3=SL(),vU3=(A,Q)=>new yU3(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));DJB.exports=vU3});var CJB=w((Gh7,FJB)=>{var kU3=GH(),fU3=SL(),bU3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new fU3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new kU3(G,B)}}),G};FJB.exports=bU3});var UJB=w((Zh7,zJB)=>{var hU3=GH(),gU3=SL(),uU3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new gU3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new hU3(G,B)}}),G};zJB.exports=uU3});var NJB=w((Yh7,wJB)=>{var _m1=GH(),mU3=SL(),$JB=h$A(),dU3=(A,Q)=>{A=new mU3(A,Q);let B=new _m1("0.0.0");if(A.test(B))return B;if(B=new _m1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new _m1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||$JB(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||$JB(B,Y)))B=Y}if(B&&A.test(B))return B;return null};wJB.exports=dU3});var LJB=w((Jh7,qJB)=>{var cU3=SL(),pU3=(A,Q)=>{try{return new cU3(A,Q).range||"*"}catch(B){return null}};qJB.exports=pU3});var saA=w((Ih7,_JB)=>{var lU3=GH(),RJB=u$A(),{ANY:iU3}=RJB,nU3=SL(),aU3=d$A(),MJB=h$A(),OJB=laA(),oU3=naA(),rU3=iaA(),sU3=(A,Q,B,G)=>{A=new lU3(A,G),Q=new nU3(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=MJB,Y=oU3,J=OJB,I=">",X=">=";break;case"<":Z=OJB,Y=rU3,J=MJB,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(aU3(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===iU3)D=new RJB(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};_JB.exports=sU3});var jJB=w((Xh7,TJB)=>{var tU3=saA(),eU3=(A,Q,B)=>tU3(A,Q,">",B);TJB.exports=eU3});var SJB=w((Wh7,PJB)=>{var A$3=saA(),Q$3=(A,Q,B)=>A$3(A,Q,"<",B);PJB.exports=Q$3});var vJB=w((Kh7,yJB)=>{var xJB=SL(),B$3=(A,Q,B)=>{return A=new xJB(A,B),Q=new xJB(Q,B),A.intersects(Q,B)};yJB.exports=B$3});var fJB=w((Vh7,kJB)=>{var G$3=d$A(),Z$3=PL();kJB.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>Z$3(K,V,B));for(let K of J)if(G$3(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var dJB=w((Eh7,mJB)=>{var bJB=SL(),jm1=u$A(),{ANY:Tm1}=jm1,c$A=d$A(),Pm1=PL(),Y$3=(A,Q,B={})=>{if(A===Q)return!0;A=new bJB(A,B),Q=new bJB(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=I$3(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},J$3=[new jm1(">=0.0.0-0")],hJB=[new jm1(">=0.0.0")],I$3=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===Tm1)if(Q.length===1&&Q[0].semver===Tm1)return!0;else if(B.includePrerelease)A=J$3;else A=hJB;if(Q.length===1&&Q[0].semver===Tm1)if(B.includePrerelease)return!0;else Q=hJB;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=gJB(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=uJB(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=Pm1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!c$A(D,String(Z),B))return null;if(Y&&!c$A(D,String(Y),B))return null;for(let H of Q)if(!c$A(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=gJB(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!c$A(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=uJB(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!c$A(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},gJB=(A,Q,B)=>{if(!A)return Q;let G=Pm1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},uJB=(A,Q,B)=>{if(!A)return Q;let G=Pm1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};mJB.exports=Y$3});var taA=w((Dh7,lJB)=>{var Sm1=V7A(),cJB=f$A(),X$3=GH(),pJB=wm1(),W$3=Qe(),K$3=FYB(),V$3=zYB(),E$3=wYB(),D$3=LYB(),H$3=OYB(),F$3=_YB(),C$3=jYB(),z$3=SYB(),U$3=PL(),$$3=kYB(),w$3=bYB(),N$3=paA(),q$3=mYB(),L$3=cYB(),M$3=h$A(),O$3=laA(),R$3=Nm1(),_$3=qm1(),T$3=iaA(),j$3=naA(),P$3=Lm1(),S$3=tYB(),x$3=u$A(),y$3=SL(),v$3=d$A(),k$3=HJB(),f$3=CJB(),b$3=UJB(),h$3=NJB(),g$3=LJB(),u$3=saA(),m$3=jJB(),d$3=SJB(),c$3=vJB(),p$3=fJB(),l$3=dJB();lJB.exports={parse:W$3,valid:K$3,clean:V$3,inc:E$3,diff:D$3,major:H$3,minor:F$3,patch:C$3,prerelease:z$3,compare:U$3,rcompare:$$3,compareLoose:w$3,compareBuild:N$3,sort:q$3,rsort:L$3,gt:M$3,lt:O$3,eq:R$3,neq:_$3,gte:T$3,lte:j$3,cmp:P$3,coerce:S$3,Comparator:x$3,Range:y$3,satisfies:v$3,toComparators:k$3,maxSatisfying:f$3,minSatisfying:b$3,minVersion:h$3,validRange:g$3,outside:u$3,gtr:m$3,ltr:d$3,intersects:c$3,simplifyRange:p$3,subset:l$3,SemVer:X$3,re:Sm1.re,src:Sm1.src,tokens:Sm1.t,SEMVER_SPEC_VERSION:cJB.SEMVER_SPEC_VERSION,RELEASE_TYPES:cJB.RELEASE_TYPES,compareIdentifiers:pJB.compareIdentifiers,rcompareIdentifiers:pJB.rcompareIdentifiers}});var nJB=w((Hh7,iJB)=>{var i$3=taA();iJB.exports=i$3.satisfies(process.version,">=15.7.0")});var oJB=w((Fh7,aJB)=>{var n$3=taA();aJB.exports=n$3.satisfies(process.version,">=16.9.0")});var xm1=w((Ch7,rJB)=>{var a$3=nJB(),o$3=oJB(),r$3={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s$3={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};rJB.exports=function(A,Q){if(!A||!Q)return;let B=Q.asymmetricKeyType;if(!B)return;let G=r$3[B];if(!G)throw Error(`Unknown key type "${B}".`);if(!G.includes(A))throw Error(`"alg" parameter for "${B}" key type must be one of: ${G.join(", ")}.`);if(a$3)switch(B){case"ec":let Z=Q.asymmetricKeyDetails.namedCurve,Y=s$3[A];if(Z!==Y)throw Error(`"alg" parameter "${A}" requires curve "${Y}".`);break;case"rsa-pss":if(o$3){let J=parseInt(A.slice(-3),10),{hashAlgorithm:I,mgf1HashAlgorithm:X,saltLength:W}=Q.asymmetricKeyDetails;if(I!==`sha${J}`||X!==I)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${A}.`);if(W!==void 0&&W>J>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${A}.`)}break}}});var ym1=w((zh7,sJB)=>{var t$3=taA();sJB.exports=t$3.satisfies(process.version,"^6.12.0 || >=8.0.0")});var AIB=w((Uh7,eJB)=>{var vZ=k$A(),e$3=Fm1(),tJB=Cm1(),Aw3=Hm1(),Qw3=zm1(),Bw3=xm1(),Gw3=ym1(),Zw3=faA(),{KeyObject:Yw3,createSecretKey:Jw3,createPublicKey:Iw3}=qA("crypto"),vm1=["RS256","RS384","RS512"],Xw3=["ES256","ES384","ES512"],km1=["RS256","RS384","RS512"],Ww3=["HS256","HS384","HS512"];if(Gw3)vm1.splice(vm1.length,0,"PS256","PS384","PS512"),km1.splice(km1.length,0,"PS256","PS384","PS512");eJB.exports=function(A,Q,B,G){if(typeof B==="function"&&!G)G=B,B={};if(!B)B={};B=Object.assign({},B);let Z;if(G)Z=G;else Z=function(K,V){if(K)throw K;return V};if(B.clockTimestamp&&typeof B.clockTimestamp!=="number")return Z(new vZ("clockTimestamp must be a number"));if(B.nonce!==void 0&&(typeof B.nonce!=="string"||B.nonce.trim()===""))return Z(new vZ("nonce must be a non-empty string"));if(B.allowInvalidAsymmetricKeyTypes!==void 0&&typeof B.allowInvalidAsymmetricKeyTypes!=="boolean")return Z(new vZ("allowInvalidAsymmetricKeyTypes must be a boolean"));let Y=B.clockTimestamp||Math.floor(Date.now()/1000);if(!A)return Z(new vZ("jwt must be provided"));if(typeof A!=="string")return Z(new vZ("jwt must be a string"));let J=A.split(".");if(J.length!==3)return Z(new vZ("jwt malformed"));let I;try{I=Aw3(A,{complete:!0})}catch(K){return Z(K)}if(!I)return Z(new vZ("invalid token"));let X=I.header,W;if(typeof Q==="function"){if(!G)return Z(new vZ("verify must be called asynchronous if secret or public key is provided as a callback"));W=Q}else W=function(K,V){return V(null,Q)};return W(X,function(K,V){if(K)return Z(new vZ("error in secret or public key callback: "+K.message));let E=J[2].trim()!=="";if(!E&&V)return Z(new vZ("jwt signature is required"));if(E&&!V)return Z(new vZ("secret or public key must be provided"));if(!E&&!B.algorithms)return Z(new vZ('please specify "none" in "algorithms" to verify unsigned tokens'));if(V!=null&&!(V instanceof Yw3))try{V=Iw3(V)}catch(F){try{V=Jw3(typeof V==="string"?Buffer.from(V):V)}catch(C){return Z(new vZ("secretOrPublicKey is not valid key material"))}}if(!B.algorithms)if(V.type==="secret")B.algorithms=Ww3;else if(["rsa","rsa-pss"].includes(V.asymmetricKeyType))B.algorithms=km1;else if(V.asymmetricKeyType==="ec")B.algorithms=Xw3;else B.algorithms=vm1;if(B.algorithms.indexOf(I.header.alg)===-1)return Z(new vZ("invalid algorithm"));if(X.alg.startsWith("HS")&&V.type!=="secret")return Z(new vZ(`secretOrPublicKey must be a symmetric key when using ${X.alg}`));else if(/^(?:RS|PS|ES)/.test(X.alg)&&V.type!=="public")return Z(new vZ(`secretOrPublicKey must be an asymmetric key when using ${X.alg}`));if(!B.allowInvalidAsymmetricKeyTypes)try{Bw3(X.alg,V)}catch(F){return Z(F)}let D;try{D=Zw3.verify(A,I.header.alg,V)}catch(F){return Z(F)}if(!D)return Z(new vZ("invalid signature"));let H=I.payload;if(typeof H.nbf<"u"&&!B.ignoreNotBefore){if(typeof H.nbf!=="number")return Z(new vZ("invalid nbf value"));if(H.nbf>Y+(B.clockTolerance||0))return Z(new e$3("jwt not active",new Date(H.nbf*1000)))}if(typeof H.exp<"u"&&!B.ignoreExpiration){if(typeof H.exp!=="number")return Z(new vZ("invalid exp value"));if(Y>=H.exp+(B.clockTolerance||0))return Z(new tJB("jwt expired",new Date(H.exp*1000)))}if(B.audience){let F=Array.isArray(B.audience)?B.audience:[B.audience];if(!(Array.isArray(H.aud)?H.aud:[H.aud]).some(function(O){return F.some(function(q){return q instanceof RegExp?q.test(O):q===O})}))return Z(new vZ("jwt audience invalid. expected: "+F.join(" or ")))}if(B.issuer){if(typeof B.issuer==="string"&&H.iss!==B.issuer||Array.isArray(B.issuer)&&B.issuer.indexOf(H.iss)===-1)return Z(new vZ("jwt issuer invalid. expected: "+B.issuer))}if(B.subject){if(H.sub!==B.subject)return Z(new vZ("jwt subject invalid. expected: "+B.subject))}if(B.jwtid){if(H.jti!==B.jwtid)return Z(new vZ("jwt jwtid invalid. expected: "+B.jwtid))}if(B.nonce){if(H.nonce!==B.nonce)return Z(new vZ("jwt nonce invalid. expected: "+B.nonce))}if(B.maxAge){if(typeof H.iat!=="number")return Z(new vZ("iat required when maxAge is specified"));let F=Qw3(B.maxAge,H.iat);if(typeof F>"u")return Z(new vZ('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(Y>=F+(B.clockTolerance||0))return Z(new tJB("maxAge exceeded",new Date(F*1000)))}if(B.complete===!0){let F=I.signature;return Z(null,{header:X,payload:H,signature:F})}return Z(null,H)})}});var JIB=w(($h7,YIB)=>{var QIB=1/0,GIB=9007199254740991,Kw3=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,BIB=NaN,Vw3="[object Arguments]",Ew3="[object Function]",Dw3="[object GeneratorFunction]",Hw3="[object String]",Fw3="[object Symbol]",Cw3=/^\s+|\s+$/g,zw3=/^[-+]0x[0-9a-f]+$/i,Uw3=/^0b[01]+$/i,$w3=/^0o[0-7]+$/i,ww3=/^(?:0|[1-9]\d*)$/,Nw3=parseInt;function qw3(A,Q){var B=-1,G=A?A.length:0,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}function Lw3(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}function Mw3(A,Q,B){if(Q!==Q)return Lw3(A,Ow3,B);var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}function Ow3(A){return A!==A}function Rw3(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}function _w3(A,Q){return qw3(Q,function(B){return A[B]})}function Tw3(A,Q){return function(B){return A(Q(B))}}var eaA=Object.prototype,bm1=eaA.hasOwnProperty,AoA=eaA.toString,jw3=eaA.propertyIsEnumerable,Pw3=Tw3(Object.keys,Object),Sw3=Math.max;function xw3(A,Q){var B=ZIB(A)||bw3(A)?Rw3(A.length,String):[],G=B.length,Z=!!G;for(var Y in A)if((Q||bm1.call(A,Y))&&!(Z&&(Y=="length"||vw3(Y,G))))B.push(Y);return B}function yw3(A){if(!kw3(A))return Pw3(A);var Q=[];for(var B in Object(A))if(bm1.call(A,B)&&B!="constructor")Q.push(B);return Q}function vw3(A,Q){return Q=Q==null?GIB:Q,!!Q&&(typeof A=="number"||ww3.test(A))&&(A>-1&&A%1==0&&A<Q)}function kw3(A){var Q=A&&A.constructor,B=typeof Q=="function"&&Q.prototype||eaA;return A===B}function fw3(A,Q,B,G){A=hm1(A)?A:nw3(A),B=B&&!G?pw3(B):0;var Z=A.length;if(B<0)B=Sw3(Z+B,0);return mw3(A)?B<=Z&&A.indexOf(Q,B)>-1:!!Z&&Mw3(A,Q,B)>-1}function bw3(A){return hw3(A)&&bm1.call(A,"callee")&&(!jw3.call(A,"callee")||AoA.call(A)==Vw3)}var ZIB=Array.isArray;function hm1(A){return A!=null&&uw3(A.length)&&!gw3(A)}function hw3(A){return gm1(A)&&hm1(A)}function gw3(A){var Q=fm1(A)?AoA.call(A):"";return Q==Ew3||Q==Dw3}function uw3(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=GIB}function fm1(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function gm1(A){return!!A&&typeof A=="object"}function mw3(A){return typeof A=="string"||!ZIB(A)&&gm1(A)&&AoA.call(A)==Hw3}function dw3(A){return typeof A=="symbol"||gm1(A)&&AoA.call(A)==Fw3}function cw3(A){if(!A)return A===0?A:0;if(A=lw3(A),A===QIB||A===-QIB){var Q=A<0?-1:1;return Q*Kw3}return A===A?A:0}function pw3(A){var Q=cw3(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function lw3(A){if(typeof A=="number")return A;if(dw3(A))return BIB;if(fm1(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=fm1(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(Cw3,"");var B=Uw3.test(A);return B||$w3.test(A)?Nw3(A.slice(2),B?2:8):zw3.test(A)?BIB:+A}function iw3(A){return hm1(A)?xw3(A):yw3(A)}function nw3(A){return A?_w3(A,iw3(A)):[]}YIB.exports=fw3});var XIB=w((wh7,IIB)=>{var aw3="[object Boolean]",ow3=Object.prototype,rw3=ow3.toString;function sw3(A){return A===!0||A===!1||tw3(A)&&rw3.call(A)==aw3}function tw3(A){return!!A&&typeof A=="object"}IIB.exports=sw3});var DIB=w((Nh7,EIB)=>{var WIB=1/0,ew3=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,KIB=NaN,AN3="[object Symbol]",QN3=/^\s+|\s+$/g,BN3=/^[-+]0x[0-9a-f]+$/i,GN3=/^0b[01]+$/i,ZN3=/^0o[0-7]+$/i,YN3=parseInt,JN3=Object.prototype,IN3=JN3.toString;function XN3(A){return typeof A=="number"&&A==EN3(A)}function VIB(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function WN3(A){return!!A&&typeof A=="object"}function KN3(A){return typeof A=="symbol"||WN3(A)&&IN3.call(A)==AN3}function VN3(A){if(!A)return A===0?A:0;if(A=DN3(A),A===WIB||A===-WIB){var Q=A<0?-1:1;return Q*ew3}return A===A?A:0}function EN3(A){var Q=VN3(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function DN3(A){if(typeof A=="number")return A;if(KN3(A))return KIB;if(VIB(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=VIB(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(QN3,"");var B=GN3.test(A);return B||ZN3.test(A)?YN3(A.slice(2),B?2:8):BN3.test(A)?KIB:+A}EIB.exports=XN3});var FIB=w((qh7,HIB)=>{var HN3="[object Number]",FN3=Object.prototype,CN3=FN3.toString;function zN3(A){return!!A&&typeof A=="object"}function UN3(A){return typeof A=="number"||zN3(A)&&CN3.call(A)==HN3}HIB.exports=UN3});var $IB=w((Lh7,UIB)=>{var $N3="[object Object]";function wN3(A){var Q=!1;if(A!=null&&typeof A.toString!="function")try{Q=!!(A+"")}catch(B){}return Q}function NN3(A,Q){return function(B){return A(Q(B))}}var qN3=Function.prototype,CIB=Object.prototype,zIB=qN3.toString,LN3=CIB.hasOwnProperty,MN3=zIB.call(Object),ON3=CIB.toString,RN3=NN3(Object.getPrototypeOf,Object);function _N3(A){return!!A&&typeof A=="object"}function TN3(A){if(!_N3(A)||ON3.call(A)!=$N3||wN3(A))return!1;var Q=RN3(A);if(Q===null)return!0;var B=LN3.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&zIB.call(B)==MN3}UIB.exports=TN3});var NIB=w((Mh7,wIB)=>{var jN3="[object String]",PN3=Object.prototype,SN3=PN3.toString,xN3=Array.isArray;function yN3(A){return!!A&&typeof A=="object"}function vN3(A){return typeof A=="string"||!xN3(A)&&yN3(A)&&SN3.call(A)==jN3}wIB.exports=vN3});var RIB=w((Oh7,OIB)=>{var kN3="Expected a function",qIB=1/0,fN3=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,LIB=NaN,bN3="[object Symbol]",hN3=/^\s+|\s+$/g,gN3=/^[-+]0x[0-9a-f]+$/i,uN3=/^0b[01]+$/i,mN3=/^0o[0-7]+$/i,dN3=parseInt,cN3=Object.prototype,pN3=cN3.toString;function lN3(A,Q){var B;if(typeof Q!="function")throw TypeError(kN3);return A=rN3(A),function(){if(--A>0)B=Q.apply(this,arguments);if(A<=1)Q=void 0;return B}}function iN3(A){return lN3(2,A)}function MIB(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function nN3(A){return!!A&&typeof A=="object"}function aN3(A){return typeof A=="symbol"||nN3(A)&&pN3.call(A)==bN3}function oN3(A){if(!A)return A===0?A:0;if(A=sN3(A),A===qIB||A===-qIB){var Q=A<0?-1:1;return Q*fN3}return A===A?A:0}function rN3(A){var Q=oN3(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function sN3(A){if(typeof A=="number")return A;if(aN3(A))return LIB;if(MIB(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=MIB(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(hN3,"");var B=uN3.test(A);return B||mN3.test(A)?dN3(A.slice(2),B?2:8):gN3.test(A)?LIB:+A}OIB.exports=iN3});var kIB=w((Rh7,vIB)=>{var _IB=zm1(),tN3=ym1(),eN3=xm1(),TIB=faA(),Aq3=JIB(),QoA=XIB(),jIB=DIB(),um1=FIB(),SIB=$IB(),Gp=NIB(),Qq3=RIB(),{KeyObject:Bq3,createSecretKey:Gq3,createPrivateKey:Zq3}=qA("crypto"),xIB=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];if(tN3)xIB.splice(3,0,"PS256","PS384","PS512");var Yq3={expiresIn:{isValid:function(A){return jIB(A)||Gp(A)&&A},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(A){return jIB(A)||Gp(A)&&A},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(A){return Gp(A)||Array.isArray(A)},message:'"audience" must be a string or array'},algorithm:{isValid:Aq3.bind(null,xIB),message:'"algorithm" must be a valid string enum value'},header:{isValid:SIB,message:'"header" must be an object'},encoding:{isValid:Gp,message:'"encoding" must be a string'},issuer:{isValid:Gp,message:'"issuer" must be a string'},subject:{isValid:Gp,message:'"subject" must be a string'},jwtid:{isValid:Gp,message:'"jwtid" must be a string'},noTimestamp:{isValid:QoA,message:'"noTimestamp" must be a boolean'},keyid:{isValid:Gp,message:'"keyid" must be a string'},mutatePayload:{isValid:QoA,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:QoA,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:QoA,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},Jq3={iat:{isValid:um1,message:'"iat" should be a number of seconds'},exp:{isValid:um1,message:'"exp" should be a number of seconds'},nbf:{isValid:um1,message:'"nbf" should be a number of seconds'}};function yIB(A,Q,B,G){if(!SIB(B))throw Error('Expected "'+G+'" to be a plain object.');Object.keys(B).forEach(function(Z){let Y=A[Z];if(!Y){if(!Q)throw Error('"'+Z+'" is not allowed in "'+G+'"');return}if(!Y.isValid(B[Z]))throw Error(Y.message)})}function Iq3(A){return yIB(Yq3,!1,A,"options")}function Xq3(A){return yIB(Jq3,!0,A,"payload")}var PIB={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},Wq3=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];vIB.exports=function(A,Q,B,G){if(typeof B==="function")G=B,B={};else B=B||{};let Z=typeof A==="object"&&!Buffer.isBuffer(A),Y=Object.assign({alg:B.algorithm||"HS256",typ:Z?"JWT":void 0,kid:B.keyid},B.header);function J(W){if(G)return G(W);throw W}if(!Q&&B.algorithm!=="none")return J(Error("secretOrPrivateKey must have a value"));if(Q!=null&&!(Q instanceof Bq3))try{Q=Zq3(Q)}catch(W){try{Q=Gq3(typeof Q==="string"?Buffer.from(Q):Q)}catch(K){return J(Error("secretOrPrivateKey is not valid key material"))}}if(Y.alg.startsWith("HS")&&Q.type!=="secret")return J(Error(`secretOrPrivateKey must be a symmetric key when using ${Y.alg}`));else if(/^(?:RS|PS|ES)/.test(Y.alg)){if(Q.type!=="private")return J(Error(`secretOrPrivateKey must be an asymmetric key when using ${Y.alg}`));if(!B.allowInsecureKeySizes&&!Y.alg.startsWith("ES")&&Q.asymmetricKeyDetails!==void 0&&Q.asymmetricKeyDetails.modulusLength<2048)return J(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`))}if(typeof A>"u")return J(Error("payload is required"));else if(Z){try{Xq3(A)}catch(W){return J(W)}if(!B.mutatePayload)A=Object.assign({},A)}else{let W=Wq3.filter(function(K){return typeof B[K]<"u"});if(W.length>0)return J(Error("invalid "+W.join(",")+" option for "+typeof A+" payload"))}if(typeof A.exp<"u"&&typeof B.expiresIn<"u")return J(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof A.nbf<"u"&&typeof B.notBefore<"u")return J(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{Iq3(B)}catch(W){return J(W)}if(!B.allowInvalidAsymmetricKeyTypes)try{eN3(Y.alg,Q)}catch(W){return J(W)}let I=A.iat||Math.floor(Date.now()/1000);if(B.noTimestamp)delete A.iat;else if(Z)A.iat=I;if(typeof B.notBefore<"u"){try{A.nbf=_IB(B.notBefore,I)}catch(W){return J(W)}if(typeof A.nbf>"u")return J(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof B.expiresIn<"u"&&typeof A==="object"){try{A.exp=_IB(B.expiresIn,I)}catch(W){return J(W)}if(typeof A.exp>"u")return J(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(PIB).forEach(function(W){let K=PIB[W];if(typeof B[W]<"u"){if(typeof A[K]<"u")return J(Error('Bad "options.'+W+'" option. The payload already has an "'+K+'" property.'));A[K]=B[W]}});let X=B.encoding||"utf8";if(typeof G==="function")G=G&&Qq3(G),TIB.createSign({header:Y,privateKey:Q,payload:A,encoding:X}).once("error",G).once("done",function(W){if(!B.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Y.alg)&&W.length<256)return G(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`));G(null,W)});else{let W=TIB.sign({header:Y,payload:A,secret:Q,encoding:X});if(!B.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Y.alg)&&W.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`);return W}}});var bIB=w((_h7,fIB)=>{fIB.exports={decode:Hm1(),verify:AIB(),sign:kIB(),JsonWebTokenError:k$A(),NotBeforeError:Fm1(),TokenExpiredError:Cm1()}});class V_{static fromAssertion(A){let Q=new V_;return Q.jwt=A,Q}static fromCertificate(A,Q,B){let G=new V_;if(G.privateKey=Q,G.thumbprint=A,G.useSha256=!1,B)G.publicCertificate=this.parseCertificate(B);return G}static fromCertificateWithSha256Thumbprint(A,Q,B){let G=new V_;if(G.privateKey=Q,G.thumbprint=A,G.useSha256=!0,B)G.publicCertificate=this.parseCertificate(B);return G}getJwt(A,Q,B){if(this.privateKey&&this.thumbprint){if(this.jwt&&!this.isExpired()&&Q===this.issuer&&B===this.jwtAudience)return this.jwt;return this.createJwt(A,Q,B)}if(this.jwt)return this.jwt;throw r0(LG.invalidAssertion)}createJwt(A,Q,B){this.issuer=Q,this.jwtAudience=B;let G=IY.nowSeconds();this.expirationTime=G+600;let Y={alg:this.useSha256?TL.PSS_256:TL.RSA_256},J=this.useSha256?TL.X5T_256:TL.X5T;if(Object.assign(Y,{[J]:lz.base64EncodeUrl(this.thumbprint,_E.HEX)}),this.publicCertificate)Object.assign(Y,{[TL.X5C]:this.publicCertificate});let I={[TL.AUDIENCE]:this.jwtAudience,[TL.EXPIRATION_TIME]:this.expirationTime,[TL.ISSUER]:this.issuer,[TL.SUBJECT]:this.issuer,[TL.NOT_BEFORE]:G,[TL.JWT_ID]:A.createNewGuid()};return this.jwt=hIB.default.sign(I,this.privateKey,{header:Y}),this.jwt}isExpired(){return this.expirationTime<IY.nowSeconds()}static parseCertificate(A){let Q=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,B=[],G;while((G=Q.exec(A))!==null)B.push(G[1].replace(/\r*\n/g,b0.EMPTY_STRING));return B}}var hIB;var BoA=L(()=>{N7();j$A();WY();hIB=o(bIB(),1);/*! @azure/msal-node v3.8.1 2025-10-29 */});var GoA="@azure/msal-node",E_="3.8.1";var D7A=L(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});var p$A;var mm1=L(()=>{N7();/*! @azure/msal-node v3.8.1 2025-10-29 */p$A=class p$A extends BH{constructor(A){super(A)}async acquireToken(A){this.logger.info("in acquireToken call in username-password client");let Q=IY.nowSeconds(),B=await this.executeTokenRequest(this.authority,A),G=new VI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return G.validateTokenResponse(B.body),G.handleServerTokenResponse(B.body,this.authority,Q,A)}async executeTokenRequest(A,Q){let B=this.createTokenQueryParameters(Q),G=S6.appendQueryString(A.tokenEndpoint,B),Z=await this.createTokenRequestBody(Q),Y=this.createTokenRequestHeaders({credential:Q.username,type:vF.UPN}),J={clientId:this.config.authOptions.clientId,authority:A.canonicalAuthority,scopes:Q.scopes,claims:Q.claims,authenticationScheme:Q.authenticationScheme,resourceRequestMethod:Q.resourceRequestMethod,resourceRequestUri:Q.resourceRequestUri,shrClaims:Q.shrClaims,sshKid:Q.sshKid};return this.executePostToTokenEndpoint(G,Z,Y,J,Q.correlationId)}async createTokenRequestBody(A){let Q=new Map;if(rB.addClientId(Q,this.config.authOptions.clientId),rB.addUsername(Q,A.username),rB.addPassword(Q,A.password),rB.addScopes(Q,A.scopes),rB.addResponseType(Q,u5A.IDTOKEN_TOKEN),rB.addGrantType(Q,dz.RESOURCE_OWNER_PASSWORD_GRANT),rB.addClientInfo(Q),rB.addLibraryInfo(Q,this.config.libraryInfo),rB.addApplicationTelemetry(Q,this.config.telemetry.application),rB.addThrottling(Q),this.serverTelemetryManager)rB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(rB.addCorrelationId(Q,B),this.config.clientCredentials.clientSecret)rB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=this.config.clientCredentials.clientAssertion;if(G)rB.addClientAssertion(Q,await bF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),rB.addClientAssertionType(Q,G.assertionType);if(!eG.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)rB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);if(this.config.systemOptions.preventCorsPreflight&&A.username)rB.addCcsUpn(Q,A.username);return TE.mapToQueryString(Q)}}});function gIB(A,Q,B,G){let Z=N$A.getStandardAuthorizeRequestParameters({...A.auth,authority:Q,redirectUri:B.redirectUri||""},B,G);if(rB.addLibraryInfo(Z,{sku:hF.MSAL_SKU,version:E_,cpu:process.arch||"",os:process.platform||""}),A.auth.protocolMode!==QH.OIDC)rB.addApplicationTelemetry(Z,A.telemetry.application);if(rB.addResponseType(Z,u5A.CODE),B.codeChallenge&&B.codeChallengeMethod)rB.addCodeChallengeParams(Z,B.codeChallenge,B.codeChallengeMethod);return rB.addExtraQueryParameters(Z,B.extraQueryParameters||{}),N$A.getAuthorizeUrl(Q,Z,A.auth.encodeExtraQueryParams,B.extraQueryParameters)}var uIB=L(()=>{N7();WY();D7A();/*! @azure/msal-node v3.8.1 2025-10-29 */});class Be{constructor(A){this.config=NGB(A),this.cryptoProvider=new lf,this.logger=new cz(this.config.system.loggerOptions,GoA,E_),this.storage=new Ae(this.logger,this.config.auth.clientId,this.cryptoProvider,fu1(this.config.auth)),this.tokenCache=new x$A(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(A){this.logger.info("getAuthCodeUrl called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A),responseMode:A.responseMode||MS.QUERY,authenticationScheme:Y8.BEARER,state:A.state||"",nonce:A.nonce||""},B=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions);return gIB(this.config,B,Q,this.logger)}async acquireTokenByCode(A,Q){if(this.logger.info("acquireTokenByCode called"),A.state&&Q)this.logger.info("acquireTokenByCode - validating state"),this.validateState(A.state,Q.state||""),Q={...Q,state:""};let B={...A,...await this.initializeBaseRequest(A),authenticationScheme:Y8.BEARER},G=this.initializeServerTelemetryManager(cf.acquireTokenByCode,B.correlationId);try{let Z=await this.createAuthority(B.authority,B.correlationId,void 0,A.azureCloudOptions),Y=await this.buildOauthClientConfiguration(Z,B.correlationId,B.redirectUri,G),J=new EaA(Y);return this.logger.verbose("Auth code client created",B.correlationId),await J.acquireToken(B,Q)}catch(Z){if(Z instanceof D6)Z.setCorrelationId(B.correlationId);throw G.cacheFailedRequest(Z),Z}}async acquireTokenByRefreshToken(A){this.logger.info("acquireTokenByRefreshToken called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A),authenticationScheme:Y8.BEARER},B=this.initializeServerTelemetryManager(cf.acquireTokenByRefreshToken,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,Q.redirectUri||"",B),Y=new J7A(Z);return this.logger.verbose("Refresh token client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof D6)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireTokenSilent(A){let Q={...A,...await this.initializeBaseRequest(A),forceRefresh:A.forceRefresh||!1},B=this.initializeServerTelemetryManager(cf.acquireTokenSilent,Q.correlationId,Q.forceRefresh);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,Q.redirectUri||"",B),Y=new DaA(Z);this.logger.verbose("Silent flow client created",Q.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(Q,Y,Z)}catch(J){if(J instanceof pc&&J.errorCode===LG.tokenRefreshRequired)return new J7A(Z).acquireTokenByRefreshToken(Q);throw J}}catch(G){if(G instanceof D6)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireCachedTokenSilent(A,Q,B){let[G,Z]=await Q.acquireCachedToken({...A,scopes:A.scopes?.length?A.scopes:[...AH]});if(Z===tG.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let Y=new J7A(B);try{await Y.acquireTokenByRefreshToken(A)}catch{}}return G}async acquireTokenByUsernamePassword(A){this.logger.info("acquireTokenByUsernamePassword called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A)},B=this.initializeServerTelemetryManager(cf.acquireTokenByUsernamePassword,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,"",B),Y=new p$A(Z);return this.logger.verbose("Username password client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof D6)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(A,Q){if(!A)throw sY.createStateNotFoundError();if(A!==Q)throw r0(LG.stateMismatch)}getLogger(){return this.logger}setLogger(A){this.logger=A}async buildOauthClientConfiguration(A,Q,B,G){return this.logger.verbose("buildOauthClientConfiguration called",Q),this.logger.info(`Building oauth client configuration with the following authority: ${A.tokenEndpoint}.`,Q),G?.updateRegionDiscoveryMetadata(A.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:A,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:B},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:Q},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:G,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(A)},libraryInfo:{sku:hF.MSAL_SKU,version:E_,cpu:process.arch||b0.EMPTY_STRING,os:process.platform||b0.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(A){if(this.developerProvidedClientAssertion)this.clientAssertion=V_.fromAssertion(await bF(this.developerProvidedClientAssertion,this.config.auth.clientId,A.tokenEndpoint));return this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,A.tokenEndpoint),assertionType:hF.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(A){if(this.logger.verbose("initializeRequestScopes called",A.correlationId),A.authenticationScheme&&A.authenticationScheme===Y8.POP)this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",A.correlationId);if(A.authenticationScheme=Y8.BEARER,this.config.cache.claimsBasedCachingEnabled&&A.claims&&!eG.isEmptyObj(A.claims))A.requestedClaimsHash=await this.cryptoProvider.hashString(A.claims);return{...A,scopes:[...A&&A.scopes||[],...AH],correlationId:A&&A.correlationId||this.cryptoProvider.createNewGuid(),authority:A.authority||this.config.auth.authority}}initializeServerTelemetryManager(A,Q,B){let G={clientId:this.config.auth.clientId,correlationId:Q,apiId:A,forceRefresh:B||!1};return new Ap(G,this.storage)}async createAuthority(A,Q,B,G){this.logger.verbose("createAuthority called",Q);let Z=pW.generateAuthority(A,G||this.config.auth.azureCloudOptions),Y={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:B,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return AaA.createDiscoveredInstance(Z,this.config.system.networkClient,this.storage,Y,this.logger,Q)}clearCache(){this.storage.clear()}}var ZoA=L(()=>{N7();su1();P$A();SaA();WY();Jm1();BoA();D7A();O$A();mm1();uIB();/*! @azure/msal-node v3.8.1 2025-10-29 */});import Kq3 from"http";class dm1{async listenForAuthCode(A,Q){if(this.server)throw sY.createLoopbackServerAlreadyExistsError();return new Promise((B,G)=>{this.server=Kq3.createServer((Z,Y)=>{let J=Z.url;if(!J){Y.end(Q||"Error occurred loading redirectUrl"),G(sY.createUnableToLoadRedirectUrlError());return}else if(J===b0.FORWARD_SLASH){Y.end(A||"Auth code was successfully acquired. You can close this window now.");return}let I=this.getRedirectUri(),X=new URL(J,I),W=TE.getDeserializedResponse(X.search)||{};if(W.code)Y.writeHead(E6.REDIRECT,{location:I}),Y.end();if(W.error)Y.end(Q||`Error occurred: ${W.error}`);B(W)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw sY.createNoLoopbackServerExistsError();let A=this.server.address();if(!A||typeof A==="string"||!A.port)throw this.closeServer(),sY.createInvalidLoopbackAddressTypeError();let Q=A&&A.port;return`${hF.HTTP_PROTOCOL}${hF.LOCALHOST}:${Q}`}closeServer(){if(this.server){if(this.server.close(),typeof this.server.closeAllConnections==="function")this.server.closeAllConnections();this.server.unref(),this.server=void 0}}}var mIB=L(()=>{N7();O$A();WY();/*! @azure/msal-node v3.8.1 2025-10-29 */});var l$A;var cm1=L(()=>{N7();/*! @azure/msal-node v3.8.1 2025-10-29 */l$A=class l$A extends BH{constructor(A){super(A)}async acquireToken(A){let Q=await this.getDeviceCode(A);A.deviceCodeCallback(Q);let B=IY.nowSeconds(),G=await this.acquireTokenWithDeviceCode(A,Q),Z=new VI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return Z.validateTokenResponse(G),Z.handleServerTokenResponse(G,this.authority,B,A)}async getDeviceCode(A){let Q=this.createExtraQueryParameters(A),B=S6.appendQueryString(this.authority.deviceCodeEndpoint,Q),G=this.createQueryString(A),Z=this.createTokenRequestHeaders(),Y={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid};return this.executePostRequestToDeviceCodeEndpoint(B,G,Z,Y,A.correlationId)}createExtraQueryParameters(A){let Q=new Map;if(A.extraQueryParameters)rB.addExtraQueryParameters(Q,A.extraQueryParameters);return TE.mapToQueryString(Q)}async executePostRequestToDeviceCodeEndpoint(A,Q,B,G,Z){let{body:{user_code:Y,device_code:J,verification_uri:I,expires_in:X,interval:W,message:K}}=await this.sendPostRequest(G,A,{body:Q,headers:B},Z);return{userCode:Y,deviceCode:J,verificationUri:I,expiresIn:X,interval:W,message:K}}createQueryString(A){let Q=new Map;if(rB.addScopes(Q,A.scopes),rB.addClientId(Q,this.config.authOptions.clientId),A.extraQueryParameters)rB.addExtraQueryParameters(Q,A.extraQueryParameters);if(A.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)rB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return TE.mapToQueryString(Q)}continuePolling(A,Q,B){if(B)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),r0(LG.deviceCodePollingCancelled);else if(Q&&Q<A&&IY.nowSeconds()>Q)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${Q}`),r0(LG.userTimeoutReached);else if(IY.nowSeconds()>A){if(Q)this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${Q}`);throw this.logger.error(`Device code expired. Expiration time of device code was ${A}`),r0(LG.deviceCodeExpired)}return!0}async acquireTokenWithDeviceCode(A,Q){let B=this.createTokenQueryParameters(A),G=S6.appendQueryString(this.authority.tokenEndpoint,B),Z=this.createTokenRequestBody(A,Q),Y=this.createTokenRequestHeaders(),J=A.timeout?IY.nowSeconds()+A.timeout:void 0,I=IY.nowSeconds()+Q.expiresIn,X=Q.interval*1000;while(this.continuePolling(I,J,A.cancel)){let W={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid},K=await this.executePostToTokenEndpoint(G,Z,Y,W,A.correlationId);if(K.body&&K.body.error)if(K.body.error===b0.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await IY.delay(X);else throw this.logger.info("Unexpected error in polling from the server"),Ng1(c5A.postRequestFailed,K.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),K.body}throw this.logger.error("Polling stopped for unknown reasons."),r0(LG.deviceCodeUnknownError)}createTokenRequestBody(A,Q){let B=new Map;rB.addScopes(B,A.scopes),rB.addClientId(B,this.config.authOptions.clientId),rB.addGrantType(B,dz.DEVICE_CODE_GRANT),rB.addDeviceCode(B,Q.deviceCode);let G=A.correlationId||this.config.cryptoInterface.createNewGuid();if(rB.addCorrelationId(B,G),rB.addClientInfo(B),rB.addLibraryInfo(B,this.config.libraryInfo),rB.addApplicationTelemetry(B,this.config.telemetry.application),rB.addThrottling(B),this.serverTelemetryManager)rB.addServerTelemetry(B,this.serverTelemetryManager);if(!eG.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)rB.addClaims(B,A.claims,this.config.authOptions.clientCapabilities);return TE.mapToQueryString(B)}}});var i$A;var dIB=L(()=>{WY();N7();ZoA();O$A();mIB();cm1();D7A();/*! @azure/msal-node v3.8.1 2025-10-29 */i$A=class i$A extends Be{constructor(A){super(A);if(this.config.broker.nativeBrokerPlugin)if(this.config.broker.nativeBrokerPlugin.isBrokerAvailable)this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions);else this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.");this.skus=Ap.makeExtraSkuString({libraryName:hF.MSAL_SKU,libraryVersion:E_})}async acquireTokenByDeviceCode(A){this.logger.info("acquireTokenByDeviceCode called",A.correlationId);let Q=Object.assign(A,await this.initializeBaseRequest(A)),B=this.initializeServerTelemetryManager(cf.acquireTokenByDeviceCode,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,"",B),Y=new l$A(Z);return this.logger.verbose("Device code client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof D6)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireTokenInteractive(A){let Q=A.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",Q);let{openBrowser:B,successTemplate:G,errorTemplate:Z,windowHandle:Y,loopbackClient:J,...I}=A;if(this.nativeBrokerPlugin){let D={...I,clientId:this.config.auth.clientId,scopes:A.scopes||AH,redirectUri:A.redirectUri||"",authority:A.authority||this.config.auth.authority,correlationId:Q,extraParameters:{...I.extraQueryParameters,...I.tokenQueryParameters,[dt.X_CLIENT_EXTRA_SKU]:this.skus},accountId:I.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(D,Y)}if(A.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw sY.createRedirectUriNotSupportedError();A.redirectUri=""}let{verifier:X,challenge:W}=await this.cryptoProvider.generatePkceCodes(),K=J||new dm1,V={},E=null;try{let D=K.listenForAuthCode(G,Z).then((q)=>{V=q}).catch((q)=>{E=q}),H=await this.waitForRedirectUri(K),F={...I,correlationId:Q,scopes:A.scopes||AH,redirectUri:H,responseMode:MS.QUERY,codeChallenge:W,codeChallengeMethod:RnA.S256},C=await this.getAuthCodeUrl(F);if(await B(C),await D,E)throw E;if(V.error)throw new fF(V.error,V.error_description,V.suberror);else if(!V.code)throw sY.createNoAuthCodeInResponseError();let U=V.client_info,O={code:V.code,codeVerifier:X,clientInfo:U||b0.EMPTY_STRING,...F};return await this.acquireTokenByCode(O)}finally{K.closeServer()}}async acquireTokenSilent(A){let Q=A.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",Q),this.nativeBrokerPlugin){let B={...A,clientId:this.config.auth.clientId,scopes:A.scopes||AH,redirectUri:A.redirectUri||"",authority:A.authority||this.config.auth.authority,correlationId:Q,extraParameters:{...A.tokenQueryParameters,[dt.X_CLIENT_EXTRA_SKU]:this.skus},accountId:A.account.nativeAccountId,forceRefresh:A.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(B)}if(A.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw sY.createRedirectUriNotSupportedError();A.redirectUri=""}return super.acquireTokenSilent(A)}async signOut(A){if(this.nativeBrokerPlugin&&A.account.nativeAccountId){let Q={clientId:this.config.auth.clientId,accountId:A.account.nativeAccountId,correlationId:A.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(Q)}await this.getTokenCache().removeAccount(A.account,A.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let A=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,A)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(A){return new Promise((Q,B)=>{let G=0,Z=setInterval(()=>{if(zaA.TIMEOUT_MS/zaA.INTERVAL_MS<G){clearInterval(Z),B(sY.createLoopbackServerTimeoutError());return}try{let Y=A.getRedirectUri();clearInterval(Z),Q(Y);return}catch(Y){if(Y instanceof D6&&Y.errorCode===BW.noLoopbackServerExists.code){G++;return}clearInterval(Z),B(Y);return}},zaA.INTERVAL_MS)})}}});var Ge;var YoA=L(()=>{N7();/*! @azure/msal-node v3.8.1 2025-10-29 */Ge=class Ge extends BH{constructor(A,Q){super(A);this.appTokenProvider=Q}async acquireToken(A){if(A.skipCache||A.claims)return this.executeTokenRequest(A,this.authority);let[Q,B]=await this.getCachedAuthenticationResult(A,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);if(Q){if(B===tG.PROACTIVELY_REFRESHED){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let G=!0;await this.executeTokenRequest(A,this.authority,G)}return Q}else return this.executeTokenRequest(A,this.authority)}async getCachedAuthenticationResult(A,Q,B,G,Z,Y){let J=Q,I=Q,X=tG.NOT_APPLICABLE,W;if(J.serializableCache&&J.persistencePlugin)W=new _L(J.serializableCache,!1),await J.persistencePlugin.beforeCacheAccess(W);let K=this.readAccessTokenFromCache(G,I.managedIdentityId?.id||J.authOptions.clientId,new KI(A.scopes||[]),Z,A.correlationId);if(J.serializableCache&&J.persistencePlugin&&W)await J.persistencePlugin.afterCacheAccess(W);if(!K)return Y?.setCacheOutcome(tG.NO_CACHED_ACCESS_TOKEN),[null,tG.NO_CACHED_ACCESS_TOKEN];if(IY.isTokenExpired(K.expiresOn,J.systemOptions?.tokenRenewalOffsetSeconds||d5A))return Y?.setCacheOutcome(tG.CACHED_ACCESS_TOKEN_EXPIRED),[null,tG.CACHED_ACCESS_TOKEN_EXPIRED];if(K.refreshOn&&IY.isTokenExpired(K.refreshOn.toString(),0))X=tG.PROACTIVELY_REFRESHED,Y?.setCacheOutcome(tG.PROACTIVELY_REFRESHED);return[await VI.generateAuthenticationResult(B,G,{account:null,idToken:null,accessToken:K,refreshToken:null,appMetadata:null},!0,A),X]}readAccessTokenFromCache(A,Q,B,G,Z){let Y={homeAccountId:b0.EMPTY_STRING,environment:A.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:w7.ACCESS_TOKEN,clientId:Q,realm:A.tenant,target:KI.createSearchScopes(B.asArray())},J=G.getAccessTokensByFilter(Y,Z);if(J.length<1)return null;else if(J.length>1)throw r0(LG.multipleMatchingTokens);return J[0]}async executeTokenRequest(A,Q,B){let G,Z;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let I={correlationId:A.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:A.scopes,claims:A.claims};Z=IY.nowSeconds();let X=await this.appTokenProvider(I);G={access_token:X.accessToken,expires_in:X.expiresInSeconds,refresh_in:X.refreshInSeconds,token_type:Y8.BEARER}}else{let I=this.createTokenQueryParameters(A),X=S6.appendQueryString(Q.tokenEndpoint,I),W=await this.createTokenRequestBody(A),K=this.createTokenRequestHeaders(),V={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid};this.logger.info("Sending token request to endpoint: "+Q.tokenEndpoint),Z=IY.nowSeconds();let E=await this.executePostToTokenEndpoint(X,W,K,V,A.correlationId);G=E.body,G.status=E.status}let Y=new VI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return Y.validateTokenResponse(G,B),await Y.handleServerTokenResponse(G,this.authority,Z,A)}async createTokenRequestBody(A){let Q=new Map;if(rB.addClientId(Q,this.config.authOptions.clientId),rB.addScopes(Q,A.scopes,!1),rB.addGrantType(Q,dz.CLIENT_CREDENTIALS_GRANT),rB.addLibraryInfo(Q,this.config.libraryInfo),rB.addApplicationTelemetry(Q,this.config.telemetry.application),rB.addThrottling(Q),this.serverTelemetryManager)rB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(rB.addCorrelationId(Q,B),this.config.clientCredentials.clientSecret)rB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=A.clientAssertion||this.config.clientCredentials.clientAssertion;if(G)rB.addClientAssertion(Q,await bF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),rB.addClientAssertionType(Q,G.assertionType);if(!eG.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)rB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return TE.mapToQueryString(Q)}}});var n$A;var pm1=L(()=>{N7();j$A();/*! @azure/msal-node v3.8.1 2025-10-29 */n$A=class n$A extends BH{constructor(A){super(A)}async acquireToken(A){if(this.scopeSet=new KI(A.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(A.oboAssertion),A.skipCache||A.claims)return this.executeTokenRequest(A,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(A)}catch(Q){return await this.executeTokenRequest(A,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(A){let Q=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,A);if(!Q)throw this.serverTelemetryManager?.setCacheOutcome(tG.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),r0(LG.tokenRefreshRequired);else if(IY.isTokenExpired(Q.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(tG.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),r0(LG.tokenRefreshRequired);let B=this.readIdTokenFromCacheForOBO(Q.homeAccountId,A.correlationId),G,Z=null;if(B){G=bnA.extractTokenClaims(B.secret,lz.base64Decode);let Y=G.oid||G.sub,J={homeAccountId:B.homeAccountId,environment:B.environment,tenantId:B.realm,username:b0.EMPTY_STRING,localAccountId:Y||b0.EMPTY_STRING};Z=this.cacheManager.getAccount(this.cacheManager.generateAccountKey(J),A.correlationId)}if(this.config.serverTelemetryManager)this.config.serverTelemetryManager.incrementCacheHits();return VI.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:Z,accessToken:Q,idToken:B,refreshToken:null,appMetadata:null},!0,A,G)}readIdTokenFromCacheForOBO(A,Q){let B={homeAccountId:A,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:w7.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},G=this.cacheManager.getIdTokensByFilter(B,Q);if(Object.values(G).length<1)return null;return Object.values(G)[0]}readAccessTokenFromCacheForOBO(A,Q){let B=Q.authenticationScheme||Y8.BEARER,Z={credentialType:B&&B.toLowerCase()!==Y8.BEARER.toLowerCase()?w7.ACCESS_TOKEN_WITH_AUTH_SCHEME:w7.ACCESS_TOKEN,clientId:A,target:KI.createSearchScopes(this.scopeSet.asArray()),tokenType:B,keyId:Q.sshKid,requestedClaimsHash:Q.requestedClaimsHash,userAssertionHash:this.userAssertionHash},Y=this.cacheManager.getAccessTokensByFilter(Z,Q.correlationId),J=Y.length;if(J<1)return null;else if(J>1)throw r0(LG.multipleMatchingTokens);return Y[0]}async executeTokenRequest(A,Q,B){let G=this.createTokenQueryParameters(A),Z=S6.appendQueryString(Q.tokenEndpoint,G),Y=await this.createTokenRequestBody(A),J=this.createTokenRequestHeaders(),I={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid},X=IY.nowSeconds(),W=await this.executePostToTokenEndpoint(Z,Y,J,I,A.correlationId),K=new VI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return K.validateTokenResponse(W.body),await K.handleServerTokenResponse(W.body,this.authority,X,A,void 0,B)}async createTokenRequestBody(A){let Q=new Map;if(rB.addClientId(Q,this.config.authOptions.clientId),rB.addScopes(Q,A.scopes),rB.addGrantType(Q,dz.JWT_BEARER),rB.addClientInfo(Q),rB.addLibraryInfo(Q,this.config.libraryInfo),rB.addApplicationTelemetry(Q,this.config.telemetry.application),rB.addThrottling(Q),this.serverTelemetryManager)rB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(rB.addCorrelationId(Q,B),rB.addRequestTokenUse(Q,dt.ON_BEHALF_OF),rB.addOboAssertion(Q,A.oboAssertion),this.config.clientCredentials.clientSecret)rB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=this.config.clientCredentials.clientAssertion;if(G)rB.addClientAssertion(Q,await bF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),rB.addClientAssertionType(Q,G.assertionType);if(A.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)rB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return TE.mapToQueryString(Q)}}});var a$A;var cIB=L(()=>{ZoA();BoA();WY();N7();YoA();pm1();/*! @azure/msal-node v3.8.1 2025-10-29 */a$A=class a$A extends Be{constructor(A){super(A);let Q=!!this.config.auth.clientSecret,B=!!this.config.auth.clientAssertion,G=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(this.appTokenProvider)return;if(Q&&B||B&&G||Q&&G)throw r0(LG.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(!G)throw r0(LG.invalidClientCredential);else this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?V_.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):V_.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);this.appTokenProvider=void 0}SetAppTokenProvider(A){this.appTokenProvider=A}async acquireTokenByClientCredential(A){this.logger.info("acquireTokenByClientCredential called",A.correlationId);let Q;if(A.clientAssertion)Q={assertion:await bF(A.clientAssertion,this.config.auth.clientId),assertionType:hF.JWT_BEARER_ASSERTION_TYPE};let B=await this.initializeBaseRequest(A),G={...B,scopes:B.scopes.filter((V)=>!AH.includes(V))},Z={...A,...G,clientAssertion:Q},J=new S6(Z.authority).getUrlComponents().PathSegments[0];if(Object.values(mz).includes(J))throw r0(LG.missingTenantIdError);let I=process.env[IGB],X;if(Z.azureRegion!=="DisableMsalForceRegion")if(!Z.azureRegion&&I)X=I;else X=Z.azureRegion;let W={azureRegion:X,environmentRegion:process.env[JGB]},K=this.initializeServerTelemetryManager(cf.acquireTokenByClientCredential,Z.correlationId,Z.skipCache);try{let V=await this.createAuthority(Z.authority,Z.correlationId,W,A.azureCloudOptions),E=await this.buildOauthClientConfiguration(V,Z.correlationId,"",K),D=new Ge(E,this.appTokenProvider);return this.logger.verbose("Client credential client created",Z.correlationId),await D.acquireToken(Z)}catch(V){if(V instanceof D6)V.setCorrelationId(Z.correlationId);throw K.cacheFailedRequest(V),V}}async acquireTokenOnBehalfOf(A){this.logger.info("acquireTokenOnBehalfOf called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A)};try{let B=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),G=await this.buildOauthClientConfiguration(B,Q.correlationId,"",void 0),Z=new n$A(G);return this.logger.verbose("On behalf of client created",Q.correlationId),await Z.acquireToken(Q)}catch(B){if(B instanceof D6)B.setCorrelationId(Q.correlationId);throw B}}}});function pIB(A){if(typeof A!=="string")return!1;let Q=new Date(A);return!isNaN(Q.getTime())&&Q.toISOString()===A}var lIB=L(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class lm1{constructor(A,Q,B){this.httpClientNoRetries=A,this.retryPolicy=Q,this.logger=B}async sendNetworkRequestAsyncHelper(A,Q,B){if(A===XY.GET)return this.httpClientNoRetries.sendGetRequestAsync(Q,B);else return this.httpClientNoRetries.sendPostRequestAsync(Q,B)}async sendNetworkRequestAsync(A,Q,B){let G=await this.sendNetworkRequestAsyncHelper(A,Q,B);if("isNewRequest"in this.retryPolicy)this.retryPolicy.isNewRequest=!0;let Z=0;while(await this.retryPolicy.pauseForRetry(G.status,Z,this.logger,G.headers[xZ.RETRY_AFTER]))G=await this.sendNetworkRequestAsyncHelper(A,Q,B),Z++;return G}async sendGetRequestAsync(A,Q){return this.sendNetworkRequestAsync(XY.GET,A,Q)}async sendPostRequestAsync(A,Q){return this.sendNetworkRequestAsync(XY.POST,A,Q)}}var iIB=L(()=>{N7();WY();/*! @azure/msal-node v3.8.1 2025-10-29 */});class nz{constructor(A,Q,B,G,Z){this.logger=A,this.nodeStorage=Q,this.networkClient=B,this.cryptoProvider=G,this.disableInternalRetries=Z}async getServerTokenResponseAsync(A,Q,B,G){return this.getServerTokenResponse(A)}getServerTokenResponse(A){let Q,B;if(A.body.expires_on){if(pIB(A.body.expires_on))A.body.expires_on=new Date(A.body.expires_on).getTime()/1000;if(B=A.body.expires_on-IY.nowSeconds(),B>7200)Q=B/2}return{status:A.status,access_token:A.body.access_token,expires_in:B,scope:A.body.resource,token_type:A.body.token_type,refresh_in:Q,correlation_id:A.body.correlation_id||A.body.correlationId,error:typeof A.body.error==="string"?A.body.error:A.body.error?.code,error_description:A.body.message||(typeof A.body.error==="string"?A.body.error_description:A.body.error?.message),error_codes:A.body.error_codes,timestamp:A.body.timestamp,trace_id:A.body.trace_id}}async acquireTokenWithManagedIdentity(A,Q,B,G){let Z=this.createRequest(A.resource,Q);if(A.revokedTokenSha256Hash)this.logger.info(`[Managed Identity] The following claims are present in the request: ${A.claims}`),Z.queryParameters[QW.SHA256_TOKEN_TO_REFRESH]=A.revokedTokenSha256Hash;if(A.clientCapabilities?.length){let E=A.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${E}`),Z.queryParameters[QW.XMS_CC]=E}let Y=Z.headers;Y[xZ.CONTENT_TYPE]=b0.URL_FORM_CONTENT_TYPE;let J={headers:Y};if(Object.keys(Z.bodyParameters).length)J.body=Z.computeParametersBodyString();let I=this.disableInternalRetries?this.networkClient:new lm1(this.networkClient,Z.retryPolicy,this.logger),X=IY.nowSeconds(),W;try{if(Z.httpMethod===XY.POST)W=await I.sendPostRequestAsync(Z.computeUri(),J);else W=await I.sendGetRequestAsync(Z.computeUri(),J)}catch(E){if(E instanceof D6)throw E;else throw r0(LG.networkError)}let K=new VI(Q.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),V=await this.getServerTokenResponseAsync(W,I,Z,J);return K.validateTokenResponse(V,G),K.handleServerTokenResponse(V,B,X,A)}getManagedIdentityUserAssignedIdQueryParameterKey(A,Q,B){switch(A){case jJ.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${B?"2017+":"2019+"}] Adding user assigned client id to the request.`),B?Ze.MANAGED_IDENTITY_CLIENT_ID_2017:Ze.MANAGED_IDENTITY_CLIENT_ID;case jJ.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),Q?Ze.MANAGED_IDENTITY_RESOURCE_ID_IMDS:Ze.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case jJ.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),Ze.MANAGED_IDENTITY_OBJECT_ID;default:throw YX(Bp)}}}var Ze;var Ye=L(()=>{N7();WY();I7A();lIB();iIB();tt();/*! @azure/msal-node v3.8.1 2025-10-29 */Ze={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"};nz.getValidatedEnvVariableUrlString=(A,Q,B,G)=>{try{return new S6(Q).urlString}catch(Z){throw G.info(`[Managed Identity] ${B} managed identity is unavailable because the '${A}' environment variable is malformed.`),YX(st[A])}}});class im1{calculateDelay(A,Q){if(!A)return Q;let B=Math.round(parseFloat(A)*1000);if(isNaN(B))B=new Date(A).valueOf()-new Date().valueOf();return Math.max(Q,B)}}var nIB=L(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class JoA{constructor(){this.linearRetryStrategy=new im1}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return Eq3}async pauseForRetry(A,Q,B,G){if(Dq3.includes(A)&&Q<Vq3){let Z=this.linearRetryStrategy.calculateDelay(G,JoA.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return B.verbose(`Retrying request in ${Z}ms (retry attempt: ${Q+1})`),await new Promise((Y)=>{return setTimeout(Y,Z)}),!0}return!1}}var Vq3=3,Eq3=1000,Dq3;var aIB=L(()=>{PaA();nIB();/*! @azure/msal-node v3.8.1 2025-10-29 */Dq3=[E6.NOT_FOUND,E6.REQUEST_TIMEOUT,E6.TOO_MANY_REQUESTS,E6.SERVER_ERROR,E6.SERVICE_UNAVAILABLE,E6.GATEWAY_TIMEOUT]});class Ew{constructor(A,Q,B){this.httpMethod=A,this._baseEndpoint=Q,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=B||new JoA}computeUri(){let A=new Map;if(this.queryParameters)rB.addExtraQueryParameters(A,this.queryParameters);let Q=TE.mapToQueryString(A);return S6.appendQueryString(this._baseEndpoint,Q)}computeParametersBodyString(){let A=new Map;if(this.bodyParameters)rB.addExtraQueryParameters(A,this.bodyParameters);return TE.mapToQueryString(A)}}var Je=L(()=>{N7();aIB();/*! @azure/msal-node v3.8.1 2025-10-29 */});var Hq3="2019-08-01",Ie;var oIB=L(()=>{Ye();WY();Je();/*! @azure/msal-node v3.8.1 2025-10-29 */Ie=class Ie extends nz{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.identityEndpoint=Y,this.identityHeader=J}static getEnvironmentVariables(){let A=process.env[P4.IDENTITY_ENDPOINT],Q=process.env[P4.IDENTITY_HEADER];return[A,Q]}static tryCreate(A,Q,B,G,Z){let[Y,J]=Ie.getEnvironmentVariables();if(!Y||!J)return A.info(`[Managed Identity] ${d4.APP_SERVICE} managed identity is unavailable because one or both of the '${P4.IDENTITY_HEADER}' and '${P4.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let I=Ie.getValidatedEnvVariableUrlString(P4.IDENTITY_ENDPOINT,Y,d4.APP_SERVICE,A);return A.info(`[Managed Identity] Environment variables validation passed for ${d4.APP_SERVICE} managed identity. Endpoint URI: ${I}. Creating ${d4.APP_SERVICE} managed identity.`),new Ie(A,Q,B,G,Z,Y,J)}createRequest(A,Q){let B=new Ew(XY.GET,this.identityEndpoint);if(B.headers[pz.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,B.queryParameters[QW.API_VERSION]=Hq3,B.queryParameters[QW.RESOURCE]=A,Q.idType!==jJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType)]=Q.id;return B}}});import{accessSync as Fq3,constants as rIB,statSync as Cq3,readFileSync as zq3}from"fs";import Uq3 from"path";var $q3="2019-11-01",sIB="http://127.0.0.1:40342/metadata/identity/oauth2/token",tIB="N/A: himds executable exists",eIB,wq3,Zp;var AXB=L(()=>{N7();Je();Ye();I7A();WY();tt();/*! @azure/msal-node v3.8.1 2025-10-29 */eIB={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},wq3={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"};Zp=class Zp extends nz{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.identityEndpoint=Y}static getEnvironmentVariables(){let A=process.env[P4.IDENTITY_ENDPOINT],Q=process.env[P4.IMDS_ENDPOINT];if(!A||!Q){let B=wq3[process.platform];try{Fq3(B,rIB.F_OK|rIB.R_OK),A=sIB,Q=tIB}catch(G){}}return[A,Q]}static tryCreate(A,Q,B,G,Z,Y){let[J,I]=Zp.getEnvironmentVariables();if(!J||!I)return A.info(`[Managed Identity] ${d4.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${P4.IDENTITY_ENDPOINT}' and '${P4.IMDS_ENDPOINT}' are not defined. ${d4.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(I===tIB)A.info(`[Managed Identity] ${d4.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${d4.AZURE_ARC} endpoint: ${sIB}. Creating ${d4.AZURE_ARC} managed identity.`);else{let X=Zp.getValidatedEnvVariableUrlString(P4.IDENTITY_ENDPOINT,J,d4.AZURE_ARC,A);X.endsWith("/")&&X.slice(0,-1),Zp.getValidatedEnvVariableUrlString(P4.IMDS_ENDPOINT,I,d4.AZURE_ARC,A),A.info(`[Managed Identity] Environment variables validation passed for ${d4.AZURE_ARC} managed identity. Endpoint URI: ${X}. Creating ${d4.AZURE_ARC} managed identity.`)}if(Y.idType!==jJ.SYSTEM_ASSIGNED)throw YX(qaA);return new Zp(A,Q,B,G,Z,J)}createRequest(A){let Q=new Ew(XY.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return Q.headers[pz.METADATA_HEADER_NAME]="true",Q.queryParameters[QW.API_VERSION]=$q3,Q.queryParameters[QW.RESOURCE]=A,Q}async getServerTokenResponseAsync(A,Q,B,G){let Z;if(A.status===E6.UNAUTHORIZED){let Y=A.headers["www-authenticate"];if(!Y)throw YX(OaA);if(!Y.includes("Basic realm="))throw YX(RaA);let J=Y.split("Basic realm=")[1];if(!eIB.hasOwnProperty(process.platform))throw YX(NaA);let I=eIB[process.platform],X=Uq3.basename(J);if(!X.endsWith(".key"))throw YX(UaA);if(I+X!==J)throw YX($aA);let W;try{W=await Cq3(J).size}catch(E){throw YX(M$A)}if(W>KGB)throw YX(waA);let K;try{K=zq3(J,_E.UTF8)}catch(E){throw YX(M$A)}let V=`Basic ${K}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),B.headers[pz.AUTHORIZATION_HEADER_NAME]=V;try{Z=await Q.sendGetRequestAsync(B.computeUri(),G)}catch(E){if(E instanceof D6)throw E;else throw r0(LG.networkError)}}return this.getServerTokenResponse(Z||A)}}});var Xe;var QXB=L(()=>{Je();Ye();WY();I7A();tt();/*! @azure/msal-node v3.8.1 2025-10-29 */Xe=class Xe extends nz{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.msiEndpoint=Y}static getEnvironmentVariables(){return[process.env[P4.MSI_ENDPOINT]]}static tryCreate(A,Q,B,G,Z,Y){let[J]=Xe.getEnvironmentVariables();if(!J)return A.info(`[Managed Identity] ${d4.CLOUD_SHELL} managed identity is unavailable because the '${P4.MSI_ENDPOINT} environment variable is not defined.`),null;let I=Xe.getValidatedEnvVariableUrlString(P4.MSI_ENDPOINT,J,d4.CLOUD_SHELL,A);if(A.info(`[Managed Identity] Environment variable validation passed for ${d4.CLOUD_SHELL} managed identity. Endpoint URI: ${I}. Creating ${d4.CLOUD_SHELL} managed identity.`),Y.idType!==jJ.SYSTEM_ASSIGNED)throw YX(LaA);return new Xe(A,Q,B,G,Z,J)}createRequest(A){let Q=new Ew(XY.POST,this.msiEndpoint);return Q.headers[pz.METADATA_HEADER_NAME]="true",Q.bodyParameters[QW.RESOURCE]=A,Q}}});class nm1{constructor(A,Q,B){this.minExponentialBackoff=A,this.maxExponentialBackoff=Q,this.exponentialDeltaBackoff=B}calculateDelay(A){if(A===0)return this.minExponentialBackoff;return Math.min(Math.pow(2,A-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}}var BXB=L(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class We{constructor(){this.exponentialRetryStrategy=new nm1(We.MIN_EXPONENTIAL_BACKOFF_MS,We.MAX_EXPONENTIAL_BACKOFF_MS,We.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return Mq3}static get MAX_EXPONENTIAL_BACKOFF_MS(){return Oq3}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return Rq3}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return _q3}set isNewRequest(A){this._isNewRequest=A}async pauseForRetry(A,Q,B){if(this._isNewRequest)this._isNewRequest=!1,this.maxRetries=A===E6.GONE?Lq3:qq3;if((Nq3.includes(A)||A>=E6.SERVER_ERROR_RANGE_START&&A<=E6.SERVER_ERROR_RANGE_END&&Q<this.maxRetries)&&Q<this.maxRetries){let G=A===E6.GONE?We.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(Q);return B.verbose(`Retrying request in ${G}ms (retry attempt: ${Q+1})`),await new Promise((Z)=>{return setTimeout(Z,G)}),!0}return!1}}var Nq3,qq3=3,Lq3=7,Mq3=1000,Oq3=4000,Rq3=2000,_q3=1e4;var GXB=L(()=>{PaA();BXB();/*! @azure/msal-node v3.8.1 2025-10-29 */Nq3=[E6.NOT_FOUND,E6.REQUEST_TIMEOUT,E6.GONE,E6.TOO_MANY_REQUESTS]});var ZXB="/metadata/identity/oauth2/token",Tq3,jq3="2018-02-01",o$A;var YXB=L(()=>{Je();Ye();WY();GXB();/*! @azure/msal-node v3.8.1 2025-10-29 */Tq3=`http://169.254.169.254${ZXB}`;o$A=class o$A extends nz{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.identityEndpoint=Y}static tryCreate(A,Q,B,G,Z){let Y;if(process.env[P4.AZURE_POD_IDENTITY_AUTHORITY_HOST])A.info(`[Managed Identity] Environment variable ${P4.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${d4.IMDS} returned endpoint: ${process.env[P4.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),Y=o$A.getValidatedEnvVariableUrlString(P4.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[P4.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${ZXB}`,d4.IMDS,A);else A.info(`[Managed Identity] Unable to find ${P4.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${d4.IMDS}, using the default endpoint.`),Y=Tq3;return new o$A(A,Q,B,G,Z,Y)}createRequest(A,Q){let B=new Ew(XY.GET,this.identityEndpoint);if(B.headers[pz.METADATA_HEADER_NAME]="true",B.queryParameters[QW.API_VERSION]=jq3,B.queryParameters[QW.RESOURCE]=A,Q.idType!==jJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType,!0)]=Q.id;return B.retryPolicy=new We,B}}});var Pq3="2019-07-01-preview",Ke;var JXB=L(()=>{Je();Ye();WY();/*! @azure/msal-node v3.8.1 2025-10-29 */Ke=class Ke extends nz{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.identityEndpoint=Y,this.identityHeader=J}static getEnvironmentVariables(){let A=process.env[P4.IDENTITY_ENDPOINT],Q=process.env[P4.IDENTITY_HEADER],B=process.env[P4.IDENTITY_SERVER_THUMBPRINT];return[A,Q,B]}static tryCreate(A,Q,B,G,Z,Y){let[J,I,X]=Ke.getEnvironmentVariables();if(!J||!I||!X)return A.info(`[Managed Identity] ${d4.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${P4.IDENTITY_HEADER}', '${P4.IDENTITY_ENDPOINT}' or '${P4.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let W=Ke.getValidatedEnvVariableUrlString(P4.IDENTITY_ENDPOINT,J,d4.SERVICE_FABRIC,A);if(A.info(`[Managed Identity] Environment variables validation passed for ${d4.SERVICE_FABRIC} managed identity. Endpoint URI: ${W}. Creating ${d4.SERVICE_FABRIC} managed identity.`),Y.idType!==jJ.SYSTEM_ASSIGNED)A.warning(`[Managed Identity] ${d4.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`);return new Ke(A,Q,B,G,Z,J,I)}createRequest(A,Q){let B=new Ew(XY.GET,this.identityEndpoint);if(B.headers[pz.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,B.queryParameters[QW.API_VERSION]=Pq3,B.queryParameters[QW.RESOURCE]=A,Q.idType!==jJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType)]=Q.id;return B}}});var Sq3="2017-09-01",xq3,Ve;var IXB=L(()=>{Ye();WY();Je();/*! @azure/msal-node v3.8.1 2025-10-29 */xq3=`Only client id is supported for user-assigned managed identity in ${d4.MACHINE_LEARNING}.`;Ve=class Ve extends nz{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.msiEndpoint=Y,this.secret=J}static getEnvironmentVariables(){let A=process.env[P4.MSI_ENDPOINT],Q=process.env[P4.MSI_SECRET];return[A,Q]}static tryCreate(A,Q,B,G,Z){let[Y,J]=Ve.getEnvironmentVariables();if(!Y||!J)return A.info(`[Managed Identity] ${d4.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${P4.MSI_ENDPOINT}' and '${P4.MSI_SECRET}' environment variables are not defined.`),null;let I=Ve.getValidatedEnvVariableUrlString(P4.MSI_ENDPOINT,Y,d4.MACHINE_LEARNING,A);return A.info(`[Managed Identity] Environment variables validation passed for ${d4.MACHINE_LEARNING} managed identity. Endpoint URI: ${I}. Creating ${d4.MACHINE_LEARNING} managed identity.`),new Ve(A,Q,B,G,Z,Y,J)}createRequest(A,Q){let B=new Ew(XY.GET,this.msiEndpoint);if(B.headers[pz.METADATA_HEADER_NAME]="true",B.headers[pz.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,B.queryParameters[QW.API_VERSION]=Sq3,B.queryParameters[QW.RESOURCE]=A,Q.idType===jJ.SYSTEM_ASSIGNED)B.queryParameters[Ze.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[P4.DEFAULT_IDENTITY_CLIENT_ID];else if(Q.idType===jJ.USER_ASSIGNED_CLIENT_ID)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType,!1,!0)]=Q.id;else throw Error(xq3);return B}}});class nf{constructor(A,Q,B,G,Z){this.logger=A,this.nodeStorage=Q,this.networkClient=B,this.cryptoProvider=G,this.disableInternalRetries=Z}async sendManagedIdentityTokenRequest(A,Q,B,G){if(!nf.identitySource)nf.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,Q);return nf.identitySource.acquireTokenWithManagedIdentity(A,Q,B,G)}allEnvironmentVariablesAreDefined(A){return Object.values(A).every((Q)=>{return Q!==void 0})}getManagedIdentitySource(){return nf.sourceName=this.allEnvironmentVariablesAreDefined(Ke.getEnvironmentVariables())?d4.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(Ie.getEnvironmentVariables())?d4.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Ve.getEnvironmentVariables())?d4.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(Xe.getEnvironmentVariables())?d4.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(Zp.getEnvironmentVariables())?d4.AZURE_ARC:d4.DEFAULT_TO_IMDS,nf.sourceName}selectManagedIdentitySource(A,Q,B,G,Z,Y){let J=Ke.tryCreate(A,Q,B,G,Z,Y)||Ie.tryCreate(A,Q,B,G,Z)||Ve.tryCreate(A,Q,B,G,Z)||Xe.tryCreate(A,Q,B,G,Z,Y)||Zp.tryCreate(A,Q,B,G,Z,Y)||o$A.tryCreate(A,Q,B,G,Z);if(!J)throw YX(MaA);return J}}var XXB=L(()=>{oIB();AXB();QXB();YXB();JXB();I7A();WY();IXB();tt();/*! @azure/msal-node v3.8.1 2025-10-29 */});class xS{constructor(A){this.config=qGB(A||{}),this.logger=new cz(this.config.system.loggerOptions,GoA,E_);let Q={canonicalAuthority:b0.DEFAULT_AUTHORITY};if(!xS.nodeStorage)xS.nodeStorage=new Ae(this.logger,this.config.managedIdentityId.id,p5A,Q);this.networkClient=this.config.system.networkClient,this.cryptoProvider=new lf;let B={protocolMode:QH.AAD,knownAuthorities:[lu1],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new pW(lu1,this.networkClient,xS.nodeStorage,B,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Ge({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new nf(this.logger,xS.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new et}async acquireToken(A){if(!A.resource)throw MG(i5A.urlEmptyError);let Q={forceRefresh:A.forceRefresh,resource:A.resource.replace("/.default",""),scopes:[A.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:A.claims,clientCapabilities:this.config.clientCapabilities};if(Q.forceRefresh)return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority);let[B,G]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(Q,this.config,this.cryptoProvider,this.fakeAuthority,xS.nodeStorage);if(Q.claims){let Z=this.managedIdentityClient.getManagedIdentitySource();if(B&&yq3.includes(Z)){let Y=this.hashUtils.sha256(B.accessToken).toString(_E.HEX);Q.revokedTokenSha256Hash=Y}return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority)}if(B){if(G===tG.PROACTIVELY_REFRESHED){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let Z=!0;await this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority,Z)}return B}else return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(A,Q,B,G){return this.managedIdentityClient.sendManagedIdentityTokenRequest(A,Q,B,G)}getManagedIdentitySource(){return nf.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}var yq3;var WXB=L(()=>{N7();su1();D7A();P$A();YoA();XXB();SaA();WY();jaA();/*! @azure/msal-node v3.8.1 2025-10-29 */yq3=[d4.SERVICE_FABRIC]});class am1{constructor(A,Q){this.client=A,this.partitionManager=Q}async beforeCacheAccess(A){let Q=await this.partitionManager.getKey(),B=await this.client.get(Q);A.tokenCache.deserialize(B)}async afterCacheAccess(A){if(A.cacheHasChanged){let Q=A.tokenCache.getKVStore(),B=Object.values(Q).filter((Z)=>AW.isAccountEntity(Z)),G;if(B.length>0){let Z=B[0];G=await this.partitionManager.extractKey(Z)}else G=await this.partitionManager.getKey();await this.client.set(G,A.tokenCache.serialize())}}}var KXB=L(()=>{N7();/*! @azure/msal-node v3.8.1 2025-10-29 */});var Dw={};EG(Dw,{version:()=>E_,internals:()=>pu1,UsernamePasswordClient:()=>p$A,TokenCacheContext:()=>_L,TokenCache:()=>x$A,ServerError:()=>fF,ResponseMode:()=>MS,PublicClientApplication:()=>i$A,ProtocolMode:()=>QH,PromptValue:()=>bc,OnBehalfOfClient:()=>n$A,ManagedIdentitySourceNames:()=>d4,ManagedIdentityApplication:()=>xS,Logger:()=>cz,LogLevel:()=>TJ,InteractionRequiredAuthErrorMessage:()=>du1,InteractionRequiredAuthErrorCodes:()=>ZaA,InteractionRequiredAuthError:()=>Vw,DistributedCachePlugin:()=>am1,DeviceCodeClient:()=>l$A,CryptoProvider:()=>lf,ConfidentialClientApplication:()=>a$A,ClientCredentialClient:()=>Ge,ClientConfigurationErrorMessage:()=>Mg1,ClientConfigurationErrorCodes:()=>i5A,ClientConfigurationError:()=>n5A,ClientAuthErrorMessage:()=>qg1,ClientAuthErrorCodes:()=>LG,ClientAuthError:()=>pc,ClientAssertion:()=>V_,ClientApplication:()=>Be,AzureCloudInstance:()=>vf,AuthErrorMessage:()=>wg1,AuthErrorCodes:()=>c5A,AuthError:()=>D6});var IoA=L(()=>{ZGB();dIB();cIB();ZoA();YoA();cm1();pm1();WXB();mm1();BoA();Jm1();KXB();WY();P$A();N7();D7A();/*! @azure/msal-node v3.8.1 2025-10-29 */});var VXB=L(()=>{IoA()});function H7A(A,Q,B){let G=(Z)=>{return r$A.getToken.info(Z),new Mf({scopes:Array.isArray(A)?A:[A],getTokenOptions:B,message:Z})};if(!Q)throw G("No response");if(!Q.expiresOn)throw G('Response had no "expiresOn" property.');if(!Q.accessToken)throw G('Response had no "accessToken" property.')}function om1(A){let Q=A===null||A===void 0?void 0:A.authorityHost;if(!Q&&XUA)Q=process.env.AZURE_AUTHORITY_HOST;return Q!==null&&Q!==void 0?Q:szA}function rm1(A,Q){if(!Q)Q=szA;if(new RegExp(`${A}/?$`).test(Q))return Q;if(Q.endsWith("/"))return Q+A;else return`${Q}/${A}`}function EXB(A,Q,B){if(A==="adfs"&&Q||B)return[Q];return[]}function WoA(A){switch(A){case"error":return Dw.LogLevel.Error;case"info":return Dw.LogLevel.Info;case"verbose":return Dw.LogLevel.Verbose;case"warning":return Dw.LogLevel.Warning;default:return Dw.LogLevel.Info}}function Ee(A,Q,B){if(Q.name==="AuthError"||Q.name==="ClientAuthError"||Q.name==="BrowserAuthError"){let G=Q;switch(G.errorCode){case"endpoints_resolution_error":return r$A.info($7(A,Q.message)),new X4(Q.message);case"device_code_polling_cancelled":return new k5A("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":r$A.info($7(A,`Authentication returned errorCode ${G.errorCode}`));break;default:r$A.info($7(A,`Failed to acquire token: ${Q.message}`));break}}if(Q.name==="ClientConfigurationError"||Q.name==="BrowserConfigurationAuthError"||Q.name==="AbortError"||Q.name==="AuthenticationError")return Q;if(Q.name==="NativeAuthError")return r$A.info($7(A,`Error from the native broker: ${Q.message} with status code: ${Q.statusCode}`)),Q;return new Mf({scopes:A,getTokenOptions:B,message:Q.message})}function DXB(A){return{localAccountId:A.homeAccountId,environment:A.authority,username:A.username,homeAccountId:A.homeAccountId,tenantId:A.tenantId}}function HXB(A,Q){var B;return{authority:(B=Q.environment)!==null&&B!==void 0?B:U3B,homeAccountId:Q.homeAccountId,tenantId:Q.tenantId||z3B,username:Q.username,clientId:A,version:vq3}}var r$A,vq3="1.0",XoA=(A,Q=UnA?"Node":"Browser")=>(B,G,Z)=>{if(Z)return;switch(B){case Dw.LogLevel.Error:A.info(`MSAL ${Q} V2 error: ${G}`);return;case Dw.LogLevel.Info:A.info(`MSAL ${Q} V2 info message: ${G}`);return;case Dw.LogLevel.Verbose:A.info(`MSAL ${Q} V2 verbose message: ${G}`);return;case Dw.LogLevel.Warning:A.info(`MSAL ${Q} V2 warning: ${G}`);return}};var sm1=L(()=>{PF();GX();_5A();kc();Jg1();VXB();r$A=b5("IdentityUtils")});function FXB(A){return Hg1([{name:"imdsRetryPolicy",retry:({retryCount:Q,response:B})=>{if((B===null||B===void 0?void 0:B.status)!==404)return{skipStrategy:!0};return Z5B(Q,{retryDelayInMs:A.startDelayInMs,maxRetryDelayInMs:kq3})}}],{maxRetries:A.maxRetries})}var kq3=64000;var CXB=L(()=>{_f();kc()});function hq3(A){var Q;if(!FUA(A))throw Error(`${af}: Multiple scopes are not supported.`);let G=new URL(bq3,(Q=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)!==null&&Q!==void 0?Q:fq3),Z={Accept:"application/json"};return{url:`${G}`,method:"GET",headers:Wt(Z)}}var af="ManagedIdentityCredential - IMDS",De,fq3="http://169.254.169.254",bq3="/metadata/identity/oauth2/token",tm1;var zXB=L(()=>{_f();kc();GX();Ww();De=b5(af);tm1={name:"imdsMsi",async isAvailable(A){let{scopes:Q,identityClient:B,getTokenOptions:G}=A,Z=FUA(Q);if(!Z)return De.info(`${af}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!B)throw Error("Missing IdentityClient");let Y=hq3(Z);return oY.withSpan("ManagedIdentityCredential-pingImdsEndpoint",G!==null&&G!==void 0?G:{},async(J)=>{var I,X;Y.tracingOptions=J.tracingOptions;let W=Y_(Y);W.timeout=((I=J.requestOptions)===null||I===void 0?void 0:I.timeout)||1000,W.allowInsecureConnection=!0;let K;try{De.info(`${af}: Pinging the Azure IMDS endpoint`),K=await B.sendRequest(W)}catch(V){if(znA(V))De.verbose(`${af}: Caught error ${V.name}: ${V.message}`);return De.info(`${af}: The Azure IMDS endpoint is unavailable`),!1}if(K.status===403){if((X=K.bodyAsText)===null||X===void 0?void 0:X.includes("unreachable"))return De.info(`${af}: The Azure IMDS endpoint is unavailable`),De.info(`${af}: ${K.bodyAsText}`),!1}return De.info(`${af}: The Azure IMDS endpoint is available`),!0})}}});function KoA(A){var Q,B;let G=A;if(G===void 0&&((B=(Q=globalThis.process)===null||Q===void 0?void 0:Q.env)===null||B===void 0?void 0:B.AZURE_REGIONAL_AUTHORITY_NAME)!==void 0)G=process.env.AZURE_REGIONAL_AUTHORITY_NAME;if(G===em1.AutoDiscoverRegion)return"AUTO_DISCOVER";return G}var em1;var UXB=L(()=>{(function(A){A.AutoDiscoverRegion="AutoDiscoverRegion",A.USWest="westus",A.USWest2="westus2",A.USCentral="centralus",A.USEast="eastus",A.USEast2="eastus2",A.USNorthCentral="northcentralus",A.USSouthCentral="southcentralus",A.USWestCentral="westcentralus",A.CanadaCentral="canadacentral",A.CanadaEast="canadaeast",A.BrazilSouth="brazilsouth",A.EuropeNorth="northeurope",A.EuropeWest="westeurope",A.UKSouth="uksouth",A.UKWest="ukwest",A.FranceCentral="francecentral",A.FranceSouth="francesouth",A.SwitzerlandNorth="switzerlandnorth",A.SwitzerlandWest="switzerlandwest",A.GermanyNorth="germanynorth",A.GermanyWestCentral="germanywestcentral",A.NorwayWest="norwaywest",A.NorwayEast="norwayeast",A.AsiaEast="eastasia",A.AsiaSouthEast="southeastasia",A.JapanEast="japaneast",A.JapanWest="japanwest",A.AustraliaEast="australiaeast",A.AustraliaSouthEast="australiasoutheast",A.AustraliaCentral="australiacentral",A.AustraliaCentral2="australiacentral2",A.IndiaCentral="centralindia",A.IndiaSouth="southindia",A.IndiaWest="westindia",A.KoreaSouth="koreasouth",A.KoreaCentral="koreacentral",A.UAECentral="uaecentral",A.UAENorth="uaenorth",A.SouthAfricaNorth="southafricanorth",A.SouthAfricaWest="southafricawest",A.ChinaNorth="chinanorth",A.ChinaEast="chinaeast",A.ChinaNorth2="chinanorth2",A.ChinaEast2="chinaeast2",A.GermanyCentral="germanycentral",A.GermanyNorthEast="germanynortheast",A.GovernmentUSVirginia="usgovvirginia",A.GovernmentUSIowa="usgoviowa",A.GovernmentUSArizona="usgovarizona",A.GovernmentUSTexas="usgovtexas",A.GovernmentUSDodEast="usdodeast",A.GovernmentUSDodCentral="usdodcentral"})(em1||(em1={}))});import $XB from"node:fs";function gq3(){try{return $XB.statSync("/.dockerenv"),!0}catch{return!1}}function uq3(){try{return $XB.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function Qd1(){if(Ad1===void 0)Ad1=gq3()||uq3();return Ad1}var Ad1;var wXB=()=>{};import mq3 from"node:fs";function F7A(){if(Bd1===void 0)Bd1=dq3()||Qd1();return Bd1}var Bd1,dq3=()=>{try{return mq3.statSync("/run/.containerenv"),!0}catch{return!1}};var Gd1=L(()=>{wXB()});import qXB from"node:process";import cq3 from"node:os";import pq3 from"node:fs";var NXB=()=>{if(qXB.platform!=="linux")return!1;if(cq3.release().toLowerCase().includes("microsoft")){if(F7A())return!1;return!0}try{return pq3.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!F7A():!1}catch{return!1}},Yp;var Zd1=L(()=>{Gd1();Yp=qXB.env.__IS_WSL_TEST__?NXB:NXB()});import LXB from"node:process";import MXB,{constants as lq3}from"node:fs/promises";var iq3,nq3=async()=>{return`${await iq3()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`},Yd1=async()=>{if(Yp)return nq3();return`${LXB.env.SYSTEMROOT||LXB.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`};var OXB=L(()=>{Zd1();Zd1();iq3=(()=>{let Q;return async function(){if(Q)return Q;let B="/etc/wsl.conf",G=!1;try{await MXB.access(B,lq3.F_OK),G=!0}catch{}if(!G)return"/mnt/";let Z=await MXB.readFile(B,{encoding:"utf8"}),Y=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(Z);if(!Y)return"/mnt/";return Q=Y.groups.mountPoint.trim(),Q=Q.endsWith("/")?Q:`${Q}/`,Q}})()});function Jp(A,Q,B){let G=(Z)=>Object.defineProperty(A,Q,{value:Z,enumerable:!0,writable:!0});return Object.defineProperty(A,Q,{configurable:!0,enumerable:!0,get(){let Z=B();return G(Z),Z},set(Z){G(Z)}}),A}import{promisify as aq3}from"node:util";import oq3 from"node:process";import{execFile as rq3}from"node:child_process";async function Jd1(){if(oq3.platform!=="darwin")throw Error("macOS only");let{stdout:A}=await sq3("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(A)?.groups.id??"com.apple.Safari"}var sq3;var RXB=L(()=>{sq3=aq3(rq3)});import tq3 from"node:process";import{promisify as eq3}from"node:util";import{execFile as AL3,execFileSync as om7}from"node:child_process";async function _XB(A,{humanReadableOutput:Q=!0,signal:B}={}){if(tq3.platform!=="darwin")throw Error("macOS only");let G=Q?[]:["-ss"],Z={};if(B)Z.signal=B;let{stdout:Y}=await QL3("osascript",["-e",A,G],Z);return Y.trim()}var QL3;var TXB=L(()=>{QL3=eq3(AL3)});async function Id1(A){return _XB(`tell application "Finder" to set app_path to application file id "${A}" as string
bundles/ClaudeCodeCode/cli.js:982:`).map((V)=>V.trim())}let X=A.split(brA).pop();if(!X)return null;let W=X.replace(".lock","");return{workspaceFolders:B,port:parseInt(W),pid:G,ideName:Z,useWebSocket:Y,runningInWindows:J,authToken:I}}catch(Q){return s(Q),null}}async function Fp1(A,Q,B=500){try{return new Promise((G)=>{let Z=__3({host:A,port:Q,timeout:B});Z.on("connect",()=>{Z.destroy(),G(!0)}),Z.on("error",()=>{G(!1)}),Z.on("timeout",()=>{Z.destroy(),G(!1)})})}catch(G){return!1}}function j_3(){let A=[],Q=jA(),B=dQ(),G=Hp1(mQ(),"ide");if(Q.existsSync(G))A.push(G);if(B!=="wsl")return A;let Z=process.env.USERPROFILE;if(!Z)try{let Y=dG("powershell.exe -Command '$env:USERPROFILE'");if(Y)Z=Y.trim()}catch{f("Unable to get Windows USERPROFILE via PowerShell - IDE detection may be incomplete")}if(Z){let J=new f7A(process.env.WSL_DISTRO_NAME).toLocalPath(Z),I=hrA(J,".claude","ide");if(Q.existsSync(I))A.push(I)}try{if(Q.existsSync("/mnt/c/Users")){let J=Q.readdirSync("/mnt/c/Users");for(let I of J){if(I.name==="Public"||I.name==="Default"||I.name==="Default User"||I.name==="All Users")continue;let X=Hp1("/mnt/c/Users",I.name,".claude","ide");if(Q.existsSync(X))A.push(X)}}}catch(Y){s(Y instanceof Error?Y:Error(String(Y)))}return A}async function P_3(){try{let A=urA();for(let Q of A){let B=WDB(Q);if(!B){try{jA().unlinkSync(Q)}catch(Y){s(Y)}continue}let G=await zDB(B.runningInWindows,B.port),Z=!1;if(B.pid){if(!XDB(B.pid)){if(dQ()!=="wsl")Z=!0;else if(!await Fp1(G,B.port))Z=!0}}else if(!await Fp1(G,B.port))Z=!0;if(Z)try{jA().unlinkSync(Q)}catch(Y){s(Y)}}}catch(A){s(A)}}async function x_3(A){try{let Q=await v_3(A);if(r("tengu_ext_installed",{}),!d1().diffTool)i0((G)=>({...G,diffTool:"auto"}));return{installed:!0,error:null,installedVersion:Q,ideType:A}}catch(Q){r("tengu_ext_install_error",{});let B=Q instanceof Error?Q.message:String(Q);return s(Q),{installed:!1,error:B,installedVersion:null,ideType:A}}}async function GDB(){if(frA)frA.abort();frA=g9();let A=frA.signal;await P_3();let Q=Date.now();while(Date.now()-Q<30000&&!A.aborted){let B=await PwA(!1);if(A.aborted)return null;if(B.length===1)return B[0];await new Promise((G)=>setTimeout(G,1000))}return null}async function PwA(A){let Q=[];try{let B=process.env.CLAUDE_CODE_SSE_PORT,G=B?parseInt(B):null,Z=pQ(),Y=urA();for(let J of Y){let I=WDB(J);if(!I)continue;if(dQ()!=="wsl"&&ZW()&&(!I.pid||!T_3(I.pid)))continue;let X=!1;if(process.env.CLAUDE_CODE_IDE_SKIP_VALID_CHECK==="true")X=!0;else if(I.port===G)X=!0;else X=I.workspaceFolders.some((E)=>{if(!E)return!1;let D=E;if(dQ()==="wsl"&&I.runningInWindows&&process.env.WSL_DISTRO_NAME){if(!BDB(E,process.env.WSL_DISTRO_NAME))return!1;let F=hrA(D);if(Z===F||Z.startsWith(F+brA))return!0;D=new f7A(process.env.WSL_DISTRO_NAME).toLocalPath(E)}let H=hrA(D);if(dQ()==="windows"){let F=Z.replace(/^[a-zA-Z]:/,(U)=>U.toUpperCase()),C=H.replace(/^[a-zA-Z]:/,(U)=>U.toUpperCase());return F===C||F.startsWith(C+brA)}return Z===H||Z.startsWith(H+brA)});if(!X&&!A)continue;let W=I.ideName??(ZW()?WV(Rz.terminal):"IDE"),K=await zDB(I.runningInWindows,I.port),V;if(I.useWebSocket)V=`ws://${K}:${I.port}`;else V=`http://${K}:${I.port}/sse`;Q.push({url:V,name:W,workspaceFolders:I.workspaceFolders,port:I.port,isValid:X,authToken:I.authToken,ideRunningInWindows:I.runningInWindows})}if(!A&&G){let J=Q.filter((I)=>I.isValid&&I.port===G);if(J.length===1)return J}}catch(B){s(B)}return Q}async function KDB(A){await A.notification({method:"ide_connected",params:{pid:process.pid}})}function mrA(A){return A.some((Q)=>Q.type==="connected"&&Q.name==="ide")}async function ZDB(A){if(grA(A)){let Q=VDB(A);if(Q)try{if((await L3(Q,["--list-extensions"],{env:Cp1()})).stdout?.includes(y_3))return!0}catch{}}else if(U_(A))return Kp1(A);return!1}async function v_3(A){if(grA(A)){let Q=VDB(A);if(Q){let B=await k_3(Q);if(!B||IDB.lt(B,YDB())){await new Promise((Z)=>{setTimeout(Z,500)});let G=await L3(Q,["--force","--install-extension","anthropic.claude-code"],{env:Cp1()});if(G.code!==0)throw Error(`${G.code}: ${G.error} ${G.stderr}`);B=YDB()}return B}}return null}function Cp1(){if(dQ()==="linux")return{...process.env,DISPLAY:""};return}function YDB(){return{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}async function k_3(A){let{stdout:Q}=await CQ(A,["--list-extensions","--show-versions"],{env:Cp1()}),B=Q?.split(`
bundles/ClaudeCodeCode/cli.js:1073:`,Y};wtA.publicKeyToOpenSSH=function(A,Q){var B="ssh-rsa";Q=Q||"";var G=JW.util.createBuffer();return $GA(G,B),oS(G,A.e),oS(G,A.n),B+" "+JW.util.encode64(G.bytes())+" "+Q};wtA.privateKeyToOpenSSH=function(A,Q){if(!Q)return JW.pki.privateKeyToPem(A);return JW.pki.encryptRsaPrivateKey(A,Q,{legacy:!0,algorithm:"aes128"})};wtA.getPublicKeyFingerprint=function(A,Q){Q=Q||{};var B=Q.md||JW.md.md5.create(),G="ssh-rsa",Z=JW.util.createBuffer();$GA(Z,G),oS(Z,A.e),oS(Z,A.n),B.start(),B.update(Z.getBytes());var Y=B.digest();if(Q.encoding==="hex"){var J=Y.toHex();if(Q.delimiter)return J.match(/.{2}/g).join(Q.delimiter);return J}else if(Q.encoding==="binary")return Y.getBytes();else if(Q.encoding)throw Error('Unknown encoding "'+Q.encoding+'".');return Y};function oS(A,Q){var B=Q.toString(16);if(B[0]>="8")B="00"+B;var G=JW.util.hexToBytes(B);A.putInt32(G.length),A.putBytes(G)}function $GA(A,Q){A.putInt32(Q.length),A.putString(Q)}function $tA(){var A=JW.md.sha1.create(),Q=arguments.length;for(var B=0;B<Q;++B)A.update(arguments[B]);return A.digest()}});var DwB=w((Oe7,EwB)=>{EwB.exports=E3();kp();k$B();R_();csA();YNA();t$B();JGA();BwB();ZwB();JwB();al1();AtA();he();ml1();sl1();WwB();el1();cl1();yl1();ItA();mL();fl1();VwB();Yi1();q5()});import{execFile as vb3}from"child_process";import{promisify as fb3}from"util";var kb3,Te7;var Li1=L(()=>{kb3=o(DwB(),1),Te7=fb3(vb3)});var Mi1=L(()=>{Li1()});var HwB,hb3,gb3,ub3,mb3,db3,cb3,pb3,lb3,ib3,ke7,nb3,fe7;var FwB=L(()=>{z2();HwB=Qw({command:fQ(),args:JI(fQ()).optional(),env:fR(fQ(),fQ()).optional()}),hb3=Qw({name:fQ(),email:fQ().email().optional(),url:fQ().url().optional()}),gb3=Qw({type:fQ(),url:fQ().url()}),ub3=HwB.partial(),mb3=HwB.extend({platform_overrides:fR(fQ(),ub3).optional()}),db3=Qw({type:bR(["python","node","binary"]),entry_point:fQ(),mcp_config:mb3}),cb3=Qw({claude_desktop:fQ().optional(),platforms:JI(bR(["darwin","win32","linux"])).optional(),runtimes:Qw({python:fQ().optional(),node:fQ().optional()}).optional()}).passthrough(),pb3=Qw({name:fQ(),description:fQ().optional()}),lb3=Qw({name:fQ(),description:fQ().optional(),arguments:JI(fQ()).optional(),text:fQ()}),ib3=Qw({type:bR(["string","number","boolean","directory","file"]),title:fQ(),description:fQ(),required:eK().optional(),default:ks([fQ(),KL(),eK(),JI(fQ())]).optional(),multiple:eK().optional(),sensitive:eK().optional(),min:KL().optional(),max:KL().optional()}),ke7=fR(fQ(),ks([fQ(),KL(),eK(),JI(fQ())])),nb3=Qw({$schema:fQ().optional(),dxt_version:fQ().optional().describe("@deprecated Use manifest_version instead"),manifest_version:fQ().optional(),name:fQ(),display_name:fQ().optional(),version:fQ(),description:fQ(),long_description:fQ().optional(),author:hb3,repository:gb3.optional(),homepage:fQ().url().optional(),documentation:fQ().url().optional(),support:fQ().url().optional(),icon:fQ().optional(),screenshots:JI(fQ()).optional(),server:db3,tools:JI(pb3).optional(),tools_generated:eK().optional(),prompts:JI(lb3).optional(),prompts_generated:eK().optional(),keywords:JI(fQ()).optional(),license:fQ().optional(),compatibility:cb3.optional(),user_config:fR(fQ(),ib3).optional()}).refine((A)=>!!(A.dxt_version||A.manifest_version),{message:"Either 'dxt_version' (deprecated) or 'manifest_version' must be provided"}),fe7=Qw({status:bR(["signed","unsigned","self-signed"]),publisher:fQ().optional(),issuer:fQ().optional(),valid_from:fQ().optional(),valid_to:fQ().optional(),fingerprint:fQ().optional()})});var ab3,ob3;var Oi1=L(()=>{Mi1();cwA();FwB();ab3=o(tzB(),1),ob3=o(QUB(),1)});var CwB=L(()=>{Al1();Oi1();cwA();pp1()});function Ri1(A,Q){if(typeof A==="string"){let B=A;for(let[G,Z]of Object.entries(Q)){let Y=new RegExp(`\\$\\{${G}\\}`,"g");if(B.match(Y))if(Array.isArray(Z))console.warn(`Cannot replace ${G} with array value in string context: "${A}"`,{key:G,replacement:Z});else B=B.replace(Y,Z)}return B}else if(Array.isArray(A)){let B=[];for(let G of A)if(typeof G==="string"&&G.match(/^\$\{user_config\.[^}]+\}$/)){let Z=G.match(/^\$\{([^}]+)\}$/)?.[1];if(Z&&Q[Z]){let Y=Q[Z];if(Array.isArray(Y))B.push(...Y);else B.push(Y)}else B.push(G)}else B.push(Ri1(G,Q));return B}else if(A&&typeof A==="object"){let B={};for(let[G,Z]of Object.entries(A))B[G]=Ri1(Z,Q);return B}return A}async function wGA(A){let{manifest:Q,extensionPath:B,systemDirs:G,userConfig:Z,pathSeparator:Y,logger:J}=A,I=Q.server?.mcp_config;if(!I)return;let X={...I};if(I.platform_overrides){if(process.platform in I.platform_overrides){let V=I.platform_overrides[process.platform];X.command=V.command||X.command,X.args=V.args||X.args,X.env=V.env||X.env}}if(rb3({manifest:Q,userConfig:Z})){J?.warn(`Extension ${Q.name} has missing required configuration, skipping MCP config`);return}let W={__dirname:B,pathSeparator:Y,"/":Y,...G},K={};if(Q.user_config){for(let[V,E]of Object.entries(Q.user_config))if(E.default!==void 0)K[V]=E.default}if(Z)Object.assign(K,Z);for(let[V,E]of Object.entries(K)){let D=`user_config.${V}`;if(Array.isArray(E))W[D]=E.map(String);else if(typeof E==="boolean")W[D]=E?"true":"false";else W[D]=String(E)}return X=Ri1(X,W),X}function zwB(A){return A===void 0||A===null||A===""}function rb3({manifest:A,userConfig:Q}){if(!A.user_config)return!1;let B=Q||{};for(let[G,Z]of Object.entries(A.user_config))if(Z.required){let Y=B[G];if(zwB(Y)||Array.isArray(Y)&&(Y.length===0||Y.some(zwB)))return!0}return!1}var UwB=()=>{};var FNA=L(()=>{pp1();CwB();Mi1();Al1();Li1();Oi1();cwA();UwB()});function $wB(A){let Q=UsA.safeParse(A);if(!Q.success){let B=Q.error.flatten(),G=[...Object.entries(B.fieldErrors).map(([Z,Y])=>`${Z}: ${Y?.join(", ")}`),...B.formErrors||[]].filter(Boolean).join("; ");throw Error(`Invalid manifest: ${G}`)}return Q.data}function sb3(A){let Q;try{Q=JSON.parse(A)}catch(B){throw Error(`Invalid JSON in manifest.json: ${B instanceof Error?B.message:String(B)}`)}return $wB(Q)}function NtA(A){let Q=new TextDecoder().decode(A);return sb3(Q)}var _i1=L(()=>{FNA()});import*as qtA from"path";function tb3(A){if(w9A(A))return!1;let Q=qtA.normalize(A);if(qtA.isAbsolute(Q))return!1;return!0}function eb3(A,Q){Q.fileCount++;let B;if(Q.fileCount>pp.MAX_FILE_COUNT)B=`Archive contains too many files: ${Q.fileCount} (max: ${pp.MAX_FILE_COUNT})`;if(!tb3(A.name))B=`Unsafe file path detected: "${A.name}". Path traversal or absolute paths are not allowed.`;let G=A.originalSize||0;if(G>pp.MAX_FILE_SIZE)B=`File "${A.name}" is too large: ${Math.round(G/1024/1024)}MB (max: ${Math.round(pp.MAX_FILE_SIZE/1024/1024)}MB)`;if(Q.totalUncompressedSize+=G,Q.totalUncompressedSize>pp.MAX_TOTAL_SIZE)B=`Archive total size is too large: ${Math.round(Q.totalUncompressedSize/1024/1024)}MB (max: ${Math.round(pp.MAX_TOTAL_SIZE/1024/1024)}MB)`;let Z=Q.totalUncompressedSize/Q.compressedSize;if(Z>pp.MAX_COMPRESSION_RATIO)B=`Suspicious compression ratio detected: ${Z.toFixed(1)}:1 (max: ${pp.MAX_COMPRESSION_RATIO}:1). This may be a zip bomb.`;return B?{isValid:!1,error:B}:{isValid:!0}}async function Ti1(A){let Q=jA();if(!Q.existsSync(A))throw Error(`Zip file does not exist: ${A}`);try{let B=Q.readFileBytesSync(A),G=B.length;return await new Promise((Y,J)=>{let I={fileCount:0,totalUncompressedSize:0,compressedSize:G,errors:[]},X=RFB(new Uint8Array(B),{filter:(W)=>{let K=eb3(W,I);if(!K.isValid)return J(Error(K.error)),X(),!1;return!0}},(W,K)=>{if(W)J(Error(`Failed to unzip file: ${W.message||String(W)}`));else f(`Zip extraction completed: ${I.fileCount} files, ${Math.round(I.totalUncompressedSize/1024)}KB uncompressed`),Y(K)})})}catch(B){let G=B instanceof Error?B.message:String(B);throw Error(`Failed to read or unzip file: ${G}`)}}var pp;var ji1=L(()=>{_FB();Y0();XQ();OZ();pp={MAX_FILE_SIZE:536870912,MAX_TOTAL_SIZE:1073741824,MAX_FILE_COUNT:1e5,MAX_COMPRESSION_RATIO:50,MIN_COMPRESSION_RATIO:0.5}});import*as wwB from"os";import*as ne from"path";function lp(){let A=dQ(),Q=wwB.homedir(),B={HOME:Q,DESKTOP:ne.join(Q,"Desktop"),DOCUMENTS:ne.join(Q,"Documents"),DOWNLOADS:ne.join(Q,"Downloads")};switch(A){case"windows":{let G=process.env.USERPROFILE||Q;return{HOME:Q,DESKTOP:ne.join(G,"Desktop"),DOCUMENTS:ne.join(G,"Documents"),DOWNLOADS:ne.join(G,"Downloads")}}case"linux":case"wsl":return{HOME:Q,DESKTOP:process.env.XDG_DESKTOP_DIR||B.DESKTOP,DOCUMENTS:process.env.XDG_DOCUMENTS_DIR||B.DOCUMENTS,DOWNLOADS:process.env.XDG_DOWNLOAD_DIR||B.DOWNLOADS};case"macos":default:{if(A==="unknown")f("Unknown platform detected, using default paths");return B}}}var CNA=L(()=>{k3();Y0()});import{createHash as Si1}from"crypto";import{join as ip,dirname as Ah3}from"path";import{writeFileSync as OwB}from"fs";function aL(A){return A.endsWith(".mcpb")||A.endsWith(".dxt")}function RwB(A){return A.startsWith("http://")||A.startsWith("https://")}function Qh3(A){return Si1("sha256").update(A).digest("hex").substring(0,16)}function _wB(A){return ip(A,".mcpb-cache")}function TwB(A,Q){let B=Si1("md5").update(Q).digest("hex").substring(0,8);return ip(A,`${B}.metadata.json`)}function NwB(A,Q){try{let G=NQ().pluginConfigs?.[A]?.mcpServers?.[Q];if(!G)return null;return f(`Loaded user config for ${A}/${Q} from settings`),G}catch(B){let G=B instanceof Error?B:Error(String(B));return s(G),f(`Failed to load user config for ${A}/${Q}: ${B}`,{level:"error"}),null}}function qwB(A,Q,B){try{let G=NQ();if(!G.pluginConfigs)G.pluginConfigs={};if(!G.pluginConfigs[A])G.pluginConfigs[A]={};if(!G.pluginConfigs[A].mcpServers)G.pluginConfigs[A].mcpServers={};G.pluginConfigs[A].mcpServers[Q]=B;let Z=E2("userSettings",G);if(Z.error)throw Z.error;f(`Saved user config for ${A}/${Q} to user settings`)}catch(G){let Z=G instanceof Error?G:Error(String(G));throw s(Z),Error(`Failed to save user configuration for ${A}/${Q}: ${Z.message}`)}}function LwB(A,Q){let B=[];for(let[G,Z]of Object.entries(Q)){let Y=A[G];if(Z.required&&(Y===void 0||Y==="")){B.push(`${Z.title||G} is required but not provided`);continue}if(Y===void 0||Y==="")continue;if(Z.type==="string"){if(Array.isArray(Y)){if(!Z.multiple)B.push(`${Z.title||G} must be a string, not an array`);else if(!Y.every((J)=>typeof J==="string"))B.push(`${Z.title||G} must be an array of strings`)}else if(typeof Y!=="string")B.push(`${Z.title||G} must be a string`)}else if(Z.type==="number"&&typeof Y!=="number")B.push(`${Z.title||G} must be a number`);else if(Z.type==="boolean"&&typeof Y!=="boolean")B.push(`${Z.title||G} must be a boolean`);else if((Z.type==="file"||Z.type==="directory")&&typeof Y!=="string")B.push(`${Z.title||G} must be a path string`);if(Z.type==="number"&&typeof Y==="number"){if(Z.min!==void 0&&Y<Z.min)B.push(`${Z.title||G} must be at least ${Z.min}`);if(Z.max!==void 0&&Y>Z.max)B.push(`${Z.title||G} must be at most ${Z.max}`)}}return{valid:B.length===0,errors:B}}async function MwB(A,Q){let B=await wGA({manifest:A,extensionPath:Q,systemDirs:lp(),userConfig:{},pathSeparator:"/"});if(!B){let G=Error(`Failed to generate MCP server configuration from manifest "${A.name}"`);throw s(G),G}return B}async function jwB(A,Q){let B=jA(),G=TwB(A,Q);if(!B.existsSync(G))return null;try{let Z=B.readFileSync(G,{encoding:"utf-8"});return JSON.parse(Z)}catch(Z){let Y=Z instanceof Error?Z:Error(String(Z));return s(Y),f(`Failed to load MCPB cache metadata: ${Z}`,{level:"error"}),null}}async function Pi1(A,Q,B){let G=jA(),Z=TwB(A,Q);G.mkdirSync(A),G.writeFileSync(Z,JSON.stringify(B,null,2),{encoding:"utf-8",flush:!1})}async function Bh3(A,Q,B){if(f(`Downloading MCPB from ${A}`),B)B(`Downloading ${A}...`);try{let G=await wQ.get(A,{timeout:120000,responseType:"arraybuffer",maxRedirects:5,onDownloadProgress:(Y)=>{if(Y.total&&B){let J=Math.round(Y.loaded/Y.total*100);B(`Downloading... ${J}%`)}}}),Z=new Uint8Array(G.data);if(OwB(Q,Buffer.from(Z)),f(`Downloaded ${Z.length} bytes to ${Q}`),B)B("Download complete");return Z}catch(G){let Z=G instanceof Error?G.message:String(G),Y=Error(`Failed to download MCPB file from ${A}: ${Z}`);throw s(Y),Y}}async function Gh3(A,Q,B){let G=jA();if(B)B("Extracting files...");G.mkdirSync(Q);let Z=0,Y=Object.keys(A).length;for(let[J,I]of Object.entries(A)){let X=ip(Q,J),W=Ah3(X);if(W!==Q&&!G.existsSync(W))G.mkdirSync(W);if(J.endsWith(".json")||J.endsWith(".js")||J.endsWith(".ts")||J.endsWith(".txt")||J.endsWith(".md")||J.endsWith(".yml")||J.endsWith(".yaml")){let V=new TextDecoder().decode(I);G.writeFileSync(X,V,{encoding:"utf-8",flush:!1})}else OwB(X,Buffer.from(I));if(Z++,B&&Z%10===0)B(`Extracted ${Z}/${Y} files`)}if(f(`Extracted ${Z} files to ${Q}`),B)B(`Extraction complete (${Z} files)`)}async function Zh3(A,Q){let B=jA(),G=_wB(Q),Z=await jwB(G,A);if(!Z)return!0;if(!B.existsSync(Z.extractedPath))return f(`MCPB extraction path missing: ${Z.extractedPath}`),!0;if(!RwB(A)){let Y=ip(Q,A);if(!B.existsSync(Y))return f(`MCPB source file missing: ${Y}`),!0;let J=B.statSync(Y),I=new Date(Z.cachedAt).getTime(),X=J.mtimeMs;if(X>I)return f(`MCPB file modified: ${new Date(X)} > ${new Date(I)}`),!0}return!1}async function zNA(A,Q,B,G,Z,Y){let J=jA(),I=_wB(Q);J.mkdirSync(I),f(`Loading MCPB from source: ${A}`);let X=await jwB(I,A);if(X&&!await Zh3(A,Q)){f(`Using cached MCPB from ${X.extractedPath} (hash: ${X.contentHash})`);let O=ip(X.extractedPath,"manifest.json");if(!J.existsSync(O)){let y=Error(`Cached manifest not found: ${O}`);throw s(y),y}let q=J.readFileSync(O,{encoding:"utf-8"}),M=new TextEncoder().encode(q),_=NtA(M);if(_.user_config&&Object.keys(_.user_config).length>0){let y=_.name,h=NwB(B,y),x=Z||h||{},m=LwB(x,_.user_config);if(Y||!m.valid)return{status:"needs-config",manifest:_,extractedPath:X.extractedPath,contentHash:X.contentHash,configSchema:_.user_config,existingConfig:h||{},validationErrors:m.valid?[]:m.errors};if(Z)qwB(B,y,Z);let g=await wGA({manifest:_,extensionPath:X.extractedPath,systemDirs:lp(),userConfig:x,pathSeparator:"/"});if(!g){let t=Error(`Failed to generate MCP server configuration from manifest "${_.name}"`);throw s(t),t}return{manifest:_,mcpConfig:g,extractedPath:X.extractedPath,contentHash:X.contentHash}}let T=await MwB(_,X.extractedPath);return{manifest:_,mcpConfig:T,extractedPath:X.extractedPath,contentHash:X.contentHash}}let W,K;if(RwB(A)){let O=Si1("md5").update(A).digest("hex").substring(0,8);K=ip(I,`${O}.mcpb`),W=await Bh3(A,K,G)}else{let O=ip(Q,A);if(!J.existsSync(O)){let q=Error(`MCPB file not found: ${O}`);throw s(q),q}if(G)G(`Loading ${A}...`);W=J.readFileBytesSync(O),K=O}let V=Qh3(W);if(f(`MCPB content hash: ${V}`),G)G("Extracting MCPB archive...");let E=await Ti1(K),D=E["manifest.json"];if(!D){let O=Error("No manifest.json found in MCPB file");throw s(O),O}let H=NtA(D);if(f(`MCPB manifest: ${H.name} v${H.version} by ${H.author.name}`),!H.server){let O=Error(`MCPB manifest for "${H.name}" does not define a server configuration`);throw s(O),O}let F=ip(I,V);if(await Gh3(E,F,G),H.user_config&&Object.keys(H.user_config).length>0){let O=H.name,q=NwB(B,O),M=Z||q||{},_=LwB(M,H.user_config);if(!_.valid){let h={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Pi1(I,A,h),{status:"needs-config",manifest:H,extractedPath:F,contentHash:V,configSchema:H.user_config,existingConfig:q||{},validationErrors:_.errors}}if(Z)qwB(B,O,Z);if(G)G("Generating MCP server configuration...");let T=await wGA({manifest:H,extensionPath:F,systemDirs:lp(),userConfig:M,pathSeparator:"/"});if(!T){let h=Error(`Failed to generate MCP server configuration from manifest "${H.name}"`);throw s(h),h}let y={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Pi1(I,A,y),{manifest:H,mcpConfig:T,extractedPath:F,contentHash:V}}if(G)G("Generating MCP server configuration...");let C=await MwB(H,F),U={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Pi1(I,A,U),f(`Successfully loaded MCPB: ${H.name} (extracted to ${F})`),{manifest:H,mcpConfig:C,extractedPath:F,contentHash:V}}var xi1=L(()=>{b8();FNA();_i1();ji1();XQ();Y0();h1();CNA();jB()});import{join as Yh3}from"path";async function PwB(A,Q,B){try{f(`Loading MCP servers from MCPB: ${Q}`);let G=A.repository,Z=await zNA(Q,A.path,G,(I)=>{f(`MCPB [${A.name}]: ${I}`)});if("status"in Z&&Z.status==="needs-config")return f(`MCPB ${Q} requires user configuration. `+`User can configure via: /plugin ‚Üí Manage plugins ‚Üí ${A.name} ‚Üí Configure`),null;let Y=Z,J=Y.manifest.name;return f(`Loaded MCP server "${J}" from MCPB (extracted to ${Y.extractedPath})`),{[J]:Y.mcpConfig}}catch(G){let Z=G instanceof Error?G.message:String(G);f(`Failed to load MCPB ${Q}: ${Z}`,{level:"error"});let Y=`${A.name}@${A.repository}`;if(Q.startsWith("http")&&(Z.includes("download")||Z.includes("network")))B.push({type:"mcpb-download-failed",source:Y,plugin:A.name,url:Q,reason:Z});else if(Z.includes("manifest")||Z.includes("user configuration"))B.push({type:"mcpb-invalid-manifest",source:Y,plugin:A.name,mcpbPath:Q,validationError:Z});else B.push({type:"mcpb-extract-failed",source:Y,plugin:A.name,mcpbPath:Q,reason:Z});return null}}async function Jh3(A,Q=[]){let B={},G=yi1(A.path,".mcp.json");if(G)B={...B,...G};if(A.manifest.mcpServers){let Z=A.manifest.mcpServers;if(typeof Z==="string")if(aL(Z)){let Y=await PwB(A,Z,Q);if(Y)B={...B,...Y}}else{let Y=yi1(A.path,Z);if(Y)B={...B,...Y}}else if(Array.isArray(Z))for(let Y of Z)if(typeof Y==="string")if(aL(Y)){let J=await PwB(A,Y,Q);if(J)B={...B,...J}}else{let J=yi1(A.path,Y);if(J)B={...B,...J}}else B={...B,...Y};else B={...B,...Z}}return Object.keys(B).length>0?B:void 0}function yi1(A,Q){let B=jA(),G=Yh3(A,Q);if(!B.existsSync(G))return null;try{let Z=B.readFileSync(G,{encoding:"utf-8"}),Y=JSON.parse(Z),J=Y.mcpServers||Y,I={};for(let[X,W]of Object.entries(J)){let K=qp.safeParse(W);if(K.success)I[X]=K.data;else f(`Invalid MCP server config for ${X} in ${G}: ${K.error.message}`,{level:"error"})}return I}catch(Z){return f(`Failed to load MCP servers from ${G}: ${Z}`,{level:"error"}),null}}function Ih3(A,Q){let B={};for(let[G,Z]of Object.entries(A)){let Y=`plugin:${Q}:${G}`;B[Y]={...Z,scope:"dynamic"}}return B}function vi1(A,Q){return A.replace(/\$\{CLAUDE_PLUGIN_ROOT\}/g,Q)}function Xh3(A,Q){return A.replace(/\$\{user_config\.([^}]+)\}/g,(B,G)=>{let Z=Q[G];if(Z===void 0)throw Error(`Missing required user configuration value: ${G}. This should have been validated before variable substitution.`);return String(Z)})}function Wh3(A,Q,B,G){let Z=[],Y=(J)=>{let I=vi1(J,Q);if(B)I=Xh3(I,B);let{expanded:X,missingVars:W}=ywA(I);return Z.push(...W),X};if(A.type==="stdio"||!A.type){let J={...A};if(J.command)J.command=Y(J.command);if(J.args)J.args=J.args.map((X)=>Y(X));let I={CLAUDE_PLUGIN_ROOT:Q,...J.env||{}};for(let[X,W]of Object.entries(I))if(X!=="CLAUDE_PLUGIN_ROOT")I[X]=Y(W);if(J.env=I,G&&Z.length>0){let X=[...new Set(Z)];f(`Missing environment variables in plugin MCP config: ${X.join(", ")}`,{level:"warn"})}return J}if(G&&Z.length>0){let J=[...new Set(Z)];f(`Missing environment variables in plugin MCP config: ${J.join(", ")}`,{level:"warn"})}return A}async function SwB(A,Q=[]){if(!A.enabled)return;let B=A.mcpServers||await Jh3(A,Q);if(!B)return;let G={};for(let[Z,Y]of Object.entries(B))G[Z]=Wh3(Y,A.path,void 0,Q);return Ih3(G,A.name)}var ki1=L(()=>{XQ();Y0();u7A();xi1()});function oL(A){switch(A.type){case"generic-error":return A.error;case"path-not-found":return`Path not found: ${A.path} (${A.component})`;case"git-auth-failed":return`Git authentication failed (${A.authType}): ${A.gitUrl}`;case"git-timeout":return`Git ${A.operation} timeout: ${A.gitUrl}`;case"network-error":return`Network error: ${A.url}${A.details?` - ${A.details}`:""}`;case"manifest-parse-error":return`Manifest parse error: ${A.parseError}`;case"manifest-validation-error":return`Manifest validation failed: ${A.validationErrors.join(", ")}`;case"plugin-not-found":return`Plugin ${A.pluginId} not found in marketplace ${A.marketplace}`;case"marketplace-not-found":return`Marketplace ${A.marketplace} not found`;case"marketplace-load-failed":return`Marketplace ${A.marketplace} failed to load: ${A.reason}`;case"repository-scan-failed":return`Repository scan failed: ${A.reason}`;case"mcp-config-invalid":return`MCP server ${A.serverName} invalid: ${A.validationError}`;case"hook-load-failed":return`Hook load failed: ${A.reason}`;case"component-load-failed":return`${A.component} load failed from ${A.path}: ${A.reason}`;case"mcpb-download-failed":return`Failed to download MCPB from ${A.url}: ${A.reason}`;case"mcpb-extract-failed":return`Failed to extract MCPB ${A.mcpbPath}: ${A.reason}`;case"mcpb-invalid-manifest":return`MCPB manifest invalid at ${A.mcpbPath}: ${A.validationError}`;case"lsp-config-invalid":return`Plugin "${A.plugin}" has invalid LSP server config for "${A.serverName}": ${A.validationError}`;case"lsp-server-start-failed":return`Plugin "${A.plugin}" failed to start LSP server "${A.serverName}": ${A.reason}`;case"lsp-server-crashed":if(A.signal)return`Plugin "${A.plugin}" LSP server "${A.serverName}" crashed with signal ${A.signal}`;return`Plugin "${A.plugin}" LSP server "${A.serverName}" crashed with exit code ${A.exitCode??"unknown"}`;case"lsp-request-timeout":return`Plugin "${A.plugin}" LSP server "${A.serverName}" timed out on ${A.method} request after ${A.timeoutMs}ms`;case"lsp-request-failed":return`Plugin "${A.plugin}" LSP server "${A.serverName}" ${A.method} request failed: ${A.error}`;case"marketplace-blocked-by-policy":return`Marketplace '${A.marketplace}' is not allowed by enterprise policy`}}import{join as LtA,dirname as Kh3,parse as Vh3}from"path";function MtA(){return LtA(sL(),"managed-mcp.json")}function UNA(A,Q){if(!A)return{};let B={};for(let[G,Z]of Object.entries(A))B[G]={...Z,scope:Q};return B}function xwB(A){let Q=LtA(r1(),".mcp.json");rL(Q,JSON.stringify(A,null,2),{encoding:"utf8"})}function ywB(A){if(A.type!==void 0&&A.type!=="stdio")return null;let Q=A;return[Q.command,...Q.args]}function vwB(A,Q){if(A.length!==Q.length)return!1;return A.every((B,G)=>B===Q[G])}function kwB(A,Q){let B=NQ();if(!B.deniedMcpServers)return!1;for(let G of B.deniedMcpServers)if(hwA(G)&&G.serverName===A)return!0;if(Q){let G=ywB(Q);if(G){for(let Z of B.deniedMcpServers)if(VsA(Z)&&vwB(Z.serverCommand,G))return!0}}return!1}function fi1(A,Q){if(kwB(A,Q))return!1;let B=NQ();if(!B.allowedMcpServers)return!0;if(B.allowedMcpServers.length===0)return!1;let G=B.allowedMcpServers.some(VsA);if(Q){let Z=ywB(Q);if(Z)if(G){for(let Y of B.allowedMcpServers)if(VsA(Y)&&vwB(Y.serverCommand,Z))return!0;return!1}else{for(let Y of B.allowedMcpServers)if(hwA(Y)&&Y.serverName===A)return!0;return!1}else{for(let Y of B.allowedMcpServers)if(hwA(Y)&&Y.serverName===A)return!0;return!1}}for(let Z of B.allowedMcpServers)if(hwA(Z)&&Z.serverName===A)return!0;return!1}function Eh3(A){let Q=[];function B(Z){let{expanded:Y,missingVars:J}=ywA(Z);return Q.push(...J),Y}let G;switch(A.type){case void 0:case"stdio":{let Z=A;G={...Z,command:B(Z.command),args:Z.args.map(B),env:Z.env?cr(Z.env,B):void 0};break}case"sse":case"http":case"ws":{let Z=A;G={...Z,url:B(Z.url),headers:Z.headers?cr(Z.headers,B):void 0};break}case"sse-ide":case"ws-ide":G=A;break;case"sdk":G=A;break}return{expanded:G,missingVars:[...new Set(Q)]}}function ae(A,Q,B){if(A.match(/[^a-zA-Z0-9_-]/))throw Error(`Invalid name ${A}. Names can only contain letters, numbers, hyphens, and underscores.`);let G=qp.safeParse(Q);if(!G.success){let Y=G.error.errors.map((J)=>`${J.path.join(".")}: ${J.message}`).join(", ");throw Error(`Invalid configuration: ${Y}`)}let Z=G.data;if(kwB(A,Z))throw Error(`Cannot add MCP server "${A}": server is explicitly blocked by enterprise policy`);if(!fi1(A,Z))throw Error(`Cannot add MCP server "${A}": not allowed by enterprise policy`);switch(B){case"project":{let{servers:Y}=bi1();if(Y[A])throw Error(`MCP server ${A} already exists in .mcp.json`);break}case"user":{if(d1().mcpServers?.[A])throw Error(`MCP server ${A} already exists in user config`);break}case"local":{if(l7().mcpServers?.[A])throw Error(`MCP server ${A} already exists in local config`);break}case"dynamic":throw Error("Cannot add MCP server to scope: dynamic");case"enterprise":throw Error("Cannot add MCP server to scope: enterprise")}switch(B){case"project":{let{servers:Y}=bi1(),J={};for(let[X,W]of Object.entries(Y)){let{scope:K,...V}=W;J[X]=V}J[A]=Z;let I={mcpServers:J};try{xwB(I)}catch(X){throw Error(`Failed to write to .mcp.json: ${X}`)}break}case"user":{i0((Y)=>({...Y,mcpServers:{...Y.mcpServers,[A]:Z}}));break}case"local":{nG((Y)=>({...Y,mcpServers:{...Y.mcpServers,[A]:Z}}));break}default:throw Error(`Cannot add MCP server to scope: ${B}`)}}function hi1(A,Q){switch(Q){case"project":{let{servers:B}=bi1();if(!B[A])throw Error(`No MCP server found with name: ${A} in .mcp.json`);let G={};for(let[Y,J]of Object.entries(B))if(Y!==A){let{scope:I,...X}=J;G[Y]=X}let Z={mcpServers:G};try{xwB(Z)}catch(Y){throw Error(`Failed to remove from .mcp.json: ${Y}`)}break}case"user":{if(!d1().mcpServers?.[A])throw Error(`No user-scoped MCP server found with name: ${A}`);i0((G)=>{let{[A]:Z,...Y}=G.mcpServers??{};return{...G,mcpServers:Y}});break}case"local":{if(!l7().mcpServers?.[A])throw Error(`No project-local MCP server found with name: ${A}`);nG((G)=>{let{[A]:Z,...Y}=G.mcpServers??{};return{...G,mcpServers:Y}});break}default:throw Error(`Cannot remove MCP server from scope: ${Q}`)}}function bi1(){if(!sK("projectSettings"))return{servers:{},errors:[]};let A=jA(),Q=LtA(r1(),".mcp.json");if(!A.existsSync(Q))return{servers:{},errors:[]};let{config:B,errors:G}=NGA({filePath:Q,expandVars:!0,scope:"project"});return{servers:B?.mcpServers?UNA(B.mcpServers,"project"):{},errors:G||[]}}function JX(A){let Q={project:"projectSettings",user:"userSettings",local:"localSettings"};if(A in Q&&!sK(Q[A]))return{servers:{},errors:[]};switch(A){case"project":{let B=jA(),G={},Z=[],Y=[],J=r1();while(J!==Vh3(J).root)Y.push(J),J=Kh3(J);for(let I of Y.reverse()){let X=LtA(I,".mcp.json");if(!B.existsSync(X))continue;let{config:W,errors:K}=NGA({filePath:X,expandVars:!0,scope:"project"});if(W?.mcpServers)Object.assign(G,UNA(W.mcpServers,A));if(K.length>0)Z.push(...K)}return{servers:G,errors:Z}}case"user":{let B=d1().mcpServers;if(!B)return{servers:{},errors:[]};let{config:G,errors:Z}=$NA({configObject:{mcpServers:B},expandVars:!0,scope:"user"});return{servers:UNA(G?.mcpServers,A),errors:Z}}case"local":{let B=l7().mcpServers;if(!B)return{servers:{},errors:[]};let{config:G,errors:Z}=$NA({configObject:{mcpServers:B},expandVars:!0,scope:"local"});return{servers:UNA(G?.mcpServers,A),errors:Z}}case"enterprise":{let B=MtA();if(!jA().existsSync(B))return{servers:{},errors:[]};let{config:Z,errors:Y}=NGA({filePath:B,expandVars:!0,scope:"enterprise"});return{servers:UNA(Z?.mcpServers,A),errors:Y}}}}function np(A){let{servers:Q}=JX("enterprise"),{servers:B}=JX("user"),{servers:G}=JX("project"),{servers:Z}=JX("local");if(Q[A])return Q[A];if(Z[A])return Z[A];if(G[A])return G[A];if(B[A])return B[A];return null}async function T_(){let{servers:A}=JX("enterprise");if(gi1()){let V={};for(let[E,D]of Object.entries(A)){if(!fi1(E,D))continue;V[E]=D}return r("tengu_mcp_servers",{enterprise:Object.keys(V).length,global:0,project:0,user:0,plugin:0}),{servers:V,errors:[]}}let{servers:Q}=JX("user"),{servers:B}=JX("project"),{servers:G}=JX("local"),Z={},Y=await h5(),J=[];if(Y.errors.length>0)for(let V of Y.errors)if(V.type==="mcp-config-invalid"||V.type==="mcpb-download-failed"||V.type==="mcpb-extract-failed"||V.type==="mcpb-invalid-manifest"){let E=`Plugin MCP loading error - ${V.type}: ${oL(V)}`;s(Error(E))}else{let E=V.type;f(`Plugin not available for MCP: ${V.source} - error type: ${E}`)}for(let V of Y.enabled){let E=await SwB(V,J);if(E)Object.assign(Z,E)}if(J.length>0)for(let V of J){let E=`Plugin MCP server error - ${V.type}: ${oL(V)}`;s(Error(E))}let I={};for(let[V,E]of Object.entries(B))if(OtA(V)==="approved")I[V]=E;let X=Object.assign({},Z,Q,I,G),W={};for(let[V,E]of Object.entries(X)){if(!fi1(V,E))continue;W[V]=E}let K={enterprise:0,global:0,project:0,user:0,plugin:0};for(let V of Object.values(W))if(V.scope==="enterprise")K.enterprise++;else if(V.scope==="user")K.global++;else if(V.scope==="project")K.project++;else if(V.scope==="local")K.user++;else if(V.scope==="dynamic")K.plugin++;return r("tengu_mcp_servers",K),{servers:W,errors:J}}function $NA(A){let{configObject:Q,expandVars:B,scope:G,filePath:Z}=A,Y=xHB.safeParse(Q);if(!Y.success)return{config:null,errors:Y.error.issues.map((X)=>({...Z&&{file:Z},path:X.path.join("."),message:"Does not adhere to MCP server configuration schema",mcpErrorMetadata:{scope:G,severity:"fatal"}}))};let J=[],I={};for(let[X,W]of Object.entries(Y.data.mcpServers)){let K=W;if(B){let{expanded:V,missingVars:E}=Eh3(W);if(E.length>0)J.push({...Z&&{file:Z},path:`mcpServers.${X}`,message:`Missing environment variables: ${E.join(", ")}`,suggestion:`Set the following environment variables: ${E.join(", ")}`,mcpErrorMetadata:{scope:G,serverName:X,severity:"warning"}});K=V}if(dQ()==="windows"&&(!K.type||K.type==="stdio")&&(K.command==="npx"||K.command.endsWith("\\npx")||K.command.endsWith("/npx")))J.push({...Z&&{file:Z},path:`mcpServers.${X}`,message:"Windows requires 'cmd /c' wrapper to execute npx",suggestion:'Change command to "cmd" with args ["/c", "npx", ...]. See: https://code.claude.com/docs/en/mcp#configure-mcp-servers',mcpErrorMetadata:{scope:G,serverName:X,severity:"warning"}});I[X]=K}return{config:{mcpServers:I},errors:J}}function NGA(A){let{filePath:Q,expandVars:B,scope:G}=A,Z=jA();if(!Z.existsSync(Q))return{config:null,errors:[{file:Q,path:"",message:`MCP config file not found: ${Q}`,suggestion:"Check that the file path is correct",mcpErrorMetadata:{scope:G,severity:"fatal"}}]};let Y;try{Y=Z.readFileSync(Q,{encoding:"utf8"})}catch(I){return{config:null,errors:[{file:Q,path:"",message:`Failed to read file: ${I}`,suggestion:"Check file permissions and ensure the file exists",mcpErrorMetadata:{scope:G,severity:"fatal"}}]}}let J=h8(Y);if(!J)return{config:null,errors:[{file:Q,path:"",message:"MCP config is not a valid JSON",suggestion:"Fix the JSON syntax errors in the file",mcpErrorMetadata:{scope:G,severity:"fatal"}}]};return $NA({configObject:J,expandVars:B,scope:G,filePath:Q})}function gi1(){let{config:A}=NGA({filePath:MtA(),expandVars:!0,scope:"enterprise"});return A!==null}function fwB(A){return Object.values(A).every((Q)=>Q.type==="sdk"&&Q.name==="claude-vscode")}function wNA(A){return(l7().disabledMcpServers||[]).includes(A)}function ui1(A,Q){nG((B)=>{let G=B.disabledMcpServers||[];if(Q)G=G.filter((Z)=>Z!==A);else if(!G.includes(A))G=[...G,A];return{...B,disabledMcpServers:G}})}var qw=L(()=>{xQ();XQ();uI();T0();cuA();pB();M9();u7A();SJ();k3();jB();Te();tI();h1();Y0();YW();r7A();ki1()});function Dh3(A){return A.scope==="project"||A.scope==="local"}async function Hh3(A,Q){if(!Q.headersHelper)return null;if("scope"in Q&&Dh3(Q)&&!D4()){if(!QY(!0)){let G=Error(`Security: headersHelper for MCP server '${A}' executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);return eN("MCP headersHelper invoked before trust check",G),r("tengu_mcp_headersHelper_missing_trust",{}),null}}try{c0(A,"Executing headersHelper to get dynamic headers");let B=await L3(Q.headersHelper,[],{shell:!0,timeout:1e4});if(B.code!==0||!B.stdout)throw Error(`headersHelper for MCP server '${A}' did not return a valid value`);let G=B.stdout.trim(),Z=JSON.parse(G);if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw Error(`headersHelper for MCP server '${A}' must return a JSON object with string key-value pairs`);for(let[Y,J]of Object.entries(Z))if(typeof J!=="string")throw Error(`headersHelper for MCP server '${A}' returned non-string value for key "${Y}": ${typeof J}`);return c0(A,`Successfully retrieved ${Object.keys(Z).length} headers from headersHelper`),Z}catch(B){return rZ(A,`Error getting headers from headersHelper: ${B instanceof Error?B.message:String(B)}`),s(Error(`Error getting MCP headers from headersHelper for server '${A}': ${B instanceof Error?B.message:String(B)}`)),null}}async function RtA(A,Q){let B=Q.headers||{},G=await Hh3(A,Q)||{};return{...B,...G}}var bwB=L(()=>{I6();xQ();h1();Y0();T0();g0()});class mi1{serverName;sendMcpMessage;isClosed=!1;onclose;onerror;onmessage;constructor(A,Q){this.serverName=A;this.sendMcpMessage=Q}async start(){}async send(A){if(this.isClosed)throw Error("Transport is closed");let Q=await this.sendMcpMessage(this.serverName,A);if(this.onmessage)this.onmessage(Q)}async close(){if(this.isClosed)return;this.isClosed=!0,this.onclose?.()}}function Fh3(A,Q){return null;switch(Q){case"navigate":if(typeof A.url==="string")try{let G=new URL(A.url);B.push(G.hostname)}catch{B.push(NNA(A.url,30))}break;case"find":if(typeof A.query==="string")B.push(`pattern: ${NNA(A.query,30)}`);break;case"computer":if(typeof A.action==="string"){let G=A.action;if(G==="left_click"||G==="right_click"||G==="double_click"||G==="middle_click")if(typeof A.ref==="string")B.push(`${G} on ${A.ref}`);else if(Array.isArray(A.coordinate))B.push(`${G} at (${A.coordinate.join(", ")})`);else B.push(G);else if(G==="type"&&typeof A.text==="string")B.push(`type "${NNA(A.text,15)}"`);else if(G==="key"&&typeof A.text==="string")B.push(`key ${A.text}`);else if(G==="scroll"&&typeof A.scroll_direction==="string")B.push(`scroll ${A.scroll_direction}`);else if(G==="wait"&&typeof A.duration==="number")B.push(`wait ${A.duration}ms`);else if(G==="left_click_drag")B.push("drag");else B.push(G)}break;case"gif_creator":if(typeof A.action==="string")B.push(`${A.action}`);break;case"resize_window":if(typeof A.width==="number"&&typeof A.height==="number")B.push(`${A.width}x${A.height}`);break;case"read_console_messages":if(typeof A.pattern==="string")B.push(`pattern: ${NNA(A.pattern,20)}`);if(A.onlyErrors===!0)B.push("errors only");break;case"read_network_requests":if(typeof A.urlPattern==="string")B.push(`pattern: ${NNA(A.urlPattern,20)}`);break;case"shortcuts_get":if(typeof A.command==="string")B.push(`/${A.command}`);else if(typeof A.shortcutId==="string")B.push(`shortcut_id: ${A.shortcutId}`);break}}function Ch3(A,Q,B){return null;switch(Q){case"navigate":G="Navigation completed";break;case"tabs_create":G="Tab created";break;case"form_input":G="Input completed";break;case"computer":G="Action completed";break;case"resize_window":G="Window resized";break;case"find":G="Search completed";break;case"gif_creator":G="GIF action completed";break;case"read_console_messages":G="Console messages retrieved";break;case"read_network_requests":G="Network requests retrieved";break;case"shortcuts_get":G="Shortcut retrieved";break;case"shortcuts_list":G="Shortcuts retrieved";break}}function gwB(A){return{userFacingName(Q){return A},renderToolUseMessage(Q){return null},renderToolResultMessage(Q,B,{verbose:G}){if(!hwB(Q))return null;return SwA(Q,[],{verbose:G})}}}function NNA(A,Q){return A.length>Q?A.slice(0,Q)+"‚Ä¶":A}function hwB(A){return typeof A==="object"&&A!==null}var qNA;var di1=L(()=>{fA();h4();hdA();wp1();r7A();SJ();qNA=o(WA(),1)});function _tA(){return parseInt(process.env.MCP_TIMEOUT||"",10)||30000}function Uh3(){return parseInt(process.env.MCP_SERVER_CONNECTION_BATCH_SIZE||"",10)||3}function wh3(A){return!A.name.startsWith("mcp__ide__")||$h3.includes(A.name)}function uwB(A,Q){return`${A}-${JSON.stringify(Q)}`}async function qGA(A,Q){let B=uwB(A,Q);try{let G=await oe(A,Q);if(G.type==="connected")await G.cleanup()}catch{}oe.cache.delete(B)}async function Bb(A,Q,B){return pwB({client:B,tool:A,args:Q,signal:g9().signal})}async function re(A,Q){try{await qGA(A,Q);let B=await oe(A,Q);if(B.type!=="connected")return{client:B,tools:[],commands:[]};let G=!!B.capabilities?.resources,[Z,Y,J]=await Promise.all([jtA(B),dwB(B),G?mwB(B):Promise.resolve([])]),I=[];if(G){if(![Gb,Zb].some((W)=>Z.some((K)=>K.name===W.name)))I.push(Gb,Zb)}return{client:B,tools:[...Z,...I],commands:Y,resources:J.length>0?J:void 0}}catch(B){return rZ(A,`Error during reconnection: ${B instanceof Error?B.message:String(B)}`),{client:{name:A,type:"failed",config:Q},tools:[],commands:[]}}}async function Nh3(A,Q,B){for(let G=0;G<A.length;G+=Q){let Z=A.slice(G,G+Q);await Promise.all(Z.map(B))}}async function ci1(A,Q){let B=!1,G=Object.entries(Q??(await T_()).servers),Z=G.length,Y=G.filter(([K,V])=>V.type==="stdio").length,J=G.filter(([K,V])=>V.type==="sse").length,I=G.filter(([K,V])=>V.type==="http").length,X=G.filter(([K,V])=>V.type==="sse-ide").length,W=G.filter(([K,V])=>V.type==="ws-ide").length;await Nh3(G,Uh3(),async([K,V])=>{try{if(wNA(K)){A({client:{name:K,type:"disabled",config:V},tools:[],commands:[]});return}let D=await oe(K,V,{totalServers:Z,stdioCount:Y,sseCount:J,httpCount:I,sseIdeCount:X,wsIdeCount:W});if(D.type!=="connected"){A({client:D,tools:[],commands:[]});return}let H=!!D.capabilities?.resources,[F,C,U]=await Promise.all([jtA(D),dwB(D),H?mwB(D):Promise.resolve([])]),O=[];if(H&&!B)B=!0,O.push(Gb,Zb);A({client:D,tools:[...F,...O],commands:C,resources:U.length>0?U:void 0})}catch(E){rZ(K,`Error fetching tools/commands/resources: ${E instanceof Error?E.message:String(E)}`),A({client:{name:K,type:"failed",config:V},tools:[],commands:[]})}})}async function cwB(A,Q){switch(A.type){case"text":return[{type:"text",text:A.text}];case"image":{let B=Buffer.from(String(A.data),"base64"),G=await $s(B,void 0,A.mimeType);return[{type:"image",source:{data:G.base64,media_type:G.mediaType,type:"base64"}}]}case"resource":{let B=A.resource,G=`[Resource from ${Q} at ${B.uri}] `;if("text"in B)return[{type:"text",text:`${G}${B.text}`}];else if("blob"in B)if(zh3.has(B.mimeType??"")){let Y=Buffer.from(B.blob,"base64"),J=await $s(Y,void 0,B.mimeType),I=[];if(G)I.push({type:"text",text:G});return I.push({type:"image",source:{data:J.base64,media_type:J.mediaType,type:"base64"}}),I}else return[{type:"text",text:`${G}Base64 data (${B.mimeType||"unknown type"}) ${B.blob}`}];return[]}case"resource_link":{let B=A,G=`[Resource link: ${B.name}] ${B.uri}`;if(B.description)G+=` (${B.description})`;return[{type:"text",text:G}]}default:return[]}}function TtA(A,Q=2){if(A===null)return"null";if(Array.isArray(A)){if(A.length===0)return"[]";return`[${TtA(A[0],Q-1)}]`}if(typeof A==="object"){if(Q<=0)return"{...}";let G=Object.entries(A).slice(0,10).map(([Y,J])=>`${Y}: ${TtA(J,Q-1)}`),Z=Object.keys(A).length>10?", ...":"";return`{${G.join(", ")}${Z}}`}return typeof A}async function pi1(A,Q,B){if(A&&typeof A==="object"){if("toolResult"in A)return{content:String(A.toolResult),type:"toolResult"};if("structuredContent"in A&&A.structuredContent!==void 0)return{content:JSON.stringify(A.structuredContent),type:"structuredContent",schema:TtA(A.structuredContent)};if("content"in A&&Array.isArray(A.content)){let Z=(await Promise.all(A.content.map((Y)=>cwB(Y,B)))).flat();return{content:Z,type:"contentArray",schema:TtA(Z)}}}let G=`Unexpected response format from tool ${Q}`;throw rZ(B,G),Error(G)}async function qh3(A,Q,B){let{content:G}=await pi1(A,Q,B);if(B!=="ide")return await NDB(G);return G}async function pwB({client:{client:A,name:Q},tool:B,args:G,meta:Z,signal:Y}){let J=Date.now(),I;try{c0(Q,`Calling MCP tool: ${B}`),I=setInterval(()=>{let V=Date.now()-J,D=`${Math.floor(V/1000)}s`;c0(Q,`Tool '${B}' still running (${D} elapsed)`)},30000);let X=await A.callTool({name:B,arguments:G,_meta:Z},F_,{signal:Y,timeout:se()});if("isError"in X&&X.isError){let V="Unknown error";if("content"in X&&Array.isArray(X.content)&&X.content.length>0){let E=X.content[0];if(E&&typeof E==="object"&&"text"in E)V=E.text}else if("error"in X)V=String(X.error);throw rZ(Q,V),Error(V)}let W=Date.now()-J,K=W<1000?`${W}ms`:W<60000?`${Math.floor(W/1000)}s`:`${Math.floor(W/60000)}m ${Math.floor(W%60000/1000)}s`;return c0(Q,`Tool '${B}' completed successfully in ${K}`),await qh3(X,B,Q)}catch(X){if(I!==void 0)clearInterval(I);let W=Date.now()-J;if(X instanceof Error&&X.name!=="AbortError")c0(Q,`Tool '${B}' failed after ${Math.floor(W/1000)}s: ${X.message}`);if(!(X instanceof Error)||X.name!=="AbortError")throw X}finally{if(I!==void 0)clearInterval(I)}}function Lh3(A){if(A.message.content[0]?.type!=="tool_use")return;return A.message.content[0].id}async function lwB(A,Q){let B=[],G=[],Z=await Promise.allSettled(Object.entries(A).map(async([Y,J])=>{let I=new mi1(Y,Q),X=new DrA({name:"claude-code",version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION??"unknown"},{capabilities:{}});try{await X.connect(I);let W=X.getServerCapabilities(),K={type:"connected",name:Y,capabilities:W||{},client:X,config:{...J,scope:"dynamic"},cleanup:async()=>{await X.close()}},V=[];if(W?.tools){let E=await jtA(K);V.push(...E)}return{client:K,tools:V}}catch(W){return rZ(Y,`Failed to connect SDK MCP server: ${W}`),{client:{type:"failed",name:Y,config:{...J,scope:"user"}},tools:[]}}}));for(let Y of Z)if(Y.status==="fulfilled")B.push(Y.value.client),G.push(...Y.value.tools);return{clients:B,tools:G}}var zh3,$h3,oe,jtA,mwB,dwB,PtA;var $_=L(()=>{o2();OFA();jEB();SEB();aEB();rEB();JV();WfQ();h1();lD();T0();PJ();g0();bW();prA();irA();SJ();LDB();u6A();Xd();LZ();ws();SDB();arA();orA();IsA();qw();bwB();RwA();CV();r7A();di1();zh3=new Set(["image/jpeg","image/png","image/gif","image/webp"]);$h3=["mcp__ide__executeCode","mcp__ide__getDiagnostics"];oe=Z0(async(A,Q,B)=>{let G=Date.now();try{let Z,Y=Le();if(Q.type==="sse"){let M=new Oe(A,Q),_=await RtA(A,Q),T={authProvider:M,requestInit:{headers:{"User-Agent":gr(),..._},signal:AbortSignal.timeout(60000)}};if(Object.keys(_).length>0)T.eventSourceInit={fetch:async(y,h)=>{let x={},m=await M.tokens();if(m)x.Authorization=`Bearer ${m.access_token}`;let g=m6A();return fetch(y,{...h,...g,headers:{"User-Agent":gr(),...x,...h?.headers,..._,Accept:"text/event-stream"}})}};Z=new yrA(new URL(Q.url),T),c0(A,"SSE transport initialized, awaiting connection")}else if(Q.type==="sse-ide"){c0(A,`Setting up SSE-IDE transport to ${Q.url}`);let M=m6A(),_=M.dispatcher?{eventSourceInit:{fetch:async(T,y)=>{return fetch(T,{...y,...M,headers:{"User-Agent":gr(),...y?.headers}})}}}:{};Z=new yrA(new URL(Q.url),Object.keys(_).length>0?_:void 0)}else if(Q.type==="ws-ide"){let M=fR1(),_={headers:{"User-Agent":gr(),...Q.authToken&&{"X-Claude-Code-Ide-Authorization":Q.authToken}},agent:tDA(Q.url),...M||{}},T=new MFA.default(Q.url,["mcp"],Object.keys(_).length>0?_:void 0);Z=new nrA(T)}else if(Q.type==="ws"){c0(A,`Initializing WebSocket transport to ${Q.url}`);let M=await RtA(A,Q),_=fR1(),T={headers:{"User-Agent":gr(),...Y&&{Authorization:`Bearer ${Y}`},...M},agent:tDA(Q.url),..._||{}};c0(A,`WebSocket transport options: ${JSON.stringify({url:Q.url,headers:T.headers,hasSessionAuth:!!Y})}`);let y=new MFA.default(Q.url,["mcp"],Object.keys(T).length>0?T:void 0);Z=new nrA(y)}else if(Q.type==="http"){c0(A,`Initializing HTTP transport to ${Q.url}`),c0(A,`Node version: ${process.version}, Platform: ${process.platform}`),c0(A,`Environment: ${JSON.stringify({NODE_OPTIONS:process.env.NODE_OPTIONS||"not set",UV_THREADPOOL_SIZE:process.env.UV_THREADPOOL_SIZE||"default",HTTP_PROXY:process.env.HTTP_PROXY||"not set",HTTPS_PROXY:process.env.HTTPS_PROXY||"not set",NO_PROXY:process.env.NO_PROXY||"not set"})}`);let M=new Oe(A,Q),_=await RtA(A,Q),T=m6A();c0(A,`Proxy options: ${T.dispatcher?"custom dispatcher":"default"}`);let y={authProvider:M,requestInit:{...T,headers:{"User-Agent":gr(),...Y&&{Authorization:`Bearer ${Y}`},..._},signal:AbortSignal.timeout(60000)}};c0(A,`HTTP transport options: ${JSON.stringify({url:Q.url,headers:y.requestInit?.headers,hasAuthProvider:!!M,timeoutMs:60000})}`),Z=new Wp1(new URL(Q.url),y),c0(A,"HTTP transport created successfully")}else if(Q.type==="sdk")throw Error("SDK servers should be handled in print.ts");else{let M=process.env.CLAUDE_CODE_SHELL_PREFIX||Q.command,_=process.env.CLAUDE_CODE_SHELL_PREFIX?[[Q.command,...Q.args].join(" ")]:Q.args;Z=new uc1({command:M,args:_,env:{...process.env,...Q.env},stderr:"pipe"})}let J;if(Q.type==="stdio"||!Q.type){let M=Z;if(M.stderr)J=(_)=>{let T=_.toString().trim();if(T)rZ(A,`Server stderr: ${T}`)},M.stderr.on("data",J)}let I=new DrA({name:"claude-code",version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION??"unknown"},{capabilities:{roots:{},...{}}});if(Q.type==="http")c0(A,"Client created, setting up request handler");if(I.setRequestHandler(Ec1,async()=>{return c0(A,"Received ListRoots request from server"),{roots:[{uri:`file://${pQ()}`}]}}),c0(A,`Starting connection with timeout of ${_tA()}ms`),Q.type==="http"){c0(A,`Testing basic HTTP connectivity to ${Q.url}`);try{let M=new URL(Q.url);if(c0(A,`Parsed URL: host=${M.hostname}, port=${M.port||"default"}, protocol=${M.protocol}`),M.hostname==="127.0.0.1"||M.hostname==="localhost")c0(A,`Using loopback address: ${M.hostname}`)}catch(M){c0(A,`Failed to parse URL: ${M}`)}}let X=I.connect(Z),W=new Promise((M,_)=>{let T=setTimeout(()=>{let y=Date.now()-G;c0(A,`Connection timeout triggered after ${y}ms (limit: ${_tA()}ms)`),_(Error(`Connection to MCP server "${A}" timed out after ${_tA()}ms`))},_tA());X.then(()=>{clearTimeout(T)},(y)=>{clearTimeout(T)})});try{await Promise.race([X,W]);let M=Date.now()-G;c0(A,`Successfully connected to ${Q.type} server in ${M}ms`)}catch(M){let _=Date.now()-G;if(Q.type==="sse"&&M instanceof Error){if(c0(A,`SSE Connection failed after ${_}ms: ${JSON.stringify({url:Q.url,error:M.message,errorType:M.constructor.name,stack:M.stack})}`),rZ(A,M),M instanceof YH)return r("tengu_mcp_server_needs_auth",{}),c0(A,"Authentication required for SSE server"),{name:A,type:"needs-auth",config:Q}}else if(Q.type==="http"&&M instanceof Error){let T=M;if(c0(A,`HTTP Connection failed after ${_}ms: ${M.message} (code: ${T.code||"none"}, errno: ${T.errno||"none"})`),rZ(A,M),M instanceof YH)return r("tengu_mcp_server_needs_auth",{}),c0(A,"Authentication required for HTTP server"),{name:A,type:"needs-auth",config:Q}}else if(Q.type==="sse-ide"||Q.type==="ws-ide")r("tengu_mcp_ide_server_connection_failed",{});throw M}let K=I.getServerCapabilities(),V=I.getServerVersion(),E=I.getInstructions();if(c0(A,`Connection established with capabilities: ${JSON.stringify({hasTools:!!K?.tools,hasPrompts:!!K?.prompts,hasResources:!!K?.resources,serverVersion:V||"unknown"})}`),Q.type==="sse-ide"||Q.type==="ws-ide"){r("tengu_mcp_ide_server_connection_succeeded",{serverVersion:V});try{KDB(I)}catch(M){rZ(A,`Failed to send ide_connected notification: ${M}`)}}let D=Date.now(),H=!1,F=I.onerror,C=I.onclose;I.onerror=(M)=>{let _=Date.now()-D;H=!0;let T=Q.type||"stdio";if(c0(A,`${T.toUpperCase()} connection dropped after ${Math.floor(_/1000)}s uptime`),M.message)if(M.message.includes("ECONNRESET"))c0(A,"Connection reset - server may have crashed or restarted");else if(M.message.includes("ETIMEDOUT"))c0(A,"Connection timeout - network issue or server unresponsive");else if(M.message.includes("ECONNREFUSED"))c0(A,"Connection refused - server may be down");else if(M.message.includes("EPIPE"))c0(A,"Broken pipe - server closed connection unexpectedly");else if(M.message.includes("EHOSTUNREACH"))c0(A,"Host unreachable - network connectivity issue");else if(M.message.includes("ESRCH"))c0(A,"Process not found - stdio server process terminated");else if(M.message.includes("spawn"))c0(A,"Failed to spawn process - check command and permissions");else c0(A,`Connection error: ${M.message}`);if(F)F(M)},I.onclose=()=>{let M=Date.now()-D,_=Q.type??"unknown";if(c0(A,`${_.toUpperCase()} connection closed after ${Math.floor(M/1000)}s (${H?"with errors":"cleanly"})`),C)C()};let U=async()=>{if(J&&(Q.type==="stdio"||!Q.type))Z.stderr?.off("data",J);if(Q.type==="stdio")try{let _=Z.pid;if(_){c0(A,"Sending SIGINT to MCP server process");try{process.kill(_,"SIGINT")}catch(T){c0(A,`Error sending SIGINT: ${T}`);return}await new Promise(async(T)=>{let y=!1,h=setInterval(()=>{try{process.kill(_,0)}catch{if(!y)y=!0,clearInterval(h),clearTimeout(x),c0(A,"MCP server process exited cleanly"),T()}},50),x=setTimeout(()=>{if(!y)y=!0,clearInterval(h),c0(A,"Cleanup timeout reached, stopping process monitoring"),T()},600);try{if(await new Promise((m)=>setTimeout(m,100)),!y){try{process.kill(_,0),c0(A,"SIGINT failed, sending SIGTERM to MCP server process");try{process.kill(_,"SIGTERM")}catch(m){c0(A,`Error sending SIGTERM: ${m}`),y=!0,clearInterval(h),clearTimeout(x),T();return}}catch{y=!0,clearInterval(h),clearTimeout(x),T();return}if(await new Promise((m)=>setTimeout(m,400)),!y)try{process.kill(_,0),c0(A,"SIGTERM failed, sending SIGKILL to MCP server process");try{process.kill(_,"SIGKILL")}catch(m){c0(A,`Error sending SIGKILL: ${m}`)}}catch{y=!0,clearInterval(h),clearTimeout(x),T()}}if(!y)y=!0,clearInterval(h),clearTimeout(x),T()}catch{if(!y)y=!0,clearInterval(h),clearTimeout(x),T()}})}}catch(M){c0(A,`Error terminating process: ${M}`)}try{await I.close()}catch(M){c0(A,`Error closing client: ${M}`)}},O=U8(U),q=async()=>{O?.(),await U()};return r("tengu_mcp_server_connection_succeeded",{}),{name:A,client:I,type:"connected",capabilities:K??{},serverInfo:V,instructions:E,config:Q,cleanup:q}}catch(Z){r("tengu_mcp_server_connection_failed",{totalServers:B?.totalServers||1,stdioCount:B?.stdioCount||(Q.type==="stdio"?1:0),sseCount:B?.sseCount||(Q.type==="sse"?1:0),httpCount:B?.httpCount||(Q.type==="http"?1:0),sseIdeCount:B?.sseIdeCount||(Q.type==="sse-ide"?1:0),wsIdeCount:B?.wsIdeCount||(Q.type==="ws-ide"?1:0),transportType:Q.type});let Y=Date.now()-(G||0);return c0(A,`Connection failed after ${Y}ms: ${Z instanceof Error?Z.message:String(Z)}`),rZ(A,`Connection failed: ${Z instanceof Error?Z.message:String(Z)}`),{name:A,type:"failed",config:Q}}},uwB);jtA=Z0(async(A)=>{if(A.type!=="connected")return[];try{if(!A.capabilities?.tools)return[];let Q=await A.client.request({method:"tools/list"},CwA);return wp(Q.tools).map((G)=>({...PDB,name:`mcp__${g5(A.name)}__${g5(G.name)}`,originalMcpToolName:G.name,isMcp:!0,async description(){return G.description??""},async prompt(){return G.description??""},isConcurrencySafe(){return G.annotations?.readOnlyHint??!1},isReadOnly(){return G.annotations?.readOnlyHint??!1},isDestructive(){return G.annotations?.destructiveHint??!1},isOpenWorld(){return G.annotations?.openWorldHint??!1},inputJSONSchema:G.inputSchema,async call(Z,Y,J,I){let X=Lh3(I),W=X?{"claudecode/toolUseId":X}:{};return{data:await pwB({client:A,tool:G.name,args:Z,meta:W,signal:Y.abortController.signal})}},userFacingName(){let Z=G.annotations?.title||G.name;return`${A.name} - ${Z} (MCP)`},...cp1(A.name)?gwB(G.name):{}})).filter(wh3)}catch(Q){return rZ(A.name,`Failed to fetch tools: ${Q instanceof Error?Q.message:String(Q)}`),[]}}),mwB=Z0(async(A)=>{if(A.type!=="connected")return[];try{if(!A.capabilities?.resources)return[];let Q=await A.client.request({method:"resources/list"},$e);if(!Q.resources)return[];return Q.resources.map((B)=>({...B,server:A.name}))}catch(Q){return rZ(A.name,`Failed to fetch resources: ${Q instanceof Error?Q.message:String(Q)}`),[]}}),dwB=Z0(async(A)=>{if(A.type!=="connected")return[];let Q=A;try{if(!A.capabilities?.prompts)return[];let B=await A.client.request({method:"prompts/list"},FwA);if(!B.prompts)return[];return wp(B.prompts).map((Z)=>{let Y=Object.values(Z.arguments??{}).map((J)=>J.name);return{type:"prompt",name:"mcp__"+g5(Q.name)+"__"+Z.name,description:Z.description??"",hasUserSpecifiedDescription:!!Z.description,isEnabled:()=>!0,isHidden:!1,isMcp:!0,progressMessage:"running",userFacingName(){let J=Z.title||Z.name;return`${Q.name}:${J} (MCP)`},argNames:Y,source:"mcp",async getPromptForCommand(J){let I=J.split(" ");try{let X=await Q.client.getPrompt({name:Z.name,arguments:XfQ(Y,I)});return(await Promise.all(X.messages.map((K)=>cwB(K.content,A.name)))).flat()}catch(X){throw rZ(A.name,`Error running command '${Z.name}': ${X instanceof Error?X.message:String(X)}`),X}}}})}catch(B){return rZ(A.name,`Failed to fetch commands: ${B instanceof Error?B.message:String(B)}`),[]}});PtA=Z0(async(A)=>{return new Promise((Q)=>{let B=0,G=0;if(B=Object.keys(A).length,B===0){Q({clients:[],tools:[],commands:[]});return}let Z=[],Y=[],J=[];ci1((I)=>{if(Z.push(I.client),Y.push(...I.tools),J.push(...I.commands),G++,G>=B){let X=J.reduce((W,K)=>{let V=K.name.length+(K.description??"").length+(K.argumentHint??"").length;return W+V},0);r("tengu_mcp_tools_commands_loaded",{tools_count:Y.length,commands_count:J.length,commands_metadata_length:X}),Q({clients:Z,tools:Y,commands:J})}},A).catch((I)=>{rZ("prefetchAllMcpResources",`Failed to get MCP resources: ${I instanceof Error?I.message:String(I)}`),Q({clients:[],tools:[],commands:[]})})})})});class j_{static instance;baseline=new Map;initialized=!1;mcpClient;lastProcessedTimestamps=new Map;rightFileDiagnosticsState=new Map;static getInstance(){if(!j_.instance)j_.instance=new j_;return j_.instance}initialize(A){if(this.initialized)return;this.mcpClient=A,this.initialized=!0}async shutdown(){this.initialized=!1,this.baseline.clear()}reset(){this.baseline.clear(),this.rightFileDiagnosticsState.clear()}normalizeFileUri(A){let Q=["file://","_claude_fs_right:","_claude_fs_left:"];for(let B of Q)if(A.startsWith(B))return A.slice(B.length);return A}async ensureFileOpened(A){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return;try{await Bb("openFile",{filePath:A,preview:!1,startText:"",endText:"",selectToEndOfLine:!1,makeFrontmost:!1},this.mcpClient)}catch(Q){s(Q)}}async beforeFileEdited(A){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return;let Q=Date.now();try{let B=await Bb("getDiagnostics",{uri:`file://${A}`},this.mcpClient),G=this.parseDiagnosticResult(B)[0];if(G){if(A!==this.normalizeFileUri(G.uri)){s(new iwB(`Diagnostics file path mismatch: expected ${A}, got ${G.uri})`));return}this.baseline.set(A,G.diagnostics),this.lastProcessedTimestamps.set(A,Q)}else this.baseline.set(A,[]),this.lastProcessedTimestamps.set(A,Q)}catch(B){}}async getNewDiagnostics(){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return[];let A=[];try{let Z=await Bb("getDiagnostics",{},this.mcpClient);A=this.parseDiagnosticResult(Z)}catch(Z){return[]}let Q=A.filter((Z)=>this.baseline.has(this.normalizeFileUri(Z.uri))).filter((Z)=>Z.uri.startsWith("file://")),B=new Map;A.filter((Z)=>this.baseline.has(this.normalizeFileUri(Z.uri))).filter((Z)=>Z.uri.startsWith("_claude_fs_right:")).forEach((Z)=>{B.set(this.normalizeFileUri(Z.uri),Z)});let G=[];for(let Z of Q){let Y=this.normalizeFileUri(Z.uri),J=this.baseline.get(Y)||[],I=B.get(Y),X=Z;if(I){let K=this.rightFileDiagnosticsState.get(Y);if(!K||!this.areDiagnosticArraysEqual(K,I.diagnostics))X=I;this.rightFileDiagnosticsState.set(Y,I.diagnostics)}let W=X.diagnostics.filter((K)=>!J.some((V)=>this.areDiagnosticsEqual(K,V)));if(W.length>0)G.push({uri:Z.uri,diagnostics:W});this.baseline.set(Y,X.diagnostics)}return G}parseDiagnosticResult(A){if(Array.isArray(A)){let Q=A.find((B)=>B.type==="text");if(Q&&"text"in Q)return JSON.parse(Q.text)}return[]}areDiagnosticsEqual(A,Q){return A.message===Q.message&&A.severity===Q.severity&&A.source===Q.source&&A.code===Q.code&&A.range.start.line===Q.range.start.line&&A.range.start.character===Q.range.start.character&&A.range.end.line===Q.range.end.line&&A.range.end.character===Q.range.end.character}areDiagnosticArraysEqual(A,Q){if(A.length!==Q.length)return!1;return A.every((B)=>Q.some((G)=>this.areDiagnosticsEqual(B,G)))&&Q.every((B)=>A.some((G)=>this.areDiagnosticsEqual(G,B)))}isLinterDiagnostic(A){let Q=["eslint","eslint-plugin","tslint","prettier","stylelint","jshint","standardjs","xo","rome","biome","deno-lint","rubocop","pylint","flake8","black","ruff","clippy","rustfmt","golangci-lint","gofmt","swiftlint","detekt","ktlint","checkstyle","pmd","sonarqube","sonarjs"];if(!A.source)return!1;let B=A.source.toLowerCase();return Q.some((G)=>B.includes(G))}async handleQueryStart(A){if(!this.initialized){let Q=ez(A);if(Q)this.initialize(Q)}else this.reset()}static formatDiagnosticsSummary(A){return A.map((Q)=>{let B=Q.uri.split("/").pop()||Q.uri,G=Q.diagnostics.map((Z)=>{return`  ${j_.getSeveritySymbol(Z.severity)} [Line ${Z.range.start.line+1}:${Z.range.start.character+1}] ${Z.message}${Z.code?` [${Z.code}]`:""}${Z.source?` (${Z.source})`:""}`}).join(`
bundles/ClaudeCodeCode/cli.js:1109:`),{encoding:"utf8"})}catch{}})}async insertMessageChain(A,Q=!1,B,G){return this.trackWrite(async()=>{let Z=G??null,Y;try{Y=await If()}catch{Y=void 0}let J=W0(),I=CWA().get(J);for(let X of A){let W=Nb(X),K={parentUuid:W?null:Z,logicalParentUuid:W?Z:void 0,isSidechain:Q,isTeammate:sp()||void 0,userType:ULB(),cwd:r1(),sessionId:J,version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,gitBranch:Y,agentId:B,slug:I,...X};this.messages.set(X.uuid,K),await this.appendEntry(K),Z=X.uuid}})}async insertFileHistorySnapshot(A,Q,B){return this.trackWrite(async()=>{let G={type:"file-history-snapshot",messageId:A,snapshot:Q,isSnapshotUpdate:B};await this.appendEntry(G)})}async insertQueueOperation(A){return this.trackWrite(async()=>{await this.appendEntry(A)})}async appendEntry(A){let Q=process.env.TEST_ENABLE_SESSION_PERSISTENCE==="true";if(xu3()==="test"&&!Q||NQ()?.cleanupPeriodDays===0||Ra())return;let B=jA();if(this.sessionFile===null){let Z=KH(tp);try{B.statSync(Z)}catch{B.mkdirSync(Z)}this.sessionFile=vGA();try{B.statSync(this.sessionFile)}catch{B.writeFileSync(this.sessionFile,"",{encoding:"utf8",flush:!0,mode:384})}}if(this.sessionFile!==null)try{B.statSync(this.sessionFile)}catch{let Z=KH(tp);try{B.statSync(Z)}catch{B.mkdirSync(Z)}B.writeFileSync(this.sessionFile,"",{encoding:"utf8",flush:!0,mode:384})}let G=W0();if(A.type==="summary")B.appendFileSync(this.sessionFile,JSON.stringify(A)+`
bundles/ClaudeCodeCode/cli.js:1558:`}}PcB.PrometheusSerializer=jcB});var vcB=w((xcB)=>{Object.defineProperty(xcB,"__esModule",{value:!0});xcB.PrometheusExporter=void 0;var PLA=O9(),NG8=Q8(),qe1=zl(),qG8=qA("http"),LG8=Ne1(),MG8=qA("url");class ul extends qe1.MetricReader{static DEFAULT_OPTIONS={host:void 0,port:9464,endpoint:"/metrics",prefix:"",appendTimestamp:!1,withResourceConstantLabels:void 0};_host;_port;_baseUrl;_endpoint;_server;_prefix;_appendTimestamp;_serializer;_startServerPromise;constructor(A={},Q=()=>{}){super({aggregationSelector:(G)=>{return{type:qe1.AggregationType.DEFAULT}},aggregationTemporalitySelector:(G)=>qe1.AggregationTemporality.CUMULATIVE,metricProducers:A.metricProducers});this._host=A.host||process.env.OTEL_EXPORTER_PROMETHEUS_HOST||ul.DEFAULT_OPTIONS.host,this._port=A.port||Number(process.env.OTEL_EXPORTER_PROMETHEUS_PORT)||ul.DEFAULT_OPTIONS.port,this._prefix=A.prefix||ul.DEFAULT_OPTIONS.prefix,this._appendTimestamp=typeof A.appendTimestamp==="boolean"?A.appendTimestamp:ul.DEFAULT_OPTIONS.appendTimestamp;let B=A.withResourceConstantLabels||ul.DEFAULT_OPTIONS.withResourceConstantLabels;if(this._server=(0,qG8.createServer)(this._requestHandler).unref(),this._serializer=new LG8.PrometheusSerializer(this._prefix,this._appendTimestamp,B),this._baseUrl=`http://${this._host}:${this._port}/`,this._endpoint=(A.endpoint||ul.DEFAULT_OPTIONS.endpoint).replace(/^([^/])/,"/$1"),A.preventServerStart!==!0)this.startServer().then(Q,(G)=>{PLA.diag.error(G),Q(G)});else if(Q)queueMicrotask(Q)}async onForceFlush(){}onShutdown(){return this.stopServer()}stopServer(){if(!this._server)return PLA.diag.debug("Prometheus stopServer() was called but server was never started."),Promise.resolve();else return new Promise((A)=>{this._server.close((Q)=>{if(!Q)PLA.diag.debug("Prometheus exporter was stopped");else if(Q.code!=="ERR_SERVER_NOT_RUNNING")(0,NG8.globalErrorHandler)(Q);A()})})}startServer(){return this._startServerPromise??=new Promise((A,Q)=>{this._server.once("error",Q),this._server.listen({port:this._port,host:this._host},()=>{PLA.diag.debug(`Prometheus exporter server started: ${this._host}:${this._port}/${this._endpoint}`),A()})}),this._startServerPromise}getMetricsRequestHandler(A,Q){this._exportMetrics(Q)}_requestHandler=(A,Q)=>{if(A.url!=null&&new MG8.URL(A.url,this._baseUrl).pathname===this._endpoint)this._exportMetrics(Q);else this._notFound(Q)};_exportMetrics=(A)=>{A.statusCode=200,A.setHeader("content-type","text/plain"),this.collect().then((Q)=>{let{resourceMetrics:B,errors:G}=Q;if(G.length)PLA.diag.error("PrometheusExporter: metrics collection errors",...G);A.end(this._serializer.serialize(B))},(Q)=>{A.end(`# failed to export metrics: ${Q}`)})};_notFound=(A)=>{A.statusCode=404,A.end()}}xcB.PrometheusExporter=ul});var kcB=w((X01)=>{Object.defineProperty(X01,"__esModule",{value:!0});X01.PrometheusSerializer=X01.PrometheusExporter=void 0;var OG8=vcB();Object.defineProperty(X01,"PrometheusExporter",{enumerable:!0,get:function(){return OG8.PrometheusExporter}});var RG8=Ne1();Object.defineProperty(X01,"PrometheusSerializer",{enumerable:!0,get:function(){return RG8.PrometheusSerializer}})});var hcB=w((fcB)=>{Object.defineProperty(fcB,"__esModule",{value:!0});fcB.VERSION=void 0;fcB.VERSION="0.204.0"});var ccB=w((mcB)=>{Object.defineProperty(mcB,"__esModule",{value:!0});mcB.OTLPLogExporter=void 0;var TG8=Dx(),jG8=Cx(),gcB=Ll(),PG8=hcB();class ucB extends TG8.OTLPExporterBase{constructor(A={}){super((0,gcB.createOtlpHttpExportDelegate)((0,gcB.convertLegacyHttpOptions)(A,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${PG8.VERSION}`,"Content-Type":"application/x-protobuf"}),jG8.ProtobufLogsSerializer))}}mcB.OTLPLogExporter=ucB});var pcB=w((Le1)=>{Object.defineProperty(Le1,"__esModule",{value:!0});Le1.OTLPLogExporter=void 0;var SG8=ccB();Object.defineProperty(Le1,"OTLPLogExporter",{enumerable:!0,get:function(){return SG8.OTLPLogExporter}})});var lcB=w((Me1)=>{Object.defineProperty(Me1,"__esModule",{value:!0});Me1.OTLPLogExporter=void 0;var yG8=pcB();Object.defineProperty(Me1,"OTLPLogExporter",{enumerable:!0,get:function(){return yG8.OTLPLogExporter}})});var icB=w((Oe1)=>{Object.defineProperty(Oe1,"__esModule",{value:!0});Oe1.OTLPLogExporter=void 0;var kG8=lcB();Object.defineProperty(Oe1,"OTLPLogExporter",{enumerable:!0,get:function(){return kG8.OTLPLogExporter}})});var scB=w((ocB)=>{Object.defineProperty(ocB,"__esModule",{value:!0});ocB.OTLPLogExporter=void 0;var ncB=Y01(),bG8=Cx(),hG8=Dx();class acB extends hG8.OTLPExporterBase{constructor(A={}){super((0,ncB.createOtlpGrpcExportDelegate)((0,ncB.convertLegacyOtlpGrpcOptions)(A,"LOGS"),bG8.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"))}}ocB.OTLPLogExporter=acB});var tcB=w((Re1)=>{Object.defineProperty(Re1,"__esModule",{value:!0});Re1.OTLPLogExporter=void 0;var gG8=scB();Object.defineProperty(Re1,"OTLPLogExporter",{enumerable:!0,get:function(){return gG8.OTLPLogExporter}})});var QpB=w((ecB)=>{Object.defineProperty(ecB,"__esModule",{value:!0});ecB.VERSION=void 0;ecB.VERSION="0.204.0"});var JpB=w((ZpB)=>{Object.defineProperty(ZpB,"__esModule",{value:!0});ZpB.OTLPLogExporter=void 0;var mG8=Dx(),dG8=Cx(),cG8=QpB(),BpB=Ll();class GpB extends mG8.OTLPExporterBase{constructor(A={}){super((0,BpB.createOtlpHttpExportDelegate)((0,BpB.convertLegacyHttpOptions)(A,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${cG8.VERSION}`,"Content-Type":"application/json"}),dG8.JsonLogsSerializer))}}ZpB.OTLPLogExporter=GpB});var IpB=w((_e1)=>{Object.defineProperty(_e1,"__esModule",{value:!0});_e1.OTLPLogExporter=void 0;var pG8=JpB();Object.defineProperty(_e1,"OTLPLogExporter",{enumerable:!0,get:function(){return pG8.OTLPLogExporter}})});var XpB=w((Te1)=>{Object.defineProperty(Te1,"__esModule",{value:!0});Te1.OTLPLogExporter=void 0;var iG8=IpB();Object.defineProperty(Te1,"OTLPLogExporter",{enumerable:!0,get:function(){return iG8.OTLPLogExporter}})});var WpB=w((je1)=>{Object.defineProperty(je1,"__esModule",{value:!0});je1.OTLPLogExporter=void 0;var aG8=XpB();Object.defineProperty(je1,"OTLPLogExporter",{enumerable:!0,get:function(){return aG8.OTLPLogExporter}})});var EpB=w((KpB)=>{Object.defineProperty(KpB,"__esModule",{value:!0});KpB.ExceptionEventName=void 0;KpB.ExceptionEventName="exception"});var CpB=w((HpB)=>{Object.defineProperty(HpB,"__esModule",{value:!0});HpB.SpanImpl=void 0;var CM=O9(),HH=Q8(),Q1A=vr(),rG8=EpB();class DpB{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:CM.SpanStatusCode.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(A){let Q=Date.now();if(this._spanContext=A.spanContext,this._performanceStartTime=HH.otperformance.now(),this._performanceOffset=Q-(this._performanceStartTime+(0,HH.getTimeOrigin)()),this._startTimeProvided=A.startTime!=null,this._spanLimits=A.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=A.spanProcessor,this.name=A.name,this.parentSpanContext=A.parentSpanContext,this.kind=A.kind,this.links=A.links||[],this.startTime=this._getTime(A.startTime??Q),this.resource=A.resource,this.instrumentationScope=A.scope,A.attributes!=null)this.setAttributes(A.attributes);this._spanProcessor.onStart(this,A.context)}spanContext(){return this._spanContext}setAttribute(A,Q){if(Q==null||this._isSpanEnded())return this;if(A.length===0)return CM.diag.warn(`Invalid attribute key: ${A}`),this;if(!(0,HH.isAttributeValue)(Q))return CM.diag.warn(`Invalid attribute value set for key: ${A}`),this;let{attributeCountLimit:B}=this._spanLimits;if(B!==void 0&&Object.keys(this.attributes).length>=B&&!Object.prototype.hasOwnProperty.call(this.attributes,A))return this._droppedAttributesCount++,this;return this.attributes[A]=this._truncateToSize(Q),this}setAttributes(A){for(let[Q,B]of Object.entries(A))this.setAttribute(Q,B);return this}addEvent(A,Q,B){if(this._isSpanEnded())return this;let{eventCountLimit:G}=this._spanLimits;if(G===0)return CM.diag.warn("No events allowed."),this._droppedEventsCount++,this;if(G!==void 0&&this.events.length>=G){if(this._droppedEventsCount===0)CM.diag.debug("Dropping extra events.");this.events.shift(),this._droppedEventsCount++}if((0,HH.isTimeInput)(Q)){if(!(0,HH.isTimeInput)(B))B=Q;Q=void 0}let Z=(0,HH.sanitizeAttributes)(Q);return this.events.push({name:A,attributes:Z,time:this._getTime(B),droppedAttributesCount:0}),this}addLink(A){return this.links.push(A),this}addLinks(A){return this.links.push(...A),this}setStatus(A){if(this._isSpanEnded())return this;if(this.status={...A},this.status.message!=null&&typeof A.message!=="string")CM.diag.warn(`Dropping invalid status.message of type '${typeof A.message}', expected 'string'`),delete this.status.message;return this}updateName(A){if(this._isSpanEnded())return this;return this.name=A,this}end(A){if(this._isSpanEnded()){CM.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}if(this._ended=!0,this.endTime=this._getTime(A),this._duration=(0,HH.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0)CM.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0];if(this._droppedEventsCount>0)CM.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`);this._spanProcessor.onEnd(this)}_getTime(A){if(typeof A==="number"&&A<=HH.otperformance.now())return(0,HH.hrTime)(A+this._performanceOffset);if(typeof A==="number")return(0,HH.millisToHrTime)(A);if(A instanceof Date)return(0,HH.millisToHrTime)(A.getTime());if((0,HH.isTimeInputHrTime)(A))return A;if(this._startTimeProvided)return(0,HH.millisToHrTime)(Date.now());let Q=HH.otperformance.now()-this._performanceStartTime;return(0,HH.addHrTimes)(this.startTime,(0,HH.millisToHrTime)(Q))}isRecording(){return this._ended===!1}recordException(A,Q){let B={};if(typeof A==="string")B[Q1A.ATTR_EXCEPTION_MESSAGE]=A;else if(A){if(A.code)B[Q1A.ATTR_EXCEPTION_TYPE]=A.code.toString();else if(A.name)B[Q1A.ATTR_EXCEPTION_TYPE]=A.name;if(A.message)B[Q1A.ATTR_EXCEPTION_MESSAGE]=A.message;if(A.stack)B[Q1A.ATTR_EXCEPTION_STACKTRACE]=A.stack}if(B[Q1A.ATTR_EXCEPTION_TYPE]||B[Q1A.ATTR_EXCEPTION_MESSAGE])this.addEvent(rG8.ExceptionEventName,B,Q);else CM.diag.warn(`Failed to record an exception ${A}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let A=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);CM.diag.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,A)}return this._ended}_truncateToLimitUtil(A,Q){if(A.length<=Q)return A;return A.substring(0,Q)}_truncateToSize(A){let Q=this._attributeValueLengthLimit;if(Q<=0)return CM.diag.warn(`Attribute value limit must be positive, got ${Q}`),A;if(typeof A==="string")return this._truncateToLimitUtil(A,Q);if(Array.isArray(A))return A.map((B)=>typeof B==="string"?this._truncateToLimitUtil(B,Q):B);return A}}HpB.SpanImpl=DpB});var SLA=w((zpB)=>{Object.defineProperty(zpB,"__esModule",{value:!0});zpB.SamplingDecision=void 0;var sG8;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(sG8=zpB.SamplingDecision||(zpB.SamplingDecision={}))});var W01=w(($pB)=>{Object.defineProperty($pB,"__esModule",{value:!0});$pB.AlwaysOffSampler=void 0;var tG8=SLA();class UpB{shouldSample(){return{decision:tG8.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}$pB.AlwaysOffSampler=UpB});var K01=w((qpB)=>{Object.defineProperty(qpB,"__esModule",{value:!0});qpB.AlwaysOnSampler=void 0;var eG8=SLA();class NpB{shouldSample(){return{decision:eG8.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}qpB.AlwaysOnSampler=NpB});var xe1=w((RpB)=>{Object.defineProperty(RpB,"__esModule",{value:!0});RpB.ParentBasedSampler=void 0;var V01=O9(),AZ8=Q8(),MpB=W01(),Se1=K01();class OpB{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(A){if(this._root=A.root,!this._root)(0,AZ8.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new Se1.AlwaysOnSampler;this._remoteParentSampled=A.remoteParentSampled??new Se1.AlwaysOnSampler,this._remoteParentNotSampled=A.remoteParentNotSampled??new MpB.AlwaysOffSampler,this._localParentSampled=A.localParentSampled??new Se1.AlwaysOnSampler,this._localParentNotSampled=A.localParentNotSampled??new MpB.AlwaysOffSampler}shouldSample(A,Q,B,G,Z,Y){let J=V01.trace.getSpanContext(A);if(!J||!(0,V01.isSpanContextValid)(J))return this._root.shouldSample(A,Q,B,G,Z,Y);if(J.isRemote){if(J.traceFlags&V01.TraceFlags.SAMPLED)return this._remoteParentSampled.shouldSample(A,Q,B,G,Z,Y);return this._remoteParentNotSampled.shouldSample(A,Q,B,G,Z,Y)}if(J.traceFlags&V01.TraceFlags.SAMPLED)return this._localParentSampled.shouldSample(A,Q,B,G,Z,Y);return this._localParentNotSampled.shouldSample(A,Q,B,G,Z,Y)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}RpB.ParentBasedSampler=OpB});var ye1=w((PpB)=>{Object.defineProperty(PpB,"__esModule",{value:!0});PpB.TraceIdRatioBasedSampler=void 0;var QZ8=O9(),TpB=SLA();class jpB{_ratio;_upperBound;constructor(A=0){this._ratio=A,this._ratio=this._normalize(A),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(A,Q){return{decision:(0,QZ8.isValidTraceId)(Q)&&this._accumulate(Q)<this._upperBound?TpB.SamplingDecision.RECORD_AND_SAMPLED:TpB.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(A){if(typeof A!=="number"||isNaN(A))return 0;return A>=1?1:A<=0?0:A}_accumulate(A){let Q=0;for(let B=0;B<A.length/8;B++){let G=B*8,Z=parseInt(A.slice(G,G+8),16);Q=(Q^Z)>>>0}return Q}}PpB.TraceIdRatioBasedSampler=jpB});var fe1=w((fpB)=>{Object.defineProperty(fpB,"__esModule",{value:!0});fpB.buildSamplerFromEnv=fpB.loadDefaultConfig=void 0;var ke1=O9(),jx=Q8(),xpB=W01(),ve1=K01(),E01=xe1(),ypB=ye1(),Px;(function(A){A.AlwaysOff="always_off",A.AlwaysOn="always_on",A.ParentBasedAlwaysOff="parentbased_always_off",A.ParentBasedAlwaysOn="parentbased_always_on",A.ParentBasedTraceIdRatio="parentbased_traceidratio",A.TraceIdRatio="traceidratio"})(Px||(Px={}));var D01=1;function BZ8(){return{sampler:kpB(),forceFlushTimeoutMillis:30000,generalLimits:{attributeValueLengthLimit:(0,jx.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,jx.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:(0,jx.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}fpB.loadDefaultConfig=BZ8;function kpB(){let A=(0,jx.getStringFromEnv)("OTEL_TRACES_SAMPLER")??Px.ParentBasedAlwaysOn;switch(A){case Px.AlwaysOn:return new ve1.AlwaysOnSampler;case Px.AlwaysOff:return new xpB.AlwaysOffSampler;case Px.ParentBasedAlwaysOn:return new E01.ParentBasedSampler({root:new ve1.AlwaysOnSampler});case Px.ParentBasedAlwaysOff:return new E01.ParentBasedSampler({root:new xpB.AlwaysOffSampler});case Px.TraceIdRatio:return new ypB.TraceIdRatioBasedSampler(vpB());case Px.ParentBasedTraceIdRatio:return new E01.ParentBasedSampler({root:new ypB.TraceIdRatioBasedSampler(vpB())});default:return ke1.diag.error(`OTEL_TRACES_SAMPLER value "${A}" invalid, defaulting to "${Px.ParentBasedAlwaysOn}".`),new E01.ParentBasedSampler({root:new ve1.AlwaysOnSampler})}}fpB.buildSamplerFromEnv=kpB;function vpB(){let A=(0,jx.getNumberFromEnv)("OTEL_TRACES_SAMPLER_ARG");if(A==null)return ke1.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${D01}.`),D01;if(A<0||A>1)return ke1.diag.error(`OTEL_TRACES_SAMPLER_ARG=${A} was given, but it is out of range ([0..1]), defaulting to ${D01}.`),D01;return A}});var be1=w((gpB)=>{Object.defineProperty(gpB,"__esModule",{value:!0});gpB.reconfigureLimits=gpB.mergeConfig=gpB.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=gpB.DEFAULT_ATTRIBUTE_COUNT_LIMIT=void 0;var hpB=fe1(),H01=Q8();gpB.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;gpB.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;function ZZ8(A){let Q={sampler:(0,hpB.buildSamplerFromEnv)()},B=(0,hpB.loadDefaultConfig)(),G=Object.assign({},B,Q,A);return G.generalLimits=Object.assign({},B.generalLimits,A.generalLimits||{}),G.spanLimits=Object.assign({},B.spanLimits,A.spanLimits||{}),G}gpB.mergeConfig=ZZ8;function YZ8(A){let Q=Object.assign({},A.spanLimits);return Q.attributeCountLimit=A.spanLimits?.attributeCountLimit??A.generalLimits?.attributeCountLimit??(0,H01.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??(0,H01.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??gpB.DEFAULT_ATTRIBUTE_COUNT_LIMIT,Q.attributeValueLengthLimit=A.spanLimits?.attributeValueLengthLimit??A.generalLimits?.attributeValueLengthLimit??(0,H01.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,H01.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??gpB.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},A,{spanLimits:Q})}gpB.reconfigureLimits=YZ8});var ipB=w((ppB)=>{Object.defineProperty(ppB,"__esModule",{value:!0});ppB.BatchSpanProcessorBase=void 0;var VYA=O9(),Sx=Q8();class cpB{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(A,Q){if(this._exporter=A,this._maxExportBatchSize=typeof Q?.maxExportBatchSize==="number"?Q.maxExportBatchSize:(0,Sx.getNumberFromEnv)("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof Q?.maxQueueSize==="number"?Q.maxQueueSize:(0,Sx.getNumberFromEnv)("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof Q?.scheduledDelayMillis==="number"?Q.scheduledDelayMillis:(0,Sx.getNumberFromEnv)("OTEL_BSP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=typeof Q?.exportTimeoutMillis==="number"?Q.exportTimeoutMillis:(0,Sx.getNumberFromEnv)("OTEL_BSP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new Sx.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)VYA.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}onStart(A,Q){}onEnd(A){if(this._shutdownOnce.isCalled)return;if((A.spanContext().traceFlags&VYA.TraceFlags.SAMPLED)===0)return;this._addToBuffer(A)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>{return this.onShutdown()}).then(()=>{return this._flushAll()}).then(()=>{return this._exporter.shutdown()})}_addToBuffer(A){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0)VYA.diag.debug("maxQueueSize reached, dropping spans");this._droppedSpansCount++;return}if(this._droppedSpansCount>0)VYA.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0;this._finishedSpans.push(A),this._maybeStartTimer()}_flushAll(){return new Promise((A,Q)=>{let B=[],G=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let Z=0,Y=G;Z<Y;Z++)B.push(this._flushOneBatch());Promise.all(B).then(()=>{A()}).catch(Q)})}_flushOneBatch(){if(this._clearTimer(),this._finishedSpans.length===0)return Promise.resolve();return new Promise((A,Q)=>{let B=setTimeout(()=>{Q(Error("Timeout"))},this._exportTimeoutMillis);VYA.context.with((0,Sx.suppressTracing)(VYA.context.active()),()=>{let G;if(this._finishedSpans.length<=this._maxExportBatchSize)G=this._finishedSpans,this._finishedSpans=[];else G=this._finishedSpans.splice(0,this._maxExportBatchSize);let Z=()=>this._exporter.export(G,(J)=>{if(clearTimeout(B),J.code===Sx.ExportResultCode.SUCCESS)A();else Q(J.error??Error("BatchSpanProcessor: span export failed"))}),Y=null;for(let J=0,I=G.length;J<I;J++){let X=G[J];if(X.resource.asyncAttributesPending&&X.resource.waitForAsyncAttributes)Y??=[],Y.push(X.resource.waitForAsyncAttributes())}if(Y===null)Z();else Promise.all(Y).then(Z,(J)=>{(0,Sx.globalErrorHandler)(J),Q(J)})})})}_maybeStartTimer(){if(this._isExporting)return;let A=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{if(this._isExporting=!1,this._finishedSpans.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((Q)=>{this._isExporting=!1,(0,Sx.globalErrorHandler)(Q)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return A();if(this._timer!==void 0)return;this._timer=setTimeout(()=>A(),this._scheduledDelayMillis),(0,Sx.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}}ppB.BatchSpanProcessorBase=cpB});var rpB=w((apB)=>{Object.defineProperty(apB,"__esModule",{value:!0});apB.BatchSpanProcessor=void 0;var IZ8=ipB();class npB extends IZ8.BatchSpanProcessorBase{onShutdown(){}}apB.BatchSpanProcessor=npB});var BlB=w((AlB)=>{Object.defineProperty(AlB,"__esModule",{value:!0});AlB.RandomIdGenerator=void 0;var XZ8=8,tpB=16;class epB{generateTraceId=spB(tpB);generateSpanId=spB(XZ8)}AlB.RandomIdGenerator=epB;var F01=Buffer.allocUnsafe(tpB);function spB(A){return function(){for(let B=0;B<A/4;B++)F01.writeUInt32BE(Math.random()*4294967296>>>0,B*4);for(let B=0;B<A;B++)if(F01[B]>0)break;else if(B===A-1)F01[A-1]=1;return F01.toString("hex",0,A)}}});var GlB=w((C01)=>{Object.defineProperty(C01,"__esModule",{value:!0});C01.RandomIdGenerator=C01.BatchSpanProcessor=void 0;var WZ8=rpB();Object.defineProperty(C01,"BatchSpanProcessor",{enumerable:!0,get:function(){return WZ8.BatchSpanProcessor}});var KZ8=BlB();Object.defineProperty(C01,"RandomIdGenerator",{enumerable:!0,get:function(){return KZ8.RandomIdGenerator}})});var he1=w((z01)=>{Object.defineProperty(z01,"__esModule",{value:!0});z01.RandomIdGenerator=z01.BatchSpanProcessor=void 0;var ZlB=GlB();Object.defineProperty(z01,"BatchSpanProcessor",{enumerable:!0,get:function(){return ZlB.BatchSpanProcessor}});Object.defineProperty(z01,"RandomIdGenerator",{enumerable:!0,get:function(){return ZlB.RandomIdGenerator}})});var XlB=w((JlB)=>{Object.defineProperty(JlB,"__esModule",{value:!0});JlB.Tracer=void 0;var dE=O9(),U01=Q8(),DZ8=CpB(),HZ8=be1(),FZ8=he1();class YlB{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(A,Q,B,G){let Z=(0,HZ8.mergeConfig)(Q);this._sampler=Z.sampler,this._generalLimits=Z.generalLimits,this._spanLimits=Z.spanLimits,this._idGenerator=Q.idGenerator||new FZ8.RandomIdGenerator,this._resource=B,this._spanProcessor=G,this.instrumentationScope=A}startSpan(A,Q={},B=dE.context.active()){if(Q.root)B=dE.trace.deleteSpan(B);let G=dE.trace.getSpan(B);if((0,U01.isTracingSuppressed)(B))return dE.diag.debug("Instrumentation suppressed, returning Noop Span"),dE.trace.wrapSpanContext(dE.INVALID_SPAN_CONTEXT);let Z=G?.spanContext(),Y=this._idGenerator.generateSpanId(),J,I,X;if(!Z||!dE.trace.isSpanContextValid(Z))I=this._idGenerator.generateTraceId();else I=Z.traceId,X=Z.traceState,J=Z;let W=Q.kind??dE.SpanKind.INTERNAL,K=(Q.links??[]).map((U)=>{return{context:U.context,attributes:(0,U01.sanitizeAttributes)(U.attributes)}}),V=(0,U01.sanitizeAttributes)(Q.attributes),E=this._sampler.shouldSample(B,I,A,W,V,K);X=E.traceState??X;let D=E.decision===dE.SamplingDecision.RECORD_AND_SAMPLED?dE.TraceFlags.SAMPLED:dE.TraceFlags.NONE,H={traceId:I,spanId:Y,traceFlags:D,traceState:X};if(E.decision===dE.SamplingDecision.NOT_RECORD)return dE.diag.debug("Recording is off, propagating context in a non-recording span"),dE.trace.wrapSpanContext(H);let F=(0,U01.sanitizeAttributes)(Object.assign(V,E.attributes));return new DZ8.SpanImpl({resource:this._resource,scope:this.instrumentationScope,context:B,spanContext:H,name:A,kind:W,links:K,parentSpanContext:J,attributes:F,startTime:Q.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(A,Q,B,G){let Z,Y,J;if(arguments.length<2)return;else if(arguments.length===2)J=Q;else if(arguments.length===3)Z=Q,J=B;else Z=Q,Y=B,J=G;let I=Y??dE.context.active(),X=this.startSpan(A,Z,I),W=dE.trace.setSpan(I,X);return dE.context.with(W,J,void 0,X)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}JlB.Tracer=YlB});var ElB=w((KlB)=>{Object.defineProperty(KlB,"__esModule",{value:!0});KlB.MultiSpanProcessor=void 0;var CZ8=Q8();class WlB{_spanProcessors;constructor(A){this._spanProcessors=A}forceFlush(){let A=[];for(let Q of this._spanProcessors)A.push(Q.forceFlush());return new Promise((Q)=>{Promise.all(A).then(()=>{Q()}).catch((B)=>{(0,CZ8.globalErrorHandler)(B||Error("MultiSpanProcessor: forceFlush failed")),Q()})})}onStart(A,Q){for(let B of this._spanProcessors)B.onStart(A,Q)}onEnd(A){for(let Q of this._spanProcessors)Q.onEnd(A)}shutdown(){let A=[];for(let Q of this._spanProcessors)A.push(Q.shutdown());return new Promise((Q,B)=>{Promise.all(A).then(()=>{Q()},B)})}}KlB.MultiSpanProcessor=WlB});var zlB=w((FlB)=>{Object.defineProperty(FlB,"__esModule",{value:!0});FlB.BasicTracerProvider=FlB.ForceFlushState=void 0;var zZ8=Q8(),UZ8=e6A(),$Z8=XlB(),wZ8=fe1(),NZ8=ElB(),qZ8=be1(),EYA;(function(A){A[A.resolved=0]="resolved",A[A.timeout=1]="timeout",A[A.error=2]="error",A[A.unresolved=3]="unresolved"})(EYA=FlB.ForceFlushState||(FlB.ForceFlushState={}));class HlB{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(A={}){let Q=(0,zZ8.merge)({},(0,wZ8.loadDefaultConfig)(),(0,qZ8.reconfigureLimits)(A));this._resource=Q.resource??(0,UZ8.defaultResource)(),this._config=Object.assign({},Q,{resource:this._resource});let B=[];if(A.spanProcessors?.length)B.push(...A.spanProcessors);this._activeSpanProcessor=new NZ8.MultiSpanProcessor(B)}getTracer(A,Q,B){let G=`${A}@${Q||""}:${B?.schemaUrl||""}`;if(!this._tracers.has(G))this._tracers.set(G,new $Z8.Tracer({name:A,version:Q,schemaUrl:B?.schemaUrl},this._config,this._resource,this._activeSpanProcessor));return this._tracers.get(G)}forceFlush(){let A=this._config.forceFlushTimeoutMillis,Q=this._activeSpanProcessor._spanProcessors.map((B)=>{return new Promise((G)=>{let Z,Y=setTimeout(()=>{G(Error(`Span processor did not completed within timeout period of ${A} ms`)),Z=EYA.timeout},A);B.forceFlush().then(()=>{if(clearTimeout(Y),Z!==EYA.timeout)Z=EYA.resolved,G(Z)}).catch((J)=>{clearTimeout(Y),Z=EYA.error,G(J)})})});return new Promise((B,G)=>{Promise.all(Q).then((Z)=>{let Y=Z.filter((J)=>J!==EYA.resolved);if(Y.length>0)G(Y);else B()}).catch((Z)=>G([Z]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}FlB.BasicTracerProvider=HlB});var NlB=w(($lB)=>{Object.defineProperty($lB,"__esModule",{value:!0});$lB.ConsoleSpanExporter=void 0;var ge1=Q8();class UlB{export(A,Q){return this._sendSpans(A,Q)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(A){return{resource:{attributes:A.resource.attributes},instrumentationScope:A.instrumentationScope,traceId:A.spanContext().traceId,parentSpanContext:A.parentSpanContext,traceState:A.spanContext().traceState?.serialize(),name:A.name,id:A.spanContext().spanId,kind:A.kind,timestamp:(0,ge1.hrTimeToMicroseconds)(A.startTime),duration:(0,ge1.hrTimeToMicroseconds)(A.duration),attributes:A.attributes,status:A.status,events:A.events,links:A.links}}_sendSpans(A,Q){for(let B of A)console.dir(this._exportInfo(B),{depth:3});if(Q)return Q({code:ge1.ExportResultCode.SUCCESS})}}$lB.ConsoleSpanExporter=UlB});var RlB=w((MlB)=>{Object.defineProperty(MlB,"__esModule",{value:!0});MlB.InMemorySpanExporter=void 0;var qlB=Q8();class LlB{_finishedSpans=[];_stopped=!1;export(A,Q){if(this._stopped)return Q({code:qlB.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedSpans.push(...A),setTimeout(()=>Q({code:qlB.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}MlB.InMemorySpanExporter=LlB});var PlB=w((TlB)=>{Object.defineProperty(TlB,"__esModule",{value:!0});TlB.SimpleSpanProcessor=void 0;var LZ8=O9(),$01=Q8();class _lB{_exporter;_shutdownOnce;_pendingExports;constructor(A){this._exporter=A,this._shutdownOnce=new $01.BindOnceFuture(this._shutdown,this),this._pendingExports=new Set}async forceFlush(){if(await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush)await this._exporter.forceFlush()}onStart(A,Q){}onEnd(A){if(this._shutdownOnce.isCalled)return;if((A.spanContext().traceFlags&LZ8.TraceFlags.SAMPLED)===0)return;let Q=this._doExport(A).catch((B)=>(0,$01.globalErrorHandler)(B));this._pendingExports.add(Q),Q.finally(()=>this._pendingExports.delete(Q))}async _doExport(A){if(A.resource.asyncAttributesPending)await A.resource.waitForAsyncAttributes?.();let Q=await $01.internal._export(this._exporter,[A]);if(Q.code!==$01.ExportResultCode.SUCCESS)throw Q.error??Error(`SimpleSpanProcessor: span export failed (status ${Q})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}TlB.SimpleSpanProcessor=_lB});var vlB=w((xlB)=>{Object.defineProperty(xlB,"__esModule",{value:!0});xlB.NoopSpanProcessor=void 0;class SlB{onStart(A,Q){}onEnd(A){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}xlB.NoopSpanProcessor=SlB});var flB=w((CU)=>{Object.defineProperty(CU,"__esModule",{value:!0});CU.SamplingDecision=CU.TraceIdRatioBasedSampler=CU.ParentBasedSampler=CU.AlwaysOnSampler=CU.AlwaysOffSampler=CU.NoopSpanProcessor=CU.SimpleSpanProcessor=CU.InMemorySpanExporter=CU.ConsoleSpanExporter=CU.RandomIdGenerator=CU.BatchSpanProcessor=CU.BasicTracerProvider=void 0;var MZ8=zlB();Object.defineProperty(CU,"BasicTracerProvider",{enumerable:!0,get:function(){return MZ8.BasicTracerProvider}});var klB=he1();Object.defineProperty(CU,"BatchSpanProcessor",{enumerable:!0,get:function(){return klB.BatchSpanProcessor}});Object.defineProperty(CU,"RandomIdGenerator",{enumerable:!0,get:function(){return klB.RandomIdGenerator}});var OZ8=NlB();Object.defineProperty(CU,"ConsoleSpanExporter",{enumerable:!0,get:function(){return OZ8.ConsoleSpanExporter}});var RZ8=RlB();Object.defineProperty(CU,"InMemorySpanExporter",{enumerable:!0,get:function(){return RZ8.InMemorySpanExporter}});var _Z8=PlB();Object.defineProperty(CU,"SimpleSpanProcessor",{enumerable:!0,get:function(){return _Z8.SimpleSpanProcessor}});var TZ8=vlB();Object.defineProperty(CU,"NoopSpanProcessor",{enumerable:!0,get:function(){return TZ8.NoopSpanProcessor}});var jZ8=W01();Object.defineProperty(CU,"AlwaysOffSampler",{enumerable:!0,get:function(){return jZ8.AlwaysOffSampler}});var PZ8=K01();Object.defineProperty(CU,"AlwaysOnSampler",{enumerable:!0,get:function(){return PZ8.AlwaysOnSampler}});var SZ8=xe1();Object.defineProperty(CU,"ParentBasedSampler",{enumerable:!0,get:function(){return SZ8.ParentBasedSampler}});var xZ8=ye1();Object.defineProperty(CU,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return xZ8.TraceIdRatioBasedSampler}});var yZ8=SLA();Object.defineProperty(CU,"SamplingDecision",{enumerable:!0,get:function(){return yZ8.SamplingDecision}})});var glB=w((blB)=>{Object.defineProperty(blB,"__esModule",{value:!0});blB.VERSION=void 0;blB.VERSION="0.204.0"});var plB=w((dlB)=>{Object.defineProperty(dlB,"__esModule",{value:!0});dlB.OTLPTraceExporter=void 0;var kZ8=Dx(),fZ8=Cx(),bZ8=glB(),ulB=Ll();class mlB extends kZ8.OTLPExporterBase{constructor(A={}){super((0,ulB.createOtlpHttpExportDelegate)((0,ulB.convertLegacyHttpOptions)(A,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${bZ8.VERSION}`,"Content-Type":"application/x-protobuf"}),fZ8.ProtobufTraceSerializer))}}dlB.OTLPTraceExporter=mlB});var llB=w((ue1)=>{Object.defineProperty(ue1,"__esModule",{value:!0});ue1.OTLPTraceExporter=void 0;var hZ8=plB();Object.defineProperty(ue1,"OTLPTraceExporter",{enumerable:!0,get:function(){return hZ8.OTLPTraceExporter}})});var ilB=w((me1)=>{Object.defineProperty(me1,"__esModule",{value:!0});me1.OTLPTraceExporter=void 0;var uZ8=llB();Object.defineProperty(me1,"OTLPTraceExporter",{enumerable:!0,get:function(){return uZ8.OTLPTraceExporter}})});var nlB=w((de1)=>{Object.defineProperty(de1,"__esModule",{value:!0});de1.OTLPTraceExporter=void 0;var dZ8=ilB();Object.defineProperty(de1,"OTLPTraceExporter",{enumerable:!0,get:function(){return dZ8.OTLPTraceExporter}})});var tlB=w((rlB)=>{Object.defineProperty(rlB,"__esModule",{value:!0});rlB.OTLPTraceExporter=void 0;var alB=Y01(),pZ8=Cx(),lZ8=Dx();class olB extends lZ8.OTLPExporterBase{constructor(A={}){super((0,alB.createOtlpGrpcExportDelegate)((0,alB.convertLegacyOtlpGrpcOptions)(A,"TRACES"),pZ8.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"))}}rlB.OTLPTraceExporter=olB});var elB=w((ce1)=>{Object.defineProperty(ce1,"__esModule",{value:!0});ce1.OTLPTraceExporter=void 0;var iZ8=tlB();Object.defineProperty(ce1,"OTLPTraceExporter",{enumerable:!0,get:function(){return iZ8.OTLPTraceExporter}})});var BiB=w((AiB)=>{Object.defineProperty(AiB,"__esModule",{value:!0});AiB.VERSION=void 0;AiB.VERSION="0.204.0"});var IiB=w((YiB)=>{Object.defineProperty(YiB,"__esModule",{value:!0});YiB.OTLPTraceExporter=void 0;var aZ8=Dx(),oZ8=BiB(),rZ8=Cx(),GiB=Ll();class ZiB extends aZ8.OTLPExporterBase{constructor(A={}){super((0,GiB.createOtlpHttpExportDelegate)((0,GiB.convertLegacyHttpOptions)(A,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${oZ8.VERSION}`,"Content-Type":"application/json"}),rZ8.JsonTraceSerializer))}}YiB.OTLPTraceExporter=ZiB});var XiB=w((pe1)=>{Object.defineProperty(pe1,"__esModule",{value:!0});pe1.OTLPTraceExporter=void 0;var sZ8=IiB();Object.defineProperty(pe1,"OTLPTraceExporter",{enumerable:!0,get:function(){return sZ8.OTLPTraceExporter}})});var WiB=w((le1)=>{Object.defineProperty(le1,"__esModule",{value:!0});le1.OTLPTraceExporter=void 0;var eZ8=XiB();Object.defineProperty(le1,"OTLPTraceExporter",{enumerable:!0,get:function(){return eZ8.OTLPTraceExporter}})});var KiB=w((ie1)=>{Object.defineProperty(ie1,"__esModule",{value:!0});ie1.OTLPTraceExporter=void 0;var QY8=WiB();Object.defineProperty(ie1,"OTLPTraceExporter",{enumerable:!0,get:function(){return QY8.OTLPTraceExporter}})});class ne1{error(A,...Q){s(Error(A))}warn(A,...Q){s(Error(A))}info(A,...Q){return}debug(A,...Q){return}verbose(A,...Q){return}}var ViB=L(()=>{h1()});async function ZY8(){let A=GY();if(A.error)throw f(`Metrics opt-out check failed: ${A.error}`),Error(`Auth error: ${A.error}`);let Q={"Content-Type":"application/json","User-Agent":iI(),...A.headers};try{let G=await wQ.get("https://api.anthropic.com/api/claude_code/organizations/metrics_enabled",{headers:Q,timeout:5000});return f(`Metrics opt-out API response: enabled=${G.data.metrics_logging_enabled}, vcsLinking=${G.data.vcs_account_linking_enabled}`),{enabled:G.data.metrics_logging_enabled,vcsAccountLinkingEnabled:G.data.vcs_account_linking_enabled,hasError:!1}}catch(B){return f(`Failed to check metrics opt-out status: ${B instanceof Error?B.message:String(B)}`),s(B),{enabled:!1,vcsAccountLinkingEnabled:!1,hasError:!0}}}async function w01(){try{return await YY8()}catch(A){return f("Metrics check failed, defaulting to disabled"),{enabled:!1,vcsAccountLinkingEnabled:!1,hasError:!0}}}var GY8=3600000,YY8;var ae1=L(()=>{b8();byA();lD();Y0();h1();YY8=fyA(ZY8,GY8)});class re1{endpoint;timeout;pendingExports=[];isShutdown=!1;constructor(A={}){this.endpoint="https://api.anthropic.com/api/claude_code/metrics",this.timeout=A.timeout||5000}async export(A,Q){if(this.isShutdown){Q({code:DYA.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}let B=this.doExport(A,Q);this.pendingExports.push(B),B.finally(()=>{let G=this.pendingExports.indexOf(B);if(G>-1)this.pendingExports.splice(G,1)})}async doExport(A,Q){try{if(!(await w01()).enabled){f("Metrics export disabled by organization setting"),Q({code:DYA.ExportResultCode.SUCCESS});return}let G=this.transformMetricsForInternal(A),Z=GY();if(Z.error){f(`Metrics export failed: ${Z.error}`),Q({code:DYA.ExportResultCode.FAILED,error:Error(Z.error)});return}let Y={"Content-Type":"application/json","User-Agent":iI(),...Z.headers},J=await wQ.post(this.endpoint,G,{timeout:this.timeout,headers:Y});f("BigQuery metrics exported successfully"),f(`BigQuery API Response: ${JSON.stringify(J.data,null,2)}`),Q({code:DYA.ExportResultCode.SUCCESS})}catch(B){f(`BigQuery metrics export failed: ${B instanceof Error?B.message:String(B)}`),s(B),Q({code:DYA.ExportResultCode.FAILED,error:B instanceof Error?B:Error("Unknown export error")})}}transformMetricsForInternal(A){let Q=A.resource.attributes,B={"service.name":Q["service.name"]||"claude-code","service.version":Q["service.version"]||"unknown","os.type":Q["os.type"]||"unknown","os.version":Q["os.version"]||"unknown","host.arch":Q["host.arch"]||"unknown","aggregation.temporality":this.selectAggregationTemporality()===oe1.AggregationTemporality.DELTA?"delta":"cumulative"};if(Q["wsl.version"])B["wsl.version"]=Q["wsl.version"];if(RB()){B["user.customer_type"]="claude_ai";let Z=d6();if(Z)B["user.subscription_type"]=Z}else B["user.customer_type"]="api";return{resource_attributes:B,metrics:A.scopeMetrics.flatMap((Z)=>Z.metrics.map((Y)=>({name:Y.descriptor.name,description:Y.descriptor.description,unit:Y.descriptor.unit,data_points:this.extractDataPoints(Y)})))}}extractDataPoints(A){return(A.dataPoints||[]).filter((B)=>typeof B.value==="number").map((B)=>({attributes:this.convertAttributes(B.attributes),value:B.value,timestamp:this.hrTimeToISOString(B.endTime||B.startTime||[Date.now()/1000,0])}))}async shutdown(){this.isShutdown=!0,await this.forceFlush(),f("BigQuery metrics exporter shutdown complete")}async forceFlush(){await Promise.all(this.pendingExports),f("BigQuery metrics exporter flush complete")}convertAttributes(A){let Q={};if(A){for(let[B,G]of Object.entries(A))if(G!==void 0&&G!==null)Q[B]=String(G)}return Q}hrTimeToISOString(A){let[Q,B]=A;return new Date(Q*1000+B/1e6).toISOString()}selectAggregationTemporality(){return oe1.AggregationTemporality.DELTA}}var oe1,DYA;var EiB=L(()=>{b8();Y0();h1();lD();ae1();F2();oe1=o(zl(),1),DYA=o(Q8(),1)});function se1(A){let Q=JY8[A],B=process.env[A];if(B===void 0)return Q;return B==="true"}function HYA(){let A=kk(),Q=W0(),B={"user.id":A};if(se1("OTEL_METRICS_INCLUDE_SESSION_ID"))B["session.id"]=Q;if(se1("OTEL_METRICS_INCLUDE_VERSION"))B["app.version"]={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION;let G=q8();if(G){let{organizationUuid:Z,emailAddress:Y,accountUuid:J}=G;if(Z)B["organization.id"]=Z;if(Y)B["user.email"]=Y;if(J&&se1("OTEL_METRICS_INCLUDE_ACCOUNT_UUID"))B["user.account_uuid"]=J}if(Rz.terminal)B["terminal.type"]=Rz.terminal;return B}var JY8;var N01=L(()=>{g0();xQ();ur();F2();JY8={OTEL_METRICS_INCLUDE_SESSION_ID:!0,OTEL_METRICS_INCLUDE_VERSION:!1,OTEL_METRICS_INCLUDE_ACCOUNT_UUID:!0}});function IY8(){return z0(process.env.OTEL_LOG_USER_PROMPTS)}function q01(A){return IY8()?A:"<REDACTED>"}async function zU(A,Q={}){let B=UK0();if(!B)return;let G={...HYA(),"event.name":A,"event.timestamp":new Date().toISOString()};for(let[Z,Y]of Object.entries(Q))if(Y!==void 0)G[Z]=Y;B.emit({body:`claude_code.${A}`,attributes:G})}var ml=L(()=>{g0();N01();rQ()});import{createHash as XY8}from"crypto";function ab(A,Q=WY8){if(A.length<=Q)return{content:A,truncated:!1};return{content:A.slice(0,Q)+`
bundles/ClaudeCodeCode/cli.js:1565:`);return Y(J,I)},B.push(Z)}else if(G==="otlp"){let Z=process.env.OTEL_EXPORTER_OTLP_METRICS_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),Y=JA0();switch(Z){case"grpc":B.push(new yiB.OTLPMetricExporter);break;case"http/json":B.push(new viB.OTLPMetricExporter(Y));break;case"http/protobuf":B.push(new xiB.OTLPMetricExporter(Y));break;default:throw Error(`Unknown protocol set in OTEL_EXPORTER_OTLP_METRICS_PROTOCOL or OTEL_EXPORTER_OTLP_PROTOCOL env var: ${Z}`)}}else if(G==="prometheus")B.push(new kiB.PrometheusExporter);else throw Error(`Unknown exporter type set in OTEL_EXPORTER_OTLP_METRICS_PROTOCOL or OTEL_EXPORTER_OTLP_PROTOCOL env var: ${G}`);return B.map((G)=>{if("export"in G)return new YA0.PeriodicExportingMetricReader({exporter:G,exportIntervalMillis:Q});return G})}function wY8(){let A=(process.env.OTEL_LOGS_EXPORTER||"").trim().split(",").filter(Boolean),Q=[];for(let B of A)if(B==="console")Q.push(new $YA.ConsoleLogRecordExporter);else if(B==="otlp"){let G=process.env.OTEL_EXPORTER_OTLP_LOGS_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),Z=JA0();switch(G){case"grpc":Q.push(new biB.OTLPLogExporter);break;case"http/json":Q.push(new hiB.OTLPLogExporter(Z));break;case"http/protobuf":Q.push(new fiB.OTLPLogExporter(Z));break;default:throw Error(`Unknown protocol set in OTEL_EXPORTER_OTLP_LOGS_PROTOCOL or OTEL_EXPORTER_OTLP_PROTOCOL env var: ${G}`)}}else throw Error(`Unknown exporter type set in OTEL_LOGS_EXPORTER env var: ${B}`);return Q}function NY8(){let A=(process.env.OTEL_TRACES_EXPORTER||"").trim().split(",").filter(Boolean),Q=[];for(let B of A)if(B==="console")Q.push(new wYA.ConsoleSpanExporter);else if(B==="otlp"){let G=process.env.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),Z=JA0();switch(G){case"grpc":Q.push(new uiB.OTLPTraceExporter);break;case"http/json":Q.push(new miB.OTLPTraceExporter(Z));break;case"http/protobuf":Q.push(new giB.OTLPTraceExporter(Z));break;default:throw Error(`Unknown protocol set in OTEL_EXPORTER_OTLP_TRACES_PROTOCOL or OTEL_EXPORTER_OTLP_PROTOCOL env var: ${G}`)}}else throw Error(`Unknown exporter type set in OTEL_TRACES_EXPORTER env var: ${B}`);return Q}function BA0(){return z0(process.env.CLAUDE_CODE_ENABLE_TELEMETRY)}function qY8(){let A=new re1;return new YA0.PeriodicExportingMetricReader({exporter:A,exportIntervalMillis:300000})}function LY8(){let A=d6(),Q=RB()&&(A==="enterprise"||A==="team");return cCQ()||Q}function diB(){L9("telemetry_init_start"),UY8(),UYA.diag.setLogger(new ne1,UYA.DiagLogLevel.ERROR);let A=[];if(BA0())A.push(...$Y8());if(LY8())A.push(qY8());let Q=dQ(),B={[cl.ATTR_SERVICE_NAME]:"claude-code",[cl.ATTR_SERVICE_VERSION]:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION};if(Q==="wsl"){let E=ua();if(E)B["wsl.version"]=E}let G=QT.resourceFromAttributes(B),Z=QT.resourceFromAttributes(QT.osDetector.detect().attributes||{}),Y=QT.hostDetector.detect(),J=Y.attributes?.[cl.SEMRESATTRS_HOST_ARCH]?{[cl.SEMRESATTRS_HOST_ARCH]:Y.attributes[cl.SEMRESATTRS_HOST_ARCH]}:{},I=QT.resourceFromAttributes(J),X=QT.resourceFromAttributes(QT.envDetector.detect().attributes||{}),W=G.merge(Z).merge(I).merge(X),K=new O01.MeterProvider({resource:W,views:[],readers:A});if(NK0(K),BA0()){let E=wY8();if(E.length>0){let D=new $YA.LoggerProvider({resource:W,processors:E.map((F)=>new $YA.BatchLogRecordProcessor(F,{scheduledDelayMillis:parseInt(process.env.OTEL_LOGS_EXPORT_INTERVAL||CY8.toString())}))});GA0.logs.setGlobalLoggerProvider(D),zK0(D);let H=GA0.logs.getLogger("com.anthropic.claude_code.events",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION);$K0(H),process.on("beforeExit",async()=>{await D?.forceFlush()}),process.on("exit",()=>{D?.forceFlush()})}}if(BA0()){if(z0(process.env.ENABLE_ENHANCED_TELEMETRY_BETA)){let E=NY8();if(E.length>0){let D=E.map((F)=>new wYA.BatchSpanProcessor(F,{scheduledDelayMillis:parseInt(process.env.OTEL_TRACES_EXPORT_INTERVAL||zY8.toString())})),H=new wYA.BasicTracerProvider({resource:W,spanProcessors:D});UYA.trace.setGlobalTracerProvider(H),qK0(H)}}}return U8(async()=>{let E=parseInt(process.env.CLAUDE_CODE_OTEL_SHUTDOWN_TIMEOUT_MS||"2000");try{L01();let D=[K.shutdown()],H=dG1();if(H)D.push(H.shutdown());let F=cG1();if(F)D.push(F.shutdown());await Promise.race([Promise.all(D),new Promise((C,U)=>setTimeout(()=>U(Error("OpenTelemetry shutdown timeout")),E))])}catch(D){if(D instanceof Error&&D.message.includes("timeout"))f(`
bundles/ClaudeCodeCode/cli.js:1574:`,{level:"error"});throw D}}),K.getMeter("com.anthropic.claude_code",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION)}async function ciB(){let A=wK0();if(!A)return;let Q=parseInt(process.env.CLAUDE_CODE_OTEL_FLUSH_TIMEOUT_MS||"5000");try{let B=[A.forceFlush()],G=dG1();if(G)B.push(G.forceFlush());let Z=cG1();if(Z)B.push(Z.forceFlush());await Promise.race([Promise.all(B),new Promise((Y,J)=>setTimeout(()=>J(Error("OpenTelemetry flush timeout")),Q))]),f("Telemetry flushed successfully")}catch(B){if(B instanceof Error&&B.message.includes("timeout"))f(`Telemetry flush timed out after ${Q}ms. Some metrics may not be exported.`,{level:"warn"});else f(`Telemetry flush failed: ${B instanceof Error?B.message:String(B)}`,{level:"error"})}}function JA0(){let A=Id(),Q=FR(),B=process.env.OTEL_EXPORTER_OTLP_ENDPOINT;if(!A||B&&fgA(B))return Q?{httpAgentOptions:Q}:{};return{httpAgentOptions:(Z)=>{return Q?new ZA0.HttpsProxyAgent(A,{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}):new ZA0.HttpsProxyAgent(A)}}}var UYA,GA0,O01,xiB,yiB,viB,kiB,YA0,$YA,fiB,biB,hiB,wYA,giB,uiB,miB,QT,cl,ZA0,FY8=60000,CY8=5000,zY8=5000;var IA0=L(()=>{ViB();EiB();bW();Xd();F2();g0();dl();k3();F2();jB();Y0();Ta();u6A();rQ();UYA=o(O9(),1),GA0=o(JT1(),1),O01=o(zl(),1),xiB=o(DkB(),1),yiB=o(RcB(),1),viB=o(yA1(),1),kiB=o(kcB(),1),YA0=o(zl(),1),$YA=o(gT1(),1),fiB=o(icB(),1),biB=o(tcB(),1),hiB=o(WpB(),1),wYA=o(flB(),1),giB=o(nlB(),1),uiB=o(elB(),1),miB=o(KiB(),1),QT=o(e6A(),1),cl=o(vr(),1),ZA0=o(oEA(),1)});var _KG,piB;var liB=L(()=>{z2();_KG=P.object({checksum:P.string(),version:P.string().optional()}),piB=P.object({uuid:P.string(),checksum:P.string(),settings:P.record(P.unknown())})});function NYA({title:A,subtitle:Q,color:B="permission"}){return ob.createElement(j,{flexDirection:"column"},ob.createElement(j,{flexDirection:"row",gap:1},ob.createElement(z,{bold:!0,color:B},A),Q!==void 0&&ob.createElement(z,{wrap:"truncate-start"},Q)))}var ob;var R01=L(()=>{fA();ob=o(WA(),1)});var UI;var xx=L(()=>{$8();UI=JQ.platform==="darwin"?"‚è∫":"‚óè"});function MY8(A){return`ansi:${A}`}function _01({name:A,color:Q}){let B=MY8(Q);return B1A.createElement(j,{flexDirection:"row",gap:1},B1A.createElement(z,{color:B},UI," ",B1A.createElement(z,{bold:!0},A)))}var B1A;var XA0=L(()=>{fA();xx();B1A=o(WA(),1)});function YZ({title:A,subtitle:Q,color:B="permission",titleColor:G,innerPaddingX:Z=1,workerBadge:Y,children:J}){return BT.createElement(j,{flexDirection:"column",borderStyle:"round",borderColor:B,borderLeft:!1,borderRight:!1,borderBottom:!1,marginTop:1},BT.createElement(j,{paddingX:1,flexDirection:"column"},Y&&BT.createElement(_01,{name:Y.name,color:Y.color}),BT.createElement(NYA,{title:A,subtitle:Q,color:G})),BT.createElement(j,{flexDirection:"column",paddingX:Z},J))}var BT;var UU=L(()=>{fA();R01();XA0();BT=o(WA(),1)});var iiB,xLA;var WA0=L(()=>{iiB=["apiKeyHelper","awsAuthRefresh","awsCredentialExport","otelHeadersHelper","statusLine"],xLA=new Set(["ANTHROPIC_CUSTOM_HEADERS","ANTHROPIC_DEFAULT_HAIKU_MODEL","ANTHROPIC_DEFAULT_OPUS_MODEL","ANTHROPIC_DEFAULT_SONNET_MODEL","ANTHROPIC_FOUNDRY_API_KEY","ANTHROPIC_MODEL","ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION","ANTHROPIC_SMALL_FAST_MODEL","AWS_DEFAULT_REGION","AWS_PROFILE","AWS_REGION","BASH_DEFAULT_TIMEOUT_MS","BASH_MAX_OUTPUT_LENGTH","BASH_MAX_TIMEOUT_MS","CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR","CLAUDE_CODE_API_KEY_HELPER_TTL_MS","CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS","CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC","CLAUDE_CODE_DISABLE_TERMINAL_TITLE","CLAUDE_CODE_ENABLE_TELEMETRY","CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL","CLAUDE_CODE_MAX_OUTPUT_TOKENS","CLAUDE_CODE_SKIP_BEDROCK_AUTH","CLAUDE_CODE_SKIP_FOUNDRY_AUTH","CLAUDE_CODE_SKIP_VERTEX_AUTH","CLAUDE_CODE_SUBAGENT_MODEL","CLAUDE_CODE_USE_BEDROCK","CLAUDE_CODE_USE_FOUNDRY","CLAUDE_CODE_USE_VERTEX","DISABLE_AUTOUPDATER","DISABLE_BUG_COMMAND","DISABLE_COST_WARNINGS","DISABLE_ERROR_REPORTING","DISABLE_TELEMETRY","MAX_MCP_OUTPUT_TOKENS","MAX_THINKING_TOKENS","MCP_TIMEOUT","MCP_TOOL_TIMEOUT","OTEL_EXPORTER_OTLP_HEADERS","OTEL_EXPORTER_OTLP_LOGS_HEADERS","OTEL_EXPORTER_OTLP_LOGS_PROTOCOL","OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY","OTEL_EXPORTER_OTLP_METRICS_HEADERS","OTEL_EXPORTER_OTLP_METRICS_PROTOCOL","OTEL_EXPORTER_OTLP_PROTOCOL","OTEL_EXPORTER_OTLP_TRACES_HEADERS","OTEL_LOG_USER_PROMPTS","OTEL_LOGS_EXPORT_INTERVAL","OTEL_LOGS_EXPORTER","OTEL_METRIC_EXPORT_INTERVAL","OTEL_METRICS_EXPORTER","OTEL_METRICS_INCLUDE_ACCOUNT_UUID","OTEL_METRICS_INCLUDE_SESSION_ID","OTEL_METRICS_INCLUDE_VERSION","OTEL_RESOURCE_ATTRIBUTES","USE_BUILTIN_RIPGREP","VERTEX_REGION_CLAUDE_3_5_HAIKU","VERTEX_REGION_CLAUDE_3_5_SONNET","VERTEX_REGION_CLAUDE_3_7_SONNET","VERTEX_REGION_CLAUDE_4_0_OPUS","VERTEX_REGION_CLAUDE_4_0_SONNET","VERTEX_REGION_CLAUDE_4_1_OPUS","VERTEX_REGION_CLAUDE_HAIKU_4_5"])});function qYA(A){if(!A)return{shellSettings:{},envVars:{},hasHooks:!1};let Q={};for(let Z of iiB){let Y=A[Z];if(typeof Y==="string"&&Y.length>0)Q[Z]=Y}let B={};if(A.env&&typeof A.env==="object"){for(let[Z,Y]of Object.entries(A.env))if(typeof Y==="string"&&Y.length>0){if(!xLA.has(Z.toUpperCase()))B[Z]=Y}}let G=A.hooks!==void 0&&A.hooks!==null&&typeof A.hooks==="object"&&Object.keys(A.hooks).length>0;return{shellSettings:Q,envVars:B,hasHooks:G,hooks:G?A.hooks:void 0}}function T01(A){return Object.keys(A.shellSettings).length>0||Object.keys(A.envVars).length>0||A.hasHooks}function niB(A,Q){let B=qYA(A),G=qYA(Q);if(!T01(G))return!1;if(!T01(B))return!0;let Z=JSON.stringify({shellSettings:B.shellSettings,envVars:B.envVars,hooks:B.hooks}),Y=JSON.stringify({shellSettings:G.shellSettings,envVars:G.envVars,hooks:G.hooks});return Z!==Y}function aiB(A){let Q=[];for(let B of Object.keys(A.shellSettings))Q.push(B);for(let B of Object.keys(A.envVars))Q.push(B);if(A.hasHooks)Q.push("hooks");return Q}var KA0=L(()=>{WA0()});function oiB({settings:A,onAccept:Q,onReject:B}){let G=qYA(A),Z=aiB(G),Y=_Q();k1((I,X)=>{if(X.escape){B();return}});function J(I){if(I==="exit"){B();return}Q()}return cE.default.createElement(YZ,{color:"warning",titleColor:"warning",title:"Managed settings require approval"},cE.default.createElement(j,{flexDirection:"column",gap:1,paddingTop:1},cE.default.createElement(z,null,"Your organization has configured managed settings that could allow execution of arbitrary code or interception of your prompts and responses."),cE.default.createElement(j,{flexDirection:"column"},cE.default.createElement(z,{dimColor:!0},"Settings requiring approval:"),Z.map((I,X)=>cE.default.createElement(j,{key:X,paddingLeft:2},cE.default.createElement(z,null,cE.default.createElement(z,{dimColor:!0},"¬∑ "),cE.default.createElement(z,null,I))))),cE.default.createElement(z,null,"Only accept if you trust your organization's IT administration and expect these settings to be configured."),cE.default.createElement(S0,{options:[{label:"Yes, I trust these settings",value:"accept"},{label:"No, exit Claude Code",value:"exit"}],onChange:(I)=>J(I),onCancel:()=>J("exit")}),cE.default.createElement(z,{dimColor:!0},Y.pending?cE.default.createElement(cE.default.Fragment,null,"Press ",Y.keyName," again to exit"):cE.default.createElement(cE.default.Fragment,null,"Enter to confirm ¬∑ Esc to exit"))))}var cE;var riB=L(()=>{fA();Y3();UU();c9();KA0();cE=o(WA(),1)});async function siB(A,Q){if(!Q||!T01(qYA(Q)))return"no_check_needed";if(!niB(A,Q))return"no_check_needed";if(!SBA())return"no_check_needed";return r("tengu_managed_settings_security_dialog_shown",{}),new Promise((B)=>{(async()=>{let{unmount:G}=await $5(VA0.default.createElement(u5,null,VA0.default.createElement(oiB,{settings:Q,onAccept:()=>{r("tengu_managed_settings_security_dialog_accepted",{}),G(),B("approved")},onReject:()=>{r("tengu_managed_settings_security_dialog_rejected",{}),G(),B("rejected")}})),{exitOnCtrlC:!1})})()})}function tiB(A){if(A==="rejected")return f6(1),!1;return!0}var VA0;var eiB=L(()=>{fA();riB();u2();g0();T0();iY();KA0();VA0=o(WA(),1)});import{join as OY8}from"path";import{createHash as RY8}from"crypto";import{existsSync as AnB,unlinkSync as _Y8}from"fs";function QnB(){if(vLA)return;if(sb())vLA=new Promise((A)=>{rb=A,setTimeout(()=>{if(rb)f("Remote settings: Loading promise timed out, resolving anyway"),rb(),rb=null},SY8)})}function HA0(){return OY8(mQ(),TY8)}function xY8(){return`${process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com"}/api/claude_code/settings`}function DA0(A){if(Array.isArray(A))return A.map(DA0);if(A!==null&&typeof A==="object"){let Q={};for(let B of Object.keys(A).sort())Q[B]=DA0(A[B]);return Q}return A}function yY8(A){let Q=DA0(A),B=JSON.stringify(Q);return`sha256:${RY8("sha256").update(B).digest("hex")}`}function sb(){if(X6()!=="firstParty")return!1;if(!Ym0())return!1;try{let{key:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});if(Q)return!0}catch{}let A=t6();if(!A?.accessToken)return!1;if(!A.scopes?.includes(E9A))return!1;if(A.subscriptionType!=="enterprise")return!1;return!0}function BnB(){return sb()}function vY8(){try{let{key:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});if(Q)return{headers:{"x-api-key":Q}}}catch{}let A=t6();if(A?.accessToken)return{headers:{Authorization:`Bearer ${A.accessToken}`,"anthropic-beta":tu}};return{headers:{},error:"No authentication available"}}async function kY8(A){let Q=null;for(let B=1;B<=EA0+1;B++){if(Q=await fY8(A),Q.success)return Q;if(Q.skipRetry)return Q;if(B>EA0)return Q;let G=ga1(B);f(`Remote settings: Retry ${B}/${EA0} after ${G}ms`),await jeA(G)}return Q}async function fY8(A){try{await Mk();let Q=vY8();if(Q.error)return{success:!1,error:"Authentication required for remote settings",skipRetry:!0};let B=xY8(),G={...Q.headers,"User-Agent":iI()};if(A)G["If-None-Match"]=`"${A}"`;let Z=await wQ.get(B,{headers:G,timeout:jY8,validateStatus:(I)=>I===200||I===304||I===404});if(Z.status===304)return f("Remote settings: Using cached settings (304)"),{success:!0,settings:null,checksum:A};if(Z.status===404)return f("Remote settings: No settings found (404)"),{success:!0,settings:{},checksum:void 0};let Y=piB.safeParse(Z.data);if(!Y.success)return f(`Remote settings: Invalid response format - ${Y.error.message}`),{success:!1,error:"Invalid remote settings format"};let J=Jb.safeParse(Y.data.settings);if(!J.success)return f(`Remote settings: Settings validation failed - ${J.error.message}`),{success:!1,error:"Invalid settings structure"};return f("Remote settings: Fetched successfully"),{success:!0,settings:J.data,checksum:Y.data.checksum}}catch(Q){if(wQ.isAxiosError(Q)){let B=Q;if(B.response?.status===404)return{success:!0,settings:{},checksum:""};if(B.response?.status===401||B.response?.status===403)return{success:!1,error:"Not authorized for remote settings",skipRetry:!0};if(B.code==="ECONNABORTED")return{success:!1,error:"Remote settings request timeout"};if(B.code==="ECONNREFUSED"||B.code==="ENOTFOUND")return{success:!1,error:"Cannot connect to server"}}return{success:!1,error:Q instanceof Error?Q.message:"Unknown error"}}}function GnB(){try{let A=HA0();if(!AnB(A))return null;let Q=wE(A),B=h8(Q,!1);if(!B||typeof B!=="object"||Array.isArray(B))return null;return B}catch{return null}}function bY8(A){try{let Q=HA0();rL(Q,JSON.stringify(A,null,2),{encoding:"utf-8",mode:384}),f(`Remote settings: Saved to ${Q}`)}catch(Q){f(`Remote settings: Failed to save - ${Q instanceof Error?Q.message:"unknown error"}`)}}function FA0(){JnB(),kw=null,vLA=null,rb=null;try{let A=HA0();if(AnB(A))_Y8(A)}catch{}}async function CA0(){if(!sb())return null;let A=GnB(),Q=A?yY8(A):void 0;try{let B=await kY8(Q);if(!B.success){if(A)return f("Remote settings: Using stale cache after fetch failure"),kw=A,A;return null}if(B.settings===null&&A)return f("Remote settings: Cache still valid (304 Not Modified)"),kw=A,A;let G=B.settings||{};if(Object.keys(G).length>0){let Y=await siB(A,G);if(!tiB(Y))return f("Remote settings: User rejected new settings, using cached settings"),A;return kw=G,bY8(G),f("Remote settings: Applied new settings successfully"),G}return kw=G,G}catch{if(A)return f("Remote settings: Using stale cache after error"),kw=A,A;return null}}function zA0(){if(!sb())return null;if(kw)return kw;let A=GnB();if(A)return kw=A,A;return null}async function ZnB(){if(sb()&&!vLA)vLA=new Promise((A)=>{rb=A});try{let A=await CA0();if(sb())gY8();if(A!==null)TR(),NF.notifyChange("policySettings")}finally{if(rb)rb(),rb=null}}async function YnB(){if(FA0(),!sb()){TR(),NF.notifyChange("policySettings");return}await CA0(),f("Remote settings: Refreshed after auth change"),TR(),NF.notifyChange("policySettings")}async function hY8(){if(!sb())return;let A=kw?JSON.stringify(kw):null;try{if(await CA0(),(kw?JSON.stringify(kw):null)!==A)f("Remote settings: Changed during background poll"),TR(),NF.notifyChange("policySettings")}catch{}}function gY8(){if(yLA!==null)return;if(!sb())return;yLA=setInterval(()=>{hY8()},PY8),U8(async()=>JnB())}function JnB(){if(yLA!==null)clearInterval(yLA),yLA=null}var TY8="remote-settings.json",jY8=1e4,EA0=5,PY8=3600000,yLA=null,vLA=null,rb=null,SY8=30000,kw=null;var LYA=L(()=>{b8();lD();Y0();eJ();F2();Te();liB();rQ();hX();M9();uI();beA();YZA();Rs();jB();bW();eiB()});async function $A0({clearOnboarding:A=!1}){await ciB(),mCQ(),$$().delete(),j01(),i0((B)=>{let G={...B};if(A){if(G.hasCompletedOnboarding=!1,G.subscriptionNoticeCount=0,G.hasAvailableSubscription=!1,G.customApiKeyResponses?.approved)G.customApiKeyResponses={...G.customApiKeyResponses,approved:[]}}return G.oauthAccount=void 0,G})}var UA0,j01=()=>{t6.cache?.clear?.(),oyA(),XnB(),GbQ(),As.cache?.clear?.(),Fl.cache?.clear?.(),FA0()},InB;var P01=L(()=>{xQ();tf();Fs();fA();F2();uyA();fv();J4();Sk();iY();wZA();IA0();LYA();ar();UA0=o(WA(),1);InB={type:"local-jsx",name:"logout",description:"Sign out from your Anthropic account",isEnabled:()=>!process.env.DISABLE_LOGOUT_COMMAND,isHidden:!1,async call(){if(!oD())await EI();await $A0({clearOnboarding:!0});let A=UA0.createElement(z,null,"Successfully logged out from your Anthropic account.");return setTimeout(()=>{f6(0,"logout")},200),A},userFacingName(){return"logout"}}});class kLA{codeVerifier;authCodeListener=null;port=null;manualAuthCodeResolver=null;constructor(){this.codeVerifier=a_B()}async startOAuthFlow(A,Q){this.authCodeListener=new zo1,this.port=await this.authCodeListener.start();let B=o_B(this.codeVerifier),G=r_B(),Z={codeChallenge:B,state:G,port:this.port,loginWithClaudeAi:Q?.loginWithClaudeAi,inferenceOnly:Q?.inferenceOnly,orgUUID:Q?.orgUUID},Y=tK1({...Z,isManual:!0}),J=tK1({...Z,isManual:!1}),I=await this.waitForAuthorizationCode(G,async()=>{await A(Y),await e5(J)}),X=this.authCodeListener?.hasPendingResponse()??!1;r("tengu_oauth_auth_code_received",{automatic:X});try{let W=await lu0(I,G,this.codeVerifier,this.port,!X,Q?.expiresIn);await $A0({clearOnboarding:!1});let K=await eK1(W.access_token);if(W.account)AV1({accountUuid:W.account.uuid,emailAddress:W.account.email_address,organizationUuid:W.organization?.uuid,displayName:K.displayName,hasExtraUsageEnabled:K.hasExtraUsageEnabled??void 0});if(X){let V=dyA(W.scope);this.authCodeListener?.handleSuccessRedirect(V)}return this.formatTokens(W,K.subscriptionType,K.rateLimitTier)}catch(W){if(X)this.authCodeListener?.handleErrorRedirect();throw W}finally{this.authCodeListener?.close()}}async waitForAuthorizationCode(A,Q){return new Promise((B,G)=>{this.manualAuthCodeResolver=B,this.authCodeListener?.waitForAuthorization(A,Q).then((Z)=>{this.manualAuthCodeResolver=null,B(Z)}).catch((Z)=>{this.manualAuthCodeResolver=null,G(Z)})})}handleManualAuthCodeInput(A){if(this.manualAuthCodeResolver)this.manualAuthCodeResolver(A.authorizationCode),this.manualAuthCodeResolver=null,this.authCodeListener?.close()}formatTokens(A,Q,B){return{accessToken:A.access_token,refreshToken:A.refresh_token,expiresAt:Date.now()+A.expires_in*1000,scopes:dyA(A.scope),subscriptionType:Q,rateLimitTier:B}}cleanup(){this.authCodeListener?.close(),this.manualAuthCodeResolver=null}}var wA0=L(()=>{AU();n_B();s_B();Xq();P01();T0()});async function uY8(){try{if(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!0;return await wQ.get("https://api.anthropic.com/api/hello",{timeout:5000,headers:{"Cache-Control":"no-cache"}}),!0}catch(A){if(!(A instanceof ok0))return!0;return A.code!=="EHOSTUNREACH"}}function NA0(){let[A,Q]=S01.useState(null);return S01.useEffect(()=>{let B=!0;if(process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)return;let G=async()=>{if(!B)return;let Y=await uY8();if(B)Q(Y)};G();let Z=setInterval(G,mY8);return()=>{B=!1,clearInterval(Z)}},[]),{isConnected:A}}var S01,mY8=30000;var WnB=L(()=>{b8();rQ();S01=o(WA(),1)});class MYA{activeOperations=new Set;lastUserActivityTime=0;lastCLIRecordedTime=Date.now();isCLIActive=!1;USER_ACTIVITY_TIMEOUT_MS=5000;static instance=null;static getInstance(){if(!MYA.instance)MYA.instance=new MYA;return MYA.instance}recordUserActivity(){if(!this.isCLIActive&&this.lastUserActivityTime!==0){let Q=(Date.now()-this.lastUserActivityTime)/1000;if(Q>0){let B=mG1();if(B){let G=this.USER_ACTIVITY_TIMEOUT_MS/1000;if(Q<G)B.add(Q,{type:"user"})}}}this.lastUserActivityTime=Date.now()}startCLIActivity(A){if(this.activeOperations.has(A))this.endCLIActivity(A);let Q=this.activeOperations.size===0;if(this.activeOperations.add(A),Q)this.isCLIActive=!0,this.lastCLIRecordedTime=Date.now()}endCLIActivity(A){if(this.activeOperations.delete(A),this.activeOperations.size===0){let Q=Date.now(),B=(Q-this.lastCLIRecordedTime)/1000;if(B>0){let G=mG1();if(G)G.add(B,{type:"cli"})}this.lastCLIRecordedTime=Q,this.isCLIActive=!1}}async trackOperation(A,Q){this.startCLIActivity(A);try{return await Q()}finally{this.endCLIActivity(A)}}getActivityStates(){return{isUserActive:(Date.now()-this.lastUserActivityTime)/1000<this.USER_ACTIVITY_TIMEOUT_MS/1000,isCLIActive:this.isCLIActive,activeOperationCount:this.activeOperations.size}}}var fLA;var qA0=L(()=>{g0();fLA=MYA.getInstance()});function pl({todos:A,isStandalone:Q=!1}){if(A.length===0)return null;let B=OV.createElement(OV.Fragment,null,A.map((G,Z)=>{let Y=G.status==="completed"?X1.checkboxOn:X1.checkboxOff;return OV.createElement(j,{key:Z},OV.createElement(z,{dimColor:G.status==="completed"},Y," "),OV.createElement(z,{bold:G.status==="in_progress",dimColor:G.status==="completed",strikethrough:G.status==="completed"},G.content))}));if(Q)return OV.createElement(j,{flexDirection:"column",marginTop:1,marginLeft:2},OV.createElement(z,{bold:!0,dimColor:!0},"Todos"),B);return OV.createElement(j,{flexDirection:"column"},B)}var OV;var bLA=L(()=>{fA();g2();OV=o(WA(),1)});function KnB({streamMode:A}){let[Q,B]=hLA.useState(null),[G,Z]=hLA.useState(null);if(hLA.useEffect(()=>{if(A==="thinking"&&Q===null)B(Date.now());else if(A!=="thinking"&&Q!==null)Z(Date.now()-Q),B(null)},[A,Q]),A==="thinking")return GT.createElement(j,{marginTop:1},GT.createElement(z,{dimColor:!0},"‚à¥ Thinking‚Ä¶"));if(G!==null)return GT.createElement(j,{marginTop:1},GT.createElement(z,{dimColor:!0},"‚à¥ Thought for ",Math.max(1,Math.round(G/1000)),"s (",GT.createElement(z,{dimColor:!0,bold:!0},"ctrl+o")," ","to show thinking)"));return null}var GT,hLA;var VnB=L(()=>{fA();GT=o(WA(),1),hLA=o(WA(),1)});function gLA(){if(process.env.TERM==="xterm-ghostty")return["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","*"];return process.platform==="darwin"?["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","‚úΩ"]:["¬∑","‚ú¢","*","‚ú∂","‚úª","‚úΩ"]}function G1A(A,Q,B){return{r:Math.round(A.r+(Q.r-A.r)*B),g:Math.round(A.g+(Q.g-A.g)*B),b:Math.round(A.b+(Q.b-A.b)*B)}}function OYA(A){return`rgb(${A.r},${A.g},${A.b})`}function MA0({char:A,flashOpacity:Q}){let Z=G1A({r:215,g:119,b:87},{r:245,g:149,b:117},Q);return LA0.createElement(z,{color:OYA(Z)},A)}var LA0;var OA0=L(()=>{fA();LA0=o(WA(),1)});function RYA({char:A,index:Q,glimmerIndex:B,messageColor:G,shimmerColor:Z}){let Y=Q===B,J=Math.abs(Q-B)===1;return RA0.createElement(z,{color:Y||J?Z:G},A)}var RA0;var x01=L(()=>{fA();RA0=o(WA(),1)});function _A0({message:A,mode:Q,isConnected:B,messageColor:G,glimmerIndex:Z,flashOpacity:Y,shimmerColor:J,stalledIntensity:I=0}){if(!A)return null;if(B===!1)return $I.createElement(z,{color:G},A," ");if(I>0){let K=G1A({r:215,g:119,b:87},{r:171,g:43,b:63},I),V=OYA(K);return $I.createElement($I.Fragment,null,$I.createElement(z,{color:V},A),$I.createElement(z,{color:V}," "))}return $I.createElement($I.Fragment,null,A.split("").map((X,W)=>{if(Q==="tool-use")return $I.createElement(MA0,{key:W,char:X,flashOpacity:Y});else return $I.createElement(RYA,{key:W,char:X,index:W,glimmerIndex:Z,messageColor:G,shimmerColor:J})}),$I.createElement(z,{color:G}," "))}var $I;var EnB=L(()=>{fA();OA0();x01();$I=o(WA(),1)});function TA0({frame:A,messageColor:Q,stalledIntensity:B=0,isConnected:G}){let Z=HnB[A%HnB.length];if(G===!1)return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:Q},Z));if(B>0){let I=G1A({r:215,g:119,b:87},{r:171,g:43,b:63},B);return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:OYA(I)},Z))}return fw.createElement(j,{flexWrap:"wrap",height:1,width:2},fw.createElement(z,{color:Q},Z))}var fw,DnB,HnB;var FnB=L(()=>{fA();fw=o(WA(),1),DnB=gLA(),HnB=[...DnB,...[...DnB].reverse()]});function uLA(A,Q,B,G){let Z=_YA.useRef(Date.now()),[Y,J]=_YA.useState(A==="requesting"?-1:10),I=_YA.useMemo(()=>{if(A==="requesting")return 50;return 200},[A]);return aG(()=>{if(B===!1||G)return;let X=Date.now()-Z.current,W=Math.floor(X/I),K=Q.length,V=K+20;if(A==="requesting"){let E=W%V-10;J(E)}else{let E=K+10-W%V;J(E)}},I),Y}var _YA;var jA0=L(()=>{UE();_YA=o(WA(),1)});function PA0(A){let[Q,B]=CnB.useState(0);return aG(()=>{if(A==="tool-use")B(()=>{let G=Date.now()/1000;return(Math.sin(G*Math.PI)+1)/2});else B(0)},50),Q}var CnB;var znB=L(()=>{UE();CnB=o(WA(),1)});function SA0(A,Q=!1){let[B,G]=Z1A.useState(0),[Z,Y]=Z1A.useState(0),J=Z1A.useRef(A);Z1A.useEffect(()=>{if(A>J.current)G(0),Y(0),J.current=A},[A]),aG(()=>{if(A>0&&A===J.current&&!Q)G((W)=>W+100);else if(A===0||Q)G(0)},100);let I=B>3000&&!Q,X=I?Math.min((B-3000)/2000,1):0;return aG(()=>{Y((W)=>{let K=X,V=K-W;if(Math.abs(V)<0.01)return K;return W+V*0.1})},50),{isStalled:I,stalledIntensity:Z}}var Z1A;var UnB=L(()=>{UE();Z1A=o(WA(),1)});var $nB=L(()=>{OA0();x01();EnB();FnB();jA0();znB();UnB()});function qnB({mode:A,elapsedTimeMs:Q,spinnerTip:B,currentResponseLength:G,overrideColor:Z,overrideShimmerColor:Y,overrideMessage:J,spinnerSuffix:I,verbose:X,todos:W,hasActiveTools:K=!1,hideThinkingIndicator:V=!1}){let E=lY8(),[D,H]=yx.useState(0),[F,C]=yx.useState(0),[U]=yQ(),{isConnected:O}=NA0(),{columns:q}=kB(),M=W?.find((yA)=>yA.status==="in_progress"),_=W?.find((yA)=>yA.status==="pending"),[T]=yx.useState(()=>pr(E)),y=(J??M?.activeForm??T)+"‚Ä¶",{isStalled:h,stalledIntensity:x}=SA0(G,K),m=uLA(A,y,O,h),g=PA0(A),t=yx.useRef(G);yx.useEffect(()=>{let yA="spinner-"+A;return fLA.startCLIActivity(yA),()=>{fLA.endCLIActivity(yA)}},[A]),yx.useEffect(()=>{t.current=G},[G]),aG(()=>{if(!O){H(4);return}H((yA)=>yA+1)},120),aG(()=>{C((yA)=>{let ZA=t.current-yA;if(ZA<=0)return yA;let GA;if(ZA<70)GA=1;else if(ZA<200)GA=Math.max(2,Math.ceil(ZA*0.08));else GA=18;return Math.min(yA+GA,t.current)})},10);let p=y.length+2,k=16,c=q>p+20,e=W&&W.length>0&&c&&q>p+k+25,AA=(X||Q>cY8)&&c&&q>p+k+(e?25:0)+25,VA=[...c?[T2.createElement(z,{dimColor:!0,key:"esc"},T2.createElement(R0,{shortcut:"esc",action:"interrupt",bold:!0}))]:[],...I?[T2.createElement(z,{dimColor:!0,key:"suffix"},I)]:[],...e?[T2.createElement(z,{dimColor:!0,key:"todo"},T2.createElement(R0,{shortcut:"ctrl+t",action:`${U.showExpandedTodos?"hide":"show"} todos`,bold:!0}))]:[],...AA?[T2.createElement(z,{dimColor:!0,key:"elapsedTime"},lK(Q)),T2.createElement(j,{flexDirection:"row",key:"tokens"},T2.createElement(pY8,{mode:A,key:"spinnerMode"}),T2.createElement(z,{dimColor:!0},g3(Math.round(F/4))," tokens"))]:[]];if(O===!1)VA.push(T2.createElement(j,{key:"offline"},T2.createElement(z,{color:"error",bold:!0},"offline")));let OA=Z??(O===!1?"inactive":"claude"),EA=Y??"claudeShimmer",SA=VA.length>0?T2.createElement(T2.Fragment,null,T2.createElement(z,{dimColor:!0},"("),T2.createElement(LB,null,VA),T2.createElement(z,{dimColor:!0},")")):null;return T2.createElement(j,{flexDirection:"column",width:"100%",alignItems:"flex-start"},!V&&T2.createElement(KnB,{streamMode:A}),T2.createElement(j,{flexDirection:"row",flexWrap:"wrap",marginTop:1,width:"100%"},T2.createElement(TA0,{frame:D,messageColor:OA,stalledIntensity:x,isConnected:O}),T2.createElement(_A0,{message:y,mode:A,isConnected:O,messageColor:OA,glimmerIndex:m,flashOpacity:g,shimmerColor:EA,stalledIntensity:x}),SA),U.showExpandedTodos&&W&&W.length>0?T2.createElement(j,{width:"100%",flexDirection:"column"},T2.createElement(h0,null,T2.createElement(pl,{todos:W}))):_||B?T2.createElement(j,{width:"100%"},T2.createElement(h0,null,T2.createElement(z,{dimColor:!0},_?`Next: ${_.content}`:`Tip: ${B}`))):null)}function pY8({mode:A}){switch(A){case"tool-input":case"tool-use":case"responding":case"thinking":return T2.createElement(j,{width:2},T2.createElement(z,{dimColor:!0},X1.arrowDown));case"requesting":return T2.createElement(j,{width:2},T2.createElement(z,{dimColor:!0},X1.arrowUp))}}function a9(){let[A,Q]=yx.useState(0),{isConnected:B}=NA0();return aG(()=>{Q((Z)=>(Z+1)%NnB.length)},120),T2.createElement(j,{flexWrap:"wrap",height:1,width:2},T2.createElement(z,{color:B===!1?"inactive":"text"},NnB[A]))}function lY8(){return y01("tengu_spinner_words",dY8).words}var T2,yx,wnB,NnB,dY8,cY8=30000;var SG=L(()=>{fA();luA();UE();g2();WnB();qA0();J4();h4();bLA();u2();y6();VnB();s4();l6();$nB();T2=o(WA(),1),yx=o(WA(),1),wnB=gLA(),NnB=[...wnB,...[...wnB].reverse()],dY8={words:["Accomplishing","Actioning","Actualizing","Baking","Booping","Brewing","Calculating","Cerebrating","Channelling","Churning","Clauding","Coalescing","Cogitating","Computing","Combobulating","Concocting","Considering","Contemplating","Cooking","Crafting","Creating","Crunching","Deciphering","Deliberating","Determining","Discombobulating","Doing","Effecting","Elucidating","Enchanting","Envisioning","Finagling","Flibbertigibbeting","Forging","Forming","Frolicking","Generating","Germinating","Hatching","Herding","Honking","Ideating","Imagining","Incubating","Inferring","Manifesting","Marinating","Meandering","Moseying","Mulling","Mustering","Musing","Noodling","Percolating","Perusing","Philosophising","Pontificating","Pondering","Processing","Puttering","Puzzling","Reticulating","Ruminating","Scheming","Schlepping","Shimmying","Simmering","Smooshing","Spelunking","Spinning","Stewing","Sussing","Synthesizing","Thinking","Tinkering","Transmuting","Unfurling","Unravelling","Vibing","Wandering","Whirring","Wibbling","Working","Wrangling"]}});var mLA=w((aY8)=>{function iY8(A,Q,B){if(B===void 0)B=Array.prototype;if(A&&typeof B.find==="function")return B.find.call(A,Q);for(var G=0;G<A.length;G++)if(Object.prototype.hasOwnProperty.call(A,G)){var Z=A[G];if(Q.call(void 0,Z,G,A))return Z}}function xA0(A,Q){if(Q===void 0)Q=Object;return Q&&typeof Q.freeze==="function"?Q.freeze(A):A}function nY8(A,Q){if(A===null||typeof A!=="object")throw TypeError("target is not an object");for(var B in Q)if(Object.prototype.hasOwnProperty.call(Q,B))A[B]=Q[B];return A}var LnB=xA0({HTML:"text/html",isHTML:function(A){return A===LnB.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),MnB=xA0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(A){return A===MnB.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});aY8.assign=nY8;aY8.find=iY8;aY8.freeze=xA0;aY8.MIME_TYPE=LnB;aY8.NAMESPACE=MnB});var cA0=w((DJ8)=>{var xnB=mLA(),vx=xnB.find,dLA=xnB.NAMESPACE;function AJ8(A){return A!==""}function QJ8(A){return A?A.split(/[\t\n\f\r ]+/).filter(AJ8):[]}function BJ8(A,Q){if(!A.hasOwnProperty(Q))A[Q]=!0;return A}function OnB(A){if(!A)return[];var Q=QJ8(A);return Object.keys(Q.reduce(BJ8,{}))}function GJ8(A){return function(Q){return A&&A.indexOf(Q)!==-1}}function pLA(A,Q){for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B))Q[B]=A[B]}function wU(A,Q){var B=A.prototype;if(!(B instanceof Q)){let Z=function(){};var G=Z;Z.prototype=Q.prototype,Z=new Z,pLA(B,Z),A.prototype=B=Z}if(B.constructor!=A){if(typeof A!="function")console.error("unknown Class:"+A);B.constructor=A}}var NU={},ZT=NU.ELEMENT_NODE=1,jYA=NU.ATTRIBUTE_NODE=2,v01=NU.TEXT_NODE=3,ynB=NU.CDATA_SECTION_NODE=4,vnB=NU.ENTITY_REFERENCE_NODE=5,ZJ8=NU.ENTITY_NODE=6,knB=NU.PROCESSING_INSTRUCTION_NODE=7,fnB=NU.COMMENT_NODE=8,bnB=NU.DOCUMENT_NODE=9,hnB=NU.DOCUMENT_TYPE_NODE=10,eb=NU.DOCUMENT_FRAGMENT_NODE=11,YJ8=NU.NOTATION_NODE=12,FH={},RV={},oEG=FH.INDEX_SIZE_ERR=(RV[1]="Index size error",1),rEG=FH.DOMSTRING_SIZE_ERR=(RV[2]="DOMString size error",2),$U=FH.HIERARCHY_REQUEST_ERR=(RV[3]="Hierarchy request error",3),sEG=FH.WRONG_DOCUMENT_ERR=(RV[4]="Wrong document",4),tEG=FH.INVALID_CHARACTER_ERR=(RV[5]="Invalid character",5),eEG=FH.NO_DATA_ALLOWED_ERR=(RV[6]="No data allowed",6),ADG=FH.NO_MODIFICATION_ALLOWED_ERR=(RV[7]="No modification allowed",7),gnB=FH.NOT_FOUND_ERR=(RV[8]="Not found",8),QDG=FH.NOT_SUPPORTED_ERR=(RV[9]="Not supported",9),RnB=FH.INUSE_ATTRIBUTE_ERR=(RV[10]="Attribute in use",10),BDG=FH.INVALID_STATE_ERR=(RV[11]="Invalid state",11),GDG=FH.SYNTAX_ERR=(RV[12]="Syntax error",12),ZDG=FH.INVALID_MODIFICATION_ERR=(RV[13]="Invalid modification",13),YDG=FH.NAMESPACE_ERR=(RV[14]="Invalid namespace",14),JDG=FH.INVALID_ACCESS_ERR=(RV[15]="Invalid access",15);function VX(A,Q){if(Q instanceof Error)var B=Q;else if(B=this,Error.call(this,RV[A]),this.message=RV[A],Error.captureStackTrace)Error.captureStackTrace(this,VX);if(B.code=A,Q)this.message=this.message+": "+Q;return B}VX.prototype=Error.prototype;pLA(FH,VX);function tb(){}tb.prototype={length:0,item:function(A){return A>=0&&A<this.length?this[A]:null},toString:function(A,Q){for(var B=[],G=0;G<this.length;G++)TYA(this[G],B,A,Q);return B.join("")},filter:function(A){return Array.prototype.filter.call(this,A)},indexOf:function(A){return Array.prototype.indexOf.call(this,A)}};function PYA(A,Q){this._node=A,this._refresh=Q,kA0(this)}function kA0(A){var Q=A._node._inc||A._node.ownerDocument._inc;if(A._inc!==Q){var B=A._refresh(A._node);if(snB(A,"length",B.length),!A.$$length||B.length<A.$$length){for(var G=B.length;G in A;G++)if(Object.prototype.hasOwnProperty.call(A,G))delete A[G]}pLA(B,A),A._inc=Q}}PYA.prototype.item=function(A){return kA0(this),this[A]||null};wU(PYA,tb);function k01(){}function unB(A,Q){var B=A.length;while(B--)if(A[B]===Q)return B}function _nB(A,Q,B,G){if(G)Q[unB(Q,G)]=B;else Q[Q.length++]=B;if(A){B.ownerElement=A;var Z=A.ownerDocument;if(Z)G&&cnB(Z,A,G),JJ8(Z,A,B)}}function TnB(A,Q,B){var G=unB(Q,B);if(G>=0){var Z=Q.length-1;while(G<Z)Q[G]=Q[++G];if(Q.length=Z,A){var Y=A.ownerDocument;if(Y)cnB(Y,A,B),B.ownerElement=null}}else throw new VX(gnB,Error(A.tagName+"@"+B))}k01.prototype={length:0,item:tb.prototype.item,getNamedItem:function(A){var Q=this.length;while(Q--){var B=this[Q];if(B.nodeName==A)return B}},setNamedItem:function(A){var Q=A.ownerElement;if(Q&&Q!=this._ownerElement)throw new VX(RnB);var B=this.getNamedItem(A.nodeName);return _nB(this._ownerElement,this,A,B),B},setNamedItemNS:function(A){var Q=A.ownerElement,B;if(Q&&Q!=this._ownerElement)throw new VX(RnB);return B=this.getNamedItemNS(A.namespaceURI,A.localName),_nB(this._ownerElement,this,A,B),B},removeNamedItem:function(A){var Q=this.getNamedItem(A);return TnB(this._ownerElement,this,Q),Q},removeNamedItemNS:function(A,Q){var B=this.getNamedItemNS(A,Q);return TnB(this._ownerElement,this,B),B},getNamedItemNS:function(A,Q){var B=this.length;while(B--){var G=this[B];if(G.localName==Q&&G.namespaceURI==A)return G}return null}};function mnB(){}mnB.prototype={hasFeature:function(A,Q){return!0},createDocument:function(A,Q,B){var G=new lLA;if(G.implementation=this,G.childNodes=new tb,G.doctype=B||null,B)G.appendChild(B);if(Q){var Z=G.createElementNS(A,Q);G.appendChild(Z)}return G},createDocumentType:function(A,Q,B){var G=new h01;return G.name=A,G.nodeName=A,G.publicId=Q||"",G.systemId=B||"",G}};function t7(){}t7.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(A,Q){return f01(this,A,Q)},replaceChild:function(A,Q){if(f01(this,A,Q,lnB),Q)this.removeChild(Q)},removeChild:function(A){return pnB(this,A)},appendChild:function(A){return this.insertBefore(A,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(A){return vA0(this.ownerDocument||this,this,A)},normalize:function(){var A=this.firstChild;while(A){var Q=A.nextSibling;if(Q&&Q.nodeType==v01&&A.nodeType==v01)this.removeChild(Q),A.appendData(Q.data);else A.normalize(),A=Q}},isSupported:function(A,Q){return this.ownerDocument.implementation.hasFeature(A,Q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){for(var G in B)if(Object.prototype.hasOwnProperty.call(B,G)&&B[G]===A)return G}Q=Q.nodeType==jYA?Q.ownerDocument:Q.parentNode}return null},lookupNamespaceURI:function(A){var Q=this;while(Q){var B=Q._nsMap;if(B){if(Object.prototype.hasOwnProperty.call(B,A))return B[A]}Q=Q.nodeType==jYA?Q.ownerDocument:Q.parentNode}return null},isDefaultNamespace:function(A){var Q=this.lookupPrefix(A);return Q==null}};function dnB(A){return A=="<"&&"&lt;"||A==">"&&"&gt;"||A=="&"&&"&amp;"||A=='"'&&"&quot;"||"&#"+A.charCodeAt()+";"}pLA(NU,t7);pLA(NU,t7.prototype);function cLA(A,Q){if(Q(A))return!0;if(A=A.firstChild)do if(cLA(A,Q))return!0;while(A=A.nextSibling)}function lLA(){this.ownerDocument=this}function JJ8(A,Q,B){A&&A._inc++;var G=B.namespaceURI;if(G===dLA.XMLNS)Q._nsMap[B.prefix?B.localName:""]=B.value}function cnB(A,Q,B,G){A&&A._inc++;var Z=B.namespaceURI;if(Z===dLA.XMLNS)delete Q._nsMap[B.prefix?B.localName:""]}function fA0(A,Q,B){if(A&&A._inc){A._inc++;var G=Q.childNodes;if(B)G[G.length++]=B;else{var Z=Q.firstChild,Y=0;while(Z)G[Y++]=Z,Z=Z.nextSibling;G.length=Y,delete G[G.length]}}}function pnB(A,Q){var{previousSibling:B,nextSibling:G}=Q;if(B)B.nextSibling=G;else A.firstChild=G;if(G)G.previousSibling=B;else A.lastChild=B;return Q.parentNode=null,Q.previousSibling=null,Q.nextSibling=null,fA0(A.ownerDocument,A),Q}function IJ8(A){return A&&(A.nodeType===t7.DOCUMENT_NODE||A.nodeType===t7.DOCUMENT_FRAGMENT_NODE||A.nodeType===t7.ELEMENT_NODE)}function XJ8(A){return A&&(kx(A)||bA0(A)||Ah(A)||A.nodeType===t7.DOCUMENT_FRAGMENT_NODE||A.nodeType===t7.COMMENT_NODE||A.nodeType===t7.PROCESSING_INSTRUCTION_NODE)}function Ah(A){return A&&A.nodeType===t7.DOCUMENT_TYPE_NODE}function kx(A){return A&&A.nodeType===t7.ELEMENT_NODE}function bA0(A){return A&&A.nodeType===t7.TEXT_NODE}function jnB(A,Q){var B=A.childNodes||[];if(vx(B,kx)||Ah(Q))return!1;var G=vx(B,Ah);return!(Q&&G&&B.indexOf(G)>B.indexOf(Q))}function PnB(A,Q){var B=A.childNodes||[];function G(Y){return kx(Y)&&Y!==Q}if(vx(B,G))return!1;var Z=vx(B,Ah);return!(Q&&Z&&B.indexOf(Z)>B.indexOf(Q))}function WJ8(A,Q,B){if(!IJ8(A))throw new VX($U,"Unexpected parent node type "+A.nodeType);if(B&&B.parentNode!==A)throw new VX(gnB,"child not in parent");if(!XJ8(Q)||Ah(Q)&&A.nodeType!==t7.DOCUMENT_NODE)throw new VX($U,"Unexpected node type "+Q.nodeType+" for parent node type "+A.nodeType)}function KJ8(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===t7.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(kx);if(Y.length>1||vx(Z,bA0))throw new VX($U,"More than one element or text in fragment");if(Y.length===1&&!jnB(A,B))throw new VX($U,"Element in fragment can not be inserted before doctype")}if(kx(Q)){if(!jnB(A,B))throw new VX($U,"Only one element can be added and only after doctype")}if(Ah(Q)){if(vx(G,Ah))throw new VX($U,"Only one doctype is allowed");var J=vx(G,kx);if(B&&G.indexOf(J)<G.indexOf(B))throw new VX($U,"Doctype can only be inserted before an element");if(!B&&J)throw new VX($U,"Doctype can not be appended since element is present")}}function lnB(A,Q,B){var G=A.childNodes||[],Z=Q.childNodes||[];if(Q.nodeType===t7.DOCUMENT_FRAGMENT_NODE){var Y=Z.filter(kx);if(Y.length>1||vx(Z,bA0))throw new VX($U,"More than one element or text in fragment");if(Y.length===1&&!PnB(A,B))throw new VX($U,"Element in fragment can not be inserted before doctype")}if(kx(Q)){if(!PnB(A,B))throw new VX($U,"Only one element can be added and only after doctype")}if(Ah(Q)){let X=function(W){return Ah(W)&&W!==B};var I=X;if(vx(G,X))throw new VX($U,"Only one doctype is allowed");var J=vx(G,kx);if(B&&G.indexOf(J)<G.indexOf(B))throw new VX($U,"Doctype can only be inserted before an element")}}function f01(A,Q,B,G){if(WJ8(A,Q,B),A.nodeType===t7.DOCUMENT_NODE)(G||KJ8)(A,Q,B);var Z=Q.parentNode;if(Z)Z.removeChild(Q);if(Q.nodeType===eb){var Y=Q.firstChild;if(Y==null)return Q;var J=Q.lastChild}else Y=J=Q;var I=B?B.previousSibling:A.lastChild;if(Y.previousSibling=I,J.nextSibling=B,I)I.nextSibling=Y;else A.firstChild=Y;if(B==null)A.lastChild=J;else B.previousSibling=J;do Y.parentNode=A;while(Y!==J&&(Y=Y.nextSibling));if(fA0(A.ownerDocument||A,A),Q.nodeType==eb)Q.firstChild=Q.lastChild=null;return Q}function VJ8(A,Q){if(Q.parentNode)Q.parentNode.removeChild(Q);if(Q.parentNode=A,Q.previousSibling=A.lastChild,Q.nextSibling=null,Q.previousSibling)Q.previousSibling.nextSibling=Q;else A.firstChild=Q;return A.lastChild=Q,fA0(A.ownerDocument,A,Q),Q}lLA.prototype={nodeName:"#document",nodeType:bnB,doctype:null,documentElement:null,_inc:1,insertBefore:function(A,Q){if(A.nodeType==eb){var B=A.firstChild;while(B){var G=B.nextSibling;this.insertBefore(B,Q),B=G}return A}if(f01(this,A,Q),A.ownerDocument=this,this.documentElement===null&&A.nodeType===ZT)this.documentElement=A;return A},removeChild:function(A){if(this.documentElement==A)this.documentElement=null;return pnB(this,A)},replaceChild:function(A,Q){if(f01(this,A,Q,lnB),A.ownerDocument=this,Q)this.removeChild(Q);if(kx(A))this.documentElement=A},importNode:function(A,Q){return rnB(this,A,Q)},getElementById:function(A){var Q=null;return cLA(this.documentElement,function(B){if(B.nodeType==ZT){if(B.getAttribute("id")==A)return Q=B,!0}}),Q},getElementsByClassName:function(A){var Q=OnB(A);return new PYA(this,function(B){var G=[];if(Q.length>0)cLA(B.documentElement,function(Z){if(Z!==B&&Z.nodeType===ZT){var Y=Z.getAttribute("class");if(Y){var J=A===Y;if(!J){var I=OnB(Y);J=Q.every(GJ8(I))}if(J)G.push(Z)}}});return G})},createElement:function(A){var Q=new Y1A;Q.ownerDocument=this,Q.nodeName=A,Q.tagName=A,Q.localName=A,Q.childNodes=new tb;var B=Q.attributes=new k01;return B._ownerElement=Q,Q},createDocumentFragment:function(){var A=new g01;return A.ownerDocument=this,A.childNodes=new tb,A},createTextNode:function(A){var Q=new hA0;return Q.ownerDocument=this,Q.appendData(A),Q},createComment:function(A){var Q=new gA0;return Q.ownerDocument=this,Q.appendData(A),Q},createCDATASection:function(A){var Q=new uA0;return Q.ownerDocument=this,Q.appendData(A),Q},createProcessingInstruction:function(A,Q){var B=new dA0;return B.ownerDocument=this,B.tagName=B.nodeName=B.target=A,B.nodeValue=B.data=Q,B},createAttribute:function(A){var Q=new b01;return Q.ownerDocument=this,Q.name=A,Q.nodeName=A,Q.localName=A,Q.specified=!0,Q},createEntityReference:function(A){var Q=new mA0;return Q.ownerDocument=this,Q.nodeName=A,Q},createElementNS:function(A,Q){var B=new Y1A,G=Q.split(":"),Z=B.attributes=new k01;if(B.childNodes=new tb,B.ownerDocument=this,B.nodeName=Q,B.tagName=Q,B.namespaceURI=A,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return Z._ownerElement=B,B},createAttributeNS:function(A,Q){var B=new b01,G=Q.split(":");if(B.ownerDocument=this,B.nodeName=Q,B.name=Q,B.namespaceURI=A,B.specified=!0,G.length==2)B.prefix=G[0],B.localName=G[1];else B.localName=Q;return B}};wU(lLA,t7);function Y1A(){this._nsMap={}}Y1A.prototype={nodeType:ZT,hasAttribute:function(A){return this.getAttributeNode(A)!=null},getAttribute:function(A){var Q=this.getAttributeNode(A);return Q&&Q.value||""},getAttributeNode:function(A){return this.attributes.getNamedItem(A)},setAttribute:function(A,Q){var B=this.ownerDocument.createAttribute(A);B.value=B.nodeValue=""+Q,this.setAttributeNode(B)},removeAttribute:function(A){var Q=this.getAttributeNode(A);Q&&this.removeAttributeNode(Q)},appendChild:function(A){if(A.nodeType===eb)return this.insertBefore(A,null);else return VJ8(this,A)},setAttributeNode:function(A){return this.attributes.setNamedItem(A)},setAttributeNodeNS:function(A){return this.attributes.setNamedItemNS(A)},removeAttributeNode:function(A){return this.attributes.removeNamedItem(A.nodeName)},removeAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);B&&this.removeAttributeNode(B)},hasAttributeNS:function(A,Q){return this.getAttributeNodeNS(A,Q)!=null},getAttributeNS:function(A,Q){var B=this.getAttributeNodeNS(A,Q);return B&&B.value||""},setAttributeNS:function(A,Q,B){var G=this.ownerDocument.createAttributeNS(A,Q);G.value=G.nodeValue=""+B,this.setAttributeNode(G)},getAttributeNodeNS:function(A,Q){return this.attributes.getNamedItemNS(A,Q)},getElementsByTagName:function(A){return new PYA(this,function(Q){var B=[];return cLA(Q,function(G){if(G!==Q&&G.nodeType==ZT&&(A==="*"||G.tagName==A))B.push(G)}),B})},getElementsByTagNameNS:function(A,Q){return new PYA(this,function(B){var G=[];return cLA(B,function(Z){if(Z!==B&&Z.nodeType===ZT&&(A==="*"||Z.namespaceURI===A)&&(Q==="*"||Z.localName==Q))G.push(Z)}),G})}};lLA.prototype.getElementsByTagName=Y1A.prototype.getElementsByTagName;lLA.prototype.getElementsByTagNameNS=Y1A.prototype.getElementsByTagNameNS;wU(Y1A,t7);function b01(){}b01.prototype.nodeType=jYA;wU(b01,t7);function iLA(){}iLA.prototype={data:"",substringData:function(A,Q){return this.data.substring(A,A+Q)},appendData:function(A){A=this.data+A,this.nodeValue=this.data=A,this.length=A.length},insertData:function(A,Q){this.replaceData(A,0,Q)},appendChild:function(A){throw Error(RV[$U])},deleteData:function(A,Q){this.replaceData(A,Q,"")},replaceData:function(A,Q,B){var G=this.data.substring(0,A),Z=this.data.substring(A+Q);B=G+B+Z,this.nodeValue=this.data=B,this.length=B.length}};wU(iLA,t7);function hA0(){}hA0.prototype={nodeName:"#text",nodeType:v01,splitText:function(A){var Q=this.data,B=Q.substring(A);Q=Q.substring(0,A),this.data=this.nodeValue=Q,this.length=Q.length;var G=this.ownerDocument.createTextNode(B);if(this.parentNode)this.parentNode.insertBefore(G,this.nextSibling);return G}};wU(hA0,iLA);function gA0(){}gA0.prototype={nodeName:"#comment",nodeType:fnB};wU(gA0,iLA);function uA0(){}uA0.prototype={nodeName:"#cdata-section",nodeType:ynB};wU(uA0,iLA);function h01(){}h01.prototype.nodeType=hnB;wU(h01,t7);function inB(){}inB.prototype.nodeType=YJ8;wU(inB,t7);function nnB(){}nnB.prototype.nodeType=ZJ8;wU(nnB,t7);function mA0(){}mA0.prototype.nodeType=vnB;wU(mA0,t7);function g01(){}g01.prototype.nodeName="#document-fragment";g01.prototype.nodeType=eb;wU(g01,t7);function dA0(){}dA0.prototype.nodeType=knB;wU(dA0,t7);function anB(){}anB.prototype.serializeToString=function(A,Q,B){return onB.call(A,Q,B)};t7.prototype.toString=onB;function onB(A,Q){var B=[],G=this.nodeType==9&&this.documentElement||this,Z=G.prefix,Y=G.namespaceURI;if(Y&&Z==null){var Z=G.lookupPrefix(Y);if(Z==null)var J=[{namespace:Y,prefix:null}]}return TYA(this,B,A,Q,J),B.join("")}function SnB(A,Q,B){var G=A.prefix||"",Z=A.namespaceURI;if(!Z)return!1;if(G==="xml"&&Z===dLA.XML||Z===dLA.XMLNS)return!1;var Y=B.length;while(Y--){var J=B[Y];if(J.prefix===G)return J.namespace!==Z}return!0}function yA0(A,Q,B){A.push(" ",Q,'="',B.replace(/[<>&"\t\n\r]/g,dnB),'"')}function TYA(A,Q,B,G,Z){if(!Z)Z=[];if(G)if(A=G(A),A){if(typeof A=="string"){Q.push(A);return}}else return;switch(A.nodeType){case ZT:var Y=A.attributes,J=Y.length,U=A.firstChild,I=A.tagName;B=dLA.isHTML(A.namespaceURI)||B;var X=I;if(!B&&!A.prefix&&A.namespaceURI){var W;for(var K=0;K<Y.length;K++)if(Y.item(K).name==="xmlns"){W=Y.item(K).value;break}if(!W)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.prefix===""&&E.namespace===A.namespaceURI){W=E.namespace;break}}if(W!==A.namespaceURI)for(var V=Z.length-1;V>=0;V--){var E=Z[V];if(E.namespace===A.namespaceURI){if(E.prefix)X=E.prefix+":"+I;break}}}Q.push("<",X);for(var D=0;D<J;D++){var H=Y.item(D);if(H.prefix=="xmlns")Z.push({prefix:H.localName,namespace:H.value});else if(H.nodeName=="xmlns")Z.push({prefix:"",namespace:H.value})}for(var D=0;D<J;D++){var H=Y.item(D);if(SnB(H,B,Z)){var F=H.prefix||"",C=H.namespaceURI;yA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}TYA(H,Q,B,G,Z)}if(I===X&&SnB(A,B,Z)){var F=A.prefix||"",C=A.namespaceURI;yA0(Q,F?"xmlns:"+F:"xmlns",C),Z.push({prefix:F,namespace:C})}if(U||B&&!/^(?:meta|link|img|br|hr|input)$/i.test(I)){if(Q.push(">"),B&&/^script$/i.test(I))while(U){if(U.data)Q.push(U.data);else TYA(U,Q,B,G,Z.slice());U=U.nextSibling}else while(U)TYA(U,Q,B,G,Z.slice()),U=U.nextSibling;Q.push("</",X,">")}else Q.push("/>");return;case bnB:case eb:var U=A.firstChild;while(U)TYA(U,Q,B,G,Z.slice()),U=U.nextSibling;return;case jYA:return yA0(Q,A.name,A.value);case v01:return Q.push(A.data.replace(/[<&>]/g,dnB));case ynB:return Q.push("<![CDATA[",A.data,"]]>");case fnB:return Q.push("<!--",A.data,"-->");case hnB:var{publicId:O,systemId:q}=A;if(Q.push("<!DOCTYPE ",A.name),O){if(Q.push(" PUBLIC ",O),q&&q!=".")Q.push(" ",q);Q.push(">")}else if(q&&q!=".")Q.push(" SYSTEM ",q,">");else{var M=A.internalSubset;if(M)Q.push(" [",M,"]");Q.push(">")}return;case knB:return Q.push("<?",A.target," ",A.data,"?>");case vnB:return Q.push("&",A.nodeName,";");default:Q.push("??",A.nodeName)}}function rnB(A,Q,B){var G;switch(Q.nodeType){case ZT:G=Q.cloneNode(!1),G.ownerDocument=A;case eb:break;case jYA:B=!0;break}if(!G)G=Q.cloneNode(!1);if(G.ownerDocument=A,G.parentNode=null,B){var Z=Q.firstChild;while(Z)G.appendChild(rnB(A,Z,B)),Z=Z.nextSibling}return G}function vA0(A,Q,B){var G=new Q.constructor;for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z)){var Y=Q[Z];if(typeof Y!="object"){if(Y!=G[Z])G[Z]=Y}}if(Q.childNodes)G.childNodes=new tb;switch(G.ownerDocument=A,G.nodeType){case ZT:var J=Q.attributes,I=G.attributes=new k01,X=J.length;I._ownerElement=G;for(var W=0;W<X;W++)G.setAttributeNode(vA0(A,J.item(W),!0));break;case jYA:B=!0}if(B){var K=Q.firstChild;while(K)G.appendChild(vA0(A,K,B)),K=K.nextSibling}return G}function snB(A,Q,B){A[Q]=B}try{if(Object.defineProperty){let A=function(Q){switch(Q.nodeType){case ZT:case eb:var B=[];Q=Q.firstChild;while(Q){if(Q.nodeType!==7&&Q.nodeType!==8)B.push(A(Q));Q=Q.nextSibling}return B.join("");default:return Q.nodeValue}};EJ8=A,Object.defineProperty(PYA.prototype,"length",{get:function(){return kA0(this),this.$$length}}),Object.defineProperty(t7.prototype,"textContent",{get:function(){return A(this)},set:function(Q){switch(this.nodeType){case ZT:case eb:while(this.firstChild)this.removeChild(this.firstChild);if(Q||String(Q))this.appendChild(this.ownerDocument.createTextNode(Q));break;default:this.data=Q,this.value=Q,this.nodeValue=Q}}}),snB=function(Q,B,G){Q["$$"+B]=G}}}catch(A){}var EJ8;DJ8.DocumentType=h01;DJ8.DOMException=VX;DJ8.DOMImplementation=mnB;DJ8.Element=Y1A;DJ8.Node=t7;DJ8.NodeList=tb;DJ8.XMLSerializer=anB});var AaB=w((NJ8)=>{var tnB=mLA().freeze;NJ8.XML_ENTITIES=tnB({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});NJ8.HTML_ENTITIES=tnB({Aacute:"√Å",aacute:"√°",Abreve:"ƒÇ",abreve:"ƒÉ",ac:"‚àæ",acd:"‚àø",acE:"‚àæÃ≥",Acirc:"√Ç",acirc:"√¢",acute:"¬¥",Acy:"–ê",acy:"–∞",AElig:"√Ü",aelig:"√¶",af:"‚Å°",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"√Ä",agrave:"√†",alefsym:"‚Ñµ",aleph:"‚Ñµ",Alpha:"Œë",alpha:"Œ±",Amacr:"ƒÄ",amacr:"ƒÅ",amalg:"‚®ø",AMP:"&",amp:"&",And:"‚©ì",and:"‚àß",andand:"‚©ï",andd:"‚©ú",andslope:"‚©ò",andv:"‚©ö",ang:"‚à†",ange:"‚¶§",angle:"‚à†",angmsd:"‚à°",angmsdaa:"‚¶®",angmsdab:"‚¶©",angmsdac:"‚¶™",angmsdad:"‚¶´",angmsdae:"‚¶¨",angmsdaf:"‚¶≠",angmsdag:"‚¶Æ",angmsdah:"‚¶Ø",angrt:"‚àü",angrtvb:"‚äæ",angrtvbd:"‚¶ù",angsph:"‚à¢",angst:"√Ö",angzarr:"‚çº",Aogon:"ƒÑ",aogon:"ƒÖ",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"‚âà",apacir:"‚©Ø",apE:"‚©∞",ape:"‚âä",apid:"‚âã",apos:"'",ApplyFunction:"‚Å°",approx:"‚âà",approxeq:"‚âä",Aring:"√Ö",aring:"√•",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"‚âî",ast:"*",asymp:"‚âà",asympeq:"‚âç",Atilde:"√É",atilde:"√£",Auml:"√Ñ",auml:"√§",awconint:"‚à≥",awint:"‚®ë",backcong:"‚âå",backepsilon:"œ∂",backprime:"‚Äµ",backsim:"‚àΩ",backsimeq:"‚ãç",Backslash:"‚àñ",Barv:"‚´ß",barvee:"‚äΩ",Barwed:"‚åÜ",barwed:"‚åÖ",barwedge:"‚åÖ",bbrk:"‚éµ",bbrktbrk:"‚é∂",bcong:"‚âå",Bcy:"–ë",bcy:"–±",bdquo:"‚Äû",becaus:"‚àµ",Because:"‚àµ",because:"‚àµ",bemptyv:"‚¶∞",bepsi:"œ∂",bernou:"‚Ñ¨",Bernoullis:"‚Ñ¨",Beta:"Œí",beta:"Œ≤",beth:"‚Ñ∂",between:"‚â¨",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"‚ãÇ",bigcirc:"‚óØ",bigcup:"‚ãÉ",bigodot:"‚®Ä",bigoplus:"‚®Å",bigotimes:"‚®Ç",bigsqcup:"‚®Ü",bigstar:"‚òÖ",bigtriangledown:"‚ñΩ",bigtriangleup:"‚ñ≥",biguplus:"‚®Ñ",bigvee:"‚ãÅ",bigwedge:"‚ãÄ",bkarow:"‚§ç",blacklozenge:"‚ß´",blacksquare:"‚ñ™",blacktriangle:"‚ñ¥",blacktriangledown:"‚ñæ",blacktriangleleft:"‚óÇ",blacktriangleright:"‚ñ∏",blank:"‚ê£",blk12:"‚ñí",blk14:"‚ñë",blk34:"‚ñì",block:"‚ñà",bne:"=‚É•",bnequiv:"‚â°‚É•",bNot:"‚´≠",bnot:"‚åê",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"‚ä•",bottom:"‚ä•",bowtie:"‚ãà",boxbox:"‚ßâ",boxDL:"‚ïó",boxDl:"‚ïñ",boxdL:"‚ïï",boxdl:"‚îê",boxDR:"‚ïî",boxDr:"‚ïì",boxdR:"‚ïí",boxdr:"‚îå",boxH:"‚ïê",boxh:"‚îÄ",boxHD:"‚ï¶",boxHd:"‚ï§",boxhD:"‚ï•",boxhd:"‚î¨",boxHU:"‚ï©",boxHu:"‚ïß",boxhU:"‚ï®",boxhu:"‚î¥",boxminus:"‚äü",boxplus:"‚äû",boxtimes:"‚ä†",boxUL:"‚ïù",boxUl:"‚ïú",boxuL:"‚ïõ",boxul:"‚îò",boxUR:"‚ïö",boxUr:"‚ïô",boxuR:"‚ïò",boxur:"‚îî",boxV:"‚ïë",boxv:"‚îÇ",boxVH:"‚ï¨",boxVh:"‚ï´",boxvH:"‚ï™",boxvh:"‚îº",boxVL:"‚ï£",boxVl:"‚ï¢",boxvL:"‚ï°",boxvl:"‚î§",boxVR:"‚ï†",boxVr:"‚ïü",boxvR:"‚ïû",boxvr:"‚îú",bprime:"‚Äµ",Breve:"Àò",breve:"Àò",brvbar:"¬¶",Bscr:"‚Ñ¨",bscr:"\uD835\uDCB7",bsemi:"‚Åè",bsim:"‚àΩ",bsime:"‚ãç",bsol:"\\",bsolb:"‚ßÖ",bsolhsub:"‚üà",bull:"‚Ä¢",bullet:"‚Ä¢",bump:"‚âé",bumpE:"‚™Æ",bumpe:"‚âè",Bumpeq:"‚âé",bumpeq:"‚âè",Cacute:"ƒÜ",cacute:"ƒá",Cap:"‚ãí",cap:"‚à©",capand:"‚©Ñ",capbrcup:"‚©â",capcap:"‚©ã",capcup:"‚©á",capdot:"‚©Ä",CapitalDifferentialD:"‚ÖÖ",caps:"‚à©Ô∏Ä",caret:"‚ÅÅ",caron:"Àá",Cayleys:"‚Ñ≠",ccaps:"‚©ç",Ccaron:"ƒå",ccaron:"ƒç",Ccedil:"√á",ccedil:"√ß",Ccirc:"ƒà",ccirc:"ƒâ",Cconint:"‚à∞",ccups:"‚©å",ccupssm:"‚©ê",Cdot:"ƒä",cdot:"ƒã",cedil:"¬∏",Cedilla:"¬∏",cemptyv:"‚¶≤",cent:"¬¢",CenterDot:"¬∑",centerdot:"¬∑",Cfr:"‚Ñ≠",cfr:"\uD835\uDD20",CHcy:"–ß",chcy:"—á",check:"‚úì",checkmark:"‚úì",Chi:"Œß",chi:"œá",cir:"‚óã",circ:"ÀÜ",circeq:"‚âó",circlearrowleft:"‚Ü∫",circlearrowright:"‚Üª",circledast:"‚äõ",circledcirc:"‚äö",circleddash:"‚äù",CircleDot:"‚äô",circledR:"¬Æ",circledS:"‚ìà",CircleMinus:"‚äñ",CirclePlus:"‚äï",CircleTimes:"‚äó",cirE:"‚ßÉ",cire:"‚âó",cirfnint:"‚®ê",cirmid:"‚´Ø",cirscir:"‚ßÇ",ClockwiseContourIntegral:"‚à≤",CloseCurlyDoubleQuote:"‚Äù",CloseCurlyQuote:"‚Äô",clubs:"‚ô£",clubsuit:"‚ô£",Colon:"‚à∑",colon:":",Colone:"‚©¥",colone:"‚âî",coloneq:"‚âî",comma:",",commat:"@",comp:"‚àÅ",compfn:"‚àò",complement:"‚àÅ",complexes:"‚ÑÇ",cong:"‚âÖ",congdot:"‚©≠",Congruent:"‚â°",Conint:"‚àØ",conint:"‚àÆ",ContourIntegral:"‚àÆ",Copf:"‚ÑÇ",copf:"\uD835\uDD54",coprod:"‚àê",Coproduct:"‚àê",COPY:"¬©",copy:"¬©",copysr:"‚Ñó",CounterClockwiseContourIntegral:"‚à≥",crarr:"‚Üµ",Cross:"‚®Ø",cross:"‚úó",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"‚´è",csube:"‚´ë",csup:"‚´ê",csupe:"‚´í",ctdot:"‚ãØ",cudarrl:"‚§∏",cudarrr:"‚§µ",cuepr:"‚ãû",cuesc:"‚ãü",cularr:"‚Ü∂",cularrp:"‚§Ω",Cup:"‚ãì",cup:"‚à™",cupbrcap:"‚©à",CupCap:"‚âç",cupcap:"‚©Ü",cupcup:"‚©ä",cupdot:"‚äç",cupor:"‚©Ö",cups:"‚à™Ô∏Ä",curarr:"‚Ü∑",curarrm:"‚§º",curlyeqprec:"‚ãû",curlyeqsucc:"‚ãü",curlyvee:"‚ãé",curlywedge:"‚ãè",curren:"¬§",curvearrowleft:"‚Ü∂",curvearrowright:"‚Ü∑",cuvee:"‚ãé",cuwed:"‚ãè",cwconint:"‚à≤",cwint:"‚à±",cylcty:"‚å≠",Dagger:"‚Ä°",dagger:"‚Ä†",daleth:"‚Ñ∏",Darr:"‚Ü°",dArr:"‚áì",darr:"‚Üì",dash:"‚Äê",Dashv:"‚´§",dashv:"‚ä£",dbkarow:"‚§è",dblac:"Àù",Dcaron:"ƒé",dcaron:"ƒè",Dcy:"–î",dcy:"–¥",DD:"‚ÖÖ",dd:"‚ÖÜ",ddagger:"‚Ä°",ddarr:"‚áä",DDotrahd:"‚§ë",ddotseq:"‚©∑",deg:"¬∞",Del:"‚àá",Delta:"Œî",delta:"Œ¥",demptyv:"‚¶±",dfisht:"‚•ø",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"‚••",dharl:"‚áÉ",dharr:"‚áÇ",DiacriticalAcute:"¬¥",DiacriticalDot:"Àô",DiacriticalDoubleAcute:"Àù",DiacriticalGrave:"`",DiacriticalTilde:"Àú",diam:"‚ãÑ",Diamond:"‚ãÑ",diamond:"‚ãÑ",diamondsuit:"‚ô¶",diams:"‚ô¶",die:"¬®",DifferentialD:"‚ÖÜ",digamma:"œù",disin:"‚ã≤",div:"√∑",divide:"√∑",divideontimes:"‚ãá",divonx:"‚ãá",DJcy:"–Ç",djcy:"—í",dlcorn:"‚åû",dlcrop:"‚åç",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"¬®",dot:"Àô",DotDot:"‚Éú",doteq:"‚âê",doteqdot:"‚âë",DotEqual:"‚âê",dotminus:"‚à∏",dotplus:"‚àî",dotsquare:"‚ä°",doublebarwedge:"‚åÜ",DoubleContourIntegral:"‚àØ",DoubleDot:"¬®",DoubleDownArrow:"‚áì",DoubleLeftArrow:"‚áê",DoubleLeftRightArrow:"‚áî",DoubleLeftTee:"‚´§",DoubleLongLeftArrow:"‚ü∏",DoubleLongLeftRightArrow:"‚ü∫",DoubleLongRightArrow:"‚üπ",DoubleRightArrow:"‚áí",DoubleRightTee:"‚ä®",DoubleUpArrow:"‚áë",DoubleUpDownArrow:"‚áï",DoubleVerticalBar:"‚à•",DownArrow:"‚Üì",Downarrow:"‚áì",downarrow:"‚Üì",DownArrowBar:"‚§ì",DownArrowUpArrow:"‚áµ",DownBreve:"Ãë",downdownarrows:"‚áä",downharpoonleft:"‚áÉ",downharpoonright:"‚áÇ",DownLeftRightVector:"‚•ê",DownLeftTeeVector:"‚•û",DownLeftVector:"‚ÜΩ",DownLeftVectorBar:"‚•ñ",DownRightTeeVector:"‚•ü",DownRightVector:"‚áÅ",DownRightVectorBar:"‚•ó",DownTee:"‚ä§",DownTeeArrow:"‚Üß",drbkarow:"‚§ê",drcorn:"‚åü",drcrop:"‚åå",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"–Ö",dscy:"—ï",dsol:"‚ß∂",Dstrok:"ƒê",dstrok:"ƒë",dtdot:"‚ã±",dtri:"‚ñø",dtrif:"‚ñæ",duarr:"‚áµ",duhar:"‚•Ø",dwangle:"‚¶¶",DZcy:"–è",dzcy:"—ü",dzigrarr:"‚üø",Eacute:"√â",eacute:"√©",easter:"‚©Æ",Ecaron:"ƒö",ecaron:"ƒõ",ecir:"‚âñ",Ecirc:"√ä",ecirc:"√™",ecolon:"‚âï",Ecy:"–≠",ecy:"—ç",eDDot:"‚©∑",Edot:"ƒñ",eDot:"‚âë",edot:"ƒó",ee:"‚Öá",efDot:"‚âí",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"‚™ö",Egrave:"√à",egrave:"√®",egs:"‚™ñ",egsdot:"‚™ò",el:"‚™ô",Element:"‚àà",elinters:"‚èß",ell:"‚Ñì",els:"‚™ï",elsdot:"‚™ó",Emacr:"ƒí",emacr:"ƒì",empty:"‚àÖ",emptyset:"‚àÖ",EmptySmallSquare:"‚óª",emptyv:"‚àÖ",EmptyVerySmallSquare:"‚ñ´",emsp:"‚ÄÉ",emsp13:"‚ÄÑ",emsp14:"‚ÄÖ",ENG:"≈ä",eng:"≈ã",ensp:"‚ÄÇ",Eogon:"ƒò",eogon:"ƒô",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"‚ãï",eparsl:"‚ß£",eplus:"‚©±",epsi:"Œµ",Epsilon:"Œï",epsilon:"Œµ",epsiv:"œµ",eqcirc:"‚âñ",eqcolon:"‚âï",eqsim:"‚âÇ",eqslantgtr:"‚™ñ",eqslantless:"‚™ï",Equal:"‚©µ",equals:"=",EqualTilde:"‚âÇ",equest:"‚âü",Equilibrium:"‚áå",equiv:"‚â°",equivDD:"‚©∏",eqvparsl:"‚ß•",erarr:"‚•±",erDot:"‚âì",Escr:"‚Ñ∞",escr:"‚ÑØ",esdot:"‚âê",Esim:"‚©≥",esim:"‚âÇ",Eta:"Œó",eta:"Œ∑",ETH:"√ê",eth:"√∞",Euml:"√ã",euml:"√´",euro:"‚Ç¨",excl:"!",exist:"‚àÉ",Exists:"‚àÉ",expectation:"‚Ñ∞",ExponentialE:"‚Öá",exponentiale:"‚Öá",fallingdotseq:"‚âí",Fcy:"–§",fcy:"—Ñ",female:"‚ôÄ",ffilig:"Ô¨É",fflig:"Ô¨Ä",ffllig:"Ô¨Ñ",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"Ô¨Å",FilledSmallSquare:"‚óº",FilledVerySmallSquare:"‚ñ™",fjlig:"fj",flat:"‚ô≠",fllig:"Ô¨Ç",fltns:"‚ñ±",fnof:"∆í",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"‚àÄ",forall:"‚àÄ",fork:"‚ãî",forkv:"‚´ô",Fouriertrf:"‚Ñ±",fpartint:"‚®ç",frac12:"¬Ω",frac13:"‚Öì",frac14:"¬º",frac15:"‚Öï",frac16:"‚Öô",frac18:"‚Öõ",frac23:"‚Öî",frac25:"‚Öñ",frac34:"¬æ",frac35:"‚Öó",frac38:"‚Öú",frac45:"‚Öò",frac56:"‚Öö",frac58:"‚Öù",frac78:"‚Öû",frasl:"‚ÅÑ",frown:"‚å¢",Fscr:"‚Ñ±",fscr:"\uD835\uDCBB",gacute:"«µ",Gamma:"Œì",gamma:"Œ≥",Gammad:"œú",gammad:"œù",gap:"‚™Ü",Gbreve:"ƒû",gbreve:"ƒü",Gcedil:"ƒ¢",Gcirc:"ƒú",gcirc:"ƒù",Gcy:"–ì",gcy:"–≥",Gdot:"ƒ†",gdot:"ƒ°",gE:"‚âß",ge:"‚â•",gEl:"‚™å",gel:"‚ãõ",geq:"‚â•",geqq:"‚âß",geqslant:"‚©æ",ges:"‚©æ",gescc:"‚™©",gesdot:"‚™Ä",gesdoto:"‚™Ç",gesdotol:"‚™Ñ",gesl:"‚ãõÔ∏Ä",gesles:"‚™î",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"‚ãô",gg:"‚â´",ggg:"‚ãô",gimel:"‚Ñ∑",GJcy:"–É",gjcy:"—ì",gl:"‚â∑",gla:"‚™•",glE:"‚™í",glj:"‚™§",gnap:"‚™ä",gnapprox:"‚™ä",gnE:"‚â©",gne:"‚™à",gneq:"‚™à",gneqq:"‚â©",gnsim:"‚ãß",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"‚â•",GreaterEqualLess:"‚ãõ",GreaterFullEqual:"‚âß",GreaterGreater:"‚™¢",GreaterLess:"‚â∑",GreaterSlantEqual:"‚©æ",GreaterTilde:"‚â≥",Gscr:"\uD835\uDCA2",gscr:"‚Ñä",gsim:"‚â≥",gsime:"‚™é",gsiml:"‚™ê",Gt:"‚â´",GT:">",gt:">",gtcc:"‚™ß",gtcir:"‚©∫",gtdot:"‚ãó",gtlPar:"‚¶ï",gtquest:"‚©º",gtrapprox:"‚™Ü",gtrarr:"‚•∏",gtrdot:"‚ãó",gtreqless:"‚ãõ",gtreqqless:"‚™å",gtrless:"‚â∑",gtrsim:"‚â≥",gvertneqq:"‚â©Ô∏Ä",gvnE:"‚â©Ô∏Ä",Hacek:"Àá",hairsp:"‚Ää",half:"¬Ω",hamilt:"‚Ñã",HARDcy:"–™",hardcy:"—ä",hArr:"‚áî",harr:"‚Üî",harrcir:"‚•à",harrw:"‚Ü≠",Hat:"^",hbar:"‚Ñè",Hcirc:"ƒ§",hcirc:"ƒ•",hearts:"‚ô•",heartsuit:"‚ô•",hellip:"‚Ä¶",hercon:"‚äπ",Hfr:"‚Ñå",hfr:"\uD835\uDD25",HilbertSpace:"‚Ñã",hksearow:"‚§•",hkswarow:"‚§¶",hoarr:"‚áø",homtht:"‚àª",hookleftarrow:"‚Ü©",hookrightarrow:"‚Ü™",Hopf:"‚Ñç",hopf:"\uD835\uDD59",horbar:"‚Äï",HorizontalLine:"‚îÄ",Hscr:"‚Ñã",hscr:"\uD835\uDCBD",hslash:"‚Ñè",Hstrok:"ƒ¶",hstrok:"ƒß",HumpDownHump:"‚âé",HumpEqual:"‚âè",hybull:"‚ÅÉ",hyphen:"‚Äê",Iacute:"√ç",iacute:"√≠",ic:"‚Å£",Icirc:"√é",icirc:"√Æ",Icy:"–ò",icy:"–∏",Idot:"ƒ∞",IEcy:"–ï",iecy:"–µ",iexcl:"¬°",iff:"‚áî",Ifr:"‚Ñë",ifr:"\uD835\uDD26",Igrave:"√å",igrave:"√¨",ii:"‚Öà",iiiint:"‚®å",iiint:"‚à≠",iinfin:"‚ßú",iiota:"‚Ñ©",IJlig:"ƒ≤",ijlig:"ƒ≥",Im:"‚Ñë",Imacr:"ƒ™",imacr:"ƒ´",image:"‚Ñë",ImaginaryI:"‚Öà",imagline:"‚Ñê",imagpart:"‚Ñë",imath:"ƒ±",imof:"‚ä∑",imped:"∆µ",Implies:"‚áí",in:"‚àà",incare:"‚ÑÖ",infin:"‚àû",infintie:"‚ßù",inodot:"ƒ±",Int:"‚à¨",int:"‚à´",intcal:"‚ä∫",integers:"‚Ñ§",Integral:"‚à´",intercal:"‚ä∫",Intersection:"‚ãÇ",intlarhk:"‚®ó",intprod:"‚®º",InvisibleComma:"‚Å£",InvisibleTimes:"‚Å¢",IOcy:"–Å",iocy:"—ë",Iogon:"ƒÆ",iogon:"ƒØ",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"Œô",iota:"Œπ",iprod:"‚®º",iquest:"¬ø",Iscr:"‚Ñê",iscr:"\uD835\uDCBE",isin:"‚àà",isindot:"‚ãµ",isinE:"‚ãπ",isins:"‚ã¥",isinsv:"‚ã≥",isinv:"‚àà",it:"‚Å¢",Itilde:"ƒ®",itilde:"ƒ©",Iukcy:"–Ü",iukcy:"—ñ",Iuml:"√è",iuml:"√Ø",Jcirc:"ƒ¥",jcirc:"ƒµ",Jcy:"–ô",jcy:"–π",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"»∑",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"–à",jsercy:"—ò",Jukcy:"–Ñ",jukcy:"—î",Kappa:"Œö",kappa:"Œ∫",kappav:"œ∞",Kcedil:"ƒ∂",kcedil:"ƒ∑",Kcy:"–ö",kcy:"–∫",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"ƒ∏",KHcy:"–•",khcy:"—Ö",KJcy:"–å",kjcy:"—ú",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"‚áö",Lacute:"ƒπ",lacute:"ƒ∫",laemptyv:"‚¶¥",lagran:"‚Ñí",Lambda:"Œõ",lambda:"Œª",Lang:"‚ü™",lang:"‚ü®",langd:"‚¶ë",langle:"‚ü®",lap:"‚™Ö",Laplacetrf:"‚Ñí",laquo:"¬´",Larr:"‚Üû",lArr:"‚áê",larr:"‚Üê",larrb:"‚á§",larrbfs:"‚§ü",larrfs:"‚§ù",larrhk:"‚Ü©",larrlp:"‚Ü´",larrpl:"‚§π",larrsim:"‚•≥",larrtl:"‚Ü¢",lat:"‚™´",lAtail:"‚§õ",latail:"‚§ô",late:"‚™≠",lates:"‚™≠Ô∏Ä",lBarr:"‚§é",lbarr:"‚§å",lbbrk:"‚ù≤",lbrace:"{",lbrack:"[",lbrke:"‚¶ã",lbrksld:"‚¶è",lbrkslu:"‚¶ç",Lcaron:"ƒΩ",lcaron:"ƒæ",Lcedil:"ƒª",lcedil:"ƒº",lceil:"‚åà",lcub:"{",Lcy:"–õ",lcy:"–ª",ldca:"‚§∂",ldquo:"‚Äú",ldquor:"‚Äû",ldrdhar:"‚•ß",ldrushar:"‚•ã",ldsh:"‚Ü≤",lE:"‚â¶",le:"‚â§",LeftAngleBracket:"‚ü®",LeftArrow:"‚Üê",Leftarrow:"‚áê",leftarrow:"‚Üê",LeftArrowBar:"‚á§",LeftArrowRightArrow:"‚áÜ",leftarrowtail:"‚Ü¢",LeftCeiling:"‚åà",LeftDoubleBracket:"‚ü¶",LeftDownTeeVector:"‚•°",LeftDownVector:"‚áÉ",LeftDownVectorBar:"‚•ô",LeftFloor:"‚åä",leftharpoondown:"‚ÜΩ",leftharpoonup:"‚Üº",leftleftarrows:"‚áá",LeftRightArrow:"‚Üî",Leftrightarrow:"‚áî",leftrightarrow:"‚Üî",leftrightarrows:"‚áÜ",leftrightharpoons:"‚áã",leftrightsquigarrow:"‚Ü≠",LeftRightVector:"‚•é",LeftTee:"‚ä£",LeftTeeArrow:"‚Ü§",LeftTeeVector:"‚•ö",leftthreetimes:"‚ãã",LeftTriangle:"‚ä≤",LeftTriangleBar:"‚ßè",LeftTriangleEqual:"‚ä¥",LeftUpDownVector:"‚•ë",LeftUpTeeVector:"‚•†",LeftUpVector:"‚Üø",LeftUpVectorBar:"‚•ò",LeftVector:"‚Üº",LeftVectorBar:"‚•í",lEg:"‚™ã",leg:"‚ãö",leq:"‚â§",leqq:"‚â¶",leqslant:"‚©Ω",les:"‚©Ω",lescc:"‚™®",lesdot:"‚©ø",lesdoto:"‚™Å",lesdotor:"‚™É",lesg:"‚ãöÔ∏Ä",lesges:"‚™ì",lessapprox:"‚™Ö",lessdot:"‚ãñ",lesseqgtr:"‚ãö",lesseqqgtr:"‚™ã",LessEqualGreater:"‚ãö",LessFullEqual:"‚â¶",LessGreater:"‚â∂",lessgtr:"‚â∂",LessLess:"‚™°",lesssim:"‚â≤",LessSlantEqual:"‚©Ω",LessTilde:"‚â≤",lfisht:"‚•º",lfloor:"‚åä",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"‚â∂",lgE:"‚™ë",lHar:"‚•¢",lhard:"‚ÜΩ",lharu:"‚Üº",lharul:"‚•™",lhblk:"‚ñÑ",LJcy:"–â",ljcy:"—ô",Ll:"‚ãò",ll:"‚â™",llarr:"‚áá",llcorner:"‚åû",Lleftarrow:"‚áö",llhard:"‚•´",lltri:"‚ó∫",Lmidot:"ƒø",lmidot:"≈Ä",lmoust:"‚é∞",lmoustache:"‚é∞",lnap:"‚™â",lnapprox:"‚™â",lnE:"‚â®",lne:"‚™á",lneq:"‚™á",lneqq:"‚â®",lnsim:"‚ã¶",loang:"‚ü¨",loarr:"‚áΩ",lobrk:"‚ü¶",LongLeftArrow:"‚üµ",Longleftarrow:"‚ü∏",longleftarrow:"‚üµ",LongLeftRightArrow:"‚ü∑",Longleftrightarrow:"‚ü∫",longleftrightarrow:"‚ü∑",longmapsto:"‚üº",LongRightArrow:"‚ü∂",Longrightarrow:"‚üπ",longrightarrow:"‚ü∂",looparrowleft:"‚Ü´",looparrowright:"‚Ü¨",lopar:"‚¶Ö",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"‚®≠",lotimes:"‚®¥",lowast:"‚àó",lowbar:"_",LowerLeftArrow:"‚Üô",LowerRightArrow:"‚Üò",loz:"‚óä",lozenge:"‚óä",lozf:"‚ß´",lpar:"(",lparlt:"‚¶ì",lrarr:"‚áÜ",lrcorner:"‚åü",lrhar:"‚áã",lrhard:"‚•≠",lrm:"‚Äé",lrtri:"‚äø",lsaquo:"‚Äπ",Lscr:"‚Ñí",lscr:"\uD835\uDCC1",Lsh:"‚Ü∞",lsh:"‚Ü∞",lsim:"‚â≤",lsime:"‚™ç",lsimg:"‚™è",lsqb:"[",lsquo:"‚Äò",lsquor:"‚Äö",Lstrok:"≈Å",lstrok:"≈Ç",Lt:"‚â™",LT:"<",lt:"<",ltcc:"‚™¶",ltcir:"‚©π",ltdot:"‚ãñ",lthree:"‚ãã",ltimes:"‚ãâ",ltlarr:"‚•∂",ltquest:"‚©ª",ltri:"‚óÉ",ltrie:"‚ä¥",ltrif:"‚óÇ",ltrPar:"‚¶ñ",lurdshar:"‚•ä",luruhar:"‚•¶",lvertneqq:"‚â®Ô∏Ä",lvnE:"‚â®Ô∏Ä",macr:"¬Ø",male:"‚ôÇ",malt:"‚ú†",maltese:"‚ú†",Map:"‚§Ö",map:"‚Ü¶",mapsto:"‚Ü¶",mapstodown:"‚Üß",mapstoleft:"‚Ü§",mapstoup:"‚Ü•",marker:"‚ñÆ",mcomma:"‚®©",Mcy:"–ú",mcy:"–º",mdash:"‚Äî",mDDot:"‚à∫",measuredangle:"‚à°",MediumSpace:"‚Åü",Mellintrf:"‚Ñ≥",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"‚Ñß",micro:"¬µ",mid:"‚à£",midast:"*",midcir:"‚´∞",middot:"¬∑",minus:"‚àí",minusb:"‚äü",minusd:"‚à∏",minusdu:"‚®™",MinusPlus:"‚àì",mlcp:"‚´õ",mldr:"‚Ä¶",mnplus:"‚àì",models:"‚äß",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"‚àì",Mscr:"‚Ñ≥",mscr:"\uD835\uDCC2",mstpos:"‚àæ",Mu:"Œú",mu:"Œº",multimap:"‚ä∏",mumap:"‚ä∏",nabla:"‚àá",Nacute:"≈É",nacute:"≈Ñ",nang:"‚à†‚Éí",nap:"‚ââ",napE:"‚©∞Ã∏",napid:"‚âãÃ∏",napos:"≈â",napprox:"‚ââ",natur:"‚ôÆ",natural:"‚ôÆ",naturals:"‚Ñï",nbsp:"¬†",nbump:"‚âéÃ∏",nbumpe:"‚âèÃ∏",ncap:"‚©É",Ncaron:"≈á",ncaron:"≈à",Ncedil:"≈Ö",ncedil:"≈Ü",ncong:"‚âá",ncongdot:"‚©≠Ã∏",ncup:"‚©Ç",Ncy:"–ù",ncy:"–Ω",ndash:"‚Äì",ne:"‚â†",nearhk:"‚§§",neArr:"‚áó",nearr:"‚Üó",nearrow:"‚Üó",nedot:"‚âêÃ∏",NegativeMediumSpace:"‚Äã",NegativeThickSpace:"‚Äã",NegativeThinSpace:"‚Äã",NegativeVeryThinSpace:"‚Äã",nequiv:"‚â¢",nesear:"‚§®",nesim:"‚âÇÃ∏",NestedGreaterGreater:"‚â´",NestedLessLess:"‚â™",NewLine:`
bundles/ClaudeCodeCode/cli.js:1774:`,isMeta:!0}),...A]}async function U02(A,Q){if(N02())return;let[{tools:B},G,Z,Y]=await Promise.all([PtA(A),UH(Q),_V(),nE()]),J=Y.gitStatus?.length??0,I=Z.claudeMd?.length??0,X=J+I,W=g9();setTimeout(()=>W.abort(),1000);let K=r1(),V=AZA(Q),E=eGA(V,K),D=await pSA(K,W.signal,E),H=0,F=0,C=0,U=0,O=0,q=G.filter((_)=>!_.isMcp);H=B.length,U=q.length;let M=new Set;for(let _ of B){let T=_.name.split("__");if(T.length>=3&&T[1])M.add(T[1])}F=M.size;try{if(B.length>0){let{mcpToolTokens:_}=await _MA(B,async()=>Q,null);C=_}if(q.length>0)O=await F02(G,async()=>Q,null)}catch{}r("tengu_context_size",{git_status_size:J,claude_md_size:I,total_context_size:X,project_file_count_rounded:D,mcp_tools_count:H,mcp_servers_count:F,mcp_tools_tokens:C,non_mcp_tools_count:U,non_mcp_tools_tokens:O})}function $02(A,Q,B){switch(A.name){case HMA:{let G=dF(B);if(G)return{...Q,plan:G};return Q}case Q4.name:{let G=Q4.inputSchema.parse(Q),{command:Z,timeout:Y,description:J,run_in_background:I}=G,X=Z.replace(`cd ${r1()} && `,"");if(X=X.replace(/\\\\;/g,"\\;"),/^echo\s+["']?[^|&;><]*["']?$/i.test(X.trim()))r("tengu_bash_tool_simple_echo",{});return{command:X,description:J,...Y?{timeout:Y}:{},...J?{description:J}:{},...I?{run_in_background:I}:{},..."dangerouslyDisableSandbox"in G&&G.dangerouslyDisableSandbox?{dangerouslyDisableSandbox:G.dangerouslyDisableSandbox}:{}}}case lE.name:{let G=lE.inputSchema.parse(Q),{file_path:Z,edits:Y}=__B({file_path:G.file_path,edits:[{old_string:G.old_string,new_string:G.new_string,replace_all:G.replace_all}]});return{replace_all:Y[0].replace_all,file_path:Z,old_string:Y[0].old_string,new_string:Y[0].new_string}}case XW.name:{let G=XW.inputSchema.parse(Q);return{file_path:G.file_path,content:Go1(G.content)}}case VH:{let G=Q,Z=G.task_id??G.agentId??G.bash_id,Y=G.timeout??(typeof G.wait_up_to==="number"?G.wait_up_to*1000:void 0);return{task_id:Z??"",block:G.block??!0,timeout:Y??30000}}default:return Q}}function w02(A,Q){switch(A.name){case HMA:{if(Q&&typeof Q==="object"&&"plan"in Q){let{plan:B,...G}=Q;return G}return Q}default:return Q}}var kH8;var Xh=L(()=>{T00();J4();T0();HB();xj();pB();cY();pE();rl();OAA();Rb();LZ();cF();Y0();GB1();fv();ayA();$_();dx();$H();kH8=o(W02(),1)});var q02=L(()=>{T0();HB();RG();Xh();LZ();l2()});var L02=L(()=>{ar();pE();Rb();rl();pYA();h1();q02()});async function M02(A){let Q;do Q=await A.next();while(!Q.done);return Q.value}async function*GJA(A,Q=1/0){let B=(Y)=>{let J=Y.next().then(({done:I,value:X})=>({done:I,value:X,generator:Y,promise:J}));return J},G=[...A],Z=new Set;while(Z.size<Q&&G.length>0){let Y=G.shift();Z.add(B(Y))}while(Z.size>0){let{done:Y,value:J,generator:I,promise:X}=await Promise.race(Z);if(Z.delete(X),!Y){if(Z.add(B(I)),J!==void 0)yield J}else if(G.length>0){let W=G.shift();Z.add(B(W))}}}async function YB1(A){let Q=[];for await(let B of A)Q.push(B);return Q}async function*SQ0(A){for(let Q of A)yield Q}var sOG;var Xi=L(()=>{sOG=Symbol("NO_VALUE")});function O02(A){let Q=A.toLowerCase();return/\b(wtf|wth|ffs|omfg|shit(ty|tiest)?|dumbass|horrible|awful|piss(ed|ing)? off|piece of (shit|crap|junk)|what the (fuck|hell)|fucking? (broken|useless|terrible|awful|horrible)|fuck you|screw (this|you)|so frustrating|this sucks|damn it)\b/.test(Q)}function R02(A){let Q=A.toLowerCase().trim();if(Q==="continue")return!0;return/\b(keep going|go on)\b/.test(Q)}function _02(A){let Q=A.toLowerCase();return/\b(you'?re absolutely right|you'?re right)\b/.test(Q)}function IB1(){if(!xQ0)xQ0=qA("perf_hooks").performance;return xQ0}function bH8(){let A=IB1(),Q=A.getEntriesByType("mark");for(let B of Q)if(B.name.startsWith(jMA))A.clearMarks(B.name)}function vQ0(){if(!D4())return;if(!yQ0)return;if(TMA++,bH8(),IB1().mark(`${jMA}turn_start`),JB1)f(`[headlessProfiler] Started turn ${TMA}`)}function z1A(A){if(!D4())return;if(!yQ0)return;let Q=IB1();if(Q.mark(`${jMA}${A}`),JB1)f(`[headlessProfiler] Checkpoint: ${A} at ${Q.now().toFixed(1)}ms`)}function kQ0(){if(!D4())return;if(!yQ0)return;let B=IB1().getEntriesByType("mark").filter((K)=>K.name.startsWith(jMA));if(B.length===0)return;let G=new Map;for(let K of B){let V=K.name.slice(jMA.length);G.set(V,K.startTime)}let Z=G.get("turn_start");if(Z===void 0)return;let Y={turn_number:TMA},J=G.get("system_message_yielded");if(J!==void 0&&TMA===0)Y.time_to_system_message_ms=Math.round(J);let I=G.get("query_started");if(I!==void 0)Y.time_to_query_start_ms=Math.round(I-Z);let X=G.get("first_chunk");if(X!==void 0)Y.time_to_first_response_ms=Math.round(X-Z);let W=G.get("api_request_sent");if(I!==void 0&&W!==void 0)Y.query_overhead_ms=Math.round(W-I);if(Y.checkpoint_count=B.length,process.env.CLAUDE_CODE_ENTRYPOINT)Y.entrypoint=process.env.CLAUDE_CODE_ENTRYPOINT;if(T02)r("tengu_headless_latency",Y);if(JB1)f(`[headlessProfiler] Turn ${TMA} metrics: ${JSON.stringify(Y)}`)}var JB1,fH8=0.05,T02,yQ0,xQ0=null,jMA="headless_",TMA=-1;var PMA=L(()=>{Y0();T0();g0();JB1=process.env.CLAUDE_CODE_PROFILE_STARTUP==="1",T02=Math.random()<fH8,yQ0=JB1||T02});function XB1(A){j02.push(A)}async function P02(A,Q,B,G,Z,Y){let J={messages:A,systemPrompt:Q,userContext:B,systemContext:G,toolUseContext:Z,querySource:Y};for(let I of j02)try{await I(J)}catch(X){s(X instanceof Error?X:Error(`Post-sampling hook failed: ${X}`))}}var j02;var SMA=L(()=>{h1();j02=[]});var xMA=L(()=>{XQ();g0();rQ()});class fQ0{toolDefinitions;canUseTool;tools=[];toolUseContext;hasErrored=!1;progressAvailableResolve;constructor(A,Q,B){this.toolDefinitions=A;this.canUseTool=Q;this.toolUseContext=B}addTool(A,Q){let B=this.toolDefinitions.find((Y)=>Y.name===A.name);if(!B){this.tools.push({id:A.id,block:A,assistantMessage:Q,status:"completed",isConcurrencySafe:!0,pendingProgress:[],results:[u0({content:[{type:"tool_result",content:`<tool_use_error>Error: No such tool available: ${A.name}</tool_use_error>`,is_error:!0,tool_use_id:A.id}],toolUseResult:`Error: No such tool available: ${A.name}`})]});return}let G=B.inputSchema.safeParse(A.input),Z=G?.success?B.isConcurrencySafe(G.data):!1;this.tools.push({id:A.id,block:A,assistantMessage:Q,status:"queued",isConcurrencySafe:Z,pendingProgress:[]}),this.processQueue()}canExecuteTool(A){let Q=this.tools.filter((B)=>B.status==="executing");return Q.length===0||A&&Q.every((B)=>B.isConcurrencySafe)}async processQueue(){for(let A of this.tools){if(A.status!=="queued")continue;if(this.canExecuteTool(A.isConcurrencySafe))await this.executeTool(A);else if(!A.isConcurrencySafe)break}}createSyntheticErrorMessage(A,Q){if(Q==="user_interrupted")return u0({content:[{type:"tool_result",content:U1A,is_error:!0,tool_use_id:A}],toolUseResult:"User rejected tool use"});return u0({content:[{type:"tool_result",content:"<tool_use_error>Sibling tool call errored</tool_use_error>",is_error:!0,tool_use_id:A}],toolUseResult:"Sibling tool call errored"})}getAbortReason(){if(this.hasErrored)return"sibling_error";if(this.toolUseContext.abortController.signal.aborted)return"user_interrupted";return null}async executeTool(A){A.status="executing",this.toolUseContext.setInProgressToolUseIDs((Y)=>new Set([...Y,A.id]));let Q=[],B=[],Z=(async()=>{let Y=this.getAbortReason();if(Y){Q.push(this.createSyntheticErrorMessage(A.id,Y)),A.results=Q,A.contextModifiers=B,A.status="completed";return}let J=WB1(A.block,A.assistantMessage,this.canUseTool,this.toolUseContext),I=!1;for await(let X of J){let W=this.getAbortReason();if(W&&!I){Q.push(this.createSyntheticErrorMessage(A.id,W));break}if(X.message.type==="user"&&Array.isArray(X.message.message.content)&&X.message.message.content.some((V)=>V.type==="tool_result"&&V.is_error===!0))this.hasErrored=!0,I=!0;if(X.message)if(X.message.type==="progress"){if(A.pendingProgress.push(X.message),this.progressAvailableResolve)this.progressAvailableResolve(),this.progressAvailableResolve=void 0}else Q.push(X.message);if(X.contextModifier)B.push(X.contextModifier.modifyContext)}if(A.results=Q,A.contextModifiers=B,A.status="completed",!A.isConcurrencySafe&&B.length>0)for(let X of B)this.toolUseContext=X(this.toolUseContext)})();A.promise=Z,Z.finally(()=>{this.processQueue()})}*getCompletedResults(){for(let A of this.tools){while(A.pendingProgress.length>0)yield{message:A.pendingProgress.shift()};if(A.status==="yielded")continue;if(A.status==="completed"&&A.results){A.status="yielded";for(let Q of A.results)yield{message:Q};hH8(this.toolUseContext,A.id)}else if(A.status==="executing"&&!A.isConcurrencySafe)break}}hasPendingProgress(){return this.tools.some((A)=>A.pendingProgress.length>0)}async*getRemainingResults(){while(this.hasUnfinishedTools()){await this.processQueue();for(let A of this.getCompletedResults())yield A;if(this.hasExecutingTools()&&!this.hasCompletedResults()&&!this.hasPendingProgress()){let A=this.tools.filter((B)=>B.status==="executing"&&B.promise).map((B)=>B.promise),Q=new Promise((B)=>{this.progressAvailableResolve=B});if(A.length>0)await Promise.race([...A,Q])}}for(let A of this.getCompletedResults())yield A}hasCompletedResults(){return this.tools.some((A)=>A.status==="completed")}hasExecutingTools(){return this.tools.some((A)=>A.status==="executing")}hasUnfinishedTools(){return this.tools.some((A)=>A.status!=="yielded")}getUpdatedContext(){return this.toolUseContext}}function hH8(A,Q){A.setInProgressToolUseIDs((B)=>new Set([...B].filter((G)=>G!==Q)))}var S02=L(()=>{Wi();HB()});import{randomUUID as gH8}from"crypto";function KB1(A){return async(Q)=>{try{if(!await A.shouldRun(Q))return;let G=gH8(),Z=A.buildMessages(Q);Q.queryMessageCount=Z.length;let Y=A.systemPrompt?[A.systemPrompt]:Q.systemPrompt,I=A.useTools??!0?Q.toolUseContext.options.tools:[],X=A.getModel(),W=await Wh({messages:Z,systemPrompt:Y,maxThinkingTokens:0,tools:I,signal:g9().signal,options:{getToolPermissionContext:async()=>{return(await Q.toolUseContext.getAppState()).toolPermissionContext},model:X,toolChoice:void 0,isNonInteractiveSession:Q.toolUseContext.options.isNonInteractiveSession,hasAppendSystemPrompt:Q.toolUseContext.options.hasAppendSystemPrompt,temperatureOverride:0,agents:Q.toolUseContext.options.agentDefinitions.activeAgents,querySource:A.name,mcpTools:[],agentIdOrSessionId:Q.toolUseContext.agentId}}),K=W.message.content.filter((V)=>V.type==="text").map((V)=>V.text).join("").trim();try{let V=A.parseResponse(K,Q);A.logResult({type:"success",queryName:A.name,result:V,messageId:W.message.id,model:X,uuid:G},Q)}catch(V){A.logResult({type:"error",queryName:A.name,error:V,uuid:G},Q)}}catch(B){s(B instanceof Error?B:Error(`API query hook ${A.name} failed`))}}}var bQ0=L(()=>{RG();LZ();h1()});async function x02(){return}async function y02(A){if(hQ0)await hQ0(A)}var hQ0=null;var gQ0=L(()=>{bQ0();HB();T0();J4();l2();Xh()});function uH8(A){if(A instanceof I9){let Q=A.error;if(Q?.error?.message)return Q.error.message}return A instanceof Error?A.message:String(A)}function uQ0(A){let Q=new Set;A.forEach((B,G)=>Q.add(G));for(let[B,G]of Object.entries(mH8))if(G.prefixes?.some((Z)=>Array.from(Q).some((Y)=>Y.startsWith(Z))))return B;return}function mQ0(){return{...process.env.ANTHROPIC_BASE_URL?{baseUrl:process.env.ANTHROPIC_BASE_URL}:{},...process.env.ANTHROPIC_MODEL?{envModel:process.env.ANTHROPIC_MODEL}:{},...process.env.ANTHROPIC_SMALL_FAST_MODEL?{envSmallFastModel:process.env.ANTHROPIC_SMALL_FAST_MODEL}:{}}}function v02(){if(!{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.BUILD_TIME)return;let A=new Date({ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.BUILD_TIME).getTime();if(isNaN(A))return;return Math.floor((Date.now()-A)/60000)}function k02({model:A,messagesLength:Q,temperature:B,betas:G,permissionMode:Z,querySource:Y,queryTracking:J}){r("tengu_api_query",{model:A,messagesLength:Q,temperature:B,provider:pO(),buildAgeMins:v02(),...G?.length?{betas:G.join(",")}:{},permissionMode:Z,querySource:Y,...J?{queryChainId:J.chainId,queryDepth:J.depth}:{},...mQ0()})}function f02({error:A,model:Q,messageCount:B,messageTokens:G,durationMs:Z,durationMsIncludingRetries:Y,attempt:J,requestId:I,didFallBackToNonStreaming:X,promptCategory:W,headers:K,queryTracking:V,llmSpan:E}){let D=void 0;if(A instanceof I9&&A.headers)D=uQ0(A.headers);else if(K)D=uQ0(K);let H=uH8(A),F=A instanceof I9?String(A.status):void 0,C=cRB(A),U=QqA(A);if(U){let O=U.isSSLError?" (SSL error)":"";f(`Connection error details: code=${U.code}${O}, message=${U.message}`,{level:"error"})}s(A),r("tengu_api_error",{model:Q,error:H,status:F,errorType:C,messageCount:B,messageTokens:G,durationMs:Z,durationMsIncludingRetries:Y,attempt:J,provider:pO(),requestId:I||void 0,didFallBackToNonStreaming:X,...W?{promptCategory:W}:{},...D?{gateway:D}:{},...V?{queryChainId:V.chainId,queryDepth:V.depth}:{},...mQ0()}),zU("api_error",{model:Q,error:H,status_code:String(F),duration_ms:String(Z),attempt:String(J)}),ee1(E,{success:!1,statusCode:F?parseInt(F):void 0,error:H,attempt:J})}function dH8({model:A,preNormalizedModel:Q,messageCount:B,messageTokens:G,usage:Z,durationMs:Y,durationMsIncludingRetries:J,attempt:I,ttftMs:X,requestId:W,stopReason:K,costUSD:V,didFallBackToNonStreaming:E,querySource:D,gateway:H,queryTracking:F,permissionMode:C}){let U=D4(),O=process.argv.includes("-p")||process.argv.includes("--print");r("tengu_api_success",{model:A,...Q!==A?{preNormalizedModel:Q}:{},messageCount:B,messageTokens:G,inputTokens:Z.input_tokens,outputTokens:Z.output_tokens,cachedInputTokens:Z.cache_read_input_tokens??0,uncachedInputTokens:Z.cache_creation_input_tokens??0,durationMs:Y,durationMsIncludingRetries:J,attempt:I,ttftMs:X??void 0,buildAgeMins:v02(),provider:pO(),requestId:W??void 0,stop_reason:K??void 0,costUSD:V,didFallBackToNonStreaming:E,isNonInteractiveSession:U,print:O,isTTY:process.stdout.isTTY??!1,querySource:D,...H?{gateway:H}:{},...F?{queryChainId:F.chainId,queryDepth:F.depth}:{},permissionMode:C,...mQ0()})}function b02({model:A,preNormalizedModel:Q,start:B,startIncludingRetries:G,ttftMs:Z,usage:Y,attempt:J,messageCount:I,messageTokens:X,requestId:W,stopReason:K,didFallBackToNonStreaming:V,querySource:E,headers:D,costUSD:H,queryTracking:F,permissionMode:C,newMessages:U,llmSpan:O}){let q=D?uQ0(D):void 0,M=Date.now()-B,_=Date.now()-G;ZK0(_,M),dH8({model:A,preNormalizedModel:Q,messageCount:I,messageTokens:X,usage:Y,durationMs:M,durationMsIncludingRetries:_,attempt:J,ttftMs:Z,requestId:W,stopReason:K,costUSD:H,didFallBackToNonStreaming:V,querySource:E,gateway:q,queryTracking:F,permissionMode:C}),zU("api_request",{model:A,input_tokens:String(Y.input_tokens),output_tokens:String(Y.output_tokens),cache_read_tokens:String(Y.cache_read_input_tokens),cache_creation_tokens:String(Y.cache_creation_input_tokens),cost_usd:String(H),duration_ms:String(M)});let T,y,h;ee1(O,{success:!0,inputTokens:Y.input_tokens,outputTokens:Y.output_tokens,cacheReadTokens:Y.cache_read_input_tokens,cacheCreationTokens:Y.cache_creation_input_tokens,attempt:J,modelOutput:T,thinkingOutput:y,hasToolCall:h})}var mH8,$M;var yMA=L(()=>{VS();h1();Y0();hX();T0();ml();dl();g0();JM();YZA();mH8={litellm:{prefixes:["x-litellm-"]},helicone:{prefixes:["helicone-"]},portkey:{prefixes:["x-portkey-"]},"cloudflare-ai-gateway":{prefixes:["cf-aig-"]}};$M={input_tokens:0,cache_creation_input_tokens:0,cache_read_input_tokens:0,output_tokens:0,server_tool_use:{web_search_requests:0,web_fetch_requests:0},service_tier:"standard",cache_creation:{ephemeral_1h_input_tokens:0,ephemeral_5m_input_tokens:0}}});import{randomUUID as cH8}from"crypto";function VB1(A){return{systemPrompt:A.systemPrompt,userContext:A.userContext,systemContext:A.systemContext,toolUseContext:A.toolUseContext,forkContextMessages:A.messages}}function vMA(A,Q){let B=Q?.abortController??(Q?.shareAbortController?A.abortController:uV0(A.abortController)),G=Q?.getAppState?Q.getAppState:Q?.shareAbortController?A.getAppState:async()=>{let Z=await A.getAppState();if(Z.toolPermissionContext.shouldAvoidPermissionPrompts)return Z;return{...Z,toolPermissionContext:{...Z.toolPermissionContext,shouldAvoidPermissionPrompts:!0}}};return{readFileState:UAA(Q?.readFileState??A.readFileState),nestedMemoryAttachmentTriggers:new Set,toolDecisions:void 0,pendingSteeringAttachments:void 0,abortController:B,getAppState:G,setAppState:Q?.shareSetAppState?A.setAppState:()=>{},setMessages:()=>{},setInProgressToolUseIDs:()=>{},setResponseLength:Q?.shareSetResponseLength?A.setResponseLength:()=>{},updateFileHistoryState:()=>{},addNotification:void 0,setToolJSX:void 0,setStreamMode:void 0,setSpinnerMessage:void 0,setSpinnerColor:void 0,setSpinnerShimmerColor:void 0,setSDKStatus:void 0,openMessageSelector:void 0,options:Q?.options??A.options,messages:Q?.messages??A.messages,agentId:Q?.agentId??QAA(),isSubAgent:!0,queryTracking:{chainId:cH8(),depth:(A.queryTracking?.depth??-1)+1},fileReadingLimits:A.fileReadingLimits,userModified:A.userModified,criticalSystemReminder_EXPERIMENTAL:Q?.criticalSystemReminder_EXPERIMENTAL}}async function EB1({promptMessages:A,cacheSafeParams:Q,canUseTool:B,querySource:G,forkLabel:Z,overrides:Y,maxOutputTokens:J}){let I=Date.now(),X=[],W={...$M},{systemPrompt:K,userContext:V,systemContext:E,toolUseContext:D,forkContextMessages:H}=Q,F=vMA(D,Y),C=[...dQ0(H),...A];for await(let O of LU({messages:C,systemPrompt:K,userContext:V,systemContext:E,canUseTool:B,toolUseContext:F,querySource:G,maxOutputTokensOverride:J})){if(O.type==="stream_event"||O.type==="stream_request_start")continue;if(O.type==="assistant"){let M=O.message.usage;if(M)W=FB1(W,{input_tokens:M.input_tokens??0,cache_creation_input_tokens:M.cache_creation_input_tokens??0,cache_read_input_tokens:M.cache_read_input_tokens??0,output_tokens:M.output_tokens??0,server_tool_use:{web_search_requests:M.server_tool_use?.web_search_requests??0,web_fetch_requests:M.server_tool_use?.web_fetch_requests??0},service_tier:M.service_tier??"standard",cache_creation:{ephemeral_1h_input_tokens:M.cache_creation?.ephemeral_1h_input_tokens??0,ephemeral_5m_input_tokens:M.cache_creation?.ephemeral_5m_input_tokens??0}})}X.push(O)}let U=Date.now()-I;return pH8({forkLabel:Z,querySource:G,durationMs:U,messageCount:X.length,totalUsage:W,queryTracking:D.queryTracking}),{messages:X,totalUsage:W}}function pH8({forkLabel:A,querySource:Q,durationMs:B,messageCount:G,totalUsage:Z,queryTracking:Y}){let J=Z.input_tokens+Z.cache_creation_input_tokens+Z.cache_read_input_tokens,I=J>0?Z.cache_read_input_tokens/J:0;r("tengu_fork_agent_query",{forkLabel:A,querySource:Q,durationMs:B,messageCount:G,inputTokens:Z.input_tokens,outputTokens:Z.output_tokens,cacheReadInputTokens:Z.cache_read_input_tokens,cacheCreationInputTokens:Z.cache_creation_input_tokens,serviceTier:Z.service_tier,cacheCreationEphemeral1hTokens:Z.cache_creation.ephemeral_1h_input_tokens,cacheCreationEphemeral5mTokens:Z.cache_creation.ephemeral_5m_input_tokens,cacheHitRate:I,...Y?{queryChainId:Y.chainId,queryDepth:Y.depth}:{}})}var DB1=L(()=>{Wi();RG();yMA();T0();HB1();_w();rS();LZ()});async function h02(){if(D4())return;let A=process.env.CLAUDE_CODE_ENABLE_PROMPT_SUGGESTION;if(A==="false"){CB1=!1;return}if(A==="1"){CB1=!0;return}CB1=await JZ(lH8)}async function g02(A){if(!CB1||A.querySource!=="repl_main_thread")return;try{let Q=await nH8(A);if(!Q)return;if(aH8(Q))return;A.toolUseContext.setAppState((B)=>({...B,promptSuggestion:{text:Q,shownAt:0,acceptedAt:0}}))}catch(Q){s(Q instanceof Error?Q:Error("Prompt suggestion generation failed"))}}async function nH8(A){let Q=VB1(A),B=async()=>({behavior:"deny",message:"No tools needed for suggestion",decisionReason:{type:"other",reason:"suggestion only"}}),G=await EB1({promptMessages:[u0({content:iH8})],cacheSafeParams:Q,maxOutputTokens:16000,canUseTool:B,querySource:"prompt_suggestion",forkLabel:"prompt_suggestion"});for(let Z of G.messages){if(Z.type!=="assistant")continue;let Y=Z.message.content.find((J)=>J.type==="text");if(Y?.type==="text"&&Y.text.trim())return Y.text.trim()}return null}function aH8(A){let Q=A.toLowerCase(),B=[["empty",()=>!A],["done",()=>Q==="done"],["too_long",()=>A.length>=100],["has_formatting",()=>/[\n*]|\*\*/.test(A)],["error_message",()=>/prompt is too long|context length|token limit/.test(Q)],["gratitude",()=>/thanks|thank you|looks good|that worked|that's all/.test(Q)]];for(let[G,Z]of B)if(Z())return cQ0(G,A),!0;return!1}function cQ0(A,Q){r("tengu_prompt_suggestion",{outcome:"suppressed",reason:A,...!1})}var lH8="tengu_prompt_suggestion",CB1=!1,iH8=`You are now a prompt suggestion generator. The conversation above is context - your job is to suggest what Claude could help with next.
bundles/ClaudeCodeCode/cli.js:2295:`),{encoding:"utf8",flush:!0})}function j90(){let A=Pi();for(let Q of Object.values(A)){let B=jOA(Q);if(!B)continue;for(let G of B)if(G82.test(G)){let Z=G.match(/alias\s+claude=["']?([^"'\s]+)/);if(Z&&Z[1])return Z[1]}}return null}function Z82(){let A=j90();if(!A)return null;let Q=jA(),B=A.startsWith("~")?A.replace("~",X91()):A;try{if(Q.existsSync(B)){let G=Q.statSync(B);if(G.isFile()||G.isSymbolicLink())return A}}catch{}return null}var G82;var V91=L(()=>{XQ();qr();G82=/^\s*alias\s+claude\s*=/});import{join as P90}from"node:path";import{createHash as Tq8}from"node:crypto";import{tmpdir as jq8}from"node:os";import{chmodSync as Pq8,unlinkSync as Sq8,mkdtempSync as xq8,rmdirSync as yq8}from"fs";async function vq8(A="latest",Q,B){let G=Date.now(),Z=Q===E91;try{let Y=await wQ.get(`${Q}/${A}`,{timeout:30000,responseType:"text",...B}),J=Date.now()-G;return r("tengu_version_check_success",{latency_ms:J,source_gcs:Z}),Y.data.trim()}catch(Y){let J=Date.now()-G,I=Y instanceof Error?Y.message:String(Y),X;if(wQ.isAxiosError(Y)&&Y.response)X=Y.response.status;throw r("tengu_version_check_failure",{latency_ms:J,http_status:X,source_gcs:Z,is_timeout:I.includes("timeout")}),s(Error(`Failed to fetch version from ${Q}/${A}: ${I}`)),Error(`Failed to fetch version from ${A}: ${Y}`)}}async function S90(A){if(/^v?\d+\.\d+\.\d+(-\S+)?$/.test(A))return A.startsWith("v")?A.slice(1):A;let Q=A;if(Q!=="stable"&&Q!=="latest")throw Error(`Invalid channel: ${A}. Use 'stable' or 'latest'`);return vq8(Q,E91)}async function kq8(A,Q,B,G={}){let Z=await wQ.get(A,{timeout:300000,responseType:"arraybuffer",...G}),Y=Tq8("sha256");Y.update(Z.data);let J=Y.digest("hex");if(J!==Q)throw Error(`Checksum mismatch: expected ${Q}, got ${J}`);(await import("fs")).writeFileSync(B,Buffer.from(Z.data)),Pq8(B,493)}async function fq8(A){let Q=Date.now(),B;try{B=xq8(P90(jq8(),"claude-cdn-dark-read-")),await J82(A,B,Y82);let G=Date.now()-Q;r("tengu_native_cdn_dark_read_success",{latency_ms:G}),f(`CDN dark read succeeded for ${A}`)}catch(G){let Z=Date.now()-Q,Y=G instanceof Error?G.message:String(G),J;if(wQ.isAxiosError(G)&&G.response)J=G.response.status;r("tengu_native_cdn_dark_read_failure",{latency_ms:Z,http_status:J,is_timeout:Y.includes("timeout"),is_checksum_mismatch:Y.includes("Checksum mismatch")}),s(Error(`CDN dark read failed for ${A}: ${Y}`))}finally{if(B)try{let G=POA(tx());Sq8(P90(B,G)),yq8(B)}catch{}}}async function J82(A,Q,B,G){let Z=jA(),Y=B===Y82,J=B===E91;if(Z.existsSync(Q))Z.rmSync(Q,{recursive:!0,force:!0});let I=tx(),X=Date.now();r("tengu_binary_download_attempt",{is_cdn:Y,is_gcs:J});let W;try{W=(await wQ.get(`${B}/${A}/manifest.json`,{timeout:1e4,responseType:"json",...G})).data}catch(F){let C=Date.now()-X,U=F instanceof Error?F.message:String(F),O;if(wQ.isAxiosError(F)&&F.response)O=F.response.status;throw r("tengu_binary_manifest_fetch_failure",{latency_ms:C,http_status:O,is_cdn:Y,is_gcs:J,is_timeout:U.includes("timeout")}),s(Error(`Failed to fetch manifest from ${B}/${A}/manifest.json: ${U}`)),F}let K=W.platforms[I];if(!K)throw r("tengu_binary_platform_not_found",{is_cdn:Y,is_gcs:J}),Error(`Platform ${I} not found in manifest for version ${A}`);let V=K.checksum,E=POA(I),D=`${B}/${A}/${I}/${E}`;Z.mkdirSync(Q);let H=P90(Q,E);try{await kq8(D,V,H,G||{});let F=Date.now()-X;r("tengu_binary_download_success",{latency_ms:F,is_cdn:Y,is_gcs:J})}catch(F){let C=Date.now()-X,U=F instanceof Error?F.message:String(F),O;if(wQ.isAxiosError(F)&&F.response)O=F.response.status;throw r("tengu_binary_download_failure",{latency_ms:C,http_status:O,is_cdn:Y,is_gcs:J,is_timeout:U.includes("timeout"),is_checksum_mismatch:U.includes("Checksum mismatch")}),s(Error(`Failed to download binary from ${D}: ${U}`)),F}}async function I82(A,Q){return fq8(A),await J82(A,Q,E91),"binary"}var Y82="https://downloads.claude.ai/claude-code-releases",E91="https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases";var X82=L(()=>{b8();XQ();I6();Y0();T0();x90();h1()});import{join as W82,basename as bq8}from"path";function Si(){if(z0(void 0))return!0;if(rC(void 0))return!1;return nHA("tengu_pid_based_version_locking",!1)}function D91(A){if(A<=1)return!1;try{return process.kill(A,0),!0}catch{return!1}}function gq8(A,Q){if(!D91(A))return!1;if(A===process.pid)return!0;try{let B=juA(A);if(!B)return!0;let G=B.toLowerCase(),Z=Q.toLowerCase();return G.includes("claude")||G.includes(Z)}catch{return!0}}function h1A(A){let Q=jA();try{if(!Q.existsSync(A))return null;let B=Q.readFileSync(A,{encoding:"utf8"});if(!B||B.trim()==="")return null;let G=JSON.parse(B);if(typeof G.pid!=="number"||!G.version||!G.execPath)return null;return G}catch{return null}}function SOA(A){let Q=h1A(A);if(!Q)return!1;let{pid:B,execPath:G}=Q;if(!D91(B))return!1;if(!gq8(B,G))return f(`Lock PID ${B} is running but does not appear to be Claude - treating as stale`),!1;let Z=jA();try{let Y=Z.statSync(A);if(Date.now()-Y.mtimeMs>hq8){if(!D91(B))return!1}}catch{}return!0}function uq8(A,Q){let B=jA(),G=`${A}.tmp.${process.pid}.${Date.now()}`;try{B.writeFileSync(G,JSON.stringify(Q,null,2),{encoding:"utf8",flush:!0}),B.renameSync(G,A)}catch(Z){try{if(B.existsSync(G))B.unlinkSync(G)}catch{}throw Z}}async function K82(A,Q){let B=jA(),G=bq8(A);if(SOA(Q)){let Y=h1A(Q);return f(`Cannot acquire lock for ${G} - held by PID ${Y?.pid}`),null}let Z={pid:process.pid,version:G,execPath:process.execPath,acquiredAt:Date.now()};try{if(uq8(Q,Z),h1A(Q)?.pid!==process.pid)return null;return f(`Acquired PID lock for ${G} (PID ${process.pid})`),()=>{try{if(h1A(Q)?.pid===process.pid)B.unlinkSync(Q),f(`Released PID lock for ${G}`)}catch(J){f(`Failed to release lock for ${G}: ${J}`)}}}catch(Y){return f(`Failed to acquire lock for ${G}: ${Y}`),null}}async function V82(A,Q){let B=await K82(A,Q);if(!B)return!1;let G=()=>{try{B()}catch{}};return process.on("exit",G),process.on("SIGINT",G),process.on("SIGTERM",G),!0}async function E82(A,Q,B){let G=await K82(A,Q);if(!G)return!1;try{return await B(),!0}finally{G()}}function y90(A){let Q=jA(),B=[];if(!Q.existsSync(A))return B;try{let G=Q.readdirStringSync(A).filter((Z)=>Z.endsWith(".lock"));for(let Z of G){let Y=W82(A,Z),J=h1A(Y);if(J)B.push({version:J.version,pid:J.pid,isProcessRunning:D91(J.pid),execPath:J.execPath,acquiredAt:new Date(J.acquiredAt),lockFilePath:Y})}}catch(G){s(G instanceof Error?G:Error(`Failed to get lock info: ${G}`))}return B}function H91(A){let Q=jA(),B=0;if(!Q.existsSync(A))return 0;try{let G=Q.readdirStringSync(A).filter((Z)=>Z.endsWith(".lock"));for(let Z of G){let Y=W82(A,Z);if(!SOA(Y))try{Q.unlinkSync(Y),B++,f(`Cleaned up stale lock: ${Z}`)}catch{}}}catch(G){s(G instanceof Error?G:Error(`Failed to cleanup stale locks: ${G}`))}return B}var hq8=7200000;var v90=L(()=>{XQ();Y0();h1();PuA();ar();rQ()});import{join as HX,dirname as ex,resolve as Ay,delimiter as mq8,basename as dq8}from"node:path";import{homedir as H82}from"node:os";import{accessSync as cq8,chmodSync as pq8,constants as lq8,existsSync as iq8,lstatSync as nq8,realpathSync as aq8,unlinkSync as oq8}from"fs";function tx(){let A=JQ.platform,Q=process.arch==="x64"?"x64":process.arch==="arm64"?"arm64":null;if(!Q){let B=Error(`Unsupported architecture: ${process.arch}`);throw f(`Native installer does not support architecture: ${process.arch}`,{level:"error"}),B}if(A==="linux"&&Rz.isMuslEnvironment())return`linux-${Q}-musl`;return`${A}-${Q}`}function POA(A){return A.startsWith("win32")?"claude.exe":"claude"}function xi(){let A=tx(),Q=POA(A);return{versions:HX(Q82(),"claude","versions"),staging:HX(A82(),"claude","staging"),locks:HX(I91(),"claude","locks"),executable:HX(B82(),Q)}}function yJA(A){let Q=jA();if(!Q.existsSync(A))return!1;let B=Q.statSync(A);if(!B.isFile()||B.size===0)return!1;try{return cq8(A,lq8.X_OK),!0}catch{return!1}}function f90(A){let Q=xi(),B=jA();[Q.versions,Q.staging,Q.locks].forEach((J)=>{if(!B.existsSync(J))B.mkdirSync(J)});let Z=ex(Q.executable);if(!B.existsSync(Z))B.mkdirSync(Z);let Y=HX(Q.versions,A);if(!B.existsSync(Y))B.writeFileSync(Y,"",{flush:!0,encoding:"utf8"});return{stagingPath:HX(Q.staging,A),installPath:Y}}async function F82(A,Q,B=0){let G=xi(),Z=jA(),Y=yOA(G,A);if(!Z.existsSync(G.locks))Z.mkdirSync(G.locks);if(Si()){let I=0,X=B+1,W=B>0?1000:100,K=B>0?5000:500;while(I<X){if(await E82(A,Y,async()=>{try{await Q()}catch(E){throw s(E instanceof Error?E:Error(String(E))),E}}))return r("tengu_version_lock_acquired",{is_pid_based:!0,is_lifetime_lock:!1,attempts:I+1}),!0;if(I++,I<X){let E=Math.min(W*Math.pow(2,I-1),K);await new Promise((D)=>setTimeout(D,E))}}return r("tengu_version_lock_failed",{is_pid_based:!0,is_lifetime_lock:!1,attempts:X}),F91(A,Error("Lock held by another process")),!1}let J=null;try{try{J=await C91.default.lock(A,{stale:k90,retries:{retries:B,minTimeout:B>0?1000:100,maxTimeout:B>0?5000:500},lockfilePath:Y,onCompromised:(I)=>{f(`NON-FATAL: Version lock was compromised during operation: ${I.message}`,{level:"info"})}})}catch(I){return r("tengu_version_lock_failed",{is_pid_based:!1,is_lifetime_lock:!1}),F91(A,I),!1}try{return await Q(),r("tengu_version_lock_acquired",{is_pid_based:!1,is_lifetime_lock:!1}),!0}catch(I){throw s(I instanceof Error?I:Error(String(I))),I}}finally{if(J)await J()}}function C82(A,Q){let B=jA();if(!B.existsSync(ex(Q)))B.mkdirSync(ex(Q));let G=`${Q}.tmp.${process.pid}.${Date.now()}`;try{B.copyFileSync(A,G),pq8(G,493),B.renameSync(G,Q)}catch(Z){try{if(B.existsSync(G))B.unlinkSync(G)}catch{}throw Z}}function sq8(A,Q){let B=jA();try{let G=HX(A,"node_modules","@anthropic-ai"),Y=B.readdirStringSync(G).find((I)=>I.startsWith("claude-cli-native-"));if(!Y)throw r("tengu_native_install_package_failure",{stage_find_package:!0,error_package_not_found:!0}),Error("Could not find platform-specific native package");let J=HX(G,Y,"cli");if(!B.existsSync(J))throw r("tengu_native_install_package_failure",{stage_binary_exists:!0,error_binary_not_found:!0}),Error(`Native binary not found at ${J}`);C82(J,Q),B.rmSync(A,{recursive:!0,force:!0}),r("tengu_native_install_package_success",{})}catch(G){let Z=G instanceof Error?G.message:String(G);if(!Z.includes("Could not find platform-specific")&&!Z.includes("Native binary not found"))r("tengu_native_install_package_failure",{stage_atomic_move:!0,error_move_failed:!0});throw s(G instanceof Error?G:Error(Z)),G}}function tq8(A,Q){let B=jA();try{let G=tx(),Z=POA(G),Y=HX(A,Z);if(!B.existsSync(Y))throw r("tengu_native_install_binary_failure",{stage_binary_exists:!0,error_binary_not_found:!0}),Error(`Staged binary not found at ${Y}`);C82(Y,Q),B.rmSync(A,{recursive:!0,force:!0}),r("tengu_native_install_binary_success",{})}catch(G){let Z=G instanceof Error?G.message:String(G);if(!Z.includes("Staged binary not found"))r("tengu_native_install_binary_failure",{stage_atomic_move:!0,error_move_failed:!0});throw s(G instanceof Error?G:Error(Z)),G}}function eq8(A,Q){let{stagingPath:B,installPath:G}=f90(A);if(Q==="npm")sq8(B,G);else tq8(B,G)}function AL8(A){let{installPath:Q}=f90(A);return yJA(Q)}async function QL8(A,Q=!1){let B=Date.now(),G=await S90(A),{installPath:Z,stagingPath:Y}=f90(G),J=xi();if(f(`Checking for native installer update to version ${G}`),!Q&&G==={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION)return f(`Already running version ${G} - no update needed`),r("tengu_native_update_complete",{latency_ms:Date.now()-B,was_new_install:!1,was_force_reinstall:!1,was_already_running:!0}),{success:!0};let I=!1;if(Q)YL8(Z);let X=await F82(Z,async()=>{if(!AL8(G)||Q){I=!0,f(Q?`Force reinstalling native installer version ${G}`:`Downloading native installer version ${G}`);let K=await I82(G,Y);eq8(G,K)}else f(`Version ${G} already installed, updating symlink`);BL8(J.executable),GL8(J.executable,Z)},3),W=Date.now()-B;if(!X){let K;if(Si()){let V=yOA(J,Z);if(SOA(V))K=h1A(V)?.pid}return r("tengu_native_update_lock_failed",{latency_ms:W,lock_holder_pid:K}),{success:!1,lockHolderPid:K}}return r("tengu_native_update_complete",{latency_ms:W,was_new_install:I,was_force_reinstall:Q}),f(`Successfully updated to version ${G}`),{success:!0}}function BL8(A){let Q=jA();try{if(Q.existsSync(A)){if(Q.statSync(A).isDirectory()){if(Q.readdirStringSync(A).length===0)Q.rmdirSync(A),f(`Removed empty directory at ${A}`)}}}catch(B){f(`Could not remove empty directory at ${A}: ${B}`)}}function GL8(A,Q){let B=jA();if(tx().startsWith("win32"))try{let I=ex(A);if(!B.existsSync(I))B.mkdirSync(I);if(B.existsSync(A)){try{let W=B.statSync(A),K=B.statSync(Q);if(W.size===K.size)return!1}catch{}let X=`${A}.old.${Date.now()}`;B.renameSync(A,X);try{B.copyFileSync(Q,A);try{B.unlinkSync(X)}catch{}}catch(W){try{B.renameSync(X,A)}catch(K){let V=Error(`Failed to restore old executable: ${K}`,{cause:W});throw s(V),V}throw W}}else{if(!B.existsSync(Q))throw Error(`Source file does not exist: ${Q}`);B.copyFileSync(Q,A)}return!0}catch(I){return s(Error(`Failed to copy executable from ${Q} to ${A}: ${I}`)),!1}let Y=ex(A);if(!B.existsSync(Y))try{B.mkdirSync(Y),f(`Created directory ${Y} for symlink`)}catch(I){return s(Error(`Failed to create directory ${Y}: ${I}`)),!1}try{if(B.existsSync(A)){try{let I=B.readlinkSync(A),X=Ay(ex(A),I),W=Ay(Q);if(X===W)return!1}catch{}B.unlinkSync(A)}}catch(I){s(Error(`Failed to check/remove existing symlink: ${I}`))}let J=`${A}.tmp.${process.pid}.${Date.now()}`;try{return B.symlinkSync(Q,J),B.renameSync(J,A),!0}catch(I){try{if(B.existsSync(J))B.unlinkSync(J)}catch{}return s(Error(`Failed to create symlink from ${A} to ${Q}: ${I}`)),!1}}async function xOA(){if(d1().installMethod==="native")return!0;return await JZ("tengu_native_installation")}async function Qy(A=!1){if(z0(process.env.DISABLE_INSTALLATION_CHECKS))return[];let Q=await yi(),B=d1();if(!(A||Q==="native"||B.installMethod==="native"))return[];let Z=jA(),Y=xi(),J=[],I=ex(Y.executable),X=Ay(I),K=tx().startsWith("win32");if(!Z.existsSync(I))J.push({message:`installMethod is native, but directory ${I} does not exist`,userActionRequired:!0,type:"error"});if(!Z.existsSync(Y.executable))J.push({message:`installMethod is native, but claude command not found at ${Y.executable}`,userActionRequired:!0,type:"error"});else if(!K)try{let E=Z.readlinkSync(Y.executable),D=Ay(ex(Y.executable),E);if(!Z.existsSync(D))J.push({message:`Claude symlink points to non-existent file: ${E}`,userActionRequired:!0,type:"error"});else if(!yJA(D))J.push({message:`Claude symlink points to invalid binary: ${E}`,userActionRequired:!0,type:"error"})}catch{if(!yJA(Y.executable))J.push({message:`${Y.executable} exists but is not a valid Claude binary`,userActionRequired:!0,type:"error"})}else if(!yJA(Y.executable))J.push({message:`${Y.executable} exists but is not a valid Claude binary`,userActionRequired:!0,type:"error"});if(!(process.env.PATH||"").split(mq8).some((E)=>{try{let D=Ay(E);if(K)return D.toLowerCase()===X.toLowerCase();return D===X}catch{return!1}}))if(K){let E=I.replace(/\//g,"\\");J.push({message:`Native installation exists but ${E} is not in your PATH. Add it by opening: System Properties ‚Üí Environment Variables ‚Üí Edit User PATH ‚Üí New ‚Üí Add the path above. Then restart your terminal.`,userActionRequired:!0,type:"path"})}else{let E=p6A(),H=Pi()[E],F=H?H.replace(H82(),"~"):"your shell config file";J.push({message:`Native installation exists but ~/.local/bin is not in your PATH. Run:
bundles/ClaudeCodeCode/cli.js:2297:echo 'export PATH="$HOME/.local/bin:$PATH"' >> ${F} && source ${F}`,userActionRequired:!0,type:"path"})}return J}async function $h(A,Q=!1,B=!1){if(!Q&&!await xOA())return{latestVersion:null,wasUpdated:!1};let G=await S90(A),Z=await QL8(A,B);if(!Z.success)return{latestVersion:null,wasUpdated:!1,lockFailed:!0,lockHolderPid:Z.lockHolderPid};if(G||Z.success){if(d1().installMethod!=="native")i0((J)=>({...J,installMethod:"native",autoUpdates:!1,autoUpdatesProtectedForNative:!0})),f('Native installer: Set installMethod to "native" and disabled legacy auto-updater for protection')}return{latestVersion:G,wasUpdated:Z.success,lockFailed:!1}}function ZL8(A){let Q=jA();try{if(Q.existsSync(A)){let B=Q.readlinkSync(A),G=Ay(ex(A),B);if(Q.existsSync(G)&&yJA(G))return G}}catch{}return null}function yOA(A,Q){let B=dq8(Q);return HX(A.locks,`${B}.lock`)}async function b90(){let A=xi();if(!process.execPath.includes(A.versions))return;try{let Q=Ay(process.execPath),B=yOA(A,Q),G=jA();if(!G.existsSync(A.locks))G.mkdirSync(A.locks);if(!G.existsSync(Q)){f(`Cannot lock current version - file does not exist: ${Q}`,{level:"info"});return}if(Si()){if(!await V82(Q,B)){r("tengu_version_lock_failed",{is_pid_based:!0,is_lifetime_lock:!0}),F91(Q,Error("Lock already held by another process"));return}r("tengu_version_lock_acquired",{is_pid_based:!0,is_lifetime_lock:!0}),f(`Acquired PID lock on running version: ${Q}`)}else{let Z;try{Z=await C91.default.lock(Q,{stale:k90,retries:0,lockfilePath:B,onCompromised:(Y)=>{f(`NON-FATAL: Lock on running version was compromised: ${Y.message}`,{level:"info"})}}),r("tengu_version_lock_acquired",{is_pid_based:!1,is_lifetime_lock:!0}),f(`Acquired mtime-based lock on running version: ${Q}`),U8(async()=>{try{await Z?.()}catch{}})}catch(Y){r("tengu_version_lock_failed",{is_pid_based:!1,is_lifetime_lock:!0}),F91(Q,Y);return}}}catch(Q){f(`NON-FATAL: Failed to lock current version during execution ${Q instanceof Error?Q.message:String(Q)}`,{level:"info"})}}function F91(A,Q){let B=`NON-FATAL: Lock acquisition failed for ${A} (expected in multi-process scenarios)`,G=Q instanceof Error?Error(B,{cause:Q}):Error(`${B}: ${Q}`);s(G)}function YL8(A){let Q=xi(),B=jA(),G=yOA(Q,A);try{if(B.existsSync(G))B.unlinkSync(G),f(`Force-removed lock file at ${G}`)}catch(Z){f(`Failed to force-remove lock file: ${Z instanceof Error?Z.message:String(Z)}`)}}async function h90(){if(await Promise.resolve(),!await xOA())return;let A=jA(),Q=xi();if(tx().startsWith("win32"))try{let G=ex(Q.executable);if(A.existsSync(G)){let Y=A.readdirStringSync(G).filter((I)=>I.startsWith("claude.exe.old.")&&I.match(/claude\.exe\.old\.\d+$/)),J=0;for(let I of Y)try{let X=HX(G,I);A.unlinkSync(X),J++}catch{}if(J>0)f(`Cleaned up ${J} old Windows executables on startup`)}}catch(G){f(`Failed to clean up old Windows executables: ${G}`)}if(A.existsSync(Q.staging))try{let G=A.readdirStringSync(Q.staging),Z=Date.now()-3600000,Y=0;for(let J of G){let I=HX(Q.staging,J);try{if(A.statSync(I).mtime.getTime()<Z)A.rmSync(I,{recursive:!0,force:!0}),Y++,f(`Cleaned up old staging directory: ${J}`)}catch{}}if(Y>0)f(`Cleaned up ${Y} orphaned staging directories`),r("tengu_native_staging_cleanup",{cleaned_count:Y})}catch(G){f(`Failed to clean up staging directories: ${G}`)}if(A.existsSync(Q.versions))try{let G=A.readdirStringSync(Q.versions),Z=Date.now()-3600000,Y=0;for(let J of G)if(J.match(/\.tmp\.\d+\.\d+$/)){let I=HX(Q.versions,J);try{if(A.statSync(I).mtime.getTime()<Z)A.unlinkSync(I),Y++,f(`Cleaned up orphaned temp install file: ${J}`)}catch{}}if(Y>0)f(`Cleaned up ${Y} orphaned temp install files`),r("tengu_native_temp_files_cleanup",{cleaned_count:Y})}catch(G){f(`Failed to clean up temp install files: ${G}`)}if(!A.existsSync(Q.versions))return;if(Si()&&A.existsSync(Q.locks)){let G=H91(Q.locks);if(G>0)f(`Cleaned up ${G} stale version locks`),r("tengu_native_stale_locks_cleanup",{cleaned_count:G})}try{let G=A.readdirStringSync(Q.versions).filter((V)=>{let E=HX(Q.versions,V);try{let D=A.statSync(E);return D.isFile()&&(D.size===0||yJA(E))}catch{return!1}}),Z=process.execPath,Y=Z&&Z.includes(Q.versions)?Ay(Z):null,J=new Set([...Y?[Y]:[]]),I=ZL8(Q.executable);if(I)J.add(I);for(let V of G){let E=Ay(Q.versions,V);if(J.has(E))continue;let D=yOA(Q,E),H=!1;if(Si())H=SOA(D);else try{H=await C91.default.check(E,{stale:k90,lockfilePath:D})}catch{H=!1}if(H)J.add(E),f(`Protecting locked version from cleanup: ${V}`)}let X=G.map((V)=>{let E=Ay(Q.versions,V);return{name:V,path:E,mtime:A.statSync(E).mtime}}).filter((V)=>!J.has(V.path)).sort((V,E)=>E.mtime.getTime()-V.mtime.getTime()),W=X.slice(rq8);if(W.length===0)return;let K=0;for(let V of W)try{if(await F82(V.path,()=>{A.unlinkSync(V.path)}))K++;else f(`Skipping deletion of ${V.name} - locked by another process`)}catch(E){s(Error(`Failed to delete version ${V.name}: ${E}`))}if(K>0)r("tengu_native_version_cleanup",{deleted_count:K,protected_count:J.size,retained_count:X.length-K})}catch(G){s(Error(`Version cleanup failed: ${G}`))}}function JL8(A){let Q=A;if(nq8(A).isSymbolicLink())Q=aq8(A);return Q.endsWith(".js")||Q.includes("node_modules")}function vOA(){let A=xi();try{if(!iq8(A.executable))return;if(JL8(A.executable)){f(`Skipping removal of ${A.executable} - appears to be npm-managed`);return}oq8(A.executable),f(`Removed claude symlink at ${A.executable}`)}catch(Q){s(Error(`Failed to remove claude symlink: ${Q}`))}}function kOA(){let A=[],Q=Pi();for(let[B,G]of Object.entries(Q))try{let Z=jOA(G);if(!Z)continue;let{filtered:Y,hadAlias:J}=W91(Z);if(J)K91(G,Y),A.push({message:`Removed claude alias from ${G}. Run: unalias claude`,userActionRequired:!0,type:"alias"}),f(`Cleaned up claude alias from ${B} config`)}catch(Z){s(Z instanceof Error?Z:Error(String(Z))),A.push({message:`Failed to clean up ${G}: ${Z}`,userActionRequired:!1,type:"error"})}return A}async function IL8(A){try{let Q=await L3("npm",["config","get","prefix"]);if(Q.code!==0||!Q.stdout)return{success:!1,error:"Failed to get npm global prefix"};let B=Q.stdout.trim(),G=jA(),Z=!1;if(tx()==="windows"){let Y=HX(B,"claude.cmd"),J=HX(B,"claude.ps1"),I=HX(B,"claude");if(G.existsSync(Y))G.unlinkSync(Y),f(`Manually removed bin script: ${Y}`),Z=!0;if(G.existsSync(J))G.unlinkSync(J),f(`Manually removed PowerShell script: ${J}`),Z=!0;if(G.existsSync(I))G.unlinkSync(I),f(`Manually removed bin executable: ${I}`),Z=!0}else{let Y=HX(B,"bin","claude");if(G.existsSync(Y))G.unlinkSync(Y),f(`Manually removed bin symlink: ${Y}`),Z=!0}if(Z){f(`Successfully removed ${A} manually`);let Y=tx()==="windows"?HX(B,"node_modules",A):HX(B,"lib","node_modules",A);return{success:!0,warning:`${A} executables removed, but node_modules directory was left intact for safety. You may manually delete it later at: ${Y}`}}else return{success:!1}}catch(Q){return f(`Manual removal failed: ${Q}`,{level:"error"}),{success:!1,error:`Manual removal failed: ${Q}`}}}async function D82(A){let{code:Q,stderr:B}=await L3("npm",["uninstall","-g",A],{cwd:jA().cwd()});if(Q===0)return f(`Removed global npm installation of ${A}`),{success:!0};else if(B&&!B.includes("npm ERR! code E404")){if(B.includes("npm error code ENOTEMPTY")){f(`Failed to uninstall global npm package ${A}: ${B}`,{level:"error"}),f("Attempting manual removal due to ENOTEMPTY error");let G=await IL8(A);if(G.success)return{success:!0,warning:G.warning};else if(G.error)return{success:!1,error:`Failed to remove global npm installation of ${A}: ${B}. Manual removal also failed: ${G.error}`}}return f(`Failed to uninstall global npm package ${A}: ${B}`,{level:"error"}),{success:!1,error:`Failed to remove global npm installation of ${A}: ${B}`}}return{success:!1}}async function fOA(){let A=[],Q=[],B=0,G=await D82("@anthropic-ai/claude-code");if(G.success){if(B++,G.warning)Q.push(G.warning)}else if(G.error)A.push(G.error);if({ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL&&{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL!=="@anthropic-ai/claude-code"){let J=await D82({ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL);if(J.success){if(B++,J.warning)Q.push(J.warning)}else if(J.error)A.push(J.error)}let Z=jA(),Y=HX(H82(),".claude","local");if(Z.existsSync(Y))try{Z.rmSync(Y,{recursive:!0,force:!0}),B++,f(`Removed local installation at ${Y}`)}catch(J){A.push(`Failed to remove ${Y}: ${J}`),f(`Failed to remove local installation: ${J}`,{level:"error"})}return{removed:B,errors:A,warnings:Q}}var C91,rq8=2,k90=2592000000;var x90=L(()=>{$8();ur();XQ();I6();J4();h1();bW();T0();Y0();_90();xQ();V91();qr();X82();zT();rQ();v90();C91=o(Gm(),1)});var By=L(()=>{x90()});function z82(A){return`${vJA.major(A,{loose:!0})}.${vJA.minor(A,{loose:!0})}.${vJA.patch(A,{loose:!0})}`}function z91(A,Q={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION){let[B,G]=U82.useState(()=>z82(Q));if(!A)return null;let Z=z82(A);if(Z!==B)return G(Z),Z;return null}var U82,vJA;var g90=L(()=>{U82=o(WA(),1),vJA=o(zR(),1)});function w82({isUpdating:A,onChangeIsUpdating:Q,onAutoUpdaterResult:B,autoUpdaterResult:G,showSuccessMessage:Z,verbose:Y}){let[J,I]=U91.useState({}),X=z91(G?.version),W=J5.useCallback(async()=>{if(A)return;let K={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,V=R7()?.autoUpdatesChannel??"latest",E=await g1A(V),D=Gy();if(I({global:K,latest:E}),!D&&K&&E&&!$82.gte(K,E,{loose:!0})){let H=Date.now();Q(!0);let F=d1();if(F.installMethod!=="native")vOA();let C=await yi();if(f(`AutoUpdater: Detected installation type: ${C}`),C==="development"){f("AutoUpdater: Cannot auto-update development build"),Q(!1);return}let U,O;if(C==="npm-local")f("AutoUpdater: Using local update method"),O="local",U=await EHA(V);else if(C==="npm-global")f("AutoUpdater: Using global update method"),O="global",U=await bOA();else if(C==="native"){f("AutoUpdater: Unexpected native installation in non-native updater"),Q(!1);return}else{f("AutoUpdater: Unknown installation type, falling back to config");let q=F.installMethod==="local";if(O=q?"local":"global",q)U=await EHA(V);else U=await bOA()}if(Q(!1),U==="success")u1A(),r("tengu_auto_updater_success",{fromVersion:K,toVersion:E,durationMs:Date.now()-H,wasMigrated:O==="local",installationType:C});else r("tengu_auto_updater_fail",{fromVersion:K,attemptedVersion:E,status:U,durationMs:Date.now()-H,wasMigrated:O==="local",installationType:C});B({version:E,status:U})}},[B]);if(U91.useEffect(()=>{W()},[W]),aG(W,1800000),!G?.version&&(!J.global||!J.latest))return null;if(!G?.version&&!A)return null;return J5.createElement(j,{flexDirection:"row",gap:1},Y&&J5.createElement(z,{dimColor:!0},"globalVersion: ",J.global," ¬∑ latestVersion:"," ",J.latest),A?J5.createElement(J5.Fragment,null,J5.createElement(j,null,J5.createElement(z,{color:"text",dimColor:!0,wrap:"end"},"Auto-updating‚Ä¶"))):G?.status==="success"&&Z&&X&&J5.createElement(z,{color:"success"},"‚úì Update installed ¬∑ Restart to apply"),(G?.status==="install_failed"||G?.status==="no_permissions")&&J5.createElement(z,{color:"error"},"‚úó Auto-update failed ¬∑ Try ",J5.createElement(z,{bold:!0},"claude doctor"),!Ed()&&J5.createElement(J5.Fragment,null," ","or ",J5.createElement(z,{bold:!0},"npm i -g ",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL)),Ed()&&J5.createElement(J5.Fragment,null," ","or"," ",J5.createElement(z,{bold:!0},"cd ~/.claude/local && npm update ",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL))))}var J5,$82,U91;var N82=L(()=>{fA();xQ();kJA();qr();By();UE();J4();T0();g90();zT();Y0();jB();J5=o(WA(),1),$82=o(zR(),1),U91=o(WA(),1)});function XL8(A){if(A.includes("timeout"))return"timeout";if(A.includes("Checksum mismatch"))return"checksum_mismatch";if(A.includes("ENOENT")||A.includes("not found"))return"not_found";if(A.includes("EACCES")||A.includes("permission"))return"permission_denied";if(A.includes("ENOSPC"))return"disk_full";if(A.includes("npm"))return"npm_error";if(A.includes("network")||A.includes("ECONNREFUSED")||A.includes("ENOTFOUND"))return"network_error";return"unknown"}function q82({isUpdating:A,onChangeIsUpdating:Q,onAutoUpdaterResult:B,autoUpdaterResult:G,showSuccessMessage:Z,verbose:Y}){let[J,I]=$91.useState({}),X=z91(G?.version),W=KK.useRef(!1),K=KK.useCallback(async()=>{if(A||Gy())return;Q(!0);let V=Date.now();r("tengu_native_auto_updater_start",{});try{let E=R7()?.autoUpdatesChannel??"latest",D=await $h(E),H={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,F=Date.now()-V;if(D.lockFailed){r("tengu_native_auto_updater_lock_contention",{latency_ms:F});return}if(I({current:H,latest:D.latestVersion}),D.wasUpdated)u1A(),r("tengu_native_auto_updater_success",{latency_ms:F}),B({version:D.latestVersion,status:"success"});else r("tengu_native_auto_updater_up_to_date",{latency_ms:F})}catch(E){let D=Date.now()-V,H=E instanceof Error?E.message:String(E);s(E instanceof Error?E:Error(String(E)));let F=XL8(H);r("tengu_native_auto_updater_fail",{latency_ms:D,error_timeout:F==="timeout",error_checksum:F==="checksum_mismatch",error_not_found:F==="not_found",error_permission:F==="permission_denied",error_disk_full:F==="disk_full",error_npm:F==="npm_error",error_network:F==="network_error"}),B({version:null,status:"install_failed"})}finally{Q(!1)}},[A,Q,B]);if($91.useEffect(()=>{if(!W.current)W.current=!0,K()}),aG(K,1800000),!G?.version&&(!J.current||!J.latest))return null;if(!G?.version&&!A)return null;return KK.createElement(j,{flexDirection:"row",gap:1},Y&&KK.createElement(z,{dimColor:!0},"current: ",J.current," ¬∑ latest: ",J.latest),A?KK.createElement(j,null,KK.createElement(z,{dimColor:!0,wrap:"end"},"Checking for updates")):G?.status==="success"&&Z&&X&&KK.createElement(z,{color:"success"},"‚úì Update installed ¬∑ Restart to update"),G?.status==="install_failed"&&KK.createElement(z,{color:"error"},"‚úó Auto-update failed ¬∑ Try ",KK.createElement(z,{bold:!0},"/status")))}var KK,$91;var L82=L(()=>{fA();xQ();By();UE();J4();T0();h1();g90();jB();KK=o(WA(),1),$91=o(WA(),1)});function w91(){let A=dQ();if(A!=="macos"&&A!=="linux"&&A!=="wsl")return!1;let Q=process.execPath||process.argv[0]||"";if(Q.includes("/Caskroom/"))return f(`Detected Homebrew cask installation: ${Q}`),!0;return!1}var fJA;var N91=L(()=>{k3();Y0();o2();fJA=Z0(()=>{if(w91())return"homebrew";return"unknown"})});function R82({verbose:A}){let[Q,B]=O82.useState(!1),G=fJA(),Z=RH.useCallback(async()=>{if(Gy())return;let J=R7()?.autoUpdatesChannel??"latest",I=await g1A(J),X=I&&!M82.gte({ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,I,{loose:!0});if(B(!!X),X)f(`PackageManagerAutoUpdater: Update available ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} -> ${I}`)},[]);if(RH.useEffect(()=>{Z()},[Z]),aG(Z,1800000),!Q)return null;let Y=G==="homebrew"?"brew upgrade claude-code":"your package manager update command";return RH.createElement(RH.Fragment,null,A&&RH.createElement(z,{dimColor:!0},"currentVersion: ",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION),RH.createElement(z,{color:"warning"},"Update available! Run: ",RH.createElement(z,{bold:!0},Y)))}var RH,M82,O82;var _82=L(()=>{fA();kJA();UE();Y0();N91();xQ();jB();RH=o(WA(),1),M82=o(zR(),1),O82=o(WA(),1)});async function q91(){let A=process.argv.includes("-p")||process.argv.includes("--print");if(hOA())return!1;if(!await JZ("auto_migrate_to_native"))return!1;if(z0(!1)||!1||A||z0(process.env.DISABLE_AUTO_MIGRATE_TO_NATIVE))return!1;if(d1().installMethod==="native")return!1;return!0}async function T82(){r("tengu_auto_migrate_to_native_attempt",{});try{let A=R7()?.autoUpdatesChannel??"latest",Q=await $h(A,!0),B=[];if(Q.latestVersion){r("tengu_auto_migrate_to_native_success",{}),f("‚úÖ Upgraded to native installation. Future sessions will use the native version.");let{removed:Z,errors:Y,warnings:J}=await fOA(),I=[];if(Y.length>0)Y.forEach((K)=>{I.push({message:K,userActionRequired:!1,type:"error"})});if(J.length>0)J.forEach((K)=>{I.push({message:K,userActionRequired:!1,type:"info"})});if(Z>0)I.push({message:`Cleaned up ${Z} old npm installation(s)`,userActionRequired:!1,type:"info"});let X=kOA();B=[...await Qy(!0),...X,...I]}else r("tengu_auto_migrate_to_native_partial",{}),f("‚ö†Ô∏è Native installation setup encountered issues but cleanup completed."),B=await Qy(!0);let G=[];if(B.length>0){let Z=B.filter((Y)=>Y.userActionRequired);if(Z.length>0){let Y=["‚ö†Ô∏è  Manual action required after migration to native installer:",...Z.map((J)=>`‚Ä¢ ${J.message}`)].join(`
bundles/ClaudeCodeCode/cli.js:2428:`),Y=Z[0]?.match(/^a\/(.+?) b\/(.+)$/);if(!Y)continue;let J=Y[2]??Y[1]??"",I=[],X=null,W=0;for(let K=1;K<Z.length;K++){let V=Z[K]??"",E=V.match(/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/);if(E){if(X)I.push(X);X={oldStart:parseInt(E[1]??"0",10),oldLines:parseInt(E[2]??"1",10),newStart:parseInt(E[3]??"0",10),newLines:parseInt(E[4]??"1",10),lines:[]};continue}if(V.startsWith("index ")||V.startsWith("---")||V.startsWith("+++")||V.startsWith("new file")||V.startsWith("deleted file")||V.startsWith("old mode")||V.startsWith("new mode")||V.startsWith("Binary files"))continue;if(X&&(V.startsWith("+")||V.startsWith("-")||V.startsWith(" ")||V==="")){if(W>=v95)continue;X.lines.push(V),W++}}if(X)I.push(X);if(I.length>0)Q.set(J,I)}return Q}async function b95(){let A=await uaQ();if(!A)return!1;return(await Promise.all(["MERGE_HEAD","REBASE_HEAD","CHERRY_PICK_HEAD","REVERT_HEAD"].map((G)=>S95(x95(A,G)).then(()=>!0).catch(()=>!1)))).some(Boolean)}var hH2=5000,gH2=50,y95=1e6,v95=400;var mH2=L(()=>{I6();AX()});function dH2(){let[A,Q]=yQ(),B=OIA.useCallback(async()=>{return},[Q]);return OIA.useEffect(()=>{B()},[B]),aG(()=>{B()},h95),OIA.useMemo(()=>{if(!A.gitDiff.stats)return null;return{stats:A.gitDiff.stats,perFileStats:A.gitDiff.perFileStats,hunks:A.gitDiff.hunks}},[A.gitDiff.stats,A.gitDiff.perFileStats,A.gitDiff.hunks])}var OIA,h95=1e4;var cH2=L(()=>{UE();u2();mH2();OIA=o(WA(),1)});function lH2({exitMessage:A,vimMode:Q,mode:B,toolPermissionContext:G,suppressHint:Z,tasksSelected:Y,diffSelected:J,isPasting:I,isSearching:X,historyQuery:W,setHistoryQuery:K,historyFailedMatch:V}){if(A.show)return J3.createElement(z,{dimColor:!0,key:"exit-message"},"Press ",A.key," again to exit");if(I)return J3.createElement(z,{dimColor:!0,key:"pasting-message"},"Pasting text‚Ä¶");let E=MIA()&&Q==="INSERT"&&!X;return J3.createElement(j,{justifyContent:"flex-start",gap:1},X&&J3.createElement(fH2,{value:W,onChange:K,historyFailedMatch:V}),E?J3.createElement(z,{dimColor:!0,key:"vim-insert"},"-- INSERT --"):null,J3.createElement(g95,{mode:B,toolPermissionContext:G,showHint:!Z&&!E,tasksSelected:Y,diffSelected:J}))}function g95({mode:A,toolPermissionContext:Q,showHint:B,tasksSelected:G,diffSelected:Z}){let{columns:Y}=kB(),[{tasks:J}]=yQ(),I=pH2.useMemo(()=>Object.values(J).filter((U)=>U.type==="remote_agent"||U.status==="running").length,[J]),X=dH2(),W=null;if(A==="memory")return J3.createElement(z,{color:"remember"},"# to memorize");if(A==="bash")return J3.createElement(z,{color:"bashBorder"},"! for bash mode");if(A==="background")return J3.createElement(z,{color:"background"},"& to background");let K=Q?.mode,V=!DaQ(K),E=I>0,D=(V?1:0)+(E?1:0),H=null,F=D<2,C=[...K&&V?[J3.createElement(z,{color:gR(K),key:"mode"},HaQ(K)," ",Bf(K).toLowerCase()," on",F&&J3.createElement(z,{dimColor:!0}," ",J3.createElement(R0,{shortcut:yz.displayText,action:"cycle",parens:!0})))]:[],...E?[J3.createElement(vH2,{key:"tasks",tasksSelected:G,showHint:B})]:[],...H?[J3.createElement(z,{key:"code-changes",dimColor:!Z,inverse:Z,color:Z?"background":void 0},null.filesCount," ",null.filesCount===1?"file":"files"," ",J3.createElement(z,{color:"diffAddedWord"},"+",null.linesAdded)," ",J3.createElement(z,{color:"diffRemovedWord"},"-",null.linesRemoved),Z&&B&&J3.createElement(z,{dimColor:!0}," ¬∑ Enter to view"))]:[]];if(C.length)return J3.createElement(j,null,J3.createElement(LB,null,C));if(!B)return null;return J3.createElement(z,{dimColor:!0},"? for shortcuts")}var J3,pH2;var iH2=L(()=>{fA();pRA();ad();Gw();kH2();u2();bH2();cH2();s4();l6();y6();J3=o(WA(),1),pH2=o(WA(),1)});function gh(){let[A]=yQ();return A.settings}var iRA=L(()=>{u2()});function z80(A){return A?.statusLine!==void 0}function u95(A,Q,B){let G=tr({permissionMode:A,mainLoopModel:g8(),exceeds200kTokens:Q}),Z=B?.outputStyle||kV;return{...sE(),model:{id:G,display_name:nD(G)},workspace:{current_dir:r1(),project_dir:pQ()},version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,output_style:{name:Z},cost:{total_cost_usd:sV(),total_duration_ms:VWA(),total_api_duration_ms:tN(),total_lines_added:jBA(),total_lines_removed:PBA()},context_window:{total_input_tokens:HPA(),total_output_tokens:FPA(),context_window_size:sN(G)},exceeds_200k_tokens:Q}}function nH2({messages:A}){let Q=uh.useRef(void 0),[{toolPermissionContext:B,statusLineText:G},Z]=yQ(),Y=gh(),J=uh.useRef({messageId:null,exceeds200kTokens:!1,permissionMode:B.mode}),I=uh.useCallback(async(K)=>{Q.current?.abort();let V=new AbortController;Q.current=V;try{let E=J.current.exceeds200kTokens;if(K!==void 0){let F=K.filter((O)=>O.type==="assistant"),C=F[F.length-1],U=C?.uuid||C?.message?.id||null;if(U!==J.current.messageId)E=heA(K),J.current.messageId=U,J.current.exceeds200kTokens=E}let D=u95(J.current.permissionMode,E,Y),H=await U80(D,V.signal);if(!V.signal.aborted)Z((F)=>({...F,statusLineText:H}))}catch{}},[Z,Y]),X=i3A(()=>I(A),300);if(uh.useEffect(()=>{let K=A.filter((D)=>D.type==="assistant"),V=K[K.length-1],E=V?.uuid||V?.message?.id||null;if(E!==J.current.messageId||B.mode!==J.current.permissionMode)J.current.messageId=E,J.current.permissionMode=B.mode,X()},[A,B.mode,X]),uh.useEffect(()=>{let K=Y?.statusLine;if(K){if(r("tengu_status_line_mount",{command_length:K.command.length,padding:K.padding}),Y.disableAllHooks===!0)f("Status line is configured but disableAllHooks is true",{level:"warn"})}},[]),uh.useEffect(()=>{return I(),()=>{Q.current?.abort()}},[]),!G)return null;let W=Y?.statusLine?.padding??0;return nRA.createElement(j,{paddingX:W},nRA.createElement(z,{dimColor:!0},G))}var nRA,uh;var aH2=L(()=>{fA();Tw();g0();pB();iRA();l2();UE();Tw();T0();Y0();u2();Ny();tq();Rw();nRA=o(WA(),1),uh=o(WA(),1)});function w80({suggestions:A,selectedSuggestion:Q}){let{rows:B}=kB(),G=Math.min(10,Math.max(1,B-3)),Z=(W)=>{return Math.max(...W.map((K)=>K.displayText.length))+5};if(A.length===0)return null;let Y=Z(A),J=Math.max(0,Math.min(Q-Math.floor(G/2),A.length-G)),I=Math.min(J+G,A.length),X=A.slice(J,I);return $C.createElement(j,{flexDirection:"column"},X.map((W)=>$C.createElement(m95,{key:W.id,item:W,maxColumnWidth:Y,isSelected:W.id===A[Q]?.id})))}var $C,$80,m95,qsG;var oH2=L(()=>{fA();y6();$C=o(WA(),1),$80=o(WA(),1),m95=$80.memo(function({item:Q,maxColumnWidth:B,isSelected:G}){let Z=kB().columns,Y=B??Q.displayText.length+5,J=Z<80||Q.description&&Y*2>Z,I=Q.color||(G?"suggestion":void 0),X=!G;return $C.createElement(j,{key:Q.id,flexDirection:J?"column":"row"},$C.createElement(j,{width:J?void 0:Y},$C.createElement(z,{color:I,dimColor:X},Q.displayText)),Q.description&&$C.createElement(j,{width:Z-(J?4:Y+4),paddingLeft:J?4:0},$C.createElement(z,{color:G?"suggestion":void 0,dimColor:!G,wrap:"wrap-trim"},Q.description)))});qsG=$80.memo(w80)});function d61(A){let{dimColor:Q,fixedWidth:B,gap:G,paddingX:Z}=A;return U2.createElement(j,{paddingX:Z,flexDirection:"row",gap:G},U2.createElement(j,{flexDirection:"column",width:B?22:void 0},U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"! for bash mode")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"/ for commands")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"@ for file paths")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"# to memorize")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"& for background"))),U2.createElement(j,{flexDirection:"column",width:B?35:void 0},U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"double tap esc to clear input")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},yz.displayText.replace("+"," + ")," to auto-accept edits")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"ctrl + o for verbose output")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"ctrl + t to show todos")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},SH2()))),U2.createElement(j,{flexDirection:"column"},U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"ctrl + _ to undo")),hL0&&U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"ctrl + z to suspend")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},qs.displayText.replace("+"," + ")," to paste images")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},kcA.displayText.replace("+"," + ")," to switch model")),U2.createElement(j,null,U2.createElement(z,{dimColor:Q},"ctrl + s to stash prompt"))))}var U2;var N80=L(()=>{fA();ad();k3();pRA();U2=o(WA(),1)});function d95({apiKeyStatus:A,debug:Q,exitMessage:B,vimMode:G,mode:Z,autoUpdaterResult:Y,isAutoUpdating:J,verbose:I,onAutoUpdaterResult:X,onChangeIsUpdating:W,suggestions:K,selectedSuggestion:V,toolPermissionContext:E,helpOpen:D,suppressHint:H,tasksSelected:F,diffSelected:C,ideSelection:U,mcpClients:O,isPasting:q=!1,isInputWrapped:M=!1,messages:_,isSearching:T,historyQuery:y,setHistoryQuery:h,historyFailedMatch:x,shouldShowSearchHint:m,shouldShowStashHint:g}){let t=gh(),p=H||z80(t)||T;if(K.length)return tE.createElement(j,{paddingX:2,paddingY:0},tE.createElement(w80,{suggestions:K,selectedSuggestion:V}));if(D)return tE.createElement(d61,{dimColor:!0,fixedWidth:!0,paddingX:2});return tE.createElement(j,{flexDirection:"row",justifyContent:"space-between",paddingX:2},tE.createElement(j,{flexDirection:"column"},Z==="prompt"&&!B.show&&!q&&z80(t)&&tE.createElement(nH2,{messages:_}),tE.createElement(lH2,{exitMessage:B,vimMode:G,mode:Z,toolPermissionContext:E,suppressHint:p,tasksSelected:F,diffSelected:C,isPasting:q,isSearching:T,historyQuery:y,setHistoryQuery:h,historyFailedMatch:x})),tE.createElement(KD2,{apiKeyStatus:A,autoUpdaterResult:Y,debug:Q,isAutoUpdating:J,verbose:I,messages:_,onAutoUpdaterResult:X,onChangeIsUpdating:W,ideSelection:U,mcpClients:O,isInputWrapped:M,shouldShowSearchHint:m,shouldShowStashHint:g}))}var tE,rH2,sH2;var tH2=L(()=>{fA();iH2();T61();aH2();iRA();oH2();N80();tE=o(WA(),1),rH2=o(WA(),1);sH2=rH2.memo(d95)});import{join as c95,dirname as p95}from"path";import{homedir as l95}from"os";async function i95(A,Q){let{code:B}=await L3("git",["check-ignore",A],{preserveOutputOnError:!1,cwd:Q});return B===0}function n95(){return c95(l95(),".config","git","ignore")}async function q80(A,Q=r1()){try{if(!await ky1(Q))return;let B=`**/${A}`,G=A.endsWith("/")?`${A}sample-file.txt`:A;if(await i95(G,Q))return;let Z=n95(),Y=jA(),J=p95(Z);if(!Y.existsSync(J))Y.mkdirSync(J);if(Y.existsSync(Z)){if(Y.readFileSync(Z,{encoding:"utf-8"}).includes(B))return;Y.appendFileSync(Z,`
bundles/ClaudeCodeCode/cli.js:2620:`);if(Z.length===0)continue;let Y=Z[0];if(!Y)continue;let J=Y.split(" - ")[0]?.trim()||"";if(!J)continue;let I=Z.slice(1).filter((X)=>X.trim().startsWith("- ")).map((X)=>X.trim().substring(2).trim()).filter(Boolean);if(I.length>0)Q[J]=I}return Q}catch(Q){return s(Q instanceof Error?Q:Error("Failed to parse changelog")),{}}}function O85(A,Q,B=R0A()){try{let G=U31(B),Z=An.coerce(A),Y=Q?An.coerce(Q):null;if(!Y||Z&&An.gt(Z,Y,{loose:!0}))return Object.entries(G).filter(([J])=>!Y||An.gt(J,Y,{loose:!0})).sort(([J],[I])=>An.gt(J,I,{loose:!0})?-1:1).flatMap(([J,I])=>I).filter(Boolean).slice(0,L85)}catch(G){return s(G instanceof Error?G:Error("Failed to get release notes")),[]}return[]}function O50(A=R0A()){try{let Q=U31(A);return Object.keys(Q).sort((G,Z)=>An.gt(G,Z,{loose:!0})?1:-1).map((G)=>{let Z=Q[G];if(!Z||Z.length===0)return null;let Y=Z.filter(Boolean);if(Y.length===0)return null;return[G,Y]}).filter((G)=>G!==null)}catch(Q){return s(Q instanceof Error?Q:Error("Failed to get release notes")),[]}}function H_A(A,Q={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION){if(A!==Q||!R0A())M50().catch((Z)=>s(Z instanceof Error?Z:Error("Failed to fetch changelog")));let B=O85(Q,A);return{hasReleaseNotes:B.length>0,releaseNotes:B}}var An,L85=5,n$2="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md",M85="https://raw.githubusercontent.com/anthropics/claude-code/refs/heads/main/CHANGELOG.md";var xIA=L(()=>{h1();b8();xQ();g0();An=o(zR(),1)});function r$2(A){if(A>=70)return"horizontal";return"compact"}function s$2(A,Q,B){if(Q==="horizontal"){let Z=B,Y=R50+w31+$31+Z,J=A-Y,I=Math.max(30,J),X=Math.min(Z+I+$31+w31,A-R50);if(X<Z+I+$31+w31)I=X-Z-$31-w31;return{leftWidth:Z,rightWidth:I,totalWidth:X}}let G=Math.min(A-R50,o$2+20);return{leftWidth:G,rightWidth:G,totalWidth:G}}function t$2(A,Q,B){let G=Math.max(A.length,Q.length,B.length,20);return Math.min(G+4,o$2)}function q31(A){if(!A||A.length>R85)return"Welcome back!";return`Welcome back ${A}!`}function C_A(A,Q){if(A.length<=Q)return A;let B="/",G="‚Ä¶",Z=A.split(B),Y=Z[0]||"",J=Z[Z.length-1]||"";if(Z.length===1)return A.substring(0,Q-G.length)+G;if(Y===""&&G.length+B.length+J.length>=Q)return`${B}${J.substring(0,Q-G.length-B.length)}${G}`;if(Y!==""&&G.length*2+B.length+J.length>=Q)return`${G}${B}${J.substring(0,Q-G.length*2-B.length)}${G}`;if(Z.length===2)return`${Y.substring(0,Q-G.length-B.length-J.length)}${G}${B}${J}`;let I=Q-Y.length-J.length-G.length-2*B.length;if(I<=0)return`${Y.substring(0,Math.max(0,Q-J.length-G.length-2*B.length))}${B}${G}${B}${J}`;let X=[];for(let W=Z.length-2;W>0;W--){let K=Z[W];if(K&&K.length+B.length<=I)X.unshift(K),I-=K.length+B.length;else break}if(X.length===0)return`${Y}${B}${G}${B}${J}`;return`${Y}${B}${G}${B}${X.join(B)}${B}${J}`}async function e$2(){if(N31)return N31;let A=W0();return N31=GAA(10).then((Q)=>{return F_A=Q.filter((B)=>{if(B.isSidechain)return!1;if(B.leafUuid===A)return!1;if(B.summary?.includes("I apologize"))return!1;let G=B.summary&&B.summary!=="No prompt",Z=B.firstPrompt&&B.firstPrompt!=="No prompt";return G||Z}).slice(0,3),F_A}).catch(()=>{return F_A=[],F_A}),N31}function Aw2(){return F_A}function L31(){let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,Q=J8(r1()),B=g8(),G=EbQ(B),Z=RB()?pR1():"API Usage Billing",Y=R7().agent;return{version:A,cwd:Q,modelDisplayName:G,billingType:Z,agentName:Y}}function Qw2(A,Q,B){if(A.length+3+Q.length>B)return{shouldSplit:!0,truncatedModel:Q5(A,B),truncatedBilling:Q5(Q,B)};return{shouldSplit:!1,truncatedModel:Q5(A,Math.max(B-Q.length-3,10)),truncatedBilling:Q}}function Bw2(A){let Q=R0A();if(!Q)return[];let B=U31(Q),G=[],Z=Object.keys(B).sort((Y,J)=>a$2.gt(Y,J,{loose:!0})?-1:1).slice(0,3);for(let Y of Z){let J=B[Y];if(J)G.push(...J)}return G.slice(0,A)}var a$2,o$2=50,R85=20,R50=4,$31=1,w31=2,F_A,N31=null;var M31=L(()=>{xIA();R8();g0();pB();M9();F2();l2();jB();a$2=o(zR(),1);F_A=[]});function _50(){if(JQ.terminal==="Apple_Terminal")return P2.createElement(_85,null);return P2.createElement(j,{flexDirection:"column"},P2.createElement(z,null,P2.createElement(z,{color:"text"}," *"),P2.createElement(z,{color:"ice_blue"}," ‚ñê"),P2.createElement(z,{color:"ice_blue",backgroundColor:"clawd_background"},"‚ñõ‚ñà‚ñà‚ñà‚ñú"),P2.createElement(z,{color:"ice_blue"},"‚ñå"),P2.createElement(z,{color:"text"}," *")),P2.createElement(z,null,P2.createElement(z,{color:"text"},"*"),P2.createElement(z,{color:"ice_blue"}," ‚ñù‚ñú"),P2.createElement(z,{color:"ice_blue",backgroundColor:"clawd_background"},"‚ñà‚ñà‚ñà‚ñà‚ñà"),P2.createElement(z,{color:"ice_blue"},"‚ñõ‚ñò"),P2.createElement(z,{color:"text"}," *")),P2.createElement(z,null,P2.createElement(z,{color:"text"}," * "),P2.createElement(z,{color:"ice_blue"}," ‚ñò‚ñò ‚ñù‚ñù","  "),P2.createElement(z,{color:"text"},"*")))}function _85(){return P2.createElement(j,{flexDirection:"column",alignItems:"center"},P2.createElement(z,null,P2.createElement(z,{color:"text"}," * "),P2.createElement(z,{color:"ice_blue"},"‚ñó"),P2.createElement(z,{color:"clawd_background",backgroundColor:"ice_blue"}," ","‚ñó","   ","‚ññ"," "),P2.createElement(z,{color:"ice_blue"},"‚ññ"),P2.createElement(z,{color:"text"}," *")),P2.createElement(z,null,P2.createElement(z,{color:"text"},"*","   "),P2.createElement(z,{backgroundColor:"ice_blue"}," ".repeat(7)),P2.createElement(z,{color:"text"},"   ","*")),P2.createElement(z,null,P2.createElement(z,{color:"text"}," * "),P2.createElement(z,{color:"ice_blue"},"  ","‚ñò‚ñò ‚ñù‚ñù","  "),P2.createElement(z,{color:"text"}," *")))}var P2;var Gw2=L(()=>{fA();$8();P2=o(WA(),1)});function Zw2(A){let{title:Q,lines:B,footer:G,emptyMessage:Z,customContent:Y}=A,J=Q.length;if(Y!==void 0)J=Math.max(J,Y.width);else if(B.length===0&&Z)J=Math.max(J,Z.length);else{let X=Math.max(0,...B.map((W)=>W.timestamp?W.timestamp.length:0));for(let W of B){let K=X>0?X:0,V=W.text.length+(K>0?K+2:0);J=Math.max(J,V)}}if(G)J=Math.max(J,G.length);return J}function Yw2({config:A,actualWidth:Q}){let{title:B,lines:G,footer:Z,emptyMessage:Y,customContent:J}=A,I="  ",X=Math.max(0,...G.map((W)=>W.timestamp?W.timestamp.length:0));return _7.createElement(j,{flexDirection:"column",width:Q},_7.createElement(z,{bold:!0,color:"claude"},B),J?_7.createElement(_7.Fragment,null,J.content,Z&&_7.createElement(z,{dimColor:!0,italic:!0},Q5(Z,Q))):G.length===0&&Y?_7.createElement(z,{dimColor:!0},Q5(Y,Q)):_7.createElement(_7.Fragment,null,G.map((W,K)=>{let V=Math.max(10,Q-(X>0?X+2:0));return _7.createElement(z,{key:K},X>0&&_7.createElement(_7.Fragment,null,_7.createElement(z,{dimColor:!0},(W.timestamp||"").padEnd(X)),"  "),_7.createElement(z,null,Q5(W.text,V)))}),Z&&_7.createElement(z,{dimColor:!0,italic:!0},Q5(Z,Q))))}var _7;var Jw2=L(()=>{fA();_7=o(WA(),1)});function Iw2({feeds:A,maxWidth:Q}){let B=A.map((Y)=>Zw2(Y)),G=Math.max(...B),Z=Math.min(G,Q);return xT.createElement(j,{flexDirection:"column"},A.map((Y,J)=>xT.createElement(xT.Fragment,{key:J},xT.createElement(Yw2,{config:Y,actualWidth:Z}),J<A.length-1&&xT.createElement(p8,{dividerColor:"claude"}))))}var xT;var Xw2=L(()=>{fA();Jw2();AK();xT=o(WA(),1)});import{homedir as T85}from"os";function O31(A){let Q=A.map((B)=>{let G=mr(B.modified);return{text:(B.summary&&B.summary!=="No prompt"?B.summary:B.firstPrompt)||"",timestamp:G}});return{title:"Recent activity",lines:Q,footer:Q.length>0?"/resume for more":void 0,emptyMessage:"No recent activity"}}function Ww2(A){let Q=A.map((G)=>{return{text:G}}),B="Check the Claude Code changelog for updates";return{title:"What's new",lines:Q,footer:Q.length>0?"/release-notes for more":void 0,emptyMessage:"Check the Claude Code changelog for updates"}}function Kw2(A){let B=A.filter(({isEnabled:Z})=>Z).sort((Z,Y)=>Number(Z.isComplete)-Number(Y.isComplete)).map(({text:Z,isComplete:Y})=>{return{text:`${Y?`${X1.tick} `:""}${Z}`}}),G=r1()===T85()?"Note: You have launched claude in your home directory. For the best experience, launch it in a project directory instead.":void 0;if(G)B.push({text:G});return{title:"Tips for getting started",lines:B}}function Vw2(){return{title:"3 guest passes",lines:[],customContent:{content:dM.createElement(dM.Fragment,null,dM.createElement(j,{marginY:1},dM.createElement(z,{color:"claude"},"[‚úª] [‚úª] [‚úª]")),dM.createElement(z,{dimColor:!0},"Share Claude Code with friends")),width:30},footer:"/passes"}}var dM;var Ew2=L(()=>{g2();pB();fA();dM=o(WA(),1)});async function j85(A="claude_code_guest_pass"){let{accessToken:Q,orgUUID:B}=await sS(),G={...oW(Q),"x-organization-uuid":B},Z=`${u9().BASE_API_URL}/api/oauth/organizations/${B}/referral/eligibility`;return(await wQ.get(Z,{headers:G,params:{campaign:A}})).data}async function Fw2(A="claude_code_guest_pass"){let{accessToken:Q,orgUUID:B}=await sS(),G={...oW(Q),"x-organization-uuid":B},Z=`${u9().BASE_API_URL}/api/oauth/organizations/${B}/referral/redemptions`;return(await wQ.get(Z,{headers:G,params:{campaign:A}})).data}function Cw2(){return!!(q8()?.organizationUuid&&RB()&&d6()==="max")}function R31(){if(!Cw2())return{eligible:!1,needsRefresh:!1,hasCache:!1};let A=q8()?.organizationUuid;if(!A)return{eligible:!1,needsRefresh:!1,hasCache:!1};let B=d1().passesEligibilityCache?.[A];if(!B)return{eligible:!1,needsRefresh:!0,hasCache:!1};let{eligible:G,timestamp:Z}=B,J=Date.now()-Z>Hw2;return{eligible:G,needsRefresh:J,hasCache:!0}}async function Dw2(){if(z_A)return f("Passes: Reusing in-flight eligibility fetch"),z_A;let A=q8()?.organizationUuid;if(!A)return null;return z_A=(async()=>{try{let Q=await j85(),B={...Q,timestamp:Date.now()};return i0((G)=>({...G,passesEligibilityCache:{...G.passesEligibilityCache,[A]:B}})),f(`Passes eligibility cached for org ${A}: ${Q.eligible}`),Q}catch(Q){return f("Failed to fetch and cache passes eligibility"),s(Q),null}finally{z_A=null}})(),z_A}async function U_A(){if(!Cw2())return null;let A=q8()?.organizationUuid;if(!A)return null;let B=d1().passesEligibilityCache?.[A],G=Date.now();if(!B)return f("Passes: No cache, fetching eligibility"),await Dw2();if(G-B.timestamp>Hw2){f("Passes: Cache stale, returning cached data and refreshing in background"),Dw2();let{timestamp:J,...I}=B;return I}f("Passes: Using fresh cached eligibility data");let{timestamp:Z,...Y}=B;return Y}async function zw2(){U_A()}var Hw2=3600000,z_A=null;var yIA=L(()=>{b8();eJ();zb();xQ();F2();Y0();h1()});function P85(){let A=d1(),{eligible:Q,hasCache:B}=R31();if(!Q||!B)return!1;if((A.passesUpsellSeenCount??0)>=3)return!1;if(A.hasVisitedPasses)return!1;return!0}function _31(){let[A]=Uw2.useState(()=>P85());return A}function T31(){let Q=(d1().passesUpsellSeenCount??0)+1;i0((B)=>({...B,passesUpsellSeenCount:(B.passesUpsellSeenCount??0)+1})),r("tengu_guest_passes_upsell_shown",{seen_count:Q})}function $w2(){return ih.createElement(z,{dimColor:!0},ih.createElement(z,{color:"claude"},"[‚úª]")," ",ih.createElement(z,{color:"claude"},"[‚úª]")," ",ih.createElement(z,{color:"claude"},"[‚úª]")," ¬∑ 3 guest passes at /passes")}var ih,Uw2;var T50=L(()=>{fA();xQ();yIA();T0();ih=o(WA(),1),Uw2=o(WA(),1)});function S85(){if(JQ.terminal==="Apple_Terminal")return KB.createElement(j,{flexDirection:"column",alignItems:"center"},KB.createElement(z,null,KB.createElement(z,{color:"text"}," * "),KB.createElement(z,{color:"ice_blue"},"‚ñó"),KB.createElement(z,{color:"clawd_background",backgroundColor:"ice_blue"}," ","‚ñó","   ","‚ññ"," "),KB.createElement(z,{color:"ice_blue"},"‚ññ"),KB.createElement(z,{color:"text"}," *")),KB.createElement(z,null,KB.createElement(z,{color:"text"},"*","   "),KB.createElement(z,{backgroundColor:"ice_blue"}," ".repeat(7)),KB.createElement(z,{color:"text"},"   ","*")),KB.createElement(z,null,KB.createElement(z,{color:"text"}," * "),KB.createElement(z,{color:"ice_blue"},"  ","‚ñò‚ñò ‚ñù‚ñù","  "),KB.createElement(z,{color:"text"}," *")));return KB.createElement(j,{flexDirection:"column"},KB.createElement(z,null,KB.createElement(z,{color:"text"}," *"),KB.createElement(z,{color:"ice_blue"}," ‚ñê"),KB.createElement(z,{color:"ice_blue",backgroundColor:"clawd_background"},"‚ñõ‚ñà‚ñà‚ñà‚ñú"),KB.createElement(z,{color:"ice_blue"},"‚ñå"),KB.createElement(z,{color:"text"}," *")),KB.createElement(z,null,KB.createElement(z,{color:"text"},"*"),KB.createElement(z,{color:"ice_blue"}," ‚ñù‚ñú"),KB.createElement(z,{color:"ice_blue",backgroundColor:"clawd_background"},"‚ñà‚ñà‚ñà‚ñà‚ñà"),KB.createElement(z,{color:"ice_blue"},"‚ñõ‚ñò"),KB.createElement(z,{color:"text"}," *")),KB.createElement(z,null,KB.createElement(z,{color:"text"}," * "),KB.createElement(z,{color:"ice_blue"}," ‚ñò‚ñò ‚ñù‚ñù","  "),KB.createElement(z,{color:"text"},"*")))}function Nw2(){let{columns:A}=kB(),[Q]=yQ(),{version:B,cwd:G,modelDisplayName:Z,billingType:Y,agentName:J}=L31(),I=Q.agent??J,X=_31();ww2.useEffect(()=>{if(X)T31()},[X]);let W=Math.max(A-15,20),V=Q5(B,Math.max(W-"Claude Code v".length,6)),{shouldSplit:E,truncatedModel:D,truncatedBilling:H}=Qw2(Z,Y,W),F=" ¬∑ ",C=I?W-I.length-F.length:W,U=C_A(G,Math.max(C,10));return KB.createElement(j,{flexDirection:"row",gap:2,alignItems:"center"},KB.createElement(S85,null),KB.createElement(j,{flexDirection:"column"},KB.createElement(z,null,KB.createElement(z,{bold:!0},"Claude Code")," ",KB.createElement(z,{dimColor:!0},"v",V)),E?KB.createElement(KB.Fragment,null,KB.createElement(z,{dimColor:!0},D),KB.createElement(z,{dimColor:!0},H)):KB.createElement(z,{dimColor:!0},D," ¬∑ ",H),KB.createElement(z,{dimColor:!0},I?`${I} ¬∑ ${U}`:U),X&&KB.createElement($w2,null)))}var KB,ww2;var qw2=L(()=>{fA();$8();y6();M31();T50();u2();KB=o(WA(),1),ww2=o(WA(),1)});function j50(){let A=j31.useMemo(y85,[]);if(j31.useEffect(()=>{Ow2(Lw2)},[A.tip]),!A.tip)return null;return $_A.createElement(j,{paddingLeft:2,flexDirection:"column"},$_A.createElement(z,{...A.color==="warning"?{color:"warning"}:A.color==="error"?{color:"error"}:{dimColor:!0}},A.tip))}function y85(){return q3A(Lw2,x85)}var $_A,j31,Lw2="tengu-top-of-feed-tip",x85;var Mw2=L(()=>{fA();J4();$_A=o(WA(),1),j31=o(WA(),1);x85={tip:"",color:"dim"}});function Rw2({isBeforeFirstMessage:A}){let Q=l$2(A),B=Aw2(),G=d1().oauthAccount?.displayName??"",Z=Bw2(3),{columns:Y}=kB(),J=xlQ(),I=NB.isSandboxingEnabled(),X=_31(),W=gh(),[K]=yQ(),V=d1(),E=V.oauthAccount?.organizationName,D=W.companyAnnouncements,[H]=w_A.useState(()=>D&&D.length>0?V.numStartups===1?D[0]:D[Math.floor(Math.random()*D.length)]:void 0),{hasReleaseNotes:F}=H_A(V.lastReleaseNotesSeen);w_A.useEffect(()=>{if(d1().lastReleaseNotesSeen==={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION)return;if(i0((SA)=>{if(SA.lastReleaseNotesSeen==={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION)return SA;return{...SA,lastReleaseNotesSeen:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}}),J)ylQ()},[V,J]),w_A.useEffect(()=>{if(X&&!J)T31()},[X,J]);let{version:C,cwd:U,modelDisplayName:O,billingType:q,agentName:M}=L31(),_=K.agent??M,T=Q5(O,P50-20);if(!F&&!J&&!z0(process.env.CLAUDE_CODE_FORCE_FULL_LOGO))return uQ.createElement(uQ.Fragment,null,uQ.createElement(j,null),uQ.createElement(Nw2,null),kBA()&&uQ.createElement(j,{paddingLeft:2,flexDirection:"column"},uQ.createElement(z,{color:"warning"},"Debug mode enabled"),uQ.createElement(z,{dimColor:!0},"Logging to: ",qj()?"stderr":_a())),uQ.createElement(j50,null),H&&uQ.createElement(j,{paddingLeft:2,flexDirection:"column"},E&&uQ.createElement(z,{dimColor:!0},"Message from ",E,":"),uQ.createElement(z,null,H)),!1,!1);let y=r$2(Y),h=d1().theme,x=` ${vB("claude",h)("Claude Code")} ${vB("inactive",h)(`v${C}`)} `,m=vB("claude",h)(" Claude Code ");if(y==="compact"){let SA=q31(G);if(SA.length>Y-4)SA=q31(null);let yA=" ¬∑ ",ZA=_?Y-4-_.length-yA.length:Y-4,GA=C_A(U,Math.max(ZA,10));return uQ.createElement(uQ.Fragment,null,uQ.createElement(j,{flexDirection:"column",borderStyle:"round",borderColor:"claude",borderText:{content:m,position:"top",align:"start",offset:1},paddingX:1,paddingY:1,alignItems:"center",width:Y},uQ.createElement(z,{bold:!0},SA),uQ.createElement(j,{marginY:1},uQ.createElement(j,{height:5,flexDirection:"column",justifyContent:"flex-end"},uQ.createElement(j,{marginBottom:Q},uQ.createElement(_50,null)))),uQ.createElement(z,{dimColor:!0},T),uQ.createElement(z,{dimColor:!0},q),uQ.createElement(z,{dimColor:!0},_?`${_} ¬∑ ${GA}`:GA)),I&&uQ.createElement(j,{marginTop:1,flexDirection:"column"},uQ.createElement(z,{color:"warning"},"Your bash commands will be sandboxed. Disable with /sandbox.")))}let g=q31(G),t=E?`${T} ¬∑ ${q} ¬∑ ${E}`:`${T} ¬∑ ${q}`,p=" ¬∑ ",k=_?P50-_.length-p.length:P50,c=C_A(U,Math.max(k,10)),e=_?`${_} ¬∑ ${c}`:c,AA=t$2(g,e,t),{leftWidth:VA,rightWidth:OA}=s$2(Y,y,AA);return uQ.createElement(uQ.Fragment,null,uQ.createElement(j,null),uQ.createElement(j,{flexDirection:"column",borderStyle:"round",borderColor:"claude",borderText:{content:x,position:"top",align:"start",offset:3}},uQ.createElement(j,{flexDirection:y==="horizontal"?"row":"column",paddingX:1,gap:1},uQ.createElement(j,{flexDirection:"column",width:VA,justifyContent:"space-between",alignItems:"center",minHeight:9},uQ.createElement(j,{marginTop:1},uQ.createElement(z,{bold:!0},g)),uQ.createElement(j,{height:5,flexDirection:"column",justifyContent:"flex-end"},uQ.createElement(j,{marginBottom:Q},uQ.createElement(_50,null))),uQ.createElement(j,{flexDirection:"column",alignItems:"center"},uQ.createElement(z,{dimColor:!0},t),uQ.createElement(z,{dimColor:!0},e))),y==="horizontal"&&uQ.createElement(p8,{orientation:"vertical",dividerColor:"claude"}),y==="horizontal"&&uQ.createElement(Iw2,{feeds:J?[Kw2(Mx1()),O31(B)]:X?[O31(B),Vw2()]:[O31(B),Ww2(Z)],maxWidth:OA}))),kBA()&&uQ.createElement(j,{paddingLeft:2,flexDirection:"column"},uQ.createElement(z,{color:"warning"},"Debug mode enabled"),uQ.createElement(z,{dimColor:!0},"Logging to: ",qj()?"stderr":_a())),uQ.createElement(j50,null),H&&uQ.createElement(j,{paddingLeft:2,flexDirection:"column"},E&&uQ.createElement(z,{dimColor:!0},"Message from ",E,":"),uQ.createElement(z,null,H)),I&&uQ.createElement(j,{paddingLeft:2,flexDirection:"column"},uQ.createElement(z,{color:"warning"},"Your bash commands will be sandboxed. Disable with /sandbox.")),!1,!1)}var uQ,w_A,P50=50;var _w2=L(()=>{fA();y6();i$2();M31();M9();Gw2();Xw2();Ew2();AK();xQ();iRA();Y0();KCA();qw2();xIA();xMA();rQ();Ta();Mw2();XI();T50();u2();uQ=o(WA(),1),w_A=o(WA(),1)});function k85(A,Q,B,G,Z,Y,J){if(Y==="transcript")return!0;switch(A.type){case"attachment":case"user":case"assistant":{let I=L_A(A);if(!I)return!0;if(Q.has(I))return!1;if(G.has(I))return!1;if(xw2(I,"PostToolUse",J))return!1;return u$2(Z,B)}case"system":return A.subtype!=="api_error";case"grouped_tool_use":return A.messages.every((X)=>{let W=X.message.content[0];return W?.type==="tool_use"&&B.has(W.id)});case"collapsed_read_search":return!1}}var C3,nh,N_A=10,v85=({messages:A,normalizedMessageHistory:Q,tools:B,verbose:G,toolJSX:Z,toolUseConfirmQueue:Y,inProgressToolUseIDs:J,isMessageSelectorVisible:I,conversationId:X,screen:W,screenToggleId:K,streamingToolUses:V,showAllInTranscript:E=!1,agentDefinitions:D,onOpenRateLimitOptions:H,hideLogo:F=!1,isLoading:C})=>{let{columns:U}=kB(),O=nh.useContext(Pz),q=nh.useMemo(()=>[...Q,...UY(A).filter(vIA)],[A,Q]),M=nh.useMemo(()=>new Set(Object.keys(P31(q))),[q]),_=nh.useMemo(()=>yw2(q),[q]),T=nh.useMemo(()=>V.filter((t)=>{if(J.has(t.contentBlock.id))return!1;if(q.some((p)=>p.type==="assistant"&&p.message.content[0].type==="tool_use"&&p.message.content[0].id===t.contentBlock.id))return!1;return!0}),[V,J,q]),y=nh.useMemo(()=>T.flatMap((t)=>UY([hE({content:[t.contentBlock]})])),[T]),h=nh.useMemo(()=>{let t=W==="transcript",p=t&&!E,k=G?q:IT(q),c=Tw2(k.filter((OA)=>OA.type!=="progress").filter((OA)=>vw2(OA,t)),y),e=p?c.slice(-N_A):c,AA=p&&c.length>N_A,VA={type:"static",jsx:C3.createElement(j,{flexDirection:"column",gap:1,key:`logo-${X}-${K}`},C3.createElement(Rw2,{isBeforeFirstMessage:!1}),C3.createElement(b$2,{agentDefinitions:D}))};return[...F?[]:[VA],...AA?[{type:"static",jsx:C3.createElement(p8,{key:`truncation-indicator-${X}-${K}`,dividerChar:"‚îÄ",title:`Ctrl+E to show ${cA.bold(q.length-N_A)} previous messages`,width:U})}]:[],...t&&E&&q.length>N_A?[{type:"static",jsx:C3.createElement(p8,{key:`hide-indicator-${X}-${K}`,dividerChar:"‚îÄ",title:`Ctrl+E to hide ${cA.bold(q.length-N_A)} previous messages`,width:U})}]:[],...(()=>{let{messages:OA}=j$2(e,B,G),EA=w$2(OA,G),SA=jw2(q,e),yA=new Set(V.map((zA)=>zA.contentBlock.id)),ZA=(!Z||!!Z.shouldContinueAnimation)&&!Y.length&&!I,GA=EA.length-1;return EA.map((zA,bA)=>{let TA=zA.type==="grouped_tool_use",G1=zA.type==="collapsed_read_search",YA=G1&&bA===GA&&C,CA=TA?zA.displayMessage:G1?U$2(zA):zA,MA=TA||G1?[]:Sw2(zA,SA),NA=TA||G1?new Set:Pw2(zA,SA),UA=k85(zA,yA,M,J,NA,W,SA)?"static":"transient",LA=!1;if(ZA)if(TA)LA=zA.messages.some((lA)=>{let gA=lA.message.content[0];return gA?.type==="tool_use"&&J.has(gA.id)});else if(G1)LA=z$2(zA,J);else{let lA=L_A(zA);LA=!lA||J.has(lA)}return{type:UA,jsx:C3.createElement(j,{key:`${zA.uuid}-${X}-${K}`,width:U,flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",gap:1},C3.createElement(ST,{message:zA,messages:q,addMargin:!0,tools:B,verbose:G,erroredToolUseIDs:_,inProgressToolUseIDs:J,progressMessagesForMessage:MA,shouldAnimate:LA,shouldShowDot:!0,resolvedToolUseIDs:M,isTranscriptMode:t,isStatic:UA==="static",onOpenRateLimitOptions:H,isActiveCollapsedGroup:YA}),C3.createElement(m$2,{message:CA,isTranscriptMode:t}),C3.createElement(c$2,{message:CA,isTranscriptMode:t}))}})})()]},[F,W,E,G,q,y,X,K,D,U,V,M,B,_,J,Z,Y.length,I,H,C]),x=J.size>0;if(O)return C3.createElement(C3.Fragment,null,h.map((t)=>t.jsx),x?C3.createElement(V_A,{state:"indeterminate"}):C3.createElement(V_A,{state:"completed"}));let m=h.filter((t)=>t.type==="static"),g=h.filter((t)=>t.type==="transient");return C3.createElement(C3.Fragment,null,C3.createElement(fd,{key:`static-messages-${X}-${K}`,items:m},(t)=>t.jsx),g.map((t)=>t.jsx),x?C3.createElement(V_A,{state:"indeterminate"}):C3.createElement(V_A,{state:"completed"}))},Qn;var q_A=L(()=>{fA();fA();T$2();vd();HB();V31();h$2();PIA();y6();AK();t2();d$2();p$2();_w2();C3=o(WA(),1),nh=o(WA(),1),Qn=C3.memo(v85,(A,Q)=>{let B=Object.keys(A);for(let G of B){if(G==="onOpenRateLimitOptions")continue;if(A[G]!==Q[G]){if(G==="streamingToolUses"){let Z=A.streamingToolUses,Y=Q.streamingToolUses;if(Z.length===Y.length&&Z.every((J,I)=>J.contentBlock===Y[I]?.contentBlock))continue}return!1}}return!0})});var kw2,f85;var fw2=L(()=>{fA();c9();C50();q_A();kw2=o(WA(),1),f85=o(WA(),1)});function bw2({shell:A}){switch(A.status){case"completed":return kIA.default.createElement(z,{color:"success",dimColor:!0},"done");case"failed":return kIA.default.createElement(z,{color:"error",dimColor:!0},"error");case"killed":return kIA.default.createElement(z,{color:"error",dimColor:!0},"killed");case"running":case"pending":{let Q=DZA(A.id),B=b85(Q);if(!B)return kIA.default.createElement(z,{dimColor:!0},"no output");return kIA.default.createElement(z,{dimColor:!0},Q5(B,20,!0))}}}function b85(A){if(!A)return"";let Q=A.split(`
bundles/ClaudeCodeCode/cli.js:2656:ARGUMENTS: ${_}`;return y=vi1(y,Z),y=await Bn(y,{...T,async getAppState(){let h=await T.getAppState();return{...h,toolPermissionContext:{...h.toolPermissionContext,alwaysAllowRules:{...h.toolPermissionContext.alwaysAllowRules,command:K}}}}},`/${A}`),[{type:"text",text:y}]}}}catch(I){return f(`Failed to create command from ${Q.filePath}: ${I}`,{level:"error"}),null}}function n31(){j0A.cache?.clear?.()}async function zq2(A,Q,B,G,Z){let Y=jA(),J=[];try{if(!Y.existsSync(A))return[];let I=uIA(A,"SKILL.md");if(Y.existsSync(I)){try{let W=Y.readFileSync(I,{encoding:"utf-8"}),{frontmatter:K,content:V}=dW(W),E=`${Q}:${mIA(A)}`,D={filePath:I,baseDir:Gn(I),frontmatter:K,content:V},H=y_A(E,D,B,G,Z,!0,{isSkillMode:!0});if(H)J.push(H)}catch(W){f(`Failed to load skill from ${I}: ${W}`,{level:"error"})}return J}let X=Y.readdirSync(A);for(let W of X){if(!W.isDirectory()&&!W.isSymbolicLink())continue;let K=uIA(A,W.name),V=uIA(K,"SKILL.md");if(Y.existsSync(V))try{let E=Y.readFileSync(V,{encoding:"utf-8"}),{frontmatter:D,content:H}=dW(E),F=`${Q}:${W.name}`,C={filePath:V,baseDir:Gn(V),frontmatter:D,content:H},U=y_A(F,C,B,G,Z,!0,{isSkillMode:!0});if(U)J.push(U)}catch(E){f(`Failed to load skill from ${V}: ${E}`,{level:"error"})}}}catch(I){f(`Failed to load skills from directory ${A}: ${I}`,{level:"error"})}return J}function Uq2(){B70.cache?.clear?.()}var C55="plugin",z55="plugin",j0A,B70;var v_A=L(()=>{o2();XQ();YW();Y0();x_A();lx();rQ();ki1();l2();j0A=Z0(async()=>{let{enabled:A,errors:Q}=await h5(),B=[];if(Q.length>0)f(`Plugin loading errors: ${Q.map((G)=>oL(G)).join(", ")}`);for(let G of A){if(G.commandsPath)try{let Z=await Cq2(G.commandsPath,G.name,G.source,G.manifest,G.path);if(B.push(...Z),Z.length>0)f(`Loaded ${Z.length} commands from plugin ${G.name} default directory`)}catch(Z){f(`Failed to load commands from plugin ${G.name} default directory: ${Z}`,{level:"error"})}if(G.commandsPaths){f(`Plugin ${G.name} has commandsPaths: ${G.commandsPaths.join(", ")}`);for(let Z of G.commandsPaths)try{let Y=jA(),J=Y.statSync(Z);if(f(`Checking commandPath ${Z} - isDirectory: ${J.isDirectory()}, isFile: ${J.isFile()}`),J.isDirectory()){let I=await Cq2(Z,G.name,G.source,G.manifest,G.path);if(B.push(...I),I.length>0)f(`Loaded ${I.length} commands from plugin ${G.name} custom path: ${Z}`);else f(`Warning: No commands found in plugin ${G.name} custom directory: ${Z}. Expected .md files or SKILL.md in subdirectories.`,{level:"warn"})}else if(J.isFile()&&Z.endsWith(".md")){let I=Y.readFileSync(Z,{encoding:"utf-8"}),{frontmatter:X,content:W}=dW(I),K,V;if(G.commandsMetadata){for(let[F,C]of Object.entries(G.commandsMetadata))if(C.source){let U=uIA(G.path,C.source);if(Z===U){K=`${G.name}:${F}`,V=C;break}}}if(!K)K=`${G.name}:${mIA(Z).replace(/\.md$/,"")}`;let E=V?{...X,...V.description&&{description:V.description},...V.argumentHint&&{"argument-hint":V.argumentHint},...V.model&&{model:V.model},...V.allowedTools&&{"allowed-tools":V.allowedTools.join(",")}}:X,D={filePath:Z,baseDir:Gn(Z),frontmatter:E,content:W},H=y_A(K,D,G.source,G.manifest,G.path,!1);if(H)B.push(H),f(`Loaded command from plugin ${G.name} custom file: ${Z}${V?" (with metadata override)":""}`)}}catch(Y){f(`Failed to load commands from plugin ${G.name} custom path ${Z}: ${Y}`,{level:"error"})}}if(G.commandsMetadata){for(let[Z,Y]of Object.entries(G.commandsMetadata))if(Y.content&&!Y.source)try{let{frontmatter:J,content:I}=dW(Y.content),X={...J,...Y.description&&{description:Y.description},...Y.argumentHint&&{"argument-hint":Y.argumentHint},...Y.model&&{model:Y.model},...Y.allowedTools&&{"allowed-tools":Y.allowedTools.join(",")}},W=`${G.name}:${Z}`,K={filePath:`<inline:${W}>`,baseDir:G.path,frontmatter:X,content:I},V=y_A(W,K,G.source,G.manifest,G.path,!1);if(V)B.push(V),f(`Loaded inline content command from plugin ${G.name}: ${W}`)}catch(J){f(`Failed to load inline content command ${Z} from plugin ${G.name}: ${J}`,{level:"error"})}}}return f(`Total plugin commands loaded: ${B.length}`),B});B70=Z0(async()=>{let{enabled:A,errors:Q}=await h5(),B=[];if(Q.length>0)f(`Plugin loading errors: ${Q.map((G)=>oL(G)).join(", ")}`);f(`getPluginSkills: Processing ${A.length} enabled plugins`);for(let G of A){if(f(`Checking plugin ${G.name}: skillsPath=${G.skillsPath?"exists":"none"}, skillsPaths=${G.skillsPaths?G.skillsPaths.length:0} paths`),G.skillsPath){f(`Attempting to load skills from plugin ${G.name} default skillsPath: ${G.skillsPath}`);try{let Z=await zq2(G.skillsPath,G.name,G.source,G.manifest,G.path);B.push(...Z),f(`Loaded ${Z.length} skills from plugin ${G.name} default directory`)}catch(Z){f(`Failed to load skills from plugin ${G.name} default directory: ${Z}`,{level:"error"})}}if(G.skillsPaths){f(`Attempting to load skills from plugin ${G.name} skillsPaths: ${G.skillsPaths.join(", ")}`);for(let Z of G.skillsPaths)try{f(`Loading from skillPath: ${Z} for plugin ${G.name}`);let Y=await zq2(Z,G.name,G.source,G.manifest,G.path);B.push(...Y),f(`Loaded ${Y.length} skills from plugin ${G.name} custom path: ${Z}`)}catch(Y){f(`Failed to load skills from plugin ${G.name} custom path ${Z}: ${Y}`,{level:"error"})}}}return f(`Total plugin skills loaded: ${B.length}`),B})});function o31(){let[,A]=yQ(),Q=a31.useCallback(async()=>{try{let{enabled:B,disabled:G,errors:Z}=await h5(),Y=[],J=[];try{Y=await j0A()}catch(I){let X=I instanceof Error?I.message:String(I);Z.push({type:"generic-error",source:"plugin-commands",error:`Failed to load plugin commands: ${X}`})}try{J=await w1A()}catch(I){let X=I instanceof Error?I.message:String(I);Z.push({type:"generic-error",source:"plugin-agents",error:`Failed to load plugin agents: ${X}`})}try{await El()}catch(I){let X=I instanceof Error?I.message:String(I);Z.push({type:"generic-error",source:"plugin-hooks",error:`Failed to load plugin hooks: ${X}`})}A((I)=>({...I,plugins:{...I.plugins,enabled:B,disabled:G,commands:Y,agents:J,errors:Z}})),f(`Loaded plugins - Enabled: ${B.length}, Disabled: ${G.length}, Commands: ${Y.length}, Agents: ${J.length}, Errors: ${Z.length}`)}catch(B){let G=B instanceof Error?B:Error(String(B));s(G),f(`Error loading plugins: ${B}`),A((Z)=>({...Z,plugins:{...Z.plugins,enabled:[],disabled:[],commands:[],agents:[],errors:[{type:"generic-error",source:"plugin-system",error:G.message}]}}))}},[A]);return a31.useEffect(()=>{Q()},[Q]),{refreshPlugins:Q}}var a31;var G70=L(()=>{u2();YW();v_A();uMA();HqA();Y0();h1();a31=o(WA(),1)});function wq2(A,Q,B,G,Z){let Y=$q2.useContext(Pz);k1(async(J,I)=>{if(I.ctrl&&J==="o"){if(Q((X)=>X==="transcript"?"prompt":"transcript"),B((X)=>X+1),G(!1),!Y)await Z()}if(I.ctrl&&J==="e"&&A==="transcript"){if(G((X)=>!X),B((X)=>X+1),!Y)await Z()}if(I.ctrl&&J==="c"&&A==="transcript"||I.escape&&A==="transcript"){if(Q("prompt"),B((X)=>X+1),G(!1),!Y)await Z()}})}var $q2;var Nq2=L(()=>{fA();vd();$q2=o(WA(),1)});function qq2(A,Q){let B=k_A.useRef(!1),G=k_A.useRef(null);k_A.useEffect(()=>{let Z=ez(A);if(G.current!==Z)B.current=!1,G.current=Z||null,Q({lineCount:0,lineStart:void 0,text:void 0,filePath:void 0});if(B.current||!Z)return;let Y=(J)=>{if(J.selection?.start&&J.selection?.end){let{start:I,end:X}=J.selection,W=X.line-I.line+1;if(X.character===0)W--;let K={lineCount:W,lineStart:I.line,text:J.text,filePath:J.filePath};Q(K)}};Z.client.setNotificationHandler(N55,(J)=>{if(G.current!==Z)return;try{let I=J.params;if(I.selection&&I.selection.start&&I.selection.end)Y(I);else if(I.text!==void 0)Y({selection:null,text:I.text,filePath:I.filePath})}catch(I){s(I)}}),B.current=!0},[A,Q])}var k_A,N55;var Lq2=L(()=>{z2();PJ();h1();k_A=o(WA(),1),N55=P.object({method:P.literal("selection_changed"),params:P.object({selection:P.object({start:P.object({line:P.number(),character:P.number()}),end:P.object({line:P.number(),character:P.number()})}).nullable().optional(),text:P.string().optional(),filePath:P.string().optional()})})});function Oq2(A){return A.isNonInteractiveSession}function r31(A){try{let Q=new Mq2.default({allErrors:!0});if(!Q.validateSchema(A))throw Error(`Invalid JSON Schema: ${Q.errorsText(Q.errors)}`);let G=Q.compile(A);return{...Z70,inputJSONSchema:A,async call(Z){if(!G(Z)){let J=G.errors?.map((I)=>`${I.dataPath||"root"}: ${I.message}`).join(", ");throw Error(`Output does not match required schema: ${J}`)}return{data:"Structured output provided successfully",structured_output:Z}}}}catch{return null}}var Mq2,q55,L55,wC="StructuredOutput",Z70;var dIA=L(()=>{z2();Mq2=o(ErA(),1),q55=P.object({}).passthrough(),L55=P.string().describe("Structured output tool result");Z70={isMcp:!1,isEnabled(){return!0},isConcurrencySafe(){return!0},isReadOnly(){return!0},isDestructive(){return!1},isOpenWorld(){return!1},name:wC,async description(){return"Return structured output in the requested format"},async prompt(){return"Use this tool to return your final response in the requested structured format. You MUST call this tool exactly once at the end of your response to provide the structured output."},inputSchema:q55,outputSchema:L55,async call(A){return{data:"Structured output provided successfully",structured_output:A}},async checkPermissions(A){return{behavior:"allow",updatedInput:A}},renderToolUseMessage(A){let Q=Object.keys(A);if(Q.length===0)return null;if(Q.length<=3)return Q.map((B)=>`${B}: ${JSON.stringify(A[B])}`).join(", ");return`${Q.length} fields: ${Q.slice(0,3).join(", ")}‚Ä¶`},userFacingName:()=>wC,renderToolUseRejectedMessage(){return"Structured output rejected"},renderToolUseErrorMessage(){return"Structured output error"},renderToolUseProgressMessage(){return null},renderToolResultMessage(A){return A},mapToolResultToToolResultBlockParam(A,Q){return{tool_use_id:Q,type:"tool_result",content:A}}}});import{randomUUID as Zn}from"node:crypto";async function*O55(A,Q,B,G){let Z=!Ra(),{permissionResult:Y,assistantMessage:J}=A,{toolUseID:I}=Y;if(!I)return;let X=J.message.content,W;if(Array.isArray(X)){for(let C of X)if(C.type==="tool_use"&&C.id===I){W=C;break}}if(!W)return;let{name:K,input:V}=W;if(!Q.find((C)=>C.name===K))return;let D={...W,input:Y.behavior==="allow"?Y.updatedInput:V},H=async()=>({...Y,decisionReason:{type:"mode",mode:"default"}});if(B.push(J),Z)await ZAA(B);yield{...J,session_id:W0(),parent_tool_use_id:null};for await(let C of iQ0([D],[J],H,G))if(C.message){if(B.push(C.message),Z)await ZAA(B);yield{...C.message,session_id:W0(),parent_tool_use_id:null}}}function R55(A){if(!A)return!1;if(A.type==="assistant"){let Q=zF(A.message.content);return Q?.type==="text"||Q?.type==="thinking"||Q?.type==="redacted_thinking"}if(A.type==="user"){let Q=A.message.content;if(!Array.isArray(Q)||Q.length===0)return!1;return Q.every((B)=>("type"in B)&&B.type==="tool_result")}return!1}async function*Rq2({commands:A,prompt:Q,promptUuid:B,cwd:G,tools:Z,mcpClients:Y,verbose:J=!1,maxThinkingTokens:I,maxTurns:X,maxBudgetUsd:W,canUseTool:K,mutableMessages:V=[],customSystemPrompt:E,appendSystemPrompt:D,userSpecifiedModel:H,fallbackModel:F,sdkBetas:C,jsonSchema:U,getAppState:O,setAppState:q,abortController:M,replayUserMessages:_=!1,includePartialMessages:T=!1,agents:y=[],setSDKStatus:h,orphanedPermission:x}){GN(G);let m=!Ra(),g=Date.now(),t=[],p=async(w1,eA,V1,R1,G0,U0)=>{let C0=await K(w1,eA,V1,R1,G0,U0);if(C0.behavior!=="allow"){let HA={tool_name:w1.name,tool_use_id:G0,tool_input:eA};t.push(HA)}return C0},k=await O(),c=H?nI(H):g8(),[e,AA,VA]=await Promise.all([Ji(Z,c,Array.from(k.toolPermissionContext.additionalWorkingDirectories.keys()),Y,k.toolPermissionContext),_V(),typeof E==="string"?Promise.resolve({}):nE()]),OA=[...typeof E==="string"?[E]:e,...D?[D]:[]],EA=typeof D==="string",SA=Z.some((w1)=>w1.name===wC);if(U&&SA)mMA(q,W0(),"Stop","",(w1)=>t31(w1,wC),`You MUST call the ${wC} tool to complete this request. Call this tool now.`,{timeout:5000});let yA={messages:V,setMessages:()=>{},onChangeAPIKey:()=>{},options:{commands:A,debug:!1,tools:Z,verbose:J,mainLoopModel:c,maxThinkingTokens:I??0,mcpClients:Y,mcpResources:{},ideInstallationStatus:null,isNonInteractiveSession:!0,hasAppendSystemPrompt:EA,agentDefinitions:{activeAgents:y,allAgents:[]},theme:d1().theme,maxBudgetUsd:W,sdkBetas:C},getAppState:O,setAppState:q,abortController:M??g9(),readFileState:s31(V,G),setInProgressToolUseIDs:()=>{},setResponseLength:()=>{},updateFileHistoryState:(w1)=>{q((eA)=>({...eA,fileHistory:w1(eA.fileHistory)}))},agentId:W0(),setSDKStatus:h};if(x)for await(let w1 of O55(x,Z,V,yA))yield w1;let{messages:ZA,shouldQuery:GA,allowedTools:zA,maxThinkingTokens:bA,model:TA}=await vT({input:Q,mode:"prompt",setIsLoading:()=>{},setToolJSX:()=>{},context:{...yA,messages:V},messages:V,uuid:B,querySource:"sdk"});V.push(...ZA);let G1=I??bA??0,YA=[...V],CA=ZA.filter((w1)=>w1.type==="user"&&!w1.isMeta&&!w1.toolUseResult||w1.type==="system"&&w1.subtype==="compact_boundary"),MA=_?CA:[];q((w1)=>({...w1,toolPermissionContext:{...w1.toolPermissionContext,alwaysAllowRules:{...w1.toolPermissionContext.alwaysAllowRules,command:zA}}}));let NA=TA??c,UA=s31(YA,G),LA=ueA(UA,yA.readFileState);yA={messages:YA,setMessages:()=>{},onChangeAPIKey:()=>{},options:{commands:A,debug:!1,tools:Z,verbose:J,mainLoopModel:NA,maxThinkingTokens:G1,mcpClients:Y,mcpResources:{},ideInstallationStatus:null,isNonInteractiveSession:!0,hasAppendSystemPrompt:EA,theme:d1().theme,agentDefinitions:{activeAgents:y,allAgents:[]},maxBudgetUsd:W,sdkBetas:C},getAppState:O,setAppState:q,abortController:M||g9(),readFileState:LA,setInProgressToolUseIDs:()=>{},setResponseLength:()=>{},updateFileHistoryState:yA.updateFileHistoryState,agentId:W0(),setSDKStatus:h};let gA=NQ()?.outputStyle??kV,[I1,{enabled:$1}]=await Promise.all([QB1(r1()),h5()]);if(yield{type:"system",subtype:"init",cwd:G,session_id:W0(),tools:Z.map((w1)=>w1.name),mcp_servers:Y.map((w1)=>({name:w1.name,status:w1.type})),model:NA,permissionMode:k.toolPermissionContext.mode,slash_commands:A.map((w1)=>w1.name),apiKeySource:cD().source,betas:C,claude_code_version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,output_style:gA,agents:y.map((w1)=>w1.agentType),skills:I1.map((w1)=>w1.name),plugins:$1.map((w1)=>({name:w1.name,path:w1.path})),uuid:Zn()},z1A("system_message_yielded"),!GA){for(let w1 of CA){if(w1.type==="user"&&typeof w1.message.content==="string"&&(w1.message.content.includes("<local-command-stdout>")||w1.message.content.includes("<local-command-stderr>")||w1.isCompactSummary))YA.push(w1),yield{type:"user",message:{...w1.message,content:oI(w1.message.content)},session_id:W0(),parent_tool_use_id:null,uuid:w1.uuid,isReplay:!w1.isCompactSummary};if(w1.type==="system"&&w1.subtype==="compact_boundary")YA.push(w1),yield{type:"system",subtype:"compact_boundary",session_id:W0(),uuid:w1.uuid,compact_metadata:{trigger:w1.compactMetadata.trigger,pre_tokens:w1.compactMetadata.preTokens}}}if(m)await ZAA(YA);yield{type:"result",subtype:"success",is_error:!1,duration_ms:Date.now()-g,duration_api_ms:tN(),num_turns:YA.length-1,result:"",session_id:W0(),total_cost_usd:sV(),usage:$M,modelUsage:{},permission_denials:t,uuid:Zn()};return}if(o7()&&m)ZA.filter(Di).forEach((w1)=>{uGA((eA)=>{q((V1)=>({...V1,fileHistory:eA(V1.fileHistory)}))},w1.uuid)});let RA=$M,B1=$M,m1=1,S1=!1,H0,ZQ=U?Y70(V,wC):0;for await(let w1 of LU({messages:YA,systemPrompt:OA,userContext:AA,systemContext:VA,canUseTool:p,toolUseContext:yA,fallbackModel:F,querySource:"sdk"})){if(w1.type==="assistant"||w1.type==="user"||w1.type==="system"&&w1.subtype==="compact_boundary"){if(YA.push(w1),m)await ZAA(YA);if(!S1&&MA.length>0){S1=!0;for(let eA of MA)if(eA.type==="user")yield{type:"user",message:eA.message,session_id:W0(),parent_tool_use_id:null,uuid:eA.uuid,isReplay:!0}}}if(w1.type==="user")m1++;switch(w1.type){case"tombstone":break;case"assistant":case"progress":case"user":V.push(w1),yield*j55(w1);break;case"stream_event":if(w1.event.type==="message_start")B1=$M,B1=b_A(B1,w1.event.message.usage);if(w1.event.type==="message_delta")B1=b_A(B1,w1.event.usage);if(w1.event.type==="message_stop")RA=FB1(RA,B1);if(T)yield{type:"stream_event",event:w1.event,session_id:W0(),parent_tool_use_id:null,uuid:Zn()};break;case"attachment":if(V.push(w1),drB(w1.attachment))yield{type:"system",subtype:"hook_response",session_id:W0(),uuid:w1.uuid,hook_name:w1.attachment.hookName,hook_event:w1.attachment.hookEvent,stdout:w1.attachment.stdout,stderr:w1.attachment.stderr,exit_code:w1.attachment.exitCode};else if(HQ1(w1.attachment))yield{type:"system",subtype:"hook_response",session_id:W0(),uuid:w1.uuid,hook_name:w1.attachment.hookName,hook_event:w1.attachment.hookEvent,stdout:w1.attachment.stdout||"",stderr:w1.attachment.stderr||"",exit_code:w1.attachment.exitCode};else if(_&&DQ1(w1)){let eA=w1.attachment;if(eA.type==="queued_command")yield{type:"user",message:{role:"user",content:typeof eA.prompt==="string"?eA.prompt:eA.prompt},session_id:W0(),parent_tool_use_id:null,uuid:eA.source_uuid||w1.uuid,isReplay:!0}}else if(w1.attachment.type==="structured_output")H0=w1.attachment.data;break;case"stream_request_start":break;case"system":if(V.push(w1),w1.subtype==="compact_boundary"&&w1.compactMetadata)yield{type:"system",subtype:"compact_boundary",session_id:W0(),uuid:w1.uuid,compact_metadata:{trigger:w1.compactMetadata.trigger,pre_tokens:w1.compactMetadata.preTokens}};break}if(w1.type==="user"&&X&&m1>=X){yield{type:"result",subtype:"error_max_turns",duration_ms:Date.now()-g,duration_api_ms:tN(),is_error:!1,num_turns:m1,session_id:W0(),total_cost_usd:sV(),usage:RA,modelUsage:Nv(),permission_denials:t,uuid:Zn(),errors:[]};return}if(W!==void 0&&sV()>=W){yield{type:"result",subtype:"error_max_budget_usd",duration_ms:Date.now()-g,duration_api_ms:tN(),is_error:!1,num_turns:m1,session_id:W0(),total_cost_usd:sV(),usage:RA,modelUsage:Nv(),permission_denials:t,uuid:Zn(),errors:[]};return}if(w1.type==="user"&&U){let V1=Y70(V,wC)-ZQ,R1=parseInt(process.env.MAX_STRUCTURED_OUTPUT_RETRIES||"5",10);if(V1>=R1){yield{type:"result",subtype:"error_max_structured_output_retries",duration_ms:Date.now()-g,duration_api_ms:tN(),is_error:!1,num_turns:m1,session_id:W0(),total_cost_usd:sV(),usage:RA,modelUsage:Nv(),permission_denials:t,uuid:Zn(),errors:[`Failed to provide valid structured output after ${R1} attempts`]};return}}}let o0=zF(YA);if(!R55(o0)){yield{type:"result",subtype:"error_during_execution",duration_ms:Date.now()-g,duration_api_ms:tN(),is_error:!1,num_turns:m1,session_id:W0(),total_cost_usd:sV(),usage:RA,modelUsage:Nv(),permission_denials:t,uuid:Zn(),errors:mBA().map((w1)=>w1.error)};return}let EQ="",WQ=!1;if(o0.type==="assistant"){let w1=zF(o0.message.content);if(w1?.type==="text")EQ=w1.text;WQ=Boolean(o0.isApiErrorMessage)}yield{type:"result",subtype:"success",is_error:WQ,duration_ms:Date.now()-g,duration_api_ms:tN(),num_turns:m1,result:EQ,session_id:W0(),total_cost_usd:sV(),usage:RA,modelUsage:Nv(),permission_denials:t,structured_output:H0,uuid:Zn()}}function*j55(A){switch(A.type){case"assistant":for(let Q of UY([A]))yield{type:"assistant",message:Q.message,parent_tool_use_id:null,session_id:W0(),uuid:Q.uuid,error:Q.error};return;case"progress":if(A.data.type==="agent_progress")for(let Q of UY([A.data.message]))switch(Q.type){case"assistant":yield{type:"assistant",message:Q.message,parent_tool_use_id:A.parentToolUseID,session_id:W0(),uuid:Q.uuid,error:Q.error};break;case"user":yield{type:"user",message:Q.message,parent_tool_use_id:A.parentToolUseID,session_id:W0(),uuid:Q.uuid,isSynthetic:Q.isMeta||Q.isVisibleInTranscriptOnly,tool_use_result:Q.toolUseResult};break}else if(A.data.type==="bash_progress"){if(!process.env.CLAUDE_CODE_REMOTE&&!process.env.CLAUDE_CODE_CONTAINER_ID)break;let Q=A.parentToolUseID,B=Date.now(),G=f_A.get(Q)||0;if(B-G>=T55){if(f_A.size>=_55){let Y=f_A.keys().next().value;if(Y!==void 0)f_A.delete(Y)}f_A.set(Q,B),yield{type:"tool_progress",tool_use_id:A.toolUseID,tool_name:"Bash",parent_tool_use_id:A.parentToolUseID,elapsed_time_seconds:A.data.elapsedTimeSeconds,session_id:W0(),uuid:A.uuid}}}break;case"user":for(let Q of UY([A]))yield{type:"user",message:Q.message,parent_tool_use_id:null,session_id:W0(),uuid:Q.uuid,isSynthetic:Q.isMeta||Q.isVisibleInTranscriptOnly,tool_use_result:Q.toolUseResult};return;default:}}function s31(A,Q,B=M55){let G=Tb(B),Z=new Map,Y=new Map;for(let J of A)if(J.type==="assistant"&&Array.isArray(J.message.content)){for(let I of J.message.content)if(I.type==="tool_use"&&I.name===L8){let X=I.input;if(X?.file_path&&X?.offset===void 0&&X?.limit===void 0){let W=t9(X.file_path,Q);Z.set(I.id,W)}}else if(I.type==="tool_use"&&I.name===sX){let X=I.input;if(X?.file_path&&X?.content){let W=t9(X.file_path,Q);Y.set(I.id,{filePath:W,content:X.content})}}}for(let J of A)if(J.type==="user"&&Array.isArray(J.message.content)){for(let I of J.message.content)if(I.type==="tool_result"&&I.tool_use_id){let X=Z.get(I.tool_use_id);if(X&&typeof I.content==="string"){let E=I.content.replace(/<system-reminder>[\s\S]*?<\/system-reminder>/g,"").split(`[0m

[35m[3mthinking[0m[0m
**Searching for version pattern**

I realized the output from rg includes a large line from undici eventsource, which isn't isolating the version properly. It seems that there might not be any matches because the version object isn't in the expected pattern; it looks like `{...VERSION:"2.0.69"...}`. So, I should search for `VERSION:"2.0.69"` exactly. I need to ensure my pattern matches it correctly, focusing on the quotes to avoid discrepancies. Let's refine my search further.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n 'VERSION:\"2\\.0\\.' bundles/ClaudeAgentSDKCode/cli.js bundles/ClaudeCodeCode/cli.js | head -10"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 136ms:[0m
[2mbundles/ClaudeAgentSDKCode/cli.js:189:${Z}`;break;case"retry":if(MFQ(Z))Q[G]=Z;break;case"id":if(OFQ(Z))Q[G]=Z;break;case"event":if(Z.length>0)Q[G]=Z;break}}processEvent(A){if(A.retry&&MFQ(A.retry))this.state.reconnectionTime=parseInt(A.retry,10);if(A.id&&OFQ(A.id))this.state.lastEventId=A.id;if(A.data!==void 0)this.push({type:A.event||"message",options:{data:A.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}_FQ.exports={EventSourceStream:RFQ}});var fFQ=w((Kt5,kFQ)=>{var{pipeline:Iz3}=qA("node:stream"),{fetching:Xz3}=dDA(),{makeRequest:Wz3}=N3A(),{webidl:ck}=LE(),{EventSourceStream:Kz3}=TFQ(),{parseMIMEType:Vz3}=jz(),{createFastMessageEvent:Ez3}=_3A(),{isNetworkError:jFQ}=uDA(),{delay:Dz3}=DR1(),{kEnumerableProperty:Sr}=p6(),{environmentSettingsObject:PFQ}=Qw(),SFQ=!1,xFQ=3000,QHA=0,yFQ=1,BHA=2,Hz3="anonymous",Fz3="use-credentials";class x3A extends EventTarget{#A={open:null,error:null,message:null};#Q=null;#B=!1;#Z=QHA;#G=null;#I=null;#Y;#K;constructor(A,Q={}){super();ck.util.markAsUncloneable(this);let B="EventSource constructor";if(ck.argumentLengthCheck(arguments,1,B),!SFQ)SFQ=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"});A=ck.converters.USVString(A,B,"url"),Q=ck.converters.EventSourceInitDict(Q,B,"eventSourceInitDict"),this.#Y=Q.dispatcher,this.#K={lastEventId:"",reconnectionTime:xFQ};let G=PFQ,Z;try{Z=new URL(A,G.settingsObject.baseUrl),this.#K.origin=Z.origin}catch(I){throw new DOMException(I,"SyntaxError")}this.#Q=Z.href;let Y=Hz3;if(Q.withCredentials)Y=Fz3,this.#B=!0;let J={redirect:"follow",keepalive:!0,mode:"cors",credentials:Y==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};J.client=PFQ.settingsObject,J.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],J.cache="no-store",J.initiator="other",J.urlList=[new URL(this.#Q)],this.#G=Wz3(J),this.#V()}get readyState(){return this.#Z}get url(){return this.#Q}get withCredentials(){return this.#B}#V(){if(this.#Z===BHA)return;this.#Z=QHA;let A={request:this.#G,dispatcher:this.#Y},Q=(B)=>{if(jFQ(B))this.dispatchEvent(new Event("error")),this.close();this.#X()};A.processResponseEndOfBody=Q,A.processResponse=(B)=>{if(jFQ(B))if(B.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#X();return}let G=B.headersList.get("content-type",!0),Z=G!==null?Vz3(G):"failure",Y=Z!=="failure"&&Z.essence==="text/event-stream";if(B.status!==200||Y===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#Z=yFQ,this.dispatchEvent(new Event("open")),this.#K.origin=B.urlList[B.urlList.length-1].origin;let J=new Kz3({eventSourceSettings:this.#K,push:(I)=>{this.dispatchEvent(Ez3(I.type,I.options))}});Iz3(B.body.stream,J,(I)=>{if(I?.aborted===!1)this.close(),this.dispatchEvent(new Event("error"))})},this.#I=Xz3(A)}async#X(){if(this.#Z===BHA)return;if(this.#Z=QHA,this.dispatchEvent(new Event("error")),await Dz3(this.#K.reconnectionTime),this.#Z!==QHA)return;if(this.#K.lastEventId.length)this.#G.headersList.set("last-event-id",this.#K.lastEventId,!0);this.#V()}close(){if(ck.brandCheck(this,x3A),this.#Z===BHA)return;this.#Z=BHA,this.#I.abort(),this.#G=null}get onopen(){return this.#A.open}set onopen(A){if(this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onmessage(){return this.#A.message}set onmessage(A){if(this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get onerror(){return this.#A.error}set onerror(A){if(this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}}var vFQ={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:QHA,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:yFQ,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:BHA,writable:!1}};Object.defineProperties(x3A,vFQ);Object.defineProperties(x3A.prototype,vFQ);Object.defineProperties(x3A.prototype,{close:Sr,onerror:Sr,onmessage:Sr,onopen:Sr,readyState:Sr,url:Sr,withCredentials:Sr});ck.converters.EventSourceInitDict=ck.dictionaryConverter([{key:"withCredentials",converter:ck.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:ck.converters.any}]);kFQ.exports={EventSource:x3A,defaultReconnectionTime:xFQ}});function GHA(A){return(Q,B,G)=>{if(typeof B==="function")G=B,B=null;if(!Q||typeof Q!=="string"&&typeof Q!=="object"&&!(Q instanceof URL))throw new ygA("invalid url");if(B!=null&&typeof B!=="object")throw new ygA("invalid opts");if(B&&B.path!=null){if(typeof B.path!=="string")throw new ygA("invalid opts.path");let J=B.path;if(!B.path.startsWith("/"))J=`/${J}`;Q=new URL(vgA.parseOrigin(Q).origin+J)}else{if(!B)B=typeof Q==="object"?Q:{};Q=vgA.parseURL(Q)}let{agent:Z,dispatcher:Y=wz3()}=B;if(Z)throw new ygA("unsupported opts.agent. Did you mean opts.client?");return A.call(Y,{...B,origin:Q.origin,path:Q.search?`${Q.pathname}${Q.search}`:Q.pathname,method:B.method||(B.body?"PUT":"GET")},G)}}var Vt5,Cz3,Et5,Dt5,zz3,Ht5,Uz3,Ft5,$z3,vgA,ygA,y3A,Ct5,zt5,Ut5,$t5,wt5,Nt5,wz3,Nz3,qt5,Lt5,Mt5,HR1,FR1,Mz3,Oz3,kgA,Ot5,Rz3,_z3,Tz3,jz3,Pz3,Sz3,Rt5,_t5,qz3,Lz3,xz3,Tt5,jt5,Pt5,St5,xt5,yt5,vt5,kt5,ft5,yz3,vz3,kz3,fz3,bz3,hz3,bt5;var CR1=q(()=>{Vt5=MDA(),Cz3=GDA(),Et5=W3A(),Dt5=$KQ(),zz3=K3A(),Ht5=IO1(),Uz3=gKQ(),Ft5=iKQ(),$z3=Q7(),vgA=p6(),{InvalidArgumentError:ygA}=$z3,y3A=gVQ(),Ct5=YDA(),zt5=xO1(),Ut5=MEQ(),$t5=vO1(),wt5=NO1(),Nt5=chA(),{getGlobalDispatcher:wz3,setGlobalDispatcher:Nz3}=thA(),qt5=ehA(),Lt5=yhA(),Mt5=vhA();Object.assign(Cz3.prototype,y3A);HR1=zz3,FR1=Uz3,Mz3={redirect:SEQ(),retry:yEQ(),dump:fEQ(),dns:mEQ()},Oz3={parseHeaders:vgA.parseHeaders,headerNameToString:vgA.headerNameToString};kgA=Nz3;Ot5=dDA().fetch;Rz3=Or().Headers,_z3=uDA().Response,Tz3=N3A().Request,jz3=VDA().FormData,Pz3=globalThis.File??qA("node:buffer").File,Sz3=GHQ().FileReader;({setGlobalOrigin:Rt5,getGlobalOrigin:_t5}=UM1()),{CacheStorage:qz3}=EHQ(),{kConstruct:Lz3}=$gA();xz3=new qz3(Lz3);({deleteCookie:Tt5,getCookies:jt5,getSetCookies:Pt5,setCookie:St5}=MHQ()),{parseMIMEType:xt5,serializeAMimeType:yt5}=jz(),{CloseEvent:vt5,ErrorEvent:kt5,MessageEvent:ft5}=_3A();yz3=qFQ().WebSocket,vz3=GHA(y3A.request),kz3=GHA(y3A.stream),fz3=GHA(y3A.pipeline),bz3=GHA(y3A.connect),hz3=GHA(y3A.upgrade);({EventSource:bt5}=fFQ())});import{Agent as gz3}from"https";function zR1(){let A=OR();if(!A)return;return{cert:A.cert,key:A.key,passphrase:A.passphrase}}function UR1(){let A=OR();if(!A)return{};let Q={cert:A.cert,key:A.key,passphrase:A.passphrase},B=new HR1({connect:Q,pipelining:1});return f("mTLS: Created undici agent with custom certificates"),{dispatcher:B}}function gFQ(){if(!OR())return;if(process.env.NODE_EXTRA_CA_CERTS)f("NODE_EXTRA_CA_CERTS detected - Node.js will automatically append to built-in CAs")}var OR,hFQ;var v3A=q(()=>{p2();CR1();Q0();YQ();OR=Z0(()=>{let A={};if(process.env.CLAUDE_CODE_CLIENT_CERT)try{A.cert=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_CERT,{encoding:"utf8"}),f("mTLS: Loaded client certificate from CLAUDE_CODE_CLIENT_CERT")}catch(Q){f(`mTLS: Failed to load client certificate: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY)try{A.key=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_KEY,{encoding:"utf8"}),f("mTLS: Loaded client key from CLAUDE_CODE_CLIENT_KEY")}catch(Q){f(`mTLS: Failed to load client key: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE)A.passphrase=process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE,f("mTLS: Using client key passphrase");if(Object.keys(A).length===0)return;return A}),hFQ=Z0(()=>{let A=OR();if(!A)return;let Q={...A,keepAlive:!0};return f("mTLS: Creating HTTPS agent with custom certificates"),new gz3(Q)})});function uz3(A){switch(A.family){case 0:case 4:case 6:return A.family;case"IPv6":return 6;case"IPv4":case void 0:return 4;default:throw Error(`Unsupported address family: ${A.family}`)}}function Ld(){return process.env.https_proxy||process.env.HTTPS_PROXY||process.env.http_proxy||process.env.HTTP_PROXY}function mz3(){return process.env.no_proxy||process.env.NO_PROXY}function fgA(A){let Q=mz3();if(!Q)return!1;if(Q==="*")return!0;try{let B=new URL(A),G=B.hostname.toLowerCase(),Z=B.port||(B.protocol==="https:"?"443":"80"),Y=`${G}:${Z}`;return Q.split(/[,\s]+/).filter(Boolean).some((I)=>{if(I=I.toLowerCase().trim(),I.includes(":"))return Y===I;if(I.startsWith(".")){let X=I;return G===I.substring(1)||G.endsWith(X)}return G===I})}catch{return!1}}function dFQ(A){let Q=OR(),B={...Q&&{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}};if(C0(process.env.CLAUDE_CODE_PROXY_RESOLVES_HOSTS))B.lookup=(G,Z,Y)=>{Y(null,G,uz3(Z))};return new $R1.HttpsProxyAgent(A,B)}function ZHA(A){let Q=Ld();if(!Q)return;if(fgA(A))return;return dFQ(Q)}function k3A(){let A=Ld(),Q=UR1();if(A)return{dispatcher:cFQ(A)};return Q}function pFQ(){let A=Ld(),Q=hFQ();if(A){FQ.defaults.proxy=!1;let B=dFQ(A);FQ.interceptors.request.use((G)=>{if(G.url&&fgA(G.url))if(Q)G.httpsAgent=Q,G.httpAgent=Q;else delete G.httpsAgent,delete G.httpAgent;else G.httpsAgent=B,G.httpAgent=B;return G}),kgA(cFQ(A))}else if(Q){FQ.defaults.httpsAgent=Q;let B=UR1();if(B.dispatcher)kgA(B.dispatcher)}}function wR1(){let A=Ld();if(!A)return{};let Q=new $R1.HttpsProxyAgent(A),B=new mFQ.NodeHttpHandler({httpAgent:Q,httpsAgent:Q});return{requestHandler:B,credentials:uFQ.defaultProvider({clientConfig:{requestHandler:B}})}}var uFQ,mFQ,$R1,cFQ;var Md=q(()=>{m8();p2();CR1();v3A();sQ();uFQ=o(io(),1),mFQ=o(Lq(),1),$R1=o(QDA(),1);cFQ=Z0((A)=>{let Q=OR(),B={httpProxy:A,httpsProxy:A,noProxy:process.env.NO_PROXY||process.env.no_proxy};if(Q)B.connect={cert:Q.cert,key:Q.key,passphrase:Q.passphrase};return new FR1(B)})});function lP(A,Q){return A.find((B)=>B.includes(Q))??null}async function nFQ(){let Q={region:ka(),...wR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await xr();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new f3A.BedrockClient(Q)}async function aFQ(){let Q={region:ka(),...wR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await xr();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new lFQ.BedrockRuntimeClient(Q)}function oFQ(A){return A.startsWith("anthropic.")}var f3A,lFQ,iFQ,bgA;var hgA=q(()=>{p2();sQ();g1();Md();V2();f3A=o(h5Q(),1),lFQ=o(tbA(),1),iFQ=Z0(async function(){let A=await nFQ(),Q=[],B;try{do{let G=new f3A.ListInferenceProfilesCommand({...B&&{nextToken:B},typeEquals:"SYSTEM_DEFINED"}),Z=await A.send(G);if(Z.inferenceProfileSummaries)Q.push(...Z.inferenceProfileSummaries);B=Z.nextToken}while(B);return Q.filter((G)=>G.inferenceProfileId?.includes("anthropic")).map((G)=>G.inferenceProfileId).filter(Boolean)}catch(G){throw r(G),G}});bgA=Z0(async function(A){try{let Q=await nFQ(),B=new f3A.GetInferenceProfileCommand({inferenceProfileIdentifier:A}),G=await Q.send(B);if(!G.models||G.models.length===0)return null;let Z=G.models[0];if(!Z?.modelArn)return null;let Y=Z.modelArn.lastIndexOf("/");return Y>=0?Z.modelArn.substring(Y+1):Z.modelArn}catch(Q){return r(Q),null}})});function rFQ(A){if(_3()==="foundry")return;let Q=A.toLowerCase();if(Q.includes("claude-sonnet-4-5")&&Q.includes("[1m]"))return"Sonnet 4.5 (with 1M context)";if(Q.includes("claude-sonnet-4-5"))return"Sonnet 4.5";if(Q.includes("claude-sonnet-4")&&Q.includes("[1m]"))return"Sonnet 4 (with 1M context)";if(Q.includes("claude-sonnet-4"))return"Sonnet 4";if(Q.includes("claude-opus-4-5"))return"Opus 4.5";if(Q.includes("claude-opus-4-1"))return"Opus 4.1";if(Q.includes("claude-opus-4"))return"Opus 4";if(Q.includes("claude-3-7-sonnet"))return"Claude 3.7 Sonnet";if(Q.includes("claude-3-5-sonnet"))return"Claude 3.5 Sonnet";if(Q.includes("claude-haiku-4-5"))return"Haiku 4.5";if(Q.includes("claude-3-5-haiku"))return"Claude 3.5 Haiku";return}var YHA,JHA,IHA,XHA,yr,NR1,WHA,KHA,vr;var b3A=q(()=>{hW();YHA={firstParty:"claude-3-7-sonnet-20250219",bedrock:"us.anthropic.claude-3-7-sonnet-20250219-v1:0",vertex:"claude-3-7-sonnet@20250219",foundry:"claude-3-7-sonnet"},JHA={firstParty:"claude-3-5-sonnet-20241022",bedrock:"anthropic.claude-3-5-sonnet-20241022-v2:0",vertex:"claude-3-5-sonnet-v2@20241022",foundry:"claude-3-5-sonnet"},IHA={firstParty:"claude-3-5-haiku-20241022",bedrock:"us.anthropic.claude-3-5-haiku-20241022-v1:0",vertex:"claude-3-5-haiku@20241022",foundry:"claude-3-5-haiku"},XHA={firstParty:"claude-haiku-4-5-20251001",bedrock:"us.anthropic.claude-haiku-4-5-20251001-v1:0",vertex:"claude-haiku-4-5@20251001",foundry:"claude-haiku-4-5"},yr={firstParty:"claude-sonnet-4-20250514",bedrock:"us.anthropic.claude-sonnet-4-20250514-v1:0",vertex:"claude-sonnet-4@20250514",foundry:"claude-sonnet-4"},NR1={firstParty:"claude-sonnet-4-5-20250929",bedrock:"us.anthropic.claude-sonnet-4-5-20250929-v1:0",vertex:"claude-sonnet-4-5@20250929",foundry:"claude-sonnet-4-5"},WHA={firstParty:"claude-opus-4-20250514",bedrock:"us.anthropic.claude-opus-4-20250514-v1:0",vertex:"claude-opus-4@20250514",foundry:"claude-opus-4"},KHA={firstParty:"claude-opus-4-1-20250805",bedrock:"us.anthropic.claude-opus-4-1-20250805-v1:0",vertex:"claude-opus-4-1@20250805",foundry:"claude-opus-4-1"},vr={firstParty:"claude-opus-4-5-20251101",bedrock:"us.anthropic.claude-opus-4-5-20251101-v1:0",vertex:"claude-opus-4-5@20251101",foundry:"claude-opus-4-5"}});function iP(A){let Q=[],B=!1;async function G(){if(B)return;if(Q.length===0)return;B=!0;while(Q.length>0){let{args:Z,resolve:Y,reject:J,context:I}=Q.shift();try{let X=await A.apply(I,Z);Y(X)}catch(X){J(X)}}if(B=!1,Q.length>0)G()}return function(...Z){return new Promise((Y,J)=>{Q.push({args:Z,resolve:Y,reject:J,context:this}),G()})}}function ggA(A){return{haiku35:IHA[A],haiku45:XHA[A],sonnet35:JHA[A],sonnet37:YHA[A],sonnet40:yr[A],sonnet45:NR1[A],opus40:WHA[A],opus41:KHA[A],opus45:vr[A]}}async function dz3(){let A;try{A=await iFQ()}catch(K){return r(K),ggA("bedrock")}if(!A?.length)return ggA("bedrock");let Q=lP(A,"claude-3-5-haiku-20241022"),B=lP(A,"claude-haiku-4-5-20251001"),G=lP(A,"claude-3-5-sonnet-20241022"),Z=lP(A,"claude-3-7-sonnet-20250219"),Y=lP(A,"claude-sonnet-4-20250514"),J=lP(A,"claude-sonnet-4-5-20250929"),I=lP(A,"claude-opus-4-20250514"),X=lP(A,"claude-opus-4-1-20250805"),W=lP(A,"claude-opus-4-5-20251101");return{haiku35:Q||IHA.bedrock,haiku45:B||XHA.bedrock,sonnet35:G||JHA.bedrock,sonnet37:Z||YHA.bedrock,sonnet40:Y||yr.bedrock,sonnet45:J||NR1.bedrock,opus40:I||WHA.bedrock,opus41:X||KHA.bedrock,opus45:W||vr.bedrock}}function pz3(){if(qPA()!==null)return;if(_3()!=="bedrock"){LG1(ggA(_3()));return}cz3()}function bY(){let A=qPA();if(A===null)return pz3(),ggA(_3());return A}var cz3;var qR1=q(()=>{u0();g1();hgA();b3A();hW();cz3=iP(async()=>{if(qPA()!==null)return;try{let A=await dz3();LG1(A)}catch(A){r(A)}})});function sFQ(){if(process.platform==="darwin"){let A=Nm();pG(`security delete-generic-password -a $USER -s "${A}"`)}}function Ww(A){return A.slice(-20)}var VHA=q(()=>{oKA();pSA()});class nD{static instance=null;status={isAuthenticating:!1,output:[]};listeners=new Set;static getInstance(){if(!nD.instance)nD.instance=new nD;return nD.instance}getStatus(){return{...this.status,output:[...this.status.output]}}startAuthentication(){this.status={isAuthenticating:!0,output:[]},this.notifyListeners()}addOutput(A){this.status.output.push(A),this.notifyListeners()}setError(A){this.status.error=A,this.notifyListeners()}endAuthentication(A){if(A)this.status={isAuthenticating:!1,output:[]};else this.status.isAuthenticating=!1;this.notifyListeners()}subscribe(A){return this.listeners.add(A),()=>{this.listeners.delete(A)}}notifyListeners(){this.listeners.forEach((A)=>A(this.getStatus()))}static reset(){if(nD.instance)nD.instance.listeners.clear(),nD.instance=null}}import{exec as lz3}from"child_process";function kz(){let A=C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY),B=(CQ()||{}).apiKeyHelper,G=process.env.ANTHROPIC_AUTH_TOKEN||B||process.env.CLAUDE_CODE_API_KEY_FILE_DESCRIPTOR,{source:Z}=aD({skipRetrievingKeyFromApiKeyHelper:!0});return!(A||G||(Z==="ANTHROPIC_API_KEY"||Z==="apiKeyHelper")&&!C0(process.env.CLAUDE_CODE_REMOTE))}function Od(){if(process.env.ANTHROPIC_AUTH_TOKEN)return{source:"ANTHROPIC_AUTH_TOKEN",hasToken:!0};if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{source:"CLAUDE_CODE_OAUTH_TOKEN",hasToken:!0};if(SK1())return{source:"CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR",hasToken:!0};if(EHA())return{source:"apiKeyHelper",hasToken:!0};let B=r3();if(Qk(B?.scopes)&&B?.accessToken)return{source:"claude.ai",hasToken:!0};return{source:"none",hasToken:!1}}function m$(){let{key:A}=aD();return A}function eFQ(){let{key:A,source:Q}=aD({skipRetrievingKeyFromApiKeyHelper:!0});return A!==null&&Q!=="none"}function aD(A={}){if(DK0()&&process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};if(C0(!1)){let G=xK1();if(G)return{key:G,source:"ANTHROPIC_API_KEY"};if(!process.env.ANTHROPIC_API_KEY&&!process.env.CLAUDE_CODE_OAUTH_TOKEN&&!process.env.CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR)throw Error("ANTHROPIC_API_KEY or CLAUDE_CODE_OAUTH_TOKEN env var is required");if(process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};return{key:null,source:"none"}}if(process.env.ANTHROPIC_API_KEY&&c1().customApiKeyResponses?.approved?.includes(Ww(process.env.ANTHROPIC_API_KEY)))return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};let Q=xK1();if(Q)return{key:Q,source:"ANTHROPIC_API_KEY"};if(A.skipRetrievingKeyFromApiKeyHelper){if(EHA())return{key:null,source:"apiKeyHelper"}}else{let G=DHA(I4());if(G)return{key:G,source:"apiKeyHelper"}}let B=HHA();if(B)return B;return{key:null,source:"none"}}function EHA(){return(CQ()||{}).apiKeyHelper}function ACQ(){let A=EHA();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.apiKeyHelper===A||B?.apiKeyHelper===A}function LR1(){return(CQ()||{}).awsAuthRefresh}function QCQ(){let A=LR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsAuthRefresh===A||B?.awsAuthRefresh===A}function MR1(){return(CQ()||{}).awsCredentialExport}function BCQ(){let A=MR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsCredentialExport===A||B?.awsCredentialExport===A}function nz3(){let A=process.env.CLAUDE_CODE_API_KEY_HELPER_TTL_MS;if(A){let Q=parseInt(A,10);if(!Number.isNaN(Q)&&Q>=0)return Q;f(`Found CLAUDE_CODE_API_KEY_HELPER_TTL_MS env var, but it was not a valid number. Got ${A}`,{level:"error"})}return iz3}function ugA(){DHA.cache.clear()}function GCQ(A){if(EHA()){if(ACQ()){if(!tZ(!0))return}}DHA(A)}async function oz3(){let A=LR1();if(!A)return!1;if(QCQ()){if(!tZ(!0)&&!I4()){let B=Error(`Security: awsAuthRefresh executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);return Dq("awsAuthRefresh invoked before trust check",B),s("tengu_awsAuthRefresh_missing_trust",{}),!1}}try{return f("Fetching AWS caller identity for AWS auth refresh command"),await Q$1(),f("Fetched AWS caller identity, skipping AWS auth refresh command"),!1}catch{return rz3(A)}}function rz3(A){f("Running AWS auth refresh command");let Q=nD.getInstance();return Q.startAuthentication(),new Promise((B)=>{let G=lz3(A);G.stdout.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.addOutput(Y),f(Y,{level:"debug"})}),G.stderr.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.setError(Y),f(Y,{level:"error"})}),G.on("close",(Z)=>{if(Z===0)f("AWS auth refresh completed successfully"),Q.endAuthentication(!0),B(!0);else{let Y=pA.red("Error running awsAuthRefresh (in settings or ~/.claude.json):");console.error(Y),Q.endAuthentication(!1),B(!1)}})})}async function sz3(){let A=MR1();if(!A)return null;if(BCQ()){if(!tZ(!0)&&!I4()){let B=Error(`Security: awsCredentialExport executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);return Dq("awsCredentialExport invoked before trust check",B),s("tengu_awsCredentialExport_missing_trust",{}),null}}try{return f("Fetching AWS caller identity for credential export command"),await Q$1(),f("Fetched AWS caller identity, skipping AWS credential export command"),null}catch{try{f("Running AWS credential export command");let Q=pG(A)?.toString().trim();if(!Q)throw Error("awsCredentialExport did not return a valid value");let B=JSON.parse(Q);if(!D4Q(B))throw Error("awsCredentialExport did not return valid AWS STS output structure");return f("AWS credentials retrieved from awsCredentialExport"),{accessKeyId:B.Credentials.AccessKeyId,secretAccessKey:B.Credentials.SecretAccessKey,sessionToken:B.Credentials.SessionToken}}catch(Q){let B=pA.red("Error getting AWS credentials from awsCredentialExport (in settings or ~/.claude.json):");if(Q instanceof Error&&"stderr"in Q)console.error(B,String(Q.stderr));else if(Q instanceof Error)console.error(B,Q.message);else console.error(B,Q);return null}}}function mgA(){xr.cache.clear()}function ZCQ(){let A=LR1(),Q=MR1();if(!A&&!Q)return;if(QCQ()||BCQ()){if(!tZ(!0)&&!I4())return}xr(),bY()}function tz3(A){return/^[a-zA-Z0-9-_]+$/.test(A)}function Fu0(A){if(!tz3(A))throw Error("Invalid API key format. API key must contain only alphanumeric characters, dashes, and underscores.");JCQ();let Q=!1;if(process.platform==="darwin")try{let G=Nm(),Z=aKA(),Y=Buffer.from(A,"utf-8").toString("hex"),J=`add-generic-password -U -a "${Z}" -s "${G}" -X "${Y}"
bundles/ClaudeAgentSDKCode/cli.js:190:`;pG("security -i",{input:J,stdio:["pipe","pipe","pipe"]}),s("tengu_api_key_saved_to_keychain",{}),Q=!0}catch(G){r(G),s("tengu_api_key_keychain_error",{error:G.message}),s("tengu_api_key_saved_to_config",{})}else s("tengu_api_key_saved_to_config",{});let B=Ww(A);i0((G)=>{let Z=G.customApiKeyResponses?.approved??[];return{...G,primaryApiKey:Q?G.primaryApiKey:A,customApiKeyResponses:{...G.customApiKeyResponses,approved:Z.includes(B)?Z:[...Z,B],rejected:G.customApiKeyResponses?.rejected??[]}}}),HHA.cache.clear?.()}function YCQ(){JCQ(),i0((A)=>({...A,primaryApiKey:void 0})),HHA.cache.clear?.()}function JCQ(){try{sFQ()}catch(A){r(A)}}function FHA(A){if(!Qk(A.scopes))return s("tengu_oauth_tokens_not_claude_ai",{}),{success:!0};if(!A.refreshToken||!A.expiresAt)return s("tengu_oauth_tokens_inference_only",{}),{success:!0};let Q=u$(),B=Q.name;try{let G=Q.read()||{};G.claudeAiOauth={accessToken:A.accessToken,refreshToken:A.refreshToken,expiresAt:A.expiresAt,scopes:A.scopes,subscriptionType:A.subscriptionType,rateLimitTier:A.rateLimitTier};let Z=Q.update(G);if(Z.success)s("tengu_oauth_tokens_saved",{storageBackend:B});else s("tengu_oauth_tokens_save_failed",{storageBackend:B});return r3.cache?.clear?.(),oyA(),Z}catch(G){return r(G),s("tengu_oauth_tokens_save_exception",{storageBackend:B,error:G.message}),{success:!1,warning:"Failed to save OAuth tokens"}}}async function pk(A=0){let B=r3();if(!B?.refreshToken||!qm(B.expiresAt))return!1;if(!Qk(B.scopes))return!1;if(r3.cache?.clear?.(),B=r3(),!B?.refreshToken||!qm(B.expiresAt))return!1;let G=uQ();jA().mkdirSync(G);let Y;try{Y=await tFQ.lock(G)}catch(J){if(J.code==="ELOCKED"){if(A<5)return s("tengu_oauth_token_refresh_lock_retry",{retryCount:A+1}),await new Promise((I)=>setTimeout(I,1000+Math.random()*1000)),pk(A+1);return s("tengu_oauth_token_refresh_lock_retry_limit_reached",{maxRetries:5}),!1}return r(J),s("tengu_oauth_token_refresh_lock_error",{error:J.message}),!1}try{if(r3.cache?.clear?.(),B=r3(),!B?.refreshToken||!qm(B.expiresAt))return s("tengu_oauth_token_refresh_race_resolved",{}),!1;let J=await Vu0(B.refreshToken);return FHA(J),r3.cache?.clear?.(),!0}catch(J){return r(J instanceof Error?J:Error(String(J))),!1}finally{await Y()}}function LB(){if(!kz())return!1;return Qk(r3()?.scopes)}function ICQ(){if(C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!1;if(LB())return!1;return!0}function j8(){return kz()?c1().oauthAccount:void 0}function YL(){let A=c3();return A==="max"||A==="enterprise"||A==="team"||A==="pro"||A===null}function c3(){if(wu0())return $u0();if(!kz())return null;let A=r3();if(!A)return null;return A.subscriptionType??null}function Rd(){if(!kz())return null;let A=r3();if(!A)return null;return A.rateLimitTier??null}function OR1(){switch(c3()){case"enterprise":return"Claude Enterprise";case"team":return"Claude Team";case"max":return"Claude Max";case"pro":return"Claude Pro";default:return"Claude API"}}function nP(){return!!(C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY))}function XCQ(){return(CQ()||{}).otelHeadersHelper}function CHA(){let A=XCQ();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.otelHeadersHelper===A||B?.otelHeadersHelper===A}function WCQ(){let A=XCQ();if(!A)return{};if(CHA()){if(!tZ(!0))return{}}try{let Q=pG(A)?.toString().trim();if(!Q)throw Error("otelHeadersHelper did not return a valid value");let B=JSON.parse(Q);if(typeof B!=="object"||B===null||Array.isArray(B))throw Error("otelHeadersHelper must return a JSON object with string key-value pairs");for(let[G,Z]of Object.entries(B))if(typeof Z!=="string")throw Error(`otelHeadersHelper returned non-string value for key "${G}": ${typeof Z}`);return B}catch(Q){throw r(Error(`Error getting OpenTelemetry headers from otelHeadersHelper (in settings): ${Q instanceof Error?Q.message:String(Q)}`)),Q}}function ez3(A){return A==="max"||A==="pro"}function dgA(){let A=c3();return LB()&&A!==null&&ez3(A)}function cgA(){if(_3()!=="firstParty")return;let{source:Q}=Od(),B={};if(LB())B.subscription=OR1();else B.tokenSource=Q;let{key:G,source:Z}=aD();if(G)B.apiKeySource=Z;if(Q==="claude.ai"||Z==="/login managed key"){let J=j8()?.organizationName;if(J)B.organization=J}let Y=j8()?.emailAddress;if((Q==="claude.ai"||Z==="/login managed key")&&Y)B.email=Y;return B}var tFQ,iz3=300000,DHA,az3=3600000,xr,HHA,r3;var V2=q(()=>{vQ();gB();Q3();p2();byA();g1();Q0();o2();uyA();Wu0();qq();pyA();Bk();YQ();sQ();oKA();u0();B$1();_0();hW();qR1();VHA();tFQ=o($m(),1);DHA=LK1((A)=>{let Q=EHA();if(!Q)return null;if(ACQ()){if(!tZ(!0)&&!A){let G=Error(`Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);Dq("apiKeyHelper invoked before trust check",G),s("tengu_apiKeyHelper_missing_trust8",{})}}try{let B=pG(Q)?.toString().trim();if(!B)throw Error("apiKeyHelper did not return a valid value");return B}catch(B){let G=pA.red("Error getting API key from apiKeyHelper (in settings or ~/.claude.json):");if(B instanceof Error&&"stderr"in B)console.error(G,String(B.stderr));else if(B instanceof Error)console.error(G,B.message);else console.error(G,B);return" "}},nz3());xr=LK1(async()=>{let A=await oz3(),Q=await sz3();if(A||Q)await H4Q();return Q},az3);HHA=Z0(()=>{if(process.platform==="darwin"){let Q=Nm();try{let B=pG(`security find-generic-password -a $USER -w -s "${Q}"`);if(B)return{key:B,source:"/login managed key"}}catch(B){r(B)}}let A=c1();if(!A.primaryApiKey)return null;return{key:A.primaryApiKey,source:"/login managed key"}});r3=Z0(()=>{if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{accessToken:process.env.CLAUDE_CODE_OAUTH_TOKEN,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};let A=SK1();if(A)return{accessToken:A,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};try{let G=u$().read()?.claudeAiOauth;if(!G?.accessToken)return null;return G}catch(Q){return r(Q),null}})});import{join as zHA}from"path";function ECQ(){return(process.argv[1]||"").includes("/.claude/local/node_modules/")}async function AU3(){try{if(!jA().existsSync(_d))jA().mkdirSync(_d);if(!jA().existsSync(KCQ)){let Q={name:"claude-local",version:"0.0.1",private:!0};jA().writeFileSync(KCQ,JSON.stringify(Q,null,2),{encoding:"utf8",flush:!1})}let A=zHA(_d,"claude");if(!jA().existsSync(A)){let Q=`#!/bin/bash
bundles/ClaudeAgentSDKCode/cli.js:191:exec "${_d}/node_modules/.bin/claude" "$@"`;jA().writeFileSync(A,Q,{encoding:"utf8",flush:!1}),await EQ("chmod",["+x",A])}return!0}catch(A){return r(A instanceof Error?A:Error(String(A))),!1}}async function UHA(A="latest"){try{if(!await AU3())return"install_failed";let Q=await j6("npm",["install",`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.PACKAGE_URL}@${A}`],{cwd:_d,maxBuffer:1e6});if(Q.code!==0)return r(Error(`Failed to install Claude CLI package: ${Q.stderr}`)),Q.code===190?"in_progress":"install_failed";return i0((B)=>({...B,installMethod:"local"})),"success"}catch(Q){return r(Q instanceof Error?Q:Error(String(Q))),"install_failed"}}function Td(){return jA().existsSync(zHA(_d,"node_modules",".bin","claude"))}function h3A(){let A=process.env.SHELL||"";if(A.includes("zsh"))return"zsh";if(A.includes("bash"))return"bash";if(A.includes("fish"))return"fish";return"unknown"}var _d,KCQ,VCQ;var kr=q(()=>{Q3();g1();vQ();YQ();sQ();_d=zHA(uQ(),"local"),KCQ=zHA(_d,"package.json"),VCQ=zHA(_d,"claude")});var $HA=w((ie5,DCQ)=>{var QU3=Number.MAX_SAFE_INTEGER||9007199254740991,BU3=["major","premajor","minor","preminor","patch","prepatch","prerelease"];DCQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:QU3,RELEASE_TYPES:BU3,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var wHA=w((ne5,HCQ)=>{var GU3=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};HCQ.exports=GU3});var g3A=w((aP,FCQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:RR1,MAX_SAFE_BUILD_LENGTH:ZU3,MAX_LENGTH:YU3}=$HA(),JU3=wHA();aP=FCQ.exports={};var IU3=aP.re=[],XU3=aP.safeRe=[],$2=aP.src=[],WU3=aP.safeSrc=[],w2=aP.t={},KU3=0,_R1="[a-zA-Z0-9-]",VU3=[["\\s",1],["\\d",YU3],[_R1,ZU3]],EU3=(A)=>{for(let[Q,B]of VU3)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},T3=(A,Q,B)=>{let G=EU3(Q),Z=KU3++;JU3(A,Z,Q),w2[A]=Z,$2[Z]=Q,WU3[Z]=G,IU3[Z]=new RegExp(Q,B?"g":void 0),XU3[Z]=new RegExp(G,B?"g":void 0)};T3("NUMERICIDENTIFIER","0|[1-9]\\d*");T3("NUMERICIDENTIFIERLOOSE","\\d+");T3("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_R1}*`);T3("MAINVERSION",`(${$2[w2.NUMERICIDENTIFIER]})\\.(${$2[w2.NUMERICIDENTIFIER]})\\.(${$2[w2.NUMERICIDENTIFIER]})`);T3("MAINVERSIONLOOSE",`(${$2[w2.NUMERICIDENTIFIERLOOSE]})\\.(${$2[w2.NUMERICIDENTIFIERLOOSE]})\\.(${$2[w2.NUMERICIDENTIFIERLOOSE]})`);T3("PRERELEASEIDENTIFIER",`(?:${$2[w2.NONNUMERICIDENTIFIER]}|${$2[w2.NUMERICIDENTIFIER]})`);T3("PRERELEASEIDENTIFIERLOOSE",`(?:${$2[w2.NONNUMERICIDENTIFIER]}|${$2[w2.NUMERICIDENTIFIERLOOSE]})`);T3("PRERELEASE",`(?:-(${$2[w2.PRERELEASEIDENTIFIER]}(?:\\.${$2[w2.PRERELEASEIDENTIFIER]})*))`);T3("PRERELEASELOOSE",`(?:-?(${$2[w2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${$2[w2.PRERELEASEIDENTIFIERLOOSE]})*))`);T3("BUILDIDENTIFIER",`${_R1}+`);T3("BUILD",`(?:\\+(${$2[w2.BUILDIDENTIFIER]}(?:\\.${$2[w2.BUILDIDENTIFIER]})*))`);T3("FULLPLAIN",`v?${$2[w2.MAINVERSION]}${$2[w2.PRERELEASE]}?${$2[w2.BUILD]}?`);T3("FULL",`^${$2[w2.FULLPLAIN]}$`);T3("LOOSEPLAIN",`[v=\\s]*${$2[w2.MAINVERSIONLOOSE]}${$2[w2.PRERELEASELOOSE]}?${$2[w2.BUILD]}?`);T3("LOOSE",`^${$2[w2.LOOSEPLAIN]}$`);T3("GTLT","((?:<|>)?=?)");T3("XRANGEIDENTIFIERLOOSE",`${$2[w2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);T3("XRANGEIDENTIFIER",`${$2[w2.NUMERICIDENTIFIER]}|x|X|\\*`);T3("XRANGEPLAIN",`[v=\\s]*(${$2[w2.XRANGEIDENTIFIER]})(?:\\.(${$2[w2.XRANGEIDENTIFIER]})(?:\\.(${$2[w2.XRANGEIDENTIFIER]})(?:${$2[w2.PRERELEASE]})?${$2[w2.BUILD]}?)?)?`);T3("XRANGEPLAINLOOSE",`[v=\\s]*(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:${$2[w2.PRERELEASELOOSE]})?${$2[w2.BUILD]}?)?)?`);T3("XRANGE",`^${$2[w2.GTLT]}\\s*${$2[w2.XRANGEPLAIN]}$`);T3("XRANGELOOSE",`^${$2[w2.GTLT]}\\s*${$2[w2.XRANGEPLAINLOOSE]}$`);T3("COERCEPLAIN",`(^|[^\\d])(\\d{1,${RR1}})(?:\\.(\\d{1,${RR1}}))?(?:\\.(\\d{1,${RR1}}))?`);T3("COERCE",`${$2[w2.COERCEPLAIN]}(?:$|[^\\d])`);T3("COERCEFULL",$2[w2.COERCEPLAIN]+`(?:${$2[w2.PRERELEASE]})?(?:${$2[w2.BUILD]})?(?:$|[^\\d])`);T3("COERCERTL",$2[w2.COERCE],!0);T3("COERCERTLFULL",$2[w2.COERCEFULL],!0);T3("LONETILDE","(?:~>?)");T3("TILDETRIM",`(\\s*)${$2[w2.LONETILDE]}\\s+`,!0);aP.tildeTrimReplace="$1~";T3("TILDE",`^${$2[w2.LONETILDE]}${$2[w2.XRANGEPLAIN]}$`);T3("TILDELOOSE",`^${$2[w2.LONETILDE]}${$2[w2.XRANGEPLAINLOOSE]}$`);T3("LONECARET","(?:\\^)");T3("CARETTRIM",`(\\s*)${$2[w2.LONECARET]}\\s+`,!0);aP.caretTrimReplace="$1^";T3("CARET",`^${$2[w2.LONECARET]}${$2[w2.XRANGEPLAIN]}$`);T3("CARETLOOSE",`^${$2[w2.LONECARET]}${$2[w2.XRANGEPLAINLOOSE]}$`);T3("COMPARATORLOOSE",`^${$2[w2.GTLT]}\\s*(${$2[w2.LOOSEPLAIN]})$|^$`);T3("COMPARATOR",`^${$2[w2.GTLT]}\\s*(${$2[w2.FULLPLAIN]})$|^$`);T3("COMPARATORTRIM",`(\\s*)${$2[w2.GTLT]}\\s*(${$2[w2.LOOSEPLAIN]}|${$2[w2.XRANGEPLAIN]})`,!0);aP.comparatorTrimReplace="$1$2$3";T3("HYPHENRANGE",`^\\s*(${$2[w2.XRANGEPLAIN]})\\s+-\\s+(${$2[w2.XRANGEPLAIN]})\\s*$`);T3("HYPHENRANGELOOSE",`^\\s*(${$2[w2.XRANGEPLAINLOOSE]})\\s+-\\s+(${$2[w2.XRANGEPLAINLOOSE]})\\s*$`);T3("STAR","(<|>)?=?\\s*\\*");T3("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");T3("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pgA=w((ae5,CCQ)=>{var DU3=Object.freeze({loose:!0}),HU3=Object.freeze({}),FU3=(A)=>{if(!A)return HU3;if(typeof A!=="object")return DU3;return A};CCQ.exports=FU3});var TR1=w((oe5,$CQ)=>{var zCQ=/^[0-9]+$/,UCQ=(A,Q)=>{let B=zCQ.test(A),G=zCQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},CU3=(A,Q)=>UCQ(Q,A);$CQ.exports={compareIdentifiers:UCQ,rcompareIdentifiers:CU3}});var oD=w((re5,NCQ)=>{var lgA=wHA(),{MAX_LENGTH:wCQ,MAX_SAFE_INTEGER:igA}=$HA(),{safeRe:ngA,t:agA}=g3A(),zU3=pgA(),{compareIdentifiers:u3A}=TR1();class RR{constructor(A,Q){if(Q=zU3(Q),A instanceof RR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>wCQ)throw TypeError(`version is longer than ${wCQ} characters`);lgA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?ngA[agA.LOOSE]:ngA[agA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>igA||this.major<0)throw TypeError("Invalid major version");if(this.minor>igA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>igA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<igA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(lgA("SemVer.compare",this.version,this.options,A),!(A instanceof RR)){if(typeof A==="string"&&A===this.version)return 0;A=new RR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof RR))A=new RR(A,this.options);return u3A(this.major,A.major)||u3A(this.minor,A.minor)||u3A(this.patch,A.patch)}comparePre(A){if(!(A instanceof RR))A=new RR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(lgA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return u3A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof RR))A=new RR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(lgA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return u3A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=`-${Q}`.match(this.options.loose?ngA[agA.PRERELEASELOOSE]:ngA[agA.PRERELEASE]);if(!G||G[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(u3A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}NCQ.exports=RR});var fr=w((se5,LCQ)=>{var qCQ=oD(),UU3=(A,Q,B=!1)=>{if(A instanceof qCQ)return A;try{return new qCQ(A,Q)}catch(G){if(!B)return null;throw G}};LCQ.exports=UU3});var OCQ=w((te5,MCQ)=>{var $U3=fr(),wU3=(A,Q)=>{let B=$U3(A,Q);return B?B.version:null};MCQ.exports=wU3});var _CQ=w((ee5,RCQ)=>{var NU3=fr(),qU3=(A,Q)=>{let B=NU3(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};RCQ.exports=qU3});var PCQ=w((AA7,jCQ)=>{var TCQ=oD(),LU3=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new TCQ(A instanceof TCQ?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};jCQ.exports=LU3});var yCQ=w((QA7,xCQ)=>{var SCQ=fr(),MU3=(A,Q)=>{let B=SCQ(A,null,!0),G=SCQ(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};xCQ.exports=MU3});var kCQ=w((BA7,vCQ)=>{var OU3=oD(),RU3=(A,Q)=>new OU3(A,Q).major;vCQ.exports=RU3});var bCQ=w((GA7,fCQ)=>{var _U3=oD(),TU3=(A,Q)=>new _U3(A,Q).minor;fCQ.exports=TU3});var gCQ=w((ZA7,hCQ)=>{var jU3=oD(),PU3=(A,Q)=>new jU3(A,Q).patch;hCQ.exports=PU3});var mCQ=w((YA7,uCQ)=>{var SU3=fr(),xU3=(A,Q)=>{let B=SU3(A,Q);return B&&B.prerelease.length?B.prerelease:null};uCQ.exports=xU3});var JL=w((JA7,cCQ)=>{var dCQ=oD(),yU3=(A,Q,B)=>new dCQ(A,B).compare(new dCQ(Q,B));cCQ.exports=yU3});var lCQ=w((IA7,pCQ)=>{var vU3=JL(),kU3=(A,Q,B)=>vU3(Q,A,B);pCQ.exports=kU3});var nCQ=w((XA7,iCQ)=>{var fU3=JL(),bU3=(A,Q)=>fU3(A,Q,!0);iCQ.exports=bU3});var ogA=w((WA7,oCQ)=>{var aCQ=oD(),hU3=(A,Q,B)=>{let G=new aCQ(A,B),Z=new aCQ(Q,B);return G.compare(Z)||G.compareBuild(Z)};oCQ.exports=hU3});var sCQ=w((KA7,rCQ)=>{var gU3=ogA(),uU3=(A,Q)=>A.sort((B,G)=>gU3(B,G,Q));rCQ.exports=uU3});var eCQ=w((VA7,tCQ)=>{var mU3=ogA(),dU3=(A,Q)=>A.sort((B,G)=>mU3(G,B,Q));tCQ.exports=dU3});var NHA=w((EA7,AzQ)=>{var cU3=JL(),pU3=(A,Q,B)=>cU3(A,Q,B)>0;AzQ.exports=pU3});var rgA=w((DA7,QzQ)=>{var lU3=JL(),iU3=(A,Q,B)=>lU3(A,Q,B)<0;QzQ.exports=iU3});var jR1=w((HA7,BzQ)=>{var nU3=JL(),aU3=(A,Q,B)=>nU3(A,Q,B)===0;BzQ.exports=aU3});var PR1=w((FA7,GzQ)=>{var oU3=JL(),rU3=(A,Q,B)=>oU3(A,Q,B)!==0;GzQ.exports=rU3});var sgA=w((CA7,ZzQ)=>{var sU3=JL(),tU3=(A,Q,B)=>sU3(A,Q,B)>=0;ZzQ.exports=tU3});var tgA=w((zA7,YzQ)=>{var eU3=JL(),A$3=(A,Q,B)=>eU3(A,Q,B)<=0;YzQ.exports=A$3});var SR1=w((UA7,JzQ)=>{var Q$3=jR1(),B$3=PR1(),G$3=NHA(),Z$3=sgA(),Y$3=rgA(),J$3=tgA(),I$3=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return Q$3(A,B,G);case"!=":return B$3(A,B,G);case">":return G$3(A,B,G);case">=":return Z$3(A,B,G);case"<":return Y$3(A,B,G);case"<=":return J$3(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};JzQ.exports=I$3});var XzQ=w(($A7,IzQ)=>{var X$3=oD(),W$3=fr(),{safeRe:egA,t:AuA}=g3A(),K$3=(A,Q)=>{if(A instanceof X$3)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?egA[AuA.COERCEFULL]:egA[AuA.COERCE]);else{let X=Q.includePrerelease?egA[AuA.COERCERTLFULL]:egA[AuA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return W$3(`${G}.${Z}.${Y}${J}${I}`,Q)};IzQ.exports=K$3});var VzQ=w((wA7,KzQ)=>{class WzQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}KzQ.exports=WzQ});var IL=w((NA7,FzQ)=>{var V$3=/\s+/g;class qHA{constructor(A,Q){if(Q=D$3(Q),A instanceof qHA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new qHA(A.raw,Q);if(A instanceof xR1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(V$3," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!DzQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&w$3(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&U$3)|(this.options.loose&&$$3))+":"+A,G=EzQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?fz[OF.HYPHENRANGELOOSE]:fz[OF.HYPHENRANGE];A=A.replace(Y,P$3(this.options.includePrerelease)),eZ("hyphen replace",A),A=A.replace(fz[OF.COMPARATORTRIM],F$3),eZ("comparator trim",A),A=A.replace(fz[OF.TILDETRIM],C$3),eZ("tilde trim",A),A=A.replace(fz[OF.CARETTRIM],z$3),eZ("caret trim",A);let J=A.split(" ").map((K)=>N$3(K,this.options)).join(" ").split(/\s+/).map((K)=>j$3(K,this.options));if(Z)J=J.filter((K)=>{return eZ("loose invalid filter",K,this.options),!!K.match(fz[OF.COMPARATORLOOSE])});eZ("range list",J);let I=new Map,X=J.map((K)=>new xR1(K,this.options));for(let K of X){if(DzQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return EzQ.set(B,W),W}intersects(A,Q){if(!(A instanceof qHA))throw TypeError("a Range is required");return this.set.some((B)=>{return HzQ(B,Q)&&A.set.some((G)=>{return HzQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new H$3(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(S$3(this.set[Q],A,this.options))return!0;return!1}}FzQ.exports=qHA;var E$3=VzQ(),EzQ=new E$3,D$3=pgA(),xR1=LHA(),eZ=wHA(),H$3=oD(),{safeRe:fz,t:OF,comparatorTrimReplace:F$3,tildeTrimReplace:C$3,caretTrimReplace:z$3}=g3A(),{FLAG_INCLUDE_PRERELEASE:U$3,FLAG_LOOSE:$$3}=$HA(),DzQ=(A)=>A.value==="<0.0.0-0",w$3=(A)=>A.value==="",HzQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},N$3=(A,Q)=>{return eZ("comp",A,Q),A=M$3(A,Q),eZ("caret",A),A=q$3(A,Q),eZ("tildes",A),A=R$3(A,Q),eZ("xrange",A),A=T$3(A,Q),eZ("stars",A),A},RF=(A)=>!A||A.toLowerCase()==="x"||A==="*",q$3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>L$3(B,Q)).join(" ")},L$3=(A,Q)=>{let B=Q.loose?fz[OF.TILDELOOSE]:fz[OF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{eZ("tilde",A,G,Z,Y,J,I);let X;if(RF(Z))X="";else if(RF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(RF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)eZ("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return eZ("tilde return",X),X})},M$3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>O$3(B,Q)).join(" ")},O$3=(A,Q)=>{eZ("caret",A,Q);let B=Q.loose?fz[OF.CARETLOOSE]:fz[OF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{eZ("caret",A,Z,Y,J,I,X);let W;if(RF(Y))W="";else if(RF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(RF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(eZ("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(eZ("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return eZ("caret return",W),W})},R$3=(A,Q)=>{return eZ("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>_$3(B,Q)).join(" ")},_$3=(A,Q)=>{A=A.trim();let B=Q.loose?fz[OF.XRANGELOOSE]:fz[OF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{eZ("xRange",A,G,Z,Y,J,I,X);let W=RF(Y),K=W||RF(J),V=K||RF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return eZ("xRange return",G),G})},T$3=(A,Q)=>{return eZ("replaceStars",A,Q),A.trim().replace(fz[OF.STAR],"")},j$3=(A,Q)=>{return eZ("replaceGTE0",A,Q),A.trim().replace(fz[Q.includePrerelease?OF.GTE0PRE:OF.GTE0],"")},P$3=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(RF(G))B="";else if(RF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(RF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(RF(W))X="";else if(RF(K))X=`<${+W+1}.0.0-0`;else if(RF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},S$3=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(eZ(A[G].semver),A[G].semver===xR1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var LHA=w((qA7,NzQ)=>{var MHA=Symbol("SemVer ANY");class QuA{static get ANY(){return MHA}constructor(A,Q){if(Q=CzQ(Q),A instanceof QuA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),vR1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===MHA)this.value="";else this.value=this.operator+this.semver.version;vR1("comp",this)}parse(A){let Q=this.options.loose?zzQ[UzQ.COMPARATORLOOSE]:zzQ[UzQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=MHA;else this.semver=new $zQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(vR1("Comparator.test",A,this.options.loose),this.semver===MHA||A===MHA)return!0;if(typeof A==="string")try{A=new $zQ(A,this.options)}catch(Q){return!1}return yR1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof QuA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new wzQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new wzQ(this.value,Q).test(A.semver)}if(Q=CzQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(yR1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(yR1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}NzQ.exports=QuA;var CzQ=pgA(),{safeRe:zzQ,t:UzQ}=g3A(),yR1=SR1(),vR1=wHA(),$zQ=oD(),wzQ=IL()});var OHA=w((LA7,qzQ)=>{var x$3=IL(),y$3=(A,Q,B)=>{try{Q=new x$3(Q,B)}catch(G){return!1}return Q.test(A)};qzQ.exports=y$3});var MzQ=w((MA7,LzQ)=>{var v$3=IL(),k$3=(A,Q)=>new v$3(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));LzQ.exports=k$3});var RzQ=w((OA7,OzQ)=>{var f$3=oD(),b$3=IL(),h$3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new b$3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new f$3(G,B)}}),G};OzQ.exports=h$3});var TzQ=w((RA7,_zQ)=>{var g$3=oD(),u$3=IL(),m$3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new u$3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new g$3(G,B)}}),G};_zQ.exports=m$3});var SzQ=w((_A7,PzQ)=>{var kR1=oD(),d$3=IL(),jzQ=NHA(),c$3=(A,Q)=>{A=new d$3(A,Q);let B=new kR1("0.0.0");if(A.test(B))return B;if(B=new kR1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new kR1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||jzQ(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||jzQ(B,Y)))B=Y}if(B&&A.test(B))return B;return null};PzQ.exports=c$3});var yzQ=w((TA7,xzQ)=>{var p$3=IL(),l$3=(A,Q)=>{try{return new p$3(A,Q).range||"*"}catch(B){return null}};xzQ.exports=l$3});var BuA=w((jA7,bzQ)=>{var i$3=oD(),fzQ=LHA(),{ANY:n$3}=fzQ,a$3=IL(),o$3=OHA(),vzQ=NHA(),kzQ=rgA(),r$3=tgA(),s$3=sgA(),t$3=(A,Q,B,G)=>{A=new i$3(A,G),Q=new a$3(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=vzQ,Y=r$3,J=kzQ,I=">",X=">=";break;case"<":Z=kzQ,Y=s$3,J=vzQ,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o$3(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===n$3)D=new fzQ(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};bzQ.exports=t$3});var gzQ=w((PA7,hzQ)=>{var e$3=BuA(),Aw3=(A,Q,B)=>e$3(A,Q,">",B);hzQ.exports=Aw3});var mzQ=w((SA7,uzQ)=>{var Qw3=BuA(),Bw3=(A,Q,B)=>Qw3(A,Q,"<",B);uzQ.exports=Bw3});var pzQ=w((xA7,czQ)=>{var dzQ=IL(),Gw3=(A,Q,B)=>{return A=new dzQ(A,B),Q=new dzQ(Q,B),A.intersects(Q,B)};czQ.exports=Gw3});var izQ=w((yA7,lzQ)=>{var Zw3=OHA(),Yw3=JL();lzQ.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>Yw3(K,V,B));for(let K of J)if(Zw3(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var tzQ=w((vA7,szQ)=>{var nzQ=IL(),bR1=LHA(),{ANY:fR1}=bR1,RHA=OHA(),hR1=JL(),Jw3=(A,Q,B={})=>{if(A===Q)return!0;A=new nzQ(A,B),Q=new nzQ(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=Xw3(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},Iw3=[new bR1(">=0.0.0-0")],azQ=[new bR1(">=0.0.0")],Xw3=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===fR1)if(Q.length===1&&Q[0].semver===fR1)return!0;else if(B.includePrerelease)A=Iw3;else A=azQ;if(Q.length===1&&Q[0].semver===fR1)if(B.includePrerelease)return!0;else Q=azQ;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=ozQ(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=rzQ(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=hR1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!RHA(D,String(Z),B))return null;if(Y&&!RHA(D,String(Y),B))return null;for(let H of Q)if(!RHA(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=ozQ(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!RHA(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=rzQ(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!RHA(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},ozQ=(A,Q,B)=>{if(!A)return Q;let G=hR1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},rzQ=(A,Q,B)=>{if(!A)return Q;let G=hR1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};szQ.exports=Jw3});var _R=w((kA7,QUQ)=>{var gR1=g3A(),ezQ=$HA(),Ww3=oD(),AUQ=TR1(),Kw3=fr(),Vw3=OCQ(),Ew3=_CQ(),Dw3=PCQ(),Hw3=yCQ(),Fw3=kCQ(),Cw3=bCQ(),zw3=gCQ(),Uw3=mCQ(),$w3=JL(),ww3=lCQ(),Nw3=nCQ(),qw3=ogA(),Lw3=sCQ(),Mw3=eCQ(),Ow3=NHA(),Rw3=rgA(),_w3=jR1(),Tw3=PR1(),jw3=sgA(),Pw3=tgA(),Sw3=SR1(),xw3=XzQ(),yw3=LHA(),vw3=IL(),kw3=OHA(),fw3=MzQ(),bw3=RzQ(),hw3=TzQ(),gw3=SzQ(),uw3=yzQ(),mw3=BuA(),dw3=gzQ(),cw3=mzQ(),pw3=pzQ(),lw3=izQ(),iw3=tzQ();QUQ.exports={parse:Kw3,valid:Vw3,clean:Ew3,inc:Dw3,diff:Hw3,major:Fw3,minor:Cw3,patch:zw3,prerelease:Uw3,compare:$w3,rcompare:ww3,compareLoose:Nw3,compareBuild:qw3,sort:Lw3,rsort:Mw3,gt:Ow3,lt:Rw3,eq:_w3,neq:Tw3,gte:jw3,lte:Pw3,cmp:Sw3,coerce:xw3,Comparator:yw3,Range:vw3,satisfies:kw3,toComparators:fw3,maxSatisfying:bw3,minSatisfying:hw3,minVersion:gw3,validRange:uw3,outside:mw3,gtr:dw3,ltr:cw3,intersects:pw3,simplifyRange:lw3,subset:iw3,SemVer:Ww3,re:gR1.re,src:gR1.src,tokens:gR1.t,SEMVER_SPEC_VERSION:ezQ.SEMVER_SPEC_VERSION,RELEASE_TYPES:ezQ.RELEASE_TYPES,compareIdentifiers:AUQ.compareIdentifiers,rcompareIdentifiers:AUQ.rcompareIdentifiers}});function iX(){return C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY)||!!process.env.DISABLE_TELEMETRY||!!process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC}var br=q(()=>{sQ()});var ZUQ=w((BUQ)=>{Object.defineProperty(BUQ,"__esModule",{value:!0});BUQ._globalThis=void 0;BUQ._globalThis=typeof globalThis==="object"?globalThis:global});var YUQ=w((hr)=>{var nw3=hr&&hr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),aw3=hr&&hr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))nw3(Q,A,B)};Object.defineProperty(hr,"__esModule",{value:!0});aw3(ZUQ(),hr)});var JUQ=w((gr)=>{var ow3=gr&&gr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),rw3=gr&&gr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))ow3(Q,A,B)};Object.defineProperty(gr,"__esModule",{value:!0});rw3(YUQ(),gr)});var uR1=w((IUQ)=>{Object.defineProperty(IUQ,"__esModule",{value:!0});IUQ.VERSION=void 0;IUQ.VERSION="1.9.0"});var DUQ=w((VUQ)=>{Object.defineProperty(VUQ,"__esModule",{value:!0});VUQ.isCompatible=VUQ._makeCompatibilityCheck=void 0;var sw3=uR1(),WUQ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function KUQ(A){let Q=new Set([A]),B=new Set,G=A.match(WUQ);if(!G)return()=>!1;let Z={major:+G[1],minor:+G[2],patch:+G[3],prerelease:G[4]};if(Z.prerelease!=null)return function(X){return X===A};function Y(I){return B.add(I),!1}function J(I){return Q.add(I),!0}return function(X){if(Q.has(X))return!0;if(B.has(X))return!1;let W=X.match(WUQ);if(!W)return Y(X);let K={major:+W[1],minor:+W[2],patch:+W[3],prerelease:W[4]};if(K.prerelease!=null)return Y(X);if(Z.major!==K.major)return Y(X);if(Z.major===0){if(Z.minor===K.minor&&Z.patch<=K.patch)return J(X);return Y(X)}if(Z.minor<=K.minor)return J(X);return Y(X)}}VUQ._makeCompatibilityCheck=KUQ;VUQ.isCompatible=KUQ(sw3.VERSION)});var ur=w((HUQ)=>{Object.defineProperty(HUQ,"__esModule",{value:!0});HUQ.unregisterGlobal=HUQ.getGlobal=HUQ.registerGlobal=void 0;var ew3=JUQ(),m3A=uR1(),AN3=DUQ(),QN3=m3A.VERSION.split(".")[0],_HA=Symbol.for(`opentelemetry.js.api.${QN3}`),THA=ew3._globalThis;function BN3(A,Q,B,G=!1){var Z;let Y=THA[_HA]=(Z=THA[_HA])!==null&&Z!==void 0?Z:{version:m3A.VERSION};if(!G&&Y[A]){let J=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${A}`);return B.error(J.stack||J.message),!1}if(Y.version!==m3A.VERSION){let J=Error(`@opentelemetry/api: Registration of version v${Y.version} for ${A} does not match previously registered API v${m3A.VERSION}`);return B.error(J.stack||J.message),!1}return Y[A]=Q,B.debug(`@opentelemetry/api: Registered a global for ${A} v${m3A.VERSION}.`),!0}HUQ.registerGlobal=BN3;function GN3(A){var Q,B;let G=(Q=THA[_HA])===null||Q===void 0?void 0:Q.version;if(!G||!(0,AN3.isCompatible)(G))return;return(B=THA[_HA])===null||B===void 0?void 0:B[A]}HUQ.getGlobal=GN3;function ZN3(A,Q){Q.debug(`@opentelemetry/api: Unregistering a global for ${A} v${m3A.VERSION}.`);let B=THA[_HA];if(B)delete B[A]}HUQ.unregisterGlobal=ZN3});var $UQ=w((zUQ)=>{Object.defineProperty(zUQ,"__esModule",{value:!0});zUQ.DiagComponentLogger=void 0;var IN3=ur();class CUQ{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return jHA("debug",this._namespace,A)}error(...A){return jHA("error",this._namespace,A)}info(...A){return jHA("info",this._namespace,A)}warn(...A){return jHA("warn",this._namespace,A)}verbose(...A){return jHA("verbose",this._namespace,A)}}zUQ.DiagComponentLogger=CUQ;function jHA(A,Q,B){let G=(0,IN3.getGlobal)("diag");if(!G)return;return B.unshift(Q),G[A](...B)}});var GuA=w((wUQ)=>{Object.defineProperty(wUQ,"__esModule",{value:!0});wUQ.DiagLogLevel=void 0;var XN3;(function(A){A[A.NONE=0]="NONE",A[A.ERROR=30]="ERROR",A[A.WARN=50]="WARN",A[A.INFO=60]="INFO",A[A.DEBUG=70]="DEBUG",A[A.VERBOSE=80]="VERBOSE",A[A.ALL=9999]="ALL"})(XN3=wUQ.DiagLogLevel||(wUQ.DiagLogLevel={}))});var LUQ=w((NUQ)=>{Object.defineProperty(NUQ,"__esModule",{value:!0});NUQ.createLogLevelDiagLogger=void 0;var lk=GuA();function WN3(A,Q){if(A<lk.DiagLogLevel.NONE)A=lk.DiagLogLevel.NONE;else if(A>lk.DiagLogLevel.ALL)A=lk.DiagLogLevel.ALL;Q=Q||{};function B(G,Z){let Y=Q[G];if(typeof Y==="function"&&A>=Z)return Y.bind(Q);return function(){}}return{error:B("error",lk.DiagLogLevel.ERROR),warn:B("warn",lk.DiagLogLevel.WARN),info:B("info",lk.DiagLogLevel.INFO),debug:B("debug",lk.DiagLogLevel.DEBUG),verbose:B("verbose",lk.DiagLogLevel.VERBOSE)}}NUQ.createLogLevelDiagLogger=WN3});var mr=w((OUQ)=>{Object.defineProperty(OUQ,"__esModule",{value:!0});OUQ.DiagAPI=void 0;var KN3=$UQ(),VN3=LUQ(),MUQ=GuA(),ZuA=ur(),EN3="diag";class dR1{constructor(){function A(G){return function(...Z){let Y=(0,ZuA.getGlobal)("diag");if(!Y)return;return Y[G](...Z)}}let Q=this,B=(G,Z={logLevel:MUQ.DiagLogLevel.INFO})=>{var Y,J,I;if(G===Q){let K=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return Q.error((Y=K.stack)!==null&&Y!==void 0?Y:K.message),!1}if(typeof Z==="number")Z={logLevel:Z};let X=(0,ZuA.getGlobal)("diag"),W=(0,VN3.createLogLevelDiagLogger)((J=Z.logLevel)!==null&&J!==void 0?J:MUQ.DiagLogLevel.INFO,G);if(X&&!Z.suppressOverrideMessage){let K=(I=Error().stack)!==null&&I!==void 0?I:"<failed to generate stacktrace>";X.warn(`Current logger will be overwritten from ${K}`),W.warn(`Current logger will overwrite one already registered from ${K}`)}return(0,ZuA.registerGlobal)("diag",W,Q,!0)};Q.setLogger=B,Q.disable=()=>{(0,ZuA.unregisterGlobal)(EN3,Q)},Q.createComponentLogger=(G)=>{return new KN3.DiagComponentLogger(G)},Q.verbose=A("verbose"),Q.debug=A("debug"),Q.info=A("info"),Q.warn=A("warn"),Q.error=A("error")}static instance(){if(!this._instance)this._instance=new dR1;return this._instance}}OUQ.DiagAPI=dR1});var jUQ=w((_UQ)=>{Object.defineProperty(_UQ,"__esModule",{value:!0});_UQ.BaggageImpl=void 0;class d3A{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let Q=this._entries.get(A);if(!Q)return;return Object.assign({},Q)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,Q])=>[A,Q])}setEntry(A,Q){let B=new d3A(this._entries);return B._entries.set(A,Q),B}removeEntry(A){let Q=new d3A(this._entries);return Q._entries.delete(A),Q}removeEntries(...A){let Q=new d3A(this._entries);for(let B of A)Q._entries.delete(B);return Q}clear(){return new d3A}}_UQ.BaggageImpl=d3A});var xUQ=w((PUQ)=>{Object.defineProperty(PUQ,"__esModule",{value:!0});PUQ.baggageEntryMetadataSymbol=void 0;PUQ.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var cR1=w((yUQ)=>{Object.defineProperty(yUQ,"__esModule",{value:!0});yUQ.baggageEntryMetadataFromString=yUQ.createBaggage=void 0;var DN3=mr(),HN3=jUQ(),FN3=xUQ(),CN3=DN3.DiagAPI.instance();function zN3(A={}){return new HN3.BaggageImpl(new Map(Object.entries(A)))}yUQ.createBaggage=zN3;function UN3(A){if(typeof A!=="string")CN3.error(`Cannot create baggage metadata from unknown type: ${typeof A}`),A="";return{__TYPE__:FN3.baggageEntryMetadataSymbol,toString(){return A}}}yUQ.baggageEntryMetadataFromString=UN3});var PHA=w((kUQ)=>{Object.defineProperty(kUQ,"__esModule",{value:!0});kUQ.ROOT_CONTEXT=kUQ.createContextKey=void 0;function wN3(A){return Symbol.for(A)}kUQ.createContextKey=wN3;class YuA{constructor(A){let Q=this;Q._currentContext=A?new Map(A):new Map,Q.getValue=(B)=>Q._currentContext.get(B),Q.setValue=(B,G)=>{let Z=new YuA(Q._currentContext);return Z._currentContext.set(B,G),Z},Q.deleteValue=(B)=>{let G=new YuA(Q._currentContext);return G._currentContext.delete(B),G}}}kUQ.ROOT_CONTEXT=new YuA});var uUQ=w((hUQ)=>{Object.defineProperty(hUQ,"__esModule",{value:!0});hUQ.DiagConsoleLogger=void 0;var pR1=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class bUQ{constructor(){function A(Q){return function(...B){if(console){let G=console[Q];if(typeof G!=="function")G=console.log;if(typeof G==="function")return G.apply(console,B)}}}for(let Q=0;Q<pR1.length;Q++)this[pR1[Q].n]=A(pR1[Q].c)}}hUQ.DiagConsoleLogger=bUQ});var eR1=w((mUQ)=>{Object.defineProperty(mUQ,"__esModule",{value:!0});mUQ.createNoopMeter=mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=mUQ.NOOP_OBSERVABLE_GAUGE_METRIC=mUQ.NOOP_OBSERVABLE_COUNTER_METRIC=mUQ.NOOP_UP_DOWN_COUNTER_METRIC=mUQ.NOOP_HISTOGRAM_METRIC=mUQ.NOOP_GAUGE_METRIC=mUQ.NOOP_COUNTER_METRIC=mUQ.NOOP_METER=mUQ.NoopObservableUpDownCounterMetric=mUQ.NoopObservableGaugeMetric=mUQ.NoopObservableCounterMetric=mUQ.NoopObservableMetric=mUQ.NoopHistogramMetric=mUQ.NoopGaugeMetric=mUQ.NoopUpDownCounterMetric=mUQ.NoopCounterMetric=mUQ.NoopMetric=mUQ.NoopMeter=void 0;class lR1{constructor(){}createGauge(A,Q){return mUQ.NOOP_GAUGE_METRIC}createHistogram(A,Q){return mUQ.NOOP_HISTOGRAM_METRIC}createCounter(A,Q){return mUQ.NOOP_COUNTER_METRIC}createUpDownCounter(A,Q){return mUQ.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,Q){return mUQ.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,Q){return mUQ.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,Q){return mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,Q){}removeBatchObservableCallback(A){}}mUQ.NoopMeter=lR1;class c3A{}mUQ.NoopMetric=c3A;class iR1 extends c3A{add(A,Q){}}mUQ.NoopCounterMetric=iR1;class nR1 extends c3A{add(A,Q){}}mUQ.NoopUpDownCounterMetric=nR1;class aR1 extends c3A{record(A,Q){}}mUQ.NoopGaugeMetric=aR1;class oR1 extends c3A{record(A,Q){}}mUQ.NoopHistogramMetric=oR1;class SHA{addCallback(A){}removeCallback(A){}}mUQ.NoopObservableMetric=SHA;class rR1 extends SHA{}mUQ.NoopObservableCounterMetric=rR1;class sR1 extends SHA{}mUQ.NoopObservableGaugeMetric=sR1;class tR1 extends SHA{}mUQ.NoopObservableUpDownCounterMetric=tR1;mUQ.NOOP_METER=new lR1;mUQ.NOOP_COUNTER_METRIC=new iR1;mUQ.NOOP_GAUGE_METRIC=new aR1;mUQ.NOOP_HISTOGRAM_METRIC=new oR1;mUQ.NOOP_UP_DOWN_COUNTER_METRIC=new nR1;mUQ.NOOP_OBSERVABLE_COUNTER_METRIC=new rR1;mUQ.NOOP_OBSERVABLE_GAUGE_METRIC=new sR1;mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new tR1;function qN3(){return mUQ.NOOP_METER}mUQ.createNoopMeter=qN3});var tUQ=w((sUQ)=>{Object.defineProperty(sUQ,"__esModule",{value:!0});sUQ.ValueType=void 0;var yN3;(function(A){A[A.INT=0]="INT",A[A.DOUBLE=1]="DOUBLE"})(yN3=sUQ.ValueType||(sUQ.ValueType={}))});var Q_1=w((eUQ)=>{Object.defineProperty(eUQ,"__esModule",{value:!0});eUQ.defaultTextMapSetter=eUQ.defaultTextMapGetter=void 0;eUQ.defaultTextMapGetter={get(A,Q){if(A==null)return;return A[Q]},keys(A){if(A==null)return[];return Object.keys(A)}};eUQ.defaultTextMapSetter={set(A,Q,B){if(A==null)return;A[Q]=B}}});var Z$Q=w((B$Q)=>{Object.defineProperty(B$Q,"__esModule",{value:!0});B$Q.NoopContextManager=void 0;var kN3=PHA();class Q$Q{active(){return kN3.ROOT_CONTEXT}with(A,Q,B,...G){return Q.call(B,...G)}bind(A,Q){return Q}enable(){return this}disable(){return this}}B$Q.NoopContextManager=Q$Q});var xHA=w((J$Q)=>{Object.defineProperty(J$Q,"__esModule",{value:!0});J$Q.ContextAPI=void 0;var fN3=Z$Q(),B_1=ur(),Y$Q=mr(),G_1="context",bN3=new fN3.NoopContextManager;class Z_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new Z_1;return this._instance}setGlobalContextManager(A){return(0,B_1.registerGlobal)(G_1,A,Y$Q.DiagAPI.instance())}active(){return this._getContextManager().active()}with(A,Q,B,...G){return this._getContextManager().with(A,Q,B,...G)}bind(A,Q){return this._getContextManager().bind(A,Q)}_getContextManager(){return(0,B_1.getGlobal)(G_1)||bN3}disable(){this._getContextManager().disable(),(0,B_1.unregisterGlobal)(G_1,Y$Q.DiagAPI.instance())}}J$Q.ContextAPI=Z_1});var J_1=w((X$Q)=>{Object.defineProperty(X$Q,"__esModule",{value:!0});X$Q.TraceFlags=void 0;var hN3;(function(A){A[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED"})(hN3=X$Q.TraceFlags||(X$Q.TraceFlags={}))});var JuA=w((W$Q)=>{Object.defineProperty(W$Q,"__esModule",{value:!0});W$Q.INVALID_SPAN_CONTEXT=W$Q.INVALID_TRACEID=W$Q.INVALID_SPANID=void 0;var gN3=J_1();W$Q.INVALID_SPANID="0000000000000000";W$Q.INVALID_TRACEID="00000000000000000000000000000000";W$Q.INVALID_SPAN_CONTEXT={traceId:W$Q.INVALID_TRACEID,spanId:W$Q.INVALID_SPANID,traceFlags:gN3.TraceFlags.NONE}});var IuA=w((H$Q)=>{Object.defineProperty(H$Q,"__esModule",{value:!0});H$Q.NonRecordingSpan=void 0;var uN3=JuA();class D$Q{constructor(A=uN3.INVALID_SPAN_CONTEXT){this._spanContext=A}spanContext(){return this._spanContext}setAttribute(A,Q){return this}setAttributes(A){return this}addEvent(A,Q){return this}addLink(A){return this}addLinks(A){return this}setStatus(A){return this}updateName(A){return this}end(A){}isRecording(){return!1}recordException(A,Q){}}H$Q.NonRecordingSpan=D$Q});var W_1=w((z$Q)=>{Object.defineProperty(z$Q,"__esModule",{value:!0});z$Q.getSpanContext=z$Q.setSpanContext=z$Q.deleteSpan=z$Q.setSpan=z$Q.getActiveSpan=z$Q.getSpan=void 0;var mN3=PHA(),dN3=IuA(),cN3=xHA(),I_1=(0,mN3.createContextKey)("OpenTelemetry Context Key SPAN");function X_1(A){return A.getValue(I_1)||void 0}z$Q.getSpan=X_1;function pN3(){return X_1(cN3.ContextAPI.getInstance().active())}z$Q.getActiveSpan=pN3;function C$Q(A,Q){return A.setValue(I_1,Q)}z$Q.setSpan=C$Q;function lN3(A){return A.deleteValue(I_1)}z$Q.deleteSpan=lN3;function iN3(A,Q){return C$Q(A,new dN3.NonRecordingSpan(Q))}z$Q.setSpanContext=iN3;function nN3(A){var Q;return(Q=X_1(A))===null||Q===void 0?void 0:Q.spanContext()}z$Q.getSpanContext=nN3});var XuA=w((q$Q)=>{Object.defineProperty(q$Q,"__esModule",{value:!0});q$Q.wrapSpanContext=q$Q.isSpanContextValid=q$Q.isValidSpanId=q$Q.isValidTraceId=void 0;var $$Q=JuA(),eN3=IuA(),Aq3=/^([0-9a-f]{32})$/i,Qq3=/^[0-9a-f]{16}$/i;function w$Q(A){return Aq3.test(A)&&A!==$$Q.INVALID_TRACEID}q$Q.isValidTraceId=w$Q;function N$Q(A){return Qq3.test(A)&&A!==$$Q.INVALID_SPANID}q$Q.isValidSpanId=N$Q;function Bq3(A){return w$Q(A.traceId)&&N$Q(A.spanId)}q$Q.isSpanContextValid=Bq3;function Gq3(A){return new eN3.NonRecordingSpan(A)}q$Q.wrapSpanContext=Gq3});var E_1=w((R$Q)=>{Object.defineProperty(R$Q,"__esModule",{value:!0});R$Q.NoopTracer=void 0;var Iq3=xHA(),M$Q=W_1(),K_1=IuA(),Xq3=XuA(),V_1=Iq3.ContextAPI.getInstance();class O$Q{startSpan(A,Q,B=V_1.active()){if(Boolean(Q===null||Q===void 0?void 0:Q.root))return new K_1.NonRecordingSpan;let Z=B&&(0,M$Q.getSpanContext)(B);if(Wq3(Z)&&(0,Xq3.isSpanContextValid)(Z))return new K_1.NonRecordingSpan(Z);else return new K_1.NonRecordingSpan}startActiveSpan(A,Q,B,G){let Z,Y,J;if(arguments.length<2)return;else if(arguments.length===2)J=Q;else if(arguments.length===3)Z=Q,J=B;else Z=Q,Y=B,J=G;let I=Y!==null&&Y!==void 0?Y:V_1.active(),X=this.startSpan(A,Z,I),W=(0,M$Q.setSpan)(I,X);return V_1.with(W,J,void 0,X)}}R$Q.NoopTracer=O$Q;function Wq3(A){return typeof A==="object"&&typeof A.spanId==="string"&&typeof A.traceId==="string"&&typeof A.traceFlags==="number"}});var D_1=w((j$Q)=>{Object.defineProperty(j$Q,"__esModule",{value:!0});j$Q.ProxyTracer=void 0;var Kq3=E_1(),Vq3=new Kq3.NoopTracer;class T$Q{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}startSpan(A,Q,B){return this._getTracer().startSpan(A,Q,B)}startActiveSpan(A,Q,B,G){let Z=this._getTracer();return Reflect.apply(Z.startActiveSpan,Z,arguments)}_getTracer(){if(this._delegate)return this._delegate;let A=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!A)return Vq3;return this._delegate=A,this._delegate}}j$Q.ProxyTracer=T$Q});var v$Q=w((x$Q)=>{Object.defineProperty(x$Q,"__esModule",{value:!0});x$Q.NoopTracerProvider=void 0;var Eq3=E_1();class S$Q{getTracer(A,Q,B){return new Eq3.NoopTracer}}x$Q.NoopTracerProvider=S$Q});var H_1=w((f$Q)=>{Object.defineProperty(f$Q,"__esModule",{value:!0});f$Q.ProxyTracerProvider=void 0;var Dq3=D_1(),Hq3=v$Q(),Fq3=new Hq3.NoopTracerProvider;class k$Q{getTracer(A,Q,B){var G;return(G=this.getDelegateTracer(A,Q,B))!==null&&G!==void 0?G:new Dq3.ProxyTracer(this,A,Q,B)}getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:Fq3}setDelegate(A){this._delegate=A}getDelegateTracer(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getTracer(A,Q,B)}}f$Q.ProxyTracerProvider=k$Q});var g$Q=w((h$Q)=>{Object.defineProperty(h$Q,"__esModule",{value:!0});h$Q.SamplingDecision=void 0;var Cq3;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Cq3=h$Q.SamplingDecision||(h$Q.SamplingDecision={}))});var m$Q=w((u$Q)=>{Object.defineProperty(u$Q,"__esModule",{value:!0});u$Q.SpanKind=void 0;var zq3;(function(A){A[A.INTERNAL=0]="INTERNAL",A[A.SERVER=1]="SERVER",A[A.CLIENT=2]="CLIENT",A[A.PRODUCER=3]="PRODUCER",A[A.CONSUMER=4]="CONSUMER"})(zq3=u$Q.SpanKind||(u$Q.SpanKind={}))});var c$Q=w((d$Q)=>{Object.defineProperty(d$Q,"__esModule",{value:!0});d$Q.SpanStatusCode=void 0;var Uq3;(function(A){A[A.UNSET=0]="UNSET",A[A.OK=1]="OK",A[A.ERROR=2]="ERROR"})(Uq3=d$Q.SpanStatusCode||(d$Q.SpanStatusCode={}))});var i$Q=w((p$Q)=>{Object.defineProperty(p$Q,"__esModule",{value:!0});p$Q.validateValue=p$Q.validateKey=void 0;var U_1="[_0-9a-z-*/]",$q3=`[a-z]${U_1}{0,255}`,wq3=`[a-z0-9]${U_1}{0,240}@[a-z]${U_1}{0,13}`,Nq3=new RegExp(`^(?:${$q3}|${wq3})$`),qq3=/^[ -~]{0,255}[!-~]$/,Lq3=/,|=/;function Mq3(A){return Nq3.test(A)}p$Q.validateKey=Mq3;function Oq3(A){return qq3.test(A)&&!Lq3.test(A)}p$Q.validateValue=Oq3});var e$Q=w((s$Q)=>{Object.defineProperty(s$Q,"__esModule",{value:!0});s$Q.TraceStateImpl=void 0;var n$Q=i$Q(),a$Q=32,_q3=512,o$Q=",",r$Q="=";class $_1{constructor(A){if(this._internalState=new Map,A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+r$Q+this.get(Q)),A},[]).join(o$Q)}_parse(A){if(A.length>_q3)return;if(this._internalState=A.split(o$Q).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(r$Q);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,n$Q.validateKey)(Y)&&(0,n$Q.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>a$Q)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,a$Q))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new $_1;return A._internalState=new Map(this._internalState),A}}s$Q.TraceStateImpl=$_1});var BwQ=w((AwQ)=>{Object.defineProperty(AwQ,"__esModule",{value:!0});AwQ.createTraceState=void 0;var Tq3=e$Q();function jq3(A){return new Tq3.TraceStateImpl(A)}AwQ.createTraceState=jq3});var YwQ=w((GwQ)=>{Object.defineProperty(GwQ,"__esModule",{value:!0});GwQ.context=void 0;var Pq3=xHA();GwQ.context=Pq3.ContextAPI.getInstance()});var XwQ=w((JwQ)=>{Object.defineProperty(JwQ,"__esModule",{value:!0});JwQ.diag=void 0;var Sq3=mr();JwQ.diag=Sq3.DiagAPI.instance()});var VwQ=w((WwQ)=>{Object.defineProperty(WwQ,"__esModule",{value:!0});WwQ.NOOP_METER_PROVIDER=WwQ.NoopMeterProvider=void 0;var xq3=eR1();class w_1{getMeter(A,Q,B){return xq3.NOOP_METER}}WwQ.NoopMeterProvider=w_1;WwQ.NOOP_METER_PROVIDER=new w_1});var FwQ=w((DwQ)=>{Object.defineProperty(DwQ,"__esModule",{value:!0});DwQ.MetricsAPI=void 0;var vq3=VwQ(),N_1=ur(),EwQ=mr(),q_1="metrics";class L_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new L_1;return this._instance}setGlobalMeterProvider(A){return(0,N_1.registerGlobal)(q_1,A,EwQ.DiagAPI.instance())}getMeterProvider(){return(0,N_1.getGlobal)(q_1)||vq3.NOOP_METER_PROVIDER}getMeter(A,Q,B){return this.getMeterProvider().getMeter(A,Q,B)}disable(){(0,N_1.unregisterGlobal)(q_1,EwQ.DiagAPI.instance())}}DwQ.MetricsAPI=L_1});var UwQ=w((CwQ)=>{Object.defineProperty(CwQ,"__esModule",{value:!0});CwQ.metrics=void 0;var kq3=FwQ();CwQ.metrics=kq3.MetricsAPI.getInstance()});var qwQ=w((wwQ)=>{Object.defineProperty(wwQ,"__esModule",{value:!0});wwQ.NoopTextMapPropagator=void 0;class $wQ{inject(A,Q){}extract(A,Q){return A}fields(){return[]}}wwQ.NoopTextMapPropagator=$wQ});var RwQ=w((MwQ)=>{Object.defineProperty(MwQ,"__esModule",{value:!0});MwQ.deleteBaggage=MwQ.setBaggage=MwQ.getActiveBaggage=MwQ.getBaggage=void 0;var fq3=xHA(),bq3=PHA(),M_1=(0,bq3.createContextKey)("OpenTelemetry Baggage Key");function LwQ(A){return A.getValue(M_1)||void 0}MwQ.getBaggage=LwQ;function hq3(){return LwQ(fq3.ContextAPI.getInstance().active())}MwQ.getActiveBaggage=hq3;function gq3(A,Q){return A.setValue(M_1,Q)}MwQ.setBaggage=gq3;function uq3(A){return A.deleteValue(M_1)}MwQ.deleteBaggage=uq3});var SwQ=w((jwQ)=>{Object.defineProperty(jwQ,"__esModule",{value:!0});jwQ.PropagationAPI=void 0;var O_1=ur(),pq3=qwQ(),_wQ=Q_1(),WuA=RwQ(),lq3=cR1(),TwQ=mr(),R_1="propagation",iq3=new pq3.NoopTextMapPropagator;class __1{constructor(){this.createBaggage=lq3.createBaggage,this.getBaggage=WuA.getBaggage,this.getActiveBaggage=WuA.getActiveBaggage,this.setBaggage=WuA.setBaggage,this.deleteBaggage=WuA.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new __1;return this._instance}setGlobalPropagator(A){return(0,O_1.registerGlobal)(R_1,A,TwQ.DiagAPI.instance())}inject(A,Q,B=_wQ.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,Q,B)}extract(A,Q,B=_wQ.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,Q,B)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,O_1.unregisterGlobal)(R_1,TwQ.DiagAPI.instance())}_getGlobalPropagator(){return(0,O_1.getGlobal)(R_1)||iq3}}jwQ.PropagationAPI=__1});var vwQ=w((xwQ)=>{Object.defineProperty(xwQ,"__esModule",{value:!0});xwQ.propagation=void 0;var nq3=SwQ();xwQ.propagation=nq3.PropagationAPI.getInstance()});var uwQ=w((hwQ)=>{Object.defineProperty(hwQ,"__esModule",{value:!0});hwQ.TraceAPI=void 0;var T_1=ur(),kwQ=H_1(),fwQ=XuA(),p3A=W_1(),bwQ=mr(),j_1="trace";class P_1{constructor(){this._proxyTracerProvider=new kwQ.ProxyTracerProvider,this.wrapSpanContext=fwQ.wrapSpanContext,this.isSpanContextValid=fwQ.isSpanContextValid,this.deleteSpan=p3A.deleteSpan,this.getSpan=p3A.getSpan,this.getActiveSpan=p3A.getActiveSpan,this.getSpanContext=p3A.getSpanContext,this.setSpan=p3A.setSpan,this.setSpanContext=p3A.setSpanContext}static getInstance(){if(!this._instance)this._instance=new P_1;return this._instance}setGlobalTracerProvider(A){let Q=(0,T_1.registerGlobal)(j_1,this._proxyTracerProvider,bwQ.DiagAPI.instance());if(Q)this._proxyTracerProvider.setDelegate(A);return Q}getTracerProvider(){return(0,T_1.getGlobal)(j_1)||this._proxyTracerProvider}getTracer(A,Q){return this.getTracerProvider().getTracer(A,Q)}disable(){(0,T_1.unregisterGlobal)(j_1,bwQ.DiagAPI.instance()),this._proxyTracerProvider=new kwQ.ProxyTracerProvider}}hwQ.TraceAPI=P_1});var cwQ=w((mwQ)=>{Object.defineProperty(mwQ,"__esModule",{value:!0});mwQ.trace=void 0;var aq3=uwQ();mwQ.trace=aq3.TraceAPI.getInstance()});var q9=w((n7)=>{Object.defineProperty(n7,"__esModule",{value:!0});n7.trace=n7.propagation=n7.metrics=n7.diag=n7.context=n7.INVALID_SPAN_CONTEXT=n7.INVALID_TRACEID=n7.INVALID_SPANID=n7.isValidSpanId=n7.isValidTraceId=n7.isSpanContextValid=n7.createTraceState=n7.TraceFlags=n7.SpanStatusCode=n7.SpanKind=n7.SamplingDecision=n7.ProxyTracerProvider=n7.ProxyTracer=n7.defaultTextMapSetter=n7.defaultTextMapGetter=n7.ValueType=n7.createNoopMeter=n7.DiagLogLevel=n7.DiagConsoleLogger=n7.ROOT_CONTEXT=n7.createContextKey=n7.baggageEntryMetadataFromString=void 0;var oq3=cR1();Object.defineProperty(n7,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return oq3.baggageEntryMetadataFromString}});var pwQ=PHA();Object.defineProperty(n7,"createContextKey",{enumerable:!0,get:function(){return pwQ.createContextKey}});Object.defineProperty(n7,"ROOT_CONTEXT",{enumerable:!0,get:function(){return pwQ.ROOT_CONTEXT}});var rq3=uUQ();Object.defineProperty(n7,"DiagConsoleLogger",{enumerable:!0,get:function(){return rq3.DiagConsoleLogger}});var sq3=GuA();Object.defineProperty(n7,"DiagLogLevel",{enumerable:!0,get:function(){return sq3.DiagLogLevel}});var tq3=eR1();Object.defineProperty(n7,"createNoopMeter",{enumerable:!0,get:function(){return tq3.createNoopMeter}});var eq3=tUQ();Object.defineProperty(n7,"ValueType",{enumerable:!0,get:function(){return eq3.ValueType}});var lwQ=Q_1();Object.defineProperty(n7,"defaultTextMapGetter",{enumerable:!0,get:function(){return lwQ.defaultTextMapGetter}});Object.defineProperty(n7,"defaultTextMapSetter",{enumerable:!0,get:function(){return lwQ.defaultTextMapSetter}});var AL3=D_1();Object.defineProperty(n7,"ProxyTracer",{enumerable:!0,get:function(){return AL3.ProxyTracer}});var QL3=H_1();Object.defineProperty(n7,"ProxyTracerProvider",{enumerable:!0,get:function(){return QL3.ProxyTracerProvider}});var BL3=g$Q();Object.defineProperty(n7,"SamplingDecision",{enumerable:!0,get:function(){return BL3.SamplingDecision}});var GL3=m$Q();Object.defineProperty(n7,"SpanKind",{enumerable:!0,get:function(){return GL3.SpanKind}});var ZL3=c$Q();Object.defineProperty(n7,"SpanStatusCode",{enumerable:!0,get:function(){return ZL3.SpanStatusCode}});var YL3=J_1();Object.defineProperty(n7,"TraceFlags",{enumerable:!0,get:function(){return YL3.TraceFlags}});var JL3=BwQ();Object.defineProperty(n7,"createTraceState",{enumerable:!0,get:function(){return JL3.createTraceState}});var S_1=XuA();Object.defineProperty(n7,"isSpanContextValid",{enumerable:!0,get:function(){return S_1.isSpanContextValid}});Object.defineProperty(n7,"isValidTraceId",{enumerable:!0,get:function(){return S_1.isValidTraceId}});Object.defineProperty(n7,"isValidSpanId",{enumerable:!0,get:function(){return S_1.isValidSpanId}});var x_1=JuA();Object.defineProperty(n7,"INVALID_SPANID",{enumerable:!0,get:function(){return x_1.INVALID_SPANID}});Object.defineProperty(n7,"INVALID_TRACEID",{enumerable:!0,get:function(){return x_1.INVALID_TRACEID}});Object.defineProperty(n7,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return x_1.INVALID_SPAN_CONTEXT}});var iwQ=YwQ();Object.defineProperty(n7,"context",{enumerable:!0,get:function(){return iwQ.context}});var nwQ=XwQ();Object.defineProperty(n7,"diag",{enumerable:!0,get:function(){return nwQ.diag}});var awQ=UwQ();Object.defineProperty(n7,"metrics",{enumerable:!0,get:function(){return awQ.metrics}});var owQ=vwQ();Object.defineProperty(n7,"propagation",{enumerable:!0,get:function(){return owQ.propagation}});var rwQ=cwQ();Object.defineProperty(n7,"trace",{enumerable:!0,get:function(){return rwQ.trace}});n7.default={context:iwQ.context,diag:nwQ.diag,metrics:awQ.metrics,propagation:owQ.propagation,trace:rwQ.trace}});var twQ=w((swQ)=>{Object.defineProperty(swQ,"__esModule",{value:!0});swQ.SeverityNumber=void 0;var WL3;(function(A){A[A.UNSPECIFIED=0]="UNSPECIFIED",A[A.TRACE=1]="TRACE",A[A.TRACE2=2]="TRACE2",A[A.TRACE3=3]="TRACE3",A[A.TRACE4=4]="TRACE4",A[A.DEBUG=5]="DEBUG",A[A.DEBUG2=6]="DEBUG2",A[A.DEBUG3=7]="DEBUG3",A[A.DEBUG4=8]="DEBUG4",A[A.INFO=9]="INFO",A[A.INFO2=10]="INFO2",A[A.INFO3=11]="INFO3",A[A.INFO4=12]="INFO4",A[A.WARN=13]="WARN",A[A.WARN2=14]="WARN2",A[A.WARN3=15]="WARN3",A[A.WARN4=16]="WARN4",A[A.ERROR=17]="ERROR",A[A.ERROR2=18]="ERROR2",A[A.ERROR3=19]="ERROR3",A[A.ERROR4=20]="ERROR4",A[A.FATAL=21]="FATAL",A[A.FATAL2=22]="FATAL2",A[A.FATAL3=23]="FATAL3",A[A.FATAL4=24]="FATAL4"})(WL3=swQ.SeverityNumber||(swQ.SeverityNumber={}))});var KuA=w((ewQ)=>{Object.defineProperty(ewQ,"__esModule",{value:!0});ewQ.NOOP_LOGGER=ewQ.NoopLogger=void 0;class v_1{emit(A){}}ewQ.NoopLogger=v_1;ewQ.NOOP_LOGGER=new v_1});var VuA=w((QNQ)=>{Object.defineProperty(QNQ,"__esModule",{value:!0});QNQ.NOOP_LOGGER_PROVIDER=QNQ.NoopLoggerProvider=void 0;var VL3=KuA();class k_1{getLogger(A,Q,B){return new VL3.NoopLogger}}QNQ.NoopLoggerProvider=k_1;QNQ.NOOP_LOGGER_PROVIDER=new k_1});var f_1=w((ZNQ)=>{Object.defineProperty(ZNQ,"__esModule",{value:!0});ZNQ.ProxyLogger=void 0;var DL3=KuA();class GNQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}emit(A){this._getLogger().emit(A)}_getLogger(){if(this._delegate)return this._delegate;let A=this._provider._getDelegateLogger(this.name,this.version,this.options);if(!A)return DL3.NOOP_LOGGER;return this._delegate=A,this._delegate}}ZNQ.ProxyLogger=GNQ});var b_1=w((INQ)=>{Object.defineProperty(INQ,"__esModule",{value:!0});INQ.ProxyLoggerProvider=void 0;var HL3=VuA(),FL3=f_1();class JNQ{getLogger(A,Q,B){var G;return(G=this._getDelegateLogger(A,Q,B))!==null&&G!==void 0?G:new FL3.ProxyLogger(this,A,Q,B)}_getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:HL3.NOOP_LOGGER_PROVIDER}_setDelegate(A){this._delegate=A}_getDelegateLogger(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getLogger(A,Q,B)}}INQ.ProxyLoggerProvider=JNQ});var VNQ=w((WNQ)=>{Object.defineProperty(WNQ,"__esModule",{value:!0});WNQ._globalThis=void 0;WNQ._globalThis=typeof globalThis==="object"?globalThis:global});var ENQ=w((h_1)=>{Object.defineProperty(h_1,"__esModule",{value:!0});h_1._globalThis=void 0;var CL3=VNQ();Object.defineProperty(h_1,"_globalThis",{enumerable:!0,get:function(){return CL3._globalThis}})});var DNQ=w((g_1)=>{Object.defineProperty(g_1,"__esModule",{value:!0});g_1._globalThis=void 0;var UL3=ENQ();Object.defineProperty(g_1,"_globalThis",{enumerable:!0,get:function(){return UL3._globalThis}})});var CNQ=w((HNQ)=>{Object.defineProperty(HNQ,"__esModule",{value:!0});HNQ.API_BACKWARDS_COMPATIBILITY_VERSION=HNQ.makeGetter=HNQ._global=HNQ.GLOBAL_LOGS_API_KEY=void 0;var wL3=DNQ();HNQ.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");HNQ._global=wL3._globalThis;function NL3(A,Q,B){return(G)=>G===A?Q:B}HNQ.makeGetter=NL3;HNQ.API_BACKWARDS_COMPATIBILITY_VERSION=1});var wNQ=w((UNQ)=>{Object.defineProperty(UNQ,"__esModule",{value:!0});UNQ.LogsAPI=void 0;var XL=CNQ(),OL3=VuA(),zNQ=b_1();class u_1{constructor(){this._proxyLoggerProvider=new zNQ.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new u_1;return this._instance}setGlobalLoggerProvider(A){if(XL._global[XL.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return XL._global[XL.GLOBAL_LOGS_API_KEY]=(0,XL.makeGetter)(XL.API_BACKWARDS_COMPATIBILITY_VERSION,A,OL3.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider._setDelegate(A),A}getLoggerProvider(){var A,Q;return(Q=(A=XL._global[XL.GLOBAL_LOGS_API_KEY])===null||A===void 0?void 0:A.call(XL._global,XL.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Q!==void 0?Q:this._proxyLoggerProvider}getLogger(A,Q,B){return this.getLoggerProvider().getLogger(A,Q,B)}disable(){delete XL._global[XL.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new zNQ.ProxyLoggerProvider}}UNQ.LogsAPI=u_1});var m_1=w((ik)=>{Object.defineProperty(ik,"__esModule",{value:!0});ik.logs=ik.ProxyLoggerProvider=ik.ProxyLogger=ik.NoopLoggerProvider=ik.NOOP_LOGGER_PROVIDER=ik.NoopLogger=ik.NOOP_LOGGER=ik.SeverityNumber=void 0;var RL3=twQ();Object.defineProperty(ik,"SeverityNumber",{enumerable:!0,get:function(){return RL3.SeverityNumber}});var NNQ=KuA();Object.defineProperty(ik,"NOOP_LOGGER",{enumerable:!0,get:function(){return NNQ.NOOP_LOGGER}});Object.defineProperty(ik,"NoopLogger",{enumerable:!0,get:function(){return NNQ.NoopLogger}});var qNQ=VuA();Object.defineProperty(ik,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return qNQ.NOOP_LOGGER_PROVIDER}});Object.defineProperty(ik,"NoopLoggerProvider",{enumerable:!0,get:function(){return qNQ.NoopLoggerProvider}});var _L3=f_1();Object.defineProperty(ik,"ProxyLogger",{enumerable:!0,get:function(){return _L3.ProxyLogger}});var TL3=b_1();Object.defineProperty(ik,"ProxyLoggerProvider",{enumerable:!0,get:function(){return TL3.ProxyLoggerProvider}});var jL3=wNQ();ik.logs=jL3.LogsAPI.getInstance()});var yHA=w((MNQ)=>{Object.defineProperty(MNQ,"__esModule",{value:!0});MNQ.isTracingSuppressed=MNQ.unsuppressTracing=MNQ.suppressTracing=void 0;var PL3=q9(),d_1=(0,PL3.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function SL3(A){return A.setValue(d_1,!0)}MNQ.suppressTracing=SL3;function xL3(A){return A.deleteValue(d_1)}MNQ.unsuppressTracing=xL3;function yL3(A){return A.getValue(d_1)===!0}MNQ.isTracingSuppressed=yL3});var c_1=w((RNQ)=>{Object.defineProperty(RNQ,"__esModule",{value:!0});RNQ.BAGGAGE_MAX_TOTAL_LENGTH=RNQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=RNQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=RNQ.BAGGAGE_HEADER=RNQ.BAGGAGE_ITEMS_SEPARATOR=RNQ.BAGGAGE_PROPERTIES_SEPARATOR=RNQ.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;RNQ.BAGGAGE_KEY_PAIR_SEPARATOR="=";RNQ.BAGGAGE_PROPERTIES_SEPARATOR=";";RNQ.BAGGAGE_ITEMS_SEPARATOR=",";RNQ.BAGGAGE_HEADER="baggage";RNQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;RNQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;RNQ.BAGGAGE_MAX_TOTAL_LENGTH=8192});var p_1=w((jNQ)=>{Object.defineProperty(jNQ,"__esModule",{value:!0});jNQ.parseKeyPairsIntoRecord=jNQ.parsePairKeyValue=jNQ.getKeyPairs=jNQ.serializeKeyPairs=void 0;var dL3=q9(),dr=c_1();function cL3(A){return A.reduce((Q,B)=>{let G=`${Q}${Q!==""?dr.BAGGAGE_ITEMS_SEPARATOR:""}${B}`;return G.length>dr.BAGGAGE_MAX_TOTAL_LENGTH?Q:G},"")}jNQ.serializeKeyPairs=cL3;function pL3(A){return A.getAllEntries().map(([Q,B])=>{let G=`${encodeURIComponent(Q)}=${encodeURIComponent(B.value)}`;if(B.metadata!==void 0)G+=dr.BAGGAGE_PROPERTIES_SEPARATOR+B.metadata.toString();return G})}jNQ.getKeyPairs=pL3;function TNQ(A){let Q=A.split(dr.BAGGAGE_PROPERTIES_SEPARATOR);if(Q.length<=0)return;let B=Q.shift();if(!B)return;let G=B.indexOf(dr.BAGGAGE_KEY_PAIR_SEPARATOR);if(G<=0)return;let Z=decodeURIComponent(B.substring(0,G).trim()),Y=decodeURIComponent(B.substring(G+1).trim()),J;if(Q.length>0)J=(0,dL3.baggageEntryMetadataFromString)(Q.join(dr.BAGGAGE_PROPERTIES_SEPARATOR));return{key:Z,value:Y,metadata:J}}jNQ.parsePairKeyValue=TNQ;function lL3(A){let Q={};if(typeof A==="string"&&A.length>0)A.split(dr.BAGGAGE_ITEMS_SEPARATOR).forEach((B)=>{let G=TNQ(B);if(G!==void 0&&G.value.length>0)Q[G.key]=G.value});return Q}jNQ.parseKeyPairsIntoRecord=lL3});var vNQ=w((xNQ)=>{Object.defineProperty(xNQ,"__esModule",{value:!0});xNQ.W3CBaggagePropagator=void 0;var l_1=q9(),oL3=yHA(),cr=c_1(),i_1=p_1();class SNQ{inject(A,Q,B){let G=l_1.propagation.getBaggage(A);if(!G||(0,oL3.isTracingSuppressed)(A))return;let Z=(0,i_1.getKeyPairs)(G).filter((J)=>{return J.length<=cr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,cr.BAGGAGE_MAX_NAME_VALUE_PAIRS),Y=(0,i_1.serializeKeyPairs)(Z);if(Y.length>0)B.set(Q,cr.BAGGAGE_HEADER,Y)}extract(A,Q,B){let G=B.get(Q,cr.BAGGAGE_HEADER),Z=Array.isArray(G)?G.join(cr.BAGGAGE_ITEMS_SEPARATOR):G;if(!Z)return A;let Y={};if(Z.length===0)return A;if(Z.split(cr.BAGGAGE_ITEMS_SEPARATOR).forEach((I)=>{let X=(0,i_1.parsePairKeyValue)(I);if(X){let W={value:X.value};if(X.metadata)W.metadata=X.metadata;Y[X.key]=W}}),Object.entries(Y).length===0)return A;return l_1.propagation.setBaggage(A,l_1.propagation.createBaggage(Y))}fields(){return[cr.BAGGAGE_HEADER]}}xNQ.W3CBaggagePropagator=SNQ});var hNQ=w((fNQ)=>{Object.defineProperty(fNQ,"__esModule",{value:!0});fNQ.AnchoredClock=void 0;class kNQ{_monotonicClock;_epochMillis;_performanceMillis;constructor(A,Q){this._monotonicClock=Q,this._epochMillis=A.now(),this._performanceMillis=Q.now()}now(){let A=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+A}}fNQ.AnchoredClock=kNQ});var lNQ=w((cNQ)=>{Object.defineProperty(cNQ,"__esModule",{value:!0});cNQ.isAttributeValue=cNQ.isAttributeKey=cNQ.sanitizeAttributes=void 0;var gNQ=q9();function rL3(A){let Q={};if(typeof A!=="object"||A==null)return Q;for(let[B,G]of Object.entries(A)){if(!uNQ(B)){gNQ.diag.warn(`Invalid attribute key: ${B}`);continue}if(!mNQ(G)){gNQ.diag.warn(`Invalid attribute value set for key: ${B}`);continue}if(Array.isArray(G))Q[B]=G.slice();else Q[B]=G}return Q}cNQ.sanitizeAttributes=rL3;function uNQ(A){return typeof A==="string"&&A.length>0}cNQ.isAttributeKey=uNQ;function mNQ(A){if(A==null)return!0;if(Array.isArray(A))return sL3(A);return dNQ(A)}cNQ.isAttributeValue=mNQ;function sL3(A){let Q;for(let B of A){if(B==null)continue;if(!Q){if(dNQ(B)){Q=typeof B;continue}return!1}if(typeof B===Q)continue;return!1}return!0}function dNQ(A){switch(typeof A){case"number":case"boolean":case"string":return!0}return!1}});var n_1=w((iNQ)=>{Object.defineProperty(iNQ,"__esModule",{value:!0});iNQ.loggingErrorHandler=void 0;var AM3=q9();function QM3(){return(A)=>{AM3.diag.error(BM3(A))}}iNQ.loggingErrorHandler=QM3;function BM3(A){if(typeof A==="string")return A;else return JSON.stringify(GM3(A))}function GM3(A){let Q={},B=A;while(B!==null)Object.getOwnPropertyNames(B).forEach((G)=>{if(Q[G])return;let Z=B[G];if(Z)Q[G]=String(Z)}),B=Object.getPrototypeOf(B);return Q}});var sNQ=w((oNQ)=>{Object.defineProperty(oNQ,"__esModule",{value:!0});oNQ.globalErrorHandler=oNQ.setGlobalErrorHandler=void 0;var ZM3=n_1(),aNQ=(0,ZM3.loggingErrorHandler)();function YM3(A){aNQ=A}oNQ.setGlobalErrorHandler=YM3;function JM3(A){try{aNQ(A)}catch{}}oNQ.globalErrorHandler=JM3});var GqQ=w((QqQ)=>{Object.defineProperty(QqQ,"__esModule",{value:!0});QqQ.getStringListFromEnv=QqQ.getBooleanFromEnv=QqQ.getStringFromEnv=QqQ.getNumberFromEnv=void 0;var tNQ=q9(),eNQ=qA("util");function XM3(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;let B=Number(Q);if(isNaN(B)){tNQ.diag.warn(`Unknown value ${(0,eNQ.inspect)(Q)} for ${A}, expected a number, using defaults`);return}return B}QqQ.getNumberFromEnv=XM3;function AqQ(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;return Q}QqQ.getStringFromEnv=AqQ;function WM3(A){let Q=process.env[A]?.trim().toLowerCase();if(Q==null||Q==="")return!1;if(Q==="true")return!0;else if(Q==="false")return!1;else return tNQ.diag.warn(`Unknown value ${(0,eNQ.inspect)(Q)} for ${A}, expected 'true' or 'false', falling back to 'false' (default)`),!1}QqQ.getBooleanFromEnv=WM3;function KM3(A){return AqQ(A)?.split(",").map((Q)=>Q.trim()).filter((Q)=>Q!=="")}QqQ.getStringListFromEnv=KM3});var JqQ=w((ZqQ)=>{Object.defineProperty(ZqQ,"__esModule",{value:!0});ZqQ._globalThis=void 0;ZqQ._globalThis=typeof globalThis==="object"?globalThis:global});var WqQ=w((IqQ)=>{Object.defineProperty(IqQ,"__esModule",{value:!0});IqQ.otperformance=void 0;var HM3=qA("perf_hooks");IqQ.otperformance=HM3.performance});var EqQ=w((KqQ)=>{Object.defineProperty(KqQ,"__esModule",{value:!0});KqQ.VERSION=void 0;KqQ.VERSION="2.1.0"});var a_1=w((DqQ)=>{Object.defineProperty(DqQ,"__esModule",{value:!0});DqQ.createConstMap=void 0;function FM3(A){let Q={},B=A.length;for(let G=0;G<B;G++){let Z=A[G];if(Z)Q[String(Z).toUpperCase().replace(/[-.]/g,"_")]=Z}return Q}DqQ.createConstMap=FM3});var V_Q=w((Z_Q)=>{Object.defineProperty(Z_Q,"__esModule",{value:!0});Z_Q.SEMATTRS_NET_HOST_CARRIER_ICC=Z_Q.SEMATTRS_NET_HOST_CARRIER_MNC=Z_Q.SEMATTRS_NET_HOST_CARRIER_MCC=Z_Q.SEMATTRS_NET_HOST_CARRIER_NAME=Z_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=Z_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=Z_Q.SEMATTRS_NET_HOST_NAME=Z_Q.SEMATTRS_NET_HOST_PORT=Z_Q.SEMATTRS_NET_HOST_IP=Z_Q.SEMATTRS_NET_PEER_NAME=Z_Q.SEMATTRS_NET_PEER_PORT=Z_Q.SEMATTRS_NET_PEER_IP=Z_Q.SEMATTRS_NET_TRANSPORT=Z_Q.SEMATTRS_FAAS_INVOKED_REGION=Z_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=Z_Q.SEMATTRS_FAAS_INVOKED_NAME=Z_Q.SEMATTRS_FAAS_COLDSTART=Z_Q.SEMATTRS_FAAS_CRON=Z_Q.SEMATTRS_FAAS_TIME=Z_Q.SEMATTRS_FAAS_DOCUMENT_NAME=Z_Q.SEMATTRS_FAAS_DOCUMENT_TIME=Z_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=Z_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=Z_Q.SEMATTRS_FAAS_EXECUTION=Z_Q.SEMATTRS_FAAS_TRIGGER=Z_Q.SEMATTRS_EXCEPTION_ESCAPED=Z_Q.SEMATTRS_EXCEPTION_STACKTRACE=Z_Q.SEMATTRS_EXCEPTION_MESSAGE=Z_Q.SEMATTRS_EXCEPTION_TYPE=Z_Q.SEMATTRS_DB_SQL_TABLE=Z_Q.SEMATTRS_DB_MONGODB_COLLECTION=Z_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=Z_Q.SEMATTRS_DB_HBASE_NAMESPACE=Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=Z_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=Z_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=Z_Q.SEMATTRS_DB_CASSANDRA_TABLE=Z_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=Z_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=Z_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=Z_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=Z_Q.SEMATTRS_DB_OPERATION=Z_Q.SEMATTRS_DB_STATEMENT=Z_Q.SEMATTRS_DB_NAME=Z_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=Z_Q.SEMATTRS_DB_USER=Z_Q.SEMATTRS_DB_CONNECTION_STRING=Z_Q.SEMATTRS_DB_SYSTEM=Z_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;Z_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=Z_Q.SEMATTRS_MESSAGING_DESTINATION=Z_Q.SEMATTRS_MESSAGING_SYSTEM=Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=Z_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=Z_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=Z_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=Z_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=Z_Q.SEMATTRS_AWS_DYNAMODB_SELECT=Z_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=Z_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=Z_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=Z_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=Z_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=Z_Q.SEMATTRS_HTTP_CLIENT_IP=Z_Q.SEMATTRS_HTTP_ROUTE=Z_Q.SEMATTRS_HTTP_SERVER_NAME=Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=Z_Q.SEMATTRS_HTTP_USER_AGENT=Z_Q.SEMATTRS_HTTP_FLAVOR=Z_Q.SEMATTRS_HTTP_STATUS_CODE=Z_Q.SEMATTRS_HTTP_SCHEME=Z_Q.SEMATTRS_HTTP_HOST=Z_Q.SEMATTRS_HTTP_TARGET=Z_Q.SEMATTRS_HTTP_URL=Z_Q.SEMATTRS_HTTP_METHOD=Z_Q.SEMATTRS_CODE_LINENO=Z_Q.SEMATTRS_CODE_FILEPATH=Z_Q.SEMATTRS_CODE_NAMESPACE=Z_Q.SEMATTRS_CODE_FUNCTION=Z_Q.SEMATTRS_THREAD_NAME=Z_Q.SEMATTRS_THREAD_ID=Z_Q.SEMATTRS_ENDUSER_SCOPE=Z_Q.SEMATTRS_ENDUSER_ROLE=Z_Q.SEMATTRS_ENDUSER_ID=Z_Q.SEMATTRS_PEER_SERVICE=void 0;Z_Q.DBSYSTEMVALUES_FILEMAKER=Z_Q.DBSYSTEMVALUES_DERBY=Z_Q.DBSYSTEMVALUES_FIREBIRD=Z_Q.DBSYSTEMVALUES_ADABAS=Z_Q.DBSYSTEMVALUES_CACHE=Z_Q.DBSYSTEMVALUES_EDB=Z_Q.DBSYSTEMVALUES_FIRSTSQL=Z_Q.DBSYSTEMVALUES_INGRES=Z_Q.DBSYSTEMVALUES_HANADB=Z_Q.DBSYSTEMVALUES_MAXDB=Z_Q.DBSYSTEMVALUES_PROGRESS=Z_Q.DBSYSTEMVALUES_HSQLDB=Z_Q.DBSYSTEMVALUES_CLOUDSCAPE=Z_Q.DBSYSTEMVALUES_HIVE=Z_Q.DBSYSTEMVALUES_REDSHIFT=Z_Q.DBSYSTEMVALUES_POSTGRESQL=Z_Q.DBSYSTEMVALUES_DB2=Z_Q.DBSYSTEMVALUES_ORACLE=Z_Q.DBSYSTEMVALUES_MYSQL=Z_Q.DBSYSTEMVALUES_MSSQL=Z_Q.DBSYSTEMVALUES_OTHER_SQL=Z_Q.SemanticAttributes=Z_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=Z_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=Z_Q.SEMATTRS_MESSAGE_ID=Z_Q.SEMATTRS_MESSAGE_TYPE=Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=Z_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=Z_Q.SEMATTRS_RPC_JSONRPC_VERSION=Z_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=Z_Q.SEMATTRS_RPC_METHOD=Z_Q.SEMATTRS_RPC_SERVICE=Z_Q.SEMATTRS_RPC_SYSTEM=Z_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=Z_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=Z_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=Z_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=Z_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=Z_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=Z_Q.SEMATTRS_MESSAGING_CONSUMER_ID=Z_Q.SEMATTRS_MESSAGING_OPERATION=Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=Z_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=Z_Q.SEMATTRS_MESSAGING_MESSAGE_ID=Z_Q.SEMATTRS_MESSAGING_URL=Z_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=Z_Q.SEMATTRS_MESSAGING_PROTOCOL=Z_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;Z_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=Z_Q.FaasDocumentOperationValues=Z_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=Z_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=Z_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=Z_Q.FaasTriggerValues=Z_Q.FAASTRIGGERVALUES_OTHER=Z_Q.FAASTRIGGERVALUES_TIMER=Z_Q.FAASTRIGGERVALUES_PUBSUB=Z_Q.FAASTRIGGERVALUES_HTTP=Z_Q.FAASTRIGGERVALUES_DATASOURCE=Z_Q.DbCassandraConsistencyLevelValues=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=Z_Q.DbSystemValues=Z_Q.DBSYSTEMVALUES_COCKROACHDB=Z_Q.DBSYSTEMVALUES_MEMCACHED=Z_Q.DBSYSTEMVALUES_ELASTICSEARCH=Z_Q.DBSYSTEMVALUES_GEODE=Z_Q.DBSYSTEMVALUES_NEO4J=Z_Q.DBSYSTEMVALUES_DYNAMODB=Z_Q.DBSYSTEMVALUES_COSMOSDB=Z_Q.DBSYSTEMVALUES_COUCHDB=Z_Q.DBSYSTEMVALUES_COUCHBASE=Z_Q.DBSYSTEMVALUES_REDIS=Z_Q.DBSYSTEMVALUES_MONGODB=Z_Q.DBSYSTEMVALUES_HBASE=Z_Q.DBSYSTEMVALUES_CASSANDRA=Z_Q.DBSYSTEMVALUES_COLDFUSION=Z_Q.DBSYSTEMVALUES_H2=Z_Q.DBSYSTEMVALUES_VERTICA=Z_Q.DBSYSTEMVALUES_TERADATA=Z_Q.DBSYSTEMVALUES_SYBASE=Z_Q.DBSYSTEMVALUES_SQLITE=Z_Q.DBSYSTEMVALUES_POINTBASE=Z_Q.DBSYSTEMVALUES_PERVASIVE=Z_Q.DBSYSTEMVALUES_NETEZZA=Z_Q.DBSYSTEMVALUES_MARIADB=Z_Q.DBSYSTEMVALUES_INTERBASE=Z_Q.DBSYSTEMVALUES_INSTANTDB=Z_Q.DBSYSTEMVALUES_INFORMIX=void 0;Z_Q.MESSAGINGOPERATIONVALUES_RECEIVE=Z_Q.MessagingDestinationKindValues=Z_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=Z_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=Z_Q.HttpFlavorValues=Z_Q.HTTPFLAVORVALUES_QUIC=Z_Q.HTTPFLAVORVALUES_SPDY=Z_Q.HTTPFLAVORVALUES_HTTP_2_0=Z_Q.HTTPFLAVORVALUES_HTTP_1_1=Z_Q.HTTPFLAVORVALUES_HTTP_1_0=Z_Q.NetHostConnectionSubtypeValues=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=Z_Q.NetHostConnectionTypeValues=Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=Z_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=Z_Q.NetTransportValues=Z_Q.NETTRANSPORTVALUES_OTHER=Z_Q.NETTRANSPORTVALUES_INPROC=Z_Q.NETTRANSPORTVALUES_PIPE=Z_Q.NETTRANSPORTVALUES_UNIX=Z_Q.NETTRANSPORTVALUES_IP=Z_Q.NETTRANSPORTVALUES_IP_UDP=Z_Q.NETTRANSPORTVALUES_IP_TCP=Z_Q.FaasInvokedProviderValues=Z_Q.FAASINVOKEDPROVIDERVALUES_GCP=Z_Q.FAASINVOKEDPROVIDERVALUES_AZURE=Z_Q.FAASINVOKEDPROVIDERVALUES_AWS=void 0;Z_Q.MessageTypeValues=Z_Q.MESSAGETYPEVALUES_RECEIVED=Z_Q.MESSAGETYPEVALUES_SENT=Z_Q.RpcGrpcStatusCodeValues=Z_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=Z_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=Z_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=Z_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=Z_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=Z_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=Z_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=Z_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=Z_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=Z_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=Z_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=Z_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=Z_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=Z_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=Z_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=Z_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=Z_Q.RPCGRPCSTATUSCODEVALUES_OK=Z_Q.MessagingOperationValues=Z_Q.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var WL=a_1(),FqQ="aws.lambda.invoked_arn",CqQ="db.system",zqQ="db.connection_string",UqQ="db.user",$qQ="db.jdbc.driver_classname",wqQ="db.name",NqQ="db.statement",qqQ="db.operation",LqQ="db.mssql.instance_name",MqQ="db.cassandra.keyspace",OqQ="db.cassandra.page_size",RqQ="db.cassandra.consistency_level",_qQ="db.cassandra.table",TqQ="db.cassandra.idempotence",jqQ="db.cassandra.speculative_execution_count",PqQ="db.cassandra.coordinator.id",SqQ="db.cassandra.coordinator.dc",xqQ="db.hbase.namespace",yqQ="db.redis.database_index",vqQ="db.mongodb.collection",kqQ="db.sql.table",fqQ="exception.type",bqQ="exception.message",hqQ="exception.stacktrace",gqQ="exception.escaped",uqQ="faas.trigger",mqQ="faas.execution",dqQ="faas.document.collection",cqQ="faas.document.operation",pqQ="faas.document.time",lqQ="faas.document.name",iqQ="faas.time",nqQ="faas.cron",aqQ="faas.coldstart",oqQ="faas.invoked_name",rqQ="faas.invoked_provider",sqQ="faas.invoked_region",tqQ="net.transport",eqQ="net.peer.ip",ALQ="net.peer.port",QLQ="net.peer.name",BLQ="net.host.ip",GLQ="net.host.port",ZLQ="net.host.name",YLQ="net.host.connection.type",JLQ="net.host.connection.subtype",ILQ="net.host.carrier.name",XLQ="net.host.carrier.mcc",WLQ="net.host.carrier.mnc",KLQ="net.host.carrier.icc",VLQ="peer.service",ELQ="enduser.id",DLQ="enduser.role",HLQ="enduser.scope",FLQ="thread.id",CLQ="thread.name",zLQ="code.function",ULQ="code.namespace",$LQ="code.filepath",wLQ="code.lineno",NLQ="http.method",qLQ="http.url",LLQ="http.target",MLQ="http.host",OLQ="http.scheme",RLQ="http.status_code",_LQ="http.flavor",TLQ="http.user_agent",jLQ="http.request_content_length",PLQ="http.request_content_length_uncompressed",SLQ="http.response_content_length",xLQ="http.response_content_length_uncompressed",yLQ="http.server_name",vLQ="http.route",kLQ="http.client_ip",fLQ="aws.dynamodb.table_names",bLQ="aws.dynamodb.consumed_capacity",hLQ="aws.dynamodb.item_collection_metrics",gLQ="aws.dynamodb.provisioned_read_capacity",uLQ="aws.dynamodb.provisioned_write_capacity",mLQ="aws.dynamodb.consistent_read",dLQ="aws.dynamodb.projection",cLQ="aws.dynamodb.limit",pLQ="aws.dynamodb.attributes_to_get",lLQ="aws.dynamodb.index_name",iLQ="aws.dynamodb.select",nLQ="aws.dynamodb.global_secondary_indexes",aLQ="aws.dynamodb.local_secondary_indexes",oLQ="aws.dynamodb.exclusive_start_table",rLQ="aws.dynamodb.table_count",sLQ="aws.dynamodb.scan_forward",tLQ="aws.dynamodb.segment",eLQ="aws.dynamodb.total_segments",AMQ="aws.dynamodb.count",QMQ="aws.dynamodb.scanned_count",BMQ="aws.dynamodb.attribute_definitions",GMQ="aws.dynamodb.global_secondary_index_updates",ZMQ="messaging.system",YMQ="messaging.destination",JMQ="messaging.destination_kind",IMQ="messaging.temp_destination",XMQ="messaging.protocol",WMQ="messaging.protocol_version",KMQ="messaging.url",VMQ="messaging.message_id",EMQ="messaging.conversation_id",DMQ="messaging.message_payload_size_bytes",HMQ="messaging.message_payload_compressed_size_bytes",FMQ="messaging.operation",CMQ="messaging.consumer_id",zMQ="messaging.rabbitmq.routing_key",UMQ="messaging.kafka.message_key",$MQ="messaging.kafka.consumer_group",wMQ="messaging.kafka.client_id",NMQ="messaging.kafka.partition",qMQ="messaging.kafka.tombstone",LMQ="rpc.system",MMQ="rpc.service",OMQ="rpc.method",RMQ="rpc.grpc.status_code",_MQ="rpc.jsonrpc.version",TMQ="rpc.jsonrpc.request_id",jMQ="rpc.jsonrpc.error_code",PMQ="rpc.jsonrpc.error_message",SMQ="message.type",xMQ="message.id",yMQ="message.compressed_size",vMQ="message.uncompressed_size";Z_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=FqQ;Z_Q.SEMATTRS_DB_SYSTEM=CqQ;Z_Q.SEMATTRS_DB_CONNECTION_STRING=zqQ;Z_Q.SEMATTRS_DB_USER=UqQ;Z_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=$qQ;Z_Q.SEMATTRS_DB_NAME=wqQ;Z_Q.SEMATTRS_DB_STATEMENT=NqQ;Z_Q.SEMATTRS_DB_OPERATION=qqQ;Z_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=LqQ;Z_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=MqQ;Z_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=OqQ;Z_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=RqQ;Z_Q.SEMATTRS_DB_CASSANDRA_TABLE=_qQ;Z_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=TqQ;Z_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=jqQ;Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=PqQ;Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=SqQ;Z_Q.SEMATTRS_DB_HBASE_NAMESPACE=xqQ;Z_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=yqQ;Z_Q.SEMATTRS_DB_MONGODB_COLLECTION=vqQ;Z_Q.SEMATTRS_DB_SQL_TABLE=kqQ;Z_Q.SEMATTRS_EXCEPTION_TYPE=fqQ;Z_Q.SEMATTRS_EXCEPTION_MESSAGE=bqQ;Z_Q.SEMATTRS_EXCEPTION_STACKTRACE=hqQ;Z_Q.SEMATTRS_EXCEPTION_ESCAPED=gqQ;Z_Q.SEMATTRS_FAAS_TRIGGER=uqQ;Z_Q.SEMATTRS_FAAS_EXECUTION=mqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=dqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=cqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_TIME=pqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_NAME=lqQ;Z_Q.SEMATTRS_FAAS_TIME=iqQ;Z_Q.SEMATTRS_FAAS_CRON=nqQ;Z_Q.SEMATTRS_FAAS_COLDSTART=aqQ;Z_Q.SEMATTRS_FAAS_INVOKED_NAME=oqQ;Z_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=rqQ;Z_Q.SEMATTRS_FAAS_INVOKED_REGION=sqQ;Z_Q.SEMATTRS_NET_TRANSPORT=tqQ;Z_Q.SEMATTRS_NET_PEER_IP=eqQ;Z_Q.SEMATTRS_NET_PEER_PORT=ALQ;Z_Q.SEMATTRS_NET_PEER_NAME=QLQ;Z_Q.SEMATTRS_NET_HOST_IP=BLQ;Z_Q.SEMATTRS_NET_HOST_PORT=GLQ;Z_Q.SEMATTRS_NET_HOST_NAME=ZLQ;Z_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=YLQ;Z_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=JLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_NAME=ILQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_MCC=XLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_MNC=WLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_ICC=KLQ;Z_Q.SEMATTRS_PEER_SERVICE=VLQ;Z_Q.SEMATTRS_ENDUSER_ID=ELQ;Z_Q.SEMATTRS_ENDUSER_ROLE=DLQ;Z_Q.SEMATTRS_ENDUSER_SCOPE=HLQ;Z_Q.SEMATTRS_THREAD_ID=FLQ;Z_Q.SEMATTRS_THREAD_NAME=CLQ;Z_Q.SEMATTRS_CODE_FUNCTION=zLQ;Z_Q.SEMATTRS_CODE_NAMESPACE=ULQ;Z_Q.SEMATTRS_CODE_FILEPATH=$LQ;Z_Q.SEMATTRS_CODE_LINENO=wLQ;Z_Q.SEMATTRS_HTTP_METHOD=NLQ;Z_Q.SEMATTRS_HTTP_URL=qLQ;Z_Q.SEMATTRS_HTTP_TARGET=LLQ;Z_Q.SEMATTRS_HTTP_HOST=MLQ;Z_Q.SEMATTRS_HTTP_SCHEME=OLQ;Z_Q.SEMATTRS_HTTP_STATUS_CODE=RLQ;Z_Q.SEMATTRS_HTTP_FLAVOR=_LQ;Z_Q.SEMATTRS_HTTP_USER_AGENT=TLQ;Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=jLQ;Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=PLQ;Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=SLQ;Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=xLQ;Z_Q.SEMATTRS_HTTP_SERVER_NAME=yLQ;Z_Q.SEMATTRS_HTTP_ROUTE=vLQ;Z_Q.SEMATTRS_HTTP_CLIENT_IP=kLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=fLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=bLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=hLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=gLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=uLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=mLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=dLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=cLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=pLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=lLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SELECT=iLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=nLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=aLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=oLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=rLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=sLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=tLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=eLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_COUNT=AMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=QMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=BMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=GMQ;Z_Q.SEMATTRS_MESSAGING_SYSTEM=ZMQ;Z_Q.SEMATTRS_MESSAGING_DESTINATION=YMQ;Z_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=JMQ;Z_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=IMQ;Z_Q.SEMATTRS_MESSAGING_PROTOCOL=XMQ;Z_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=WMQ;Z_Q.SEMATTRS_MESSAGING_URL=KMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_ID=VMQ;Z_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=EMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=DMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=HMQ;Z_Q.SEMATTRS_MESSAGING_OPERATION=FMQ;Z_Q.SEMATTRS_MESSAGING_CONSUMER_ID=CMQ;Z_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=zMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=UMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=$MQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=wMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=NMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=qMQ;Z_Q.SEMATTRS_RPC_SYSTEM=LMQ;Z_Q.SEMATTRS_RPC_SERVICE=MMQ;Z_Q.SEMATTRS_RPC_METHOD=OMQ;Z_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=RMQ;Z_Q.SEMATTRS_RPC_JSONRPC_VERSION=_MQ;Z_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=TMQ;Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=jMQ;Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=PMQ;Z_Q.SEMATTRS_MESSAGE_TYPE=SMQ;Z_Q.SEMATTRS_MESSAGE_ID=xMQ;Z_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=yMQ;Z_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=vMQ;Z_Q.SemanticAttributes=(0,WL.createConstMap)([FqQ,CqQ,zqQ,UqQ,$qQ,wqQ,NqQ,qqQ,LqQ,MqQ,OqQ,RqQ,_qQ,TqQ,jqQ,PqQ,SqQ,xqQ,yqQ,vqQ,kqQ,fqQ,bqQ,hqQ,gqQ,uqQ,mqQ,dqQ,cqQ,pqQ,lqQ,iqQ,nqQ,aqQ,oqQ,rqQ,sqQ,tqQ,eqQ,ALQ,QLQ,BLQ,GLQ,ZLQ,YLQ,JLQ,ILQ,XLQ,WLQ,KLQ,VLQ,ELQ,DLQ,HLQ,FLQ,CLQ,zLQ,ULQ,$LQ,wLQ,NLQ,qLQ,LLQ,MLQ,OLQ,RLQ,_LQ,TLQ,jLQ,PLQ,SLQ,xLQ,yLQ,vLQ,kLQ,fLQ,bLQ,hLQ,gLQ,uLQ,mLQ,dLQ,cLQ,pLQ,lLQ,iLQ,nLQ,aLQ,oLQ,rLQ,sLQ,tLQ,eLQ,AMQ,QMQ,BMQ,GMQ,ZMQ,YMQ,JMQ,IMQ,XMQ,WMQ,KMQ,VMQ,EMQ,DMQ,HMQ,FMQ,CMQ,zMQ,UMQ,$MQ,wMQ,NMQ,qMQ,LMQ,MMQ,OMQ,RMQ,_MQ,TMQ,jMQ,PMQ,SMQ,xMQ,yMQ,vMQ]);var kMQ="other_sql",fMQ="mssql",bMQ="mysql",hMQ="oracle",gMQ="db2",uMQ="postgresql",mMQ="redshift",dMQ="hive",cMQ="cloudscape",pMQ="hsqldb",lMQ="progress",iMQ="maxdb",nMQ="hanadb",aMQ="ingres",oMQ="firstsql",rMQ="edb",sMQ="cache",tMQ="adabas",eMQ="firebird",AOQ="derby",QOQ="filemaker",BOQ="informix",GOQ="instantdb",ZOQ="interbase",YOQ="mariadb",JOQ="netezza",IOQ="pervasive",XOQ="pointbase",WOQ="sqlite",KOQ="sybase",VOQ="teradata",EOQ="vertica",DOQ="h2",HOQ="coldfusion",FOQ="cassandra",COQ="hbase",zOQ="mongodb",UOQ="redis",$OQ="couchbase",wOQ="couchdb",NOQ="cosmosdb",qOQ="dynamodb",LOQ="neo4j",MOQ="geode",OOQ="elasticsearch",ROQ="memcached",_OQ="cockroachdb";Z_Q.DBSYSTEMVALUES_OTHER_SQL=kMQ;Z_Q.DBSYSTEMVALUES_MSSQL=fMQ;Z_Q.DBSYSTEMVALUES_MYSQL=bMQ;Z_Q.DBSYSTEMVALUES_ORACLE=hMQ;Z_Q.DBSYSTEMVALUES_DB2=gMQ;Z_Q.DBSYSTEMVALUES_POSTGRESQL=uMQ;Z_Q.DBSYSTEMVALUES_REDSHIFT=mMQ;Z_Q.DBSYSTEMVALUES_HIVE=dMQ;Z_Q.DBSYSTEMVALUES_CLOUDSCAPE=cMQ;Z_Q.DBSYSTEMVALUES_HSQLDB=pMQ;Z_Q.DBSYSTEMVALUES_PROGRESS=lMQ;Z_Q.DBSYSTEMVALUES_MAXDB=iMQ;Z_Q.DBSYSTEMVALUES_HANADB=nMQ;Z_Q.DBSYSTEMVALUES_INGRES=aMQ;Z_Q.DBSYSTEMVALUES_FIRSTSQL=oMQ;Z_Q.DBSYSTEMVALUES_EDB=rMQ;Z_Q.DBSYSTEMVALUES_CACHE=sMQ;Z_Q.DBSYSTEMVALUES_ADABAS=tMQ;Z_Q.DBSYSTEMVALUES_FIREBIRD=eMQ;Z_Q.DBSYSTEMVALUES_DERBY=AOQ;Z_Q.DBSYSTEMVALUES_FILEMAKER=QOQ;Z_Q.DBSYSTEMVALUES_INFORMIX=BOQ;Z_Q.DBSYSTEMVALUES_INSTANTDB=GOQ;Z_Q.DBSYSTEMVALUES_INTERBASE=ZOQ;Z_Q.DBSYSTEMVALUES_MARIADB=YOQ;Z_Q.DBSYSTEMVALUES_NETEZZA=JOQ;Z_Q.DBSYSTEMVALUES_PERVASIVE=IOQ;Z_Q.DBSYSTEMVALUES_POINTBASE=XOQ;Z_Q.DBSYSTEMVALUES_SQLITE=WOQ;Z_Q.DBSYSTEMVALUES_SYBASE=KOQ;Z_Q.DBSYSTEMVALUES_TERADATA=VOQ;Z_Q.DBSYSTEMVALUES_VERTICA=EOQ;Z_Q.DBSYSTEMVALUES_H2=DOQ;Z_Q.DBSYSTEMVALUES_COLDFUSION=HOQ;Z_Q.DBSYSTEMVALUES_CASSANDRA=FOQ;Z_Q.DBSYSTEMVALUES_HBASE=COQ;Z_Q.DBSYSTEMVALUES_MONGODB=zOQ;Z_Q.DBSYSTEMVALUES_REDIS=UOQ;Z_Q.DBSYSTEMVALUES_COUCHBASE=$OQ;Z_Q.DBSYSTEMVALUES_COUCHDB=wOQ;Z_Q.DBSYSTEMVALUES_COSMOSDB=NOQ;Z_Q.DBSYSTEMVALUES_DYNAMODB=qOQ;Z_Q.DBSYSTEMVALUES_NEO4J=LOQ;Z_Q.DBSYSTEMVALUES_GEODE=MOQ;Z_Q.DBSYSTEMVALUES_ELASTICSEARCH=OOQ;Z_Q.DBSYSTEMVALUES_MEMCACHED=ROQ;Z_Q.DBSYSTEMVALUES_COCKROACHDB=_OQ;Z_Q.DbSystemValues=(0,WL.createConstMap)([kMQ,fMQ,bMQ,hMQ,gMQ,uMQ,mMQ,dMQ,cMQ,pMQ,lMQ,iMQ,nMQ,aMQ,oMQ,rMQ,sMQ,tMQ,eMQ,AOQ,QOQ,BOQ,GOQ,ZOQ,YOQ,JOQ,IOQ,XOQ,WOQ,KOQ,VOQ,EOQ,DOQ,HOQ,FOQ,COQ,zOQ,UOQ,$OQ,wOQ,NOQ,qOQ,LOQ,MOQ,OOQ,ROQ,_OQ]);var TOQ="all",jOQ="each_quorum",POQ="quorum",SOQ="local_quorum",xOQ="one",yOQ="two",vOQ="three",kOQ="local_one",fOQ="any",bOQ="serial",hOQ="local_serial";Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=TOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=jOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=POQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=SOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=xOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=yOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=vOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=kOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=fOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=bOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=hOQ;Z_Q.DbCassandraConsistencyLevelValues=(0,WL.createConstMap)([TOQ,jOQ,POQ,SOQ,xOQ,yOQ,vOQ,kOQ,fOQ,bOQ,hOQ]);var gOQ="datasource",uOQ="http",mOQ="pubsub",dOQ="timer",cOQ="other";Z_Q.FAASTRIGGERVALUES_DATASOURCE=gOQ;Z_Q.FAASTRIGGERVALUES_HTTP=uOQ;Z_Q.FAASTRIGGERVALUES_PUBSUB=mOQ;Z_Q.FAASTRIGGERVALUES_TIMER=dOQ;Z_Q.FAASTRIGGERVALUES_OTHER=cOQ;Z_Q.FaasTriggerValues=(0,WL.createConstMap)([gOQ,uOQ,mOQ,dOQ,cOQ]);var pOQ="insert",lOQ="edit",iOQ="delete";Z_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=pOQ;Z_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=lOQ;Z_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=iOQ;Z_Q.FaasDocumentOperationValues=(0,WL.createConstMap)([pOQ,lOQ,iOQ]);var nOQ="alibaba_cloud",aOQ="aws",oOQ="azure",rOQ="gcp";Z_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=nOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_AWS=aOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_AZURE=oOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_GCP=rOQ;Z_Q.FaasInvokedProviderValues=(0,WL.createConstMap)([nOQ,aOQ,oOQ,rOQ]);var sOQ="ip_tcp",tOQ="ip_udp",eOQ="ip",ARQ="unix",QRQ="pipe",BRQ="inproc",GRQ="other";Z_Q.NETTRANSPORTVALUES_IP_TCP=sOQ;Z_Q.NETTRANSPORTVALUES_IP_UDP=tOQ;Z_Q.NETTRANSPORTVALUES_IP=eOQ;Z_Q.NETTRANSPORTVALUES_UNIX=ARQ;Z_Q.NETTRANSPORTVALUES_PIPE=QRQ;Z_Q.NETTRANSPORTVALUES_INPROC=BRQ;Z_Q.NETTRANSPORTVALUES_OTHER=GRQ;Z_Q.NetTransportValues=(0,WL.createConstMap)([sOQ,tOQ,eOQ,ARQ,QRQ,BRQ,GRQ]);var ZRQ="wifi",YRQ="wired",JRQ="cell",IRQ="unavailable",XRQ="unknown";Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=ZRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=YRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=JRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=IRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=XRQ;Z_Q.NetHostConnectionTypeValues=(0,WL.createConstMap)([ZRQ,YRQ,JRQ,IRQ,XRQ]);var WRQ="gprs",KRQ="edge",VRQ="umts",ERQ="cdma",DRQ="evdo_0",HRQ="evdo_a",FRQ="cdma2000_1xrtt",CRQ="hsdpa",zRQ="hsupa",URQ="hspa",$RQ="iden",wRQ="evdo_b",NRQ="lte",qRQ="ehrpd",LRQ="hspap",MRQ="gsm",ORQ="td_scdma",RRQ="iwlan",_RQ="nr",TRQ="nrnsa",jRQ="lte_ca";Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=WRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=KRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=VRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=ERQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=DRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=HRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=FRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=CRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=zRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=URQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=$RQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=wRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=NRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=qRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=LRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=MRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=ORQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=RRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=_RQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=TRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=jRQ;Z_Q.NetHostConnectionSubtypeValues=(0,WL.createConstMap)([WRQ,KRQ,VRQ,ERQ,DRQ,HRQ,FRQ,CRQ,zRQ,URQ,$RQ,wRQ,NRQ,qRQ,LRQ,MRQ,ORQ,RRQ,_RQ,TRQ,jRQ]);var PRQ="1.0",SRQ="1.1",xRQ="2.0",yRQ="SPDY",vRQ="QUIC";Z_Q.HTTPFLAVORVALUES_HTTP_1_0=PRQ;Z_Q.HTTPFLAVORVALUES_HTTP_1_1=SRQ;Z_Q.HTTPFLAVORVALUES_HTTP_2_0=xRQ;Z_Q.HTTPFLAVORVALUES_SPDY=yRQ;Z_Q.HTTPFLAVORVALUES_QUIC=vRQ;Z_Q.HttpFlavorValues={HTTP_1_0:PRQ,HTTP_1_1:SRQ,HTTP_2_0:xRQ,SPDY:yRQ,QUIC:vRQ};var kRQ="queue",fRQ="topic";Z_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=kRQ;Z_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=fRQ;Z_Q.MessagingDestinationKindValues=(0,WL.createConstMap)([kRQ,fRQ]);var bRQ="receive",hRQ="process";Z_Q.MESSAGINGOPERATIONVALUES_RECEIVE=bRQ;Z_Q.MESSAGINGOPERATIONVALUES_PROCESS=hRQ;Z_Q.MessagingOperationValues=(0,WL.createConstMap)([bRQ,hRQ]);var gRQ=0,uRQ=1,mRQ=2,dRQ=3,cRQ=4,pRQ=5,lRQ=6,iRQ=7,nRQ=8,aRQ=9,oRQ=10,rRQ=11,sRQ=12,tRQ=13,eRQ=14,A_Q=15,Q_Q=16;Z_Q.RPCGRPCSTATUSCODEVALUES_OK=gRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=uRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=mRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=dRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=cRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=pRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=lRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=iRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=nRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=aRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=oRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=rRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=sRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=tRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=eRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=A_Q;Z_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=Q_Q;Z_Q.RpcGrpcStatusCodeValues={OK:gRQ,CANCELLED:uRQ,UNKNOWN:mRQ,INVALID_ARGUMENT:dRQ,DEADLINE_EXCEEDED:cRQ,NOT_FOUND:pRQ,ALREADY_EXISTS:lRQ,PERMISSION_DENIED:iRQ,RESOURCE_EXHAUSTED:nRQ,FAILED_PRECONDITION:aRQ,ABORTED:oRQ,OUT_OF_RANGE:rRQ,UNIMPLEMENTED:sRQ,INTERNAL:tRQ,UNAVAILABLE:eRQ,DATA_LOSS:A_Q,UNAUTHENTICATED:Q_Q};var B_Q="SENT",G_Q="RECEIVED";Z_Q.MESSAGETYPEVALUES_SENT=B_Q;Z_Q.MESSAGETYPEVALUES_RECEIVED=G_Q;Z_Q.MessageTypeValues=(0,WL.createConstMap)([B_Q,G_Q])});var E_Q=w((pr)=>{var Dj3=pr&&pr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Hj3=pr&&pr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Dj3(Q,A,B)};Object.defineProperty(pr,"__esModule",{value:!0});Hj3(V_Q(),pr)});var mjQ=w((bjQ)=>{Object.defineProperty(bjQ,"__esModule",{value:!0});bjQ.SEMRESATTRS_K8S_STATEFULSET_NAME=bjQ.SEMRESATTRS_K8S_STATEFULSET_UID=bjQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=bjQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=bjQ.SEMRESATTRS_K8S_REPLICASET_NAME=bjQ.SEMRESATTRS_K8S_REPLICASET_UID=bjQ.SEMRESATTRS_K8S_CONTAINER_NAME=bjQ.SEMRESATTRS_K8S_POD_NAME=bjQ.SEMRESATTRS_K8S_POD_UID=bjQ.SEMRESATTRS_K8S_NAMESPACE_NAME=bjQ.SEMRESATTRS_K8S_NODE_UID=bjQ.SEMRESATTRS_K8S_NODE_NAME=bjQ.SEMRESATTRS_K8S_CLUSTER_NAME=bjQ.SEMRESATTRS_HOST_IMAGE_VERSION=bjQ.SEMRESATTRS_HOST_IMAGE_ID=bjQ.SEMRESATTRS_HOST_IMAGE_NAME=bjQ.SEMRESATTRS_HOST_ARCH=bjQ.SEMRESATTRS_HOST_TYPE=bjQ.SEMRESATTRS_HOST_NAME=bjQ.SEMRESATTRS_HOST_ID=bjQ.SEMRESATTRS_FAAS_MAX_MEMORY=bjQ.SEMRESATTRS_FAAS_INSTANCE=bjQ.SEMRESATTRS_FAAS_VERSION=bjQ.SEMRESATTRS_FAAS_ID=bjQ.SEMRESATTRS_FAAS_NAME=bjQ.SEMRESATTRS_DEVICE_MODEL_NAME=bjQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=bjQ.SEMRESATTRS_DEVICE_ID=bjQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=bjQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=bjQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=bjQ.SEMRESATTRS_CONTAINER_RUNTIME=bjQ.SEMRESATTRS_CONTAINER_ID=bjQ.SEMRESATTRS_CONTAINER_NAME=bjQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=bjQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=bjQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=bjQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=bjQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=bjQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=bjQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=bjQ.SEMRESATTRS_AWS_ECS_TASK_ARN=bjQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=bjQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=bjQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=bjQ.SEMRESATTRS_CLOUD_PLATFORM=bjQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=bjQ.SEMRESATTRS_CLOUD_REGION=bjQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=bjQ.SEMRESATTRS_CLOUD_PROVIDER=void 0;bjQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=bjQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=bjQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=bjQ.CLOUDPLATFORMVALUES_AZURE_AKS=bjQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=bjQ.CLOUDPLATFORMVALUES_AZURE_VM=bjQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=bjQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=bjQ.CLOUDPLATFORMVALUES_AWS_EKS=bjQ.CLOUDPLATFORMVALUES_AWS_ECS=bjQ.CLOUDPLATFORMVALUES_AWS_EC2=bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=bjQ.CloudProviderValues=bjQ.CLOUDPROVIDERVALUES_GCP=bjQ.CLOUDPROVIDERVALUES_AZURE=bjQ.CLOUDPROVIDERVALUES_AWS=bjQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=bjQ.SemanticResourceAttributes=bjQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=bjQ.SEMRESATTRS_WEBENGINE_VERSION=bjQ.SEMRESATTRS_WEBENGINE_NAME=bjQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=bjQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=bjQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=bjQ.SEMRESATTRS_TELEMETRY_SDK_NAME=bjQ.SEMRESATTRS_SERVICE_VERSION=bjQ.SEMRESATTRS_SERVICE_INSTANCE_ID=bjQ.SEMRESATTRS_SERVICE_NAMESPACE=bjQ.SEMRESATTRS_SERVICE_NAME=bjQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=bjQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=bjQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=bjQ.SEMRESATTRS_PROCESS_OWNER=bjQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=bjQ.SEMRESATTRS_PROCESS_COMMAND_LINE=bjQ.SEMRESATTRS_PROCESS_COMMAND=bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=bjQ.SEMRESATTRS_PROCESS_PID=bjQ.SEMRESATTRS_OS_VERSION=bjQ.SEMRESATTRS_OS_NAME=bjQ.SEMRESATTRS_OS_DESCRIPTION=bjQ.SEMRESATTRS_OS_TYPE=bjQ.SEMRESATTRS_K8S_CRONJOB_NAME=bjQ.SEMRESATTRS_K8S_CRONJOB_UID=bjQ.SEMRESATTRS_K8S_JOB_NAME=bjQ.SEMRESATTRS_K8S_JOB_UID=bjQ.SEMRESATTRS_K8S_DAEMONSET_NAME=bjQ.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;bjQ.TelemetrySdkLanguageValues=bjQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=bjQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=bjQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=bjQ.TELEMETRYSDKLANGUAGEVALUES_PHP=bjQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=bjQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=bjQ.TELEMETRYSDKLANGUAGEVALUES_GO=bjQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=bjQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=bjQ.TELEMETRYSDKLANGUAGEVALUES_CPP=bjQ.OsTypeValues=bjQ.OSTYPEVALUES_Z_OS=bjQ.OSTYPEVALUES_SOLARIS=bjQ.OSTYPEVALUES_AIX=bjQ.OSTYPEVALUES_HPUX=bjQ.OSTYPEVALUES_DRAGONFLYBSD=bjQ.OSTYPEVALUES_OPENBSD=bjQ.OSTYPEVALUES_NETBSD=bjQ.OSTYPEVALUES_FREEBSD=bjQ.OSTYPEVALUES_DARWIN=bjQ.OSTYPEVALUES_LINUX=bjQ.OSTYPEVALUES_WINDOWS=bjQ.HostArchValues=bjQ.HOSTARCHVALUES_X86=bjQ.HOSTARCHVALUES_PPC64=bjQ.HOSTARCHVALUES_PPC32=bjQ.HOSTARCHVALUES_IA64=bjQ.HOSTARCHVALUES_ARM64=bjQ.HOSTARCHVALUES_ARM32=bjQ.HOSTARCHVALUES_AMD64=bjQ.AwsEcsLaunchtypeValues=bjQ.AWSECSLAUNCHTYPEVALUES_FARGATE=bjQ.AWSECSLAUNCHTYPEVALUES_EC2=bjQ.CloudPlatformValues=bjQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=bjQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var lr=a_1(),D_Q="cloud.provider",H_Q="cloud.account.id",F_Q="cloud.region",C_Q="cloud.availability_zone",z_Q="cloud.platform",U_Q="aws.ecs.container.arn",$_Q="aws.ecs.cluster.arn",w_Q="aws.ecs.launchtype",N_Q="aws.ecs.task.arn",q_Q="aws.ecs.task.family",L_Q="aws.ecs.task.revision",M_Q="aws.eks.cluster.arn",O_Q="aws.log.group.names",R_Q="aws.log.group.arns",__Q="aws.log.stream.names",T_Q="aws.log.stream.arns",j_Q="container.name",P_Q="container.id",S_Q="container.runtime",x_Q="container.image.name",y_Q="container.image.tag",v_Q="deployment.environment",k_Q="device.id",f_Q="device.model.identifier",b_Q="device.model.name",h_Q="faas.name",g_Q="faas.id",u_Q="faas.version",m_Q="faas.instance",d_Q="faas.max_memory",c_Q="host.id",p_Q="host.name",l_Q="host.type",i_Q="host.arch",n_Q="host.image.name",a_Q="host.image.id",o_Q="host.image.version",r_Q="k8s.cluster.name",s_Q="k8s.node.name",t_Q="k8s.node.uid",e_Q="k8s.namespace.name",ATQ="k8s.pod.uid",QTQ="k8s.pod.name",BTQ="k8s.container.name",GTQ="k8s.replicaset.uid",ZTQ="k8s.replicaset.name",YTQ="k8s.deployment.uid",JTQ="k8s.deployment.name",ITQ="k8s.statefulset.uid",XTQ="k8s.statefulset.name",WTQ="k8s.daemonset.uid",KTQ="k8s.daemonset.name",VTQ="k8s.job.uid",ETQ="k8s.job.name",DTQ="k8s.cronjob.uid",HTQ="k8s.cronjob.name",FTQ="os.type",CTQ="os.description",zTQ="os.name",UTQ="os.version",$TQ="process.pid",wTQ="process.executable.name",NTQ="process.executable.path",qTQ="process.command",LTQ="process.command_line",MTQ="process.command_args",OTQ="process.owner",RTQ="process.runtime.name",_TQ="process.runtime.version",TTQ="process.runtime.description",jTQ="service.name",PTQ="service.namespace",STQ="service.instance.id",xTQ="service.version",yTQ="telemetry.sdk.name",vTQ="telemetry.sdk.language",kTQ="telemetry.sdk.version",fTQ="telemetry.auto.version",bTQ="webengine.name",hTQ="webengine.version",gTQ="webengine.description";bjQ.SEMRESATTRS_CLOUD_PROVIDER=D_Q;bjQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=H_Q;bjQ.SEMRESATTRS_CLOUD_REGION=F_Q;bjQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=C_Q;bjQ.SEMRESATTRS_CLOUD_PLATFORM=z_Q;bjQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=U_Q;bjQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=$_Q;bjQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=w_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_ARN=N_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=q_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=L_Q;bjQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=M_Q;bjQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=O_Q;bjQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=R_Q;bjQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=__Q;bjQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=T_Q;bjQ.SEMRESATTRS_CONTAINER_NAME=j_Q;bjQ.SEMRESATTRS_CONTAINER_ID=P_Q;bjQ.SEMRESATTRS_CONTAINER_RUNTIME=S_Q;bjQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=x_Q;bjQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=y_Q;bjQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=v_Q;bjQ.SEMRESATTRS_DEVICE_ID=k_Q;bjQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=f_Q;bjQ.SEMRESATTRS_DEVICE_MODEL_NAME=b_Q;bjQ.SEMRESATTRS_FAAS_NAME=h_Q;bjQ.SEMRESATTRS_FAAS_ID=g_Q;bjQ.SEMRESATTRS_FAAS_VERSION=u_Q;bjQ.SEMRESATTRS_FAAS_INSTANCE=m_Q;bjQ.SEMRESATTRS_FAAS_MAX_MEMORY=d_Q;bjQ.SEMRESATTRS_HOST_ID=c_Q;bjQ.SEMRESATTRS_HOST_NAME=p_Q;bjQ.SEMRESATTRS_HOST_TYPE=l_Q;bjQ.SEMRESATTRS_HOST_ARCH=i_Q;bjQ.SEMRESATTRS_HOST_IMAGE_NAME=n_Q;bjQ.SEMRESATTRS_HOST_IMAGE_ID=a_Q;bjQ.SEMRESATTRS_HOST_IMAGE_VERSION=o_Q;bjQ.SEMRESATTRS_K8S_CLUSTER_NAME=r_Q;bjQ.SEMRESATTRS_K8S_NODE_NAME=s_Q;bjQ.SEMRESATTRS_K8S_NODE_UID=t_Q;bjQ.SEMRESATTRS_K8S_NAMESPACE_NAME=e_Q;bjQ.SEMRESATTRS_K8S_POD_UID=ATQ;bjQ.SEMRESATTRS_K8S_POD_NAME=QTQ;bjQ.SEMRESATTRS_K8S_CONTAINER_NAME=BTQ;bjQ.SEMRESATTRS_K8S_REPLICASET_UID=GTQ;bjQ.SEMRESATTRS_K8S_REPLICASET_NAME=ZTQ;bjQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=YTQ;bjQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=JTQ;bjQ.SEMRESATTRS_K8S_STATEFULSET_UID=ITQ;bjQ.SEMRESATTRS_K8S_STATEFULSET_NAME=XTQ;bjQ.SEMRESATTRS_K8S_DAEMONSET_UID=WTQ;bjQ.SEMRESATTRS_K8S_DAEMONSET_NAME=KTQ;bjQ.SEMRESATTRS_K8S_JOB_UID=VTQ;bjQ.SEMRESATTRS_K8S_JOB_NAME=ETQ;bjQ.SEMRESATTRS_K8S_CRONJOB_UID=DTQ;bjQ.SEMRESATTRS_K8S_CRONJOB_NAME=HTQ;bjQ.SEMRESATTRS_OS_TYPE=FTQ;bjQ.SEMRESATTRS_OS_DESCRIPTION=CTQ;bjQ.SEMRESATTRS_OS_NAME=zTQ;bjQ.SEMRESATTRS_OS_VERSION=UTQ;bjQ.SEMRESATTRS_PROCESS_PID=$TQ;bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=wTQ;bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=NTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND=qTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND_LINE=LTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=MTQ;bjQ.SEMRESATTRS_PROCESS_OWNER=OTQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=RTQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=_TQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=TTQ;bjQ.SEMRESATTRS_SERVICE_NAME=jTQ;bjQ.SEMRESATTRS_SERVICE_NAMESPACE=PTQ;bjQ.SEMRESATTRS_SERVICE_INSTANCE_ID=STQ;bjQ.SEMRESATTRS_SERVICE_VERSION=xTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_NAME=yTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=vTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=kTQ;bjQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=fTQ;bjQ.SEMRESATTRS_WEBENGINE_NAME=bTQ;bjQ.SEMRESATTRS_WEBENGINE_VERSION=hTQ;bjQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=gTQ;bjQ.SemanticResourceAttributes=(0,lr.createConstMap)([D_Q,H_Q,F_Q,C_Q,z_Q,U_Q,$_Q,w_Q,N_Q,q_Q,L_Q,M_Q,O_Q,R_Q,__Q,T_Q,j_Q,P_Q,S_Q,x_Q,y_Q,v_Q,k_Q,f_Q,b_Q,h_Q,g_Q,u_Q,m_Q,d_Q,c_Q,p_Q,l_Q,i_Q,n_Q,a_Q,o_Q,r_Q,s_Q,t_Q,e_Q,ATQ,QTQ,BTQ,GTQ,ZTQ,YTQ,JTQ,ITQ,XTQ,WTQ,KTQ,VTQ,ETQ,DTQ,HTQ,FTQ,CTQ,zTQ,UTQ,$TQ,wTQ,NTQ,qTQ,LTQ,MTQ,OTQ,RTQ,_TQ,TTQ,jTQ,PTQ,STQ,xTQ,yTQ,vTQ,kTQ,fTQ,bTQ,hTQ,gTQ]);var uTQ="alibaba_cloud",mTQ="aws",dTQ="azure",cTQ="gcp";bjQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=uTQ;bjQ.CLOUDPROVIDERVALUES_AWS=mTQ;bjQ.CLOUDPROVIDERVALUES_AZURE=dTQ;bjQ.CLOUDPROVIDERVALUES_GCP=cTQ;bjQ.CloudProviderValues=(0,lr.createConstMap)([uTQ,mTQ,dTQ,cTQ]);var pTQ="alibaba_cloud_ecs",lTQ="alibaba_cloud_fc",iTQ="aws_ec2",nTQ="aws_ecs",aTQ="aws_eks",oTQ="aws_lambda",rTQ="aws_elastic_beanstalk",sTQ="azure_vm",tTQ="azure_container_instances",eTQ="azure_aks",AjQ="azure_functions",QjQ="azure_app_service",BjQ="gcp_compute_engine",GjQ="gcp_cloud_run",ZjQ="gcp_kubernetes_engine",YjQ="gcp_cloud_functions",JjQ="gcp_app_engine";bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=pTQ;bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=lTQ;bjQ.CLOUDPLATFORMVALUES_AWS_EC2=iTQ;bjQ.CLOUDPLATFORMVALUES_AWS_ECS=nTQ;bjQ.CLOUDPLATFORMVALUES_AWS_EKS=aTQ;bjQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=oTQ;bjQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=rTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_VM=sTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=tTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_AKS=eTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=AjQ;bjQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=QjQ;bjQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=BjQ;bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=GjQ;bjQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=ZjQ;bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=YjQ;bjQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=JjQ;bjQ.CloudPlatformValues=(0,lr.createConstMap)([pTQ,lTQ,iTQ,nTQ,aTQ,oTQ,rTQ,sTQ,tTQ,eTQ,AjQ,QjQ,BjQ,GjQ,ZjQ,YjQ,JjQ]);var IjQ="ec2",XjQ="fargate";bjQ.AWSECSLAUNCHTYPEVALUES_EC2=IjQ;bjQ.AWSECSLAUNCHTYPEVALUES_FARGATE=XjQ;bjQ.AwsEcsLaunchtypeValues=(0,lr.createConstMap)([IjQ,XjQ]);var WjQ="amd64",KjQ="arm32",VjQ="arm64",EjQ="ia64",DjQ="ppc32",HjQ="ppc64",FjQ="x86";bjQ.HOSTARCHVALUES_AMD64=WjQ;bjQ.HOSTARCHVALUES_ARM32=KjQ;bjQ.HOSTARCHVALUES_ARM64=VjQ;bjQ.HOSTARCHVALUES_IA64=EjQ;bjQ.HOSTARCHVALUES_PPC32=DjQ;bjQ.HOSTARCHVALUES_PPC64=HjQ;bjQ.HOSTARCHVALUES_X86=FjQ;bjQ.HostArchValues=(0,lr.createConstMap)([WjQ,KjQ,VjQ,EjQ,DjQ,HjQ,FjQ]);var CjQ="windows",zjQ="linux",UjQ="darwin",$jQ="freebsd",wjQ="netbsd",NjQ="openbsd",qjQ="dragonflybsd",LjQ="hpux",MjQ="aix",OjQ="solaris",RjQ="z_os";bjQ.OSTYPEVALUES_WINDOWS=CjQ;bjQ.OSTYPEVALUES_LINUX=zjQ;bjQ.OSTYPEVALUES_DARWIN=UjQ;bjQ.OSTYPEVALUES_FREEBSD=$jQ;bjQ.OSTYPEVALUES_NETBSD=wjQ;bjQ.OSTYPEVALUES_OPENBSD=NjQ;bjQ.OSTYPEVALUES_DRAGONFLYBSD=qjQ;bjQ.OSTYPEVALUES_HPUX=LjQ;bjQ.OSTYPEVALUES_AIX=MjQ;bjQ.OSTYPEVALUES_SOLARIS=OjQ;bjQ.OSTYPEVALUES_Z_OS=RjQ;bjQ.OsTypeValues=(0,lr.createConstMap)([CjQ,zjQ,UjQ,$jQ,wjQ,NjQ,qjQ,LjQ,MjQ,OjQ,RjQ]);var _jQ="cpp",TjQ="dotnet",jjQ="erlang",PjQ="go",SjQ="java",xjQ="nodejs",yjQ="php",vjQ="python",kjQ="ruby",fjQ="webjs";bjQ.TELEMETRYSDKLANGUAGEVALUES_CPP=_jQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=TjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=jjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_GO=PjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=SjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=xjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_PHP=yjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=vjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=kjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=fjQ;bjQ.TelemetrySdkLanguageValues=(0,lr.createConstMap)([_jQ,TjQ,jjQ,PjQ,SjQ,xjQ,yjQ,vjQ,kjQ,fjQ])});var djQ=w((ir)=>{var cS3=ir&&ir.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),pS3=ir&&ir.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))cS3(Q,A,B)};Object.defineProperty(ir,"__esModule",{value:!0});pS3(mjQ(),ir)});var njQ=w((cjQ)=>{Object.defineProperty(cjQ,"__esModule",{value:!0});cjQ.ATTR_EXCEPTION_TYPE=cjQ.ATTR_EXCEPTION_STACKTRACE=cjQ.ATTR_EXCEPTION_MESSAGE=cjQ.ATTR_EXCEPTION_ESCAPED=cjQ.ERROR_TYPE_VALUE_OTHER=cjQ.ATTR_ERROR_TYPE=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=cjQ.ATTR_DOTNET_GC_HEAP_GENERATION=cjQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL=cjQ.DB_SYSTEM_NAME_VALUE_MYSQL=cjQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=cjQ.DB_SYSTEM_NAME_VALUE_MARIADB=cjQ.ATTR_DB_SYSTEM_NAME=cjQ.ATTR_DB_STORED_PROCEDURE_NAME=cjQ.ATTR_DB_RESPONSE_STATUS_CODE=cjQ.ATTR_DB_QUERY_TEXT=cjQ.ATTR_DB_QUERY_SUMMARY=cjQ.ATTR_DB_OPERATION_NAME=cjQ.ATTR_DB_OPERATION_BATCH_SIZE=cjQ.ATTR_DB_NAMESPACE=cjQ.ATTR_DB_COLLECTION_NAME=cjQ.ATTR_CODE_STACKTRACE=cjQ.ATTR_CODE_LINE_NUMBER=cjQ.ATTR_CODE_FUNCTION_NAME=cjQ.ATTR_CODE_FILE_PATH=cjQ.ATTR_CODE_COLUMN_NUMBER=cjQ.ATTR_CLIENT_PORT=cjQ.ATTR_CLIENT_ADDRESS=cjQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=cjQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=cjQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=cjQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=cjQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=cjQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;cjQ.OTEL_STATUS_CODE_VALUE_ERROR=cjQ.ATTR_OTEL_STATUS_CODE=cjQ.ATTR_OTEL_SCOPE_VERSION=cjQ.ATTR_OTEL_SCOPE_NAME=cjQ.NETWORK_TYPE_VALUE_IPV6=cjQ.NETWORK_TYPE_VALUE_IPV4=cjQ.ATTR_NETWORK_TYPE=cjQ.NETWORK_TRANSPORT_VALUE_UNIX=cjQ.NETWORK_TRANSPORT_VALUE_UDP=cjQ.NETWORK_TRANSPORT_VALUE_TCP=cjQ.NETWORK_TRANSPORT_VALUE_QUIC=cjQ.NETWORK_TRANSPORT_VALUE_PIPE=cjQ.ATTR_NETWORK_TRANSPORT=cjQ.ATTR_NETWORK_PROTOCOL_VERSION=cjQ.ATTR_NETWORK_PROTOCOL_NAME=cjQ.ATTR_NETWORK_PEER_PORT=cjQ.ATTR_NETWORK_PEER_ADDRESS=cjQ.ATTR_NETWORK_LOCAL_PORT=cjQ.ATTR_NETWORK_LOCAL_ADDRESS=cjQ.JVM_THREAD_STATE_VALUE_WAITING=cjQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING=cjQ.JVM_THREAD_STATE_VALUE_TERMINATED=cjQ.JVM_THREAD_STATE_VALUE_RUNNABLE=cjQ.JVM_THREAD_STATE_VALUE_NEW=cjQ.JVM_THREAD_STATE_VALUE_BLOCKED=cjQ.ATTR_JVM_THREAD_STATE=cjQ.ATTR_JVM_THREAD_DAEMON=cjQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP=cjQ.JVM_MEMORY_TYPE_VALUE_HEAP=cjQ.ATTR_JVM_MEMORY_TYPE=cjQ.ATTR_JVM_MEMORY_POOL_NAME=cjQ.ATTR_JVM_GC_NAME=cjQ.ATTR_JVM_GC_ACTION=cjQ.ATTR_HTTP_ROUTE=cjQ.ATTR_HTTP_RESPONSE_STATUS_CODE=cjQ.ATTR_HTTP_RESPONSE_HEADER=cjQ.ATTR_HTTP_REQUEST_RESEND_COUNT=cjQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=cjQ.HTTP_REQUEST_METHOD_VALUE_TRACE=cjQ.HTTP_REQUEST_METHOD_VALUE_PUT=cjQ.HTTP_REQUEST_METHOD_VALUE_POST=cjQ.HTTP_REQUEST_METHOD_VALUE_PATCH=cjQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS=cjQ.HTTP_REQUEST_METHOD_VALUE_HEAD=cjQ.HTTP_REQUEST_METHOD_VALUE_GET=cjQ.HTTP_REQUEST_METHOD_VALUE_DELETE=cjQ.HTTP_REQUEST_METHOD_VALUE_CONNECT=cjQ.HTTP_REQUEST_METHOD_VALUE_OTHER=cjQ.ATTR_HTTP_REQUEST_METHOD=cjQ.ATTR_HTTP_REQUEST_HEADER=void 0;cjQ.ATTR_USER_AGENT_ORIGINAL=cjQ.ATTR_URL_SCHEME=cjQ.ATTR_URL_QUERY=cjQ.ATTR_URL_PATH=cjQ.ATTR_URL_FULL=cjQ.ATTR_URL_FRAGMENT=cjQ.ATTR_TELEMETRY_SDK_VERSION=cjQ.ATTR_TELEMETRY_SDK_NAME=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=cjQ.ATTR_TELEMETRY_SDK_LANGUAGE=cjQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=cjQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=cjQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=cjQ.ATTR_SIGNALR_TRANSPORT=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=cjQ.ATTR_SIGNALR_CONNECTION_STATUS=cjQ.ATTR_SERVICE_VERSION=cjQ.ATTR_SERVICE_NAME=cjQ.ATTR_SERVER_PORT=cjQ.ATTR_SERVER_ADDRESS=cjQ.ATTR_OTEL_STATUS_DESCRIPTION=cjQ.OTEL_STATUS_CODE_VALUE_OK=void 0;cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";cjQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";cjQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";cjQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";cjQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";cjQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";cjQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated";cjQ.ATTR_CLIENT_ADDRESS="client.address";cjQ.ATTR_CLIENT_PORT="client.port";cjQ.ATTR_CODE_COLUMN_NUMBER="code.column.number";cjQ.ATTR_CODE_FILE_PATH="code.file.path";cjQ.ATTR_CODE_FUNCTION_NAME="code.function.name";cjQ.ATTR_CODE_LINE_NUMBER="code.line.number";cjQ.ATTR_CODE_STACKTRACE="code.stacktrace";cjQ.ATTR_DB_COLLECTION_NAME="db.collection.name";cjQ.ATTR_DB_NAMESPACE="db.namespace";cjQ.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";cjQ.ATTR_DB_OPERATION_NAME="db.operation.name";cjQ.ATTR_DB_QUERY_SUMMARY="db.query.summary";cjQ.ATTR_DB_QUERY_TEXT="db.query.text";cjQ.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";cjQ.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";cjQ.ATTR_DB_SYSTEM_NAME="db.system.name";cjQ.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";cjQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";cjQ.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";cjQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";cjQ.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";cjQ.ATTR_ERROR_TYPE="error.type";cjQ.ERROR_TYPE_VALUE_OTHER="_OTHER";cjQ.ATTR_EXCEPTION_ESCAPED="exception.escaped";cjQ.ATTR_EXCEPTION_MESSAGE="exception.message";cjQ.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";cjQ.ATTR_EXCEPTION_TYPE="exception.type";var lS3=(A)=>`http.request.header.${A}`;cjQ.ATTR_HTTP_REQUEST_HEADER=lS3;cjQ.ATTR_HTTP_REQUEST_METHOD="http.request.method";cjQ.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";cjQ.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";cjQ.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";cjQ.HTTP_REQUEST_METHOD_VALUE_GET="GET";cjQ.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";cjQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";cjQ.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";cjQ.HTTP_REQUEST_METHOD_VALUE_POST="POST";cjQ.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";cjQ.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";cjQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";cjQ.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var iS3=(A)=>`http.response.header.${A}`;cjQ.ATTR_HTTP_RESPONSE_HEADER=iS3;cjQ.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";cjQ.ATTR_HTTP_ROUTE="http.route";cjQ.ATTR_JVM_GC_ACTION="jvm.gc.action";cjQ.ATTR_JVM_GC_NAME="jvm.gc.name";cjQ.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";cjQ.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";cjQ.JVM_MEMORY_TYPE_VALUE_HEAP="heap";cjQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";cjQ.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";cjQ.ATTR_JVM_THREAD_STATE="jvm.thread.state";cjQ.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";cjQ.JVM_THREAD_STATE_VALUE_NEW="new";cjQ.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";cjQ.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";cjQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";cjQ.JVM_THREAD_STATE_VALUE_WAITING="waiting";cjQ.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";cjQ.ATTR_NETWORK_LOCAL_PORT="network.local.port";cjQ.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";cjQ.ATTR_NETWORK_PEER_PORT="network.peer.port";cjQ.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";cjQ.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";cjQ.ATTR_NETWORK_TRANSPORT="network.transport";cjQ.NETWORK_TRANSPORT_VALUE_PIPE="pipe";cjQ.NETWORK_TRANSPORT_VALUE_QUIC="quic";cjQ.NETWORK_TRANSPORT_VALUE_TCP="tcp";cjQ.NETWORK_TRANSPORT_VALUE_UDP="udp";cjQ.NETWORK_TRANSPORT_VALUE_UNIX="unix";cjQ.ATTR_NETWORK_TYPE="network.type";cjQ.NETWORK_TYPE_VALUE_IPV4="ipv4";cjQ.NETWORK_TYPE_VALUE_IPV6="ipv6";cjQ.ATTR_OTEL_SCOPE_NAME="otel.scope.name";cjQ.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";cjQ.ATTR_OTEL_STATUS_CODE="otel.status_code";cjQ.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";cjQ.OTEL_STATUS_CODE_VALUE_OK="OK";cjQ.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";cjQ.ATTR_SERVER_ADDRESS="server.address";cjQ.ATTR_SERVER_PORT="server.port";cjQ.ATTR_SERVICE_NAME="service.name";cjQ.ATTR_SERVICE_VERSION="service.version";cjQ.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";cjQ.ATTR_SIGNALR_TRANSPORT="signalr.transport";cjQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";cjQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";cjQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";cjQ.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";cjQ.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";cjQ.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";cjQ.ATTR_URL_FRAGMENT="url.fragment";cjQ.ATTR_URL_FULL="url.full";cjQ.ATTR_URL_PATH="url.path";cjQ.ATTR_URL_QUERY="url.query";cjQ.ATTR_URL_SCHEME="url.scheme";cjQ.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var sjQ=w((ajQ)=>{Object.defineProperty(ajQ,"__esModule",{value:!0});ajQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=ajQ.METRIC_KESTREL_UPGRADED_CONNECTIONS=ajQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=ajQ.METRIC_KESTREL_REJECTED_CONNECTIONS=ajQ.METRIC_KESTREL_QUEUED_REQUESTS=ajQ.METRIC_KESTREL_QUEUED_CONNECTIONS=ajQ.METRIC_KESTREL_CONNECTION_DURATION=ajQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=ajQ.METRIC_KESTREL_ACTIVE_CONNECTIONS=ajQ.METRIC_JVM_THREAD_COUNT=ajQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=ajQ.METRIC_JVM_MEMORY_USED=ajQ.METRIC_JVM_MEMORY_LIMIT=ajQ.METRIC_JVM_MEMORY_COMMITTED=ajQ.METRIC_JVM_GC_DURATION=ajQ.METRIC_JVM_CPU_TIME=ajQ.METRIC_JVM_CPU_RECENT_UTILIZATION=ajQ.METRIC_JVM_CPU_COUNT=ajQ.METRIC_JVM_CLASS_UNLOADED=ajQ.METRIC_JVM_CLASS_LOADED=ajQ.METRIC_JVM_CLASS_COUNT=ajQ.METRIC_HTTP_SERVER_REQUEST_DURATION=ajQ.METRIC_HTTP_CLIENT_REQUEST_DURATION=ajQ.METRIC_DOTNET_TIMER_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=ajQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=ajQ.METRIC_DOTNET_PROCESS_CPU_TIME=ajQ.METRIC_DOTNET_PROCESS_CPU_COUNT=ajQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=ajQ.METRIC_DOTNET_JIT_COMPILED_METHODS=ajQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=ajQ.METRIC_DOTNET_JIT_COMPILATION_TIME=ajQ.METRIC_DOTNET_GC_PAUSE_TIME=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=ajQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=ajQ.METRIC_DOTNET_GC_COLLECTIONS=ajQ.METRIC_DOTNET_EXCEPTIONS=ajQ.METRIC_DOTNET_ASSEMBLY_COUNT=ajQ.METRIC_DB_CLIENT_OPERATION_DURATION=ajQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=ajQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;ajQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;ajQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";ajQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";ajQ.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";ajQ.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";ajQ.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";ajQ.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";ajQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";ajQ.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";ajQ.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";ajQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";ajQ.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";ajQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";ajQ.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";ajQ.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";ajQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";ajQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";ajQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";ajQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";ajQ.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";ajQ.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";ajQ.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";ajQ.METRIC_JVM_CLASS_COUNT="jvm.class.count";ajQ.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";ajQ.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";ajQ.METRIC_JVM_CPU_COUNT="jvm.cpu.count";ajQ.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";ajQ.METRIC_JVM_CPU_TIME="jvm.cpu.time";ajQ.METRIC_JVM_GC_DURATION="jvm.gc.duration";ajQ.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";ajQ.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";ajQ.METRIC_JVM_MEMORY_USED="jvm.memory.used";ajQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";ajQ.METRIC_JVM_THREAD_COUNT="jvm.thread.count";ajQ.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";ajQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";ajQ.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";ajQ.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";ajQ.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";ajQ.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";ajQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";ajQ.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";ajQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";ajQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var APQ=w((tjQ)=>{Object.defineProperty(tjQ,"__esModule",{value:!0});tjQ.EVENT_EXCEPTION=void 0;tjQ.EVENT_EXCEPTION="exception"});var nr=w((TR)=>{var Ek3=TR&&TR.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),vHA=TR&&TR.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Ek3(Q,A,B)};Object.defineProperty(TR,"__esModule",{value:!0});vHA(E_Q(),TR);vHA(djQ(),TR);vHA(njQ(),TR);vHA(sjQ(),TR);vHA(APQ(),TR)});var GPQ=w((QPQ)=>{Object.defineProperty(QPQ,"__esModule",{value:!0});QPQ.ATTR_PROCESS_RUNTIME_NAME=void 0;QPQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var JPQ=w((ZPQ)=>{Object.defineProperty(ZPQ,"__esModule",{value:!0});ZPQ.SDK_INFO=void 0;var Dk3=EqQ(),EuA=nr(),Hk3=GPQ();ZPQ.SDK_INFO={[EuA.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Hk3.ATTR_PROCESS_RUNTIME_NAME]:"node",[EuA.ATTR_TELEMETRY_SDK_LANGUAGE]:EuA.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[EuA.ATTR_TELEMETRY_SDK_VERSION]:Dk3.VERSION}});var WPQ=w((IPQ)=>{Object.defineProperty(IPQ,"__esModule",{value:!0});IPQ.unrefTimer=void 0;function Fk3(A){A.unref()}IPQ.unrefTimer=Fk3});var KPQ=w((oP)=>{Object.defineProperty(oP,"__esModule",{value:!0});oP.unrefTimer=oP.SDK_INFO=oP.otperformance=oP._globalThis=oP.getStringListFromEnv=oP.getNumberFromEnv=oP.getBooleanFromEnv=oP.getStringFromEnv=void 0;var DuA=GqQ();Object.defineProperty(oP,"getStringFromEnv",{enumerable:!0,get:function(){return DuA.getStringFromEnv}});Object.defineProperty(oP,"getBooleanFromEnv",{enumerable:!0,get:function(){return DuA.getBooleanFromEnv}});Object.defineProperty(oP,"getNumberFromEnv",{enumerable:!0,get:function(){return DuA.getNumberFromEnv}});Object.defineProperty(oP,"getStringListFromEnv",{enumerable:!0,get:function(){return DuA.getStringListFromEnv}});var Ck3=JqQ();Object.defineProperty(oP,"_globalThis",{enumerable:!0,get:function(){return Ck3._globalThis}});var zk3=WqQ();Object.defineProperty(oP,"otperformance",{enumerable:!0,get:function(){return zk3.otperformance}});var Uk3=JPQ();Object.defineProperty(oP,"SDK_INFO",{enumerable:!0,get:function(){return Uk3.SDK_INFO}});var $k3=WPQ();Object.defineProperty(oP,"unrefTimer",{enumerable:!0,get:function(){return $k3.unrefTimer}})});var o_1=w((rP)=>{Object.defineProperty(rP,"__esModule",{value:!0});rP.getStringListFromEnv=rP.getNumberFromEnv=rP.getStringFromEnv=rP.getBooleanFromEnv=rP.unrefTimer=rP.otperformance=rP._globalThis=rP.SDK_INFO=void 0;var jd=KPQ();Object.defineProperty(rP,"SDK_INFO",{enumerable:!0,get:function(){return jd.SDK_INFO}});Object.defineProperty(rP,"_globalThis",{enumerable:!0,get:function(){return jd._globalThis}});Object.defineProperty(rP,"otperformance",{enumerable:!0,get:function(){return jd.otperformance}});Object.defineProperty(rP,"unrefTimer",{enumerable:!0,get:function(){return jd.unrefTimer}});Object.defineProperty(rP,"getBooleanFromEnv",{enumerable:!0,get:function(){return jd.getBooleanFromEnv}});Object.defineProperty(rP,"getStringFromEnv",{enumerable:!0,get:function(){return jd.getStringFromEnv}});Object.defineProperty(rP,"getNumberFromEnv",{enumerable:!0,get:function(){return jd.getNumberFromEnv}});Object.defineProperty(rP,"getStringListFromEnv",{enumerable:!0,get:function(){return jd.getStringListFromEnv}})});var CPQ=w((HPQ)=>{Object.defineProperty(HPQ,"__esModule",{value:!0});HPQ.addHrTimes=HPQ.isTimeInput=HPQ.isTimeInputHrTime=HPQ.hrTimeToMicroseconds=HPQ.hrTimeToMilliseconds=HPQ.hrTimeToNanoseconds=HPQ.hrTimeToTimeStamp=HPQ.hrTimeDuration=HPQ.timeInputToHrTime=HPQ.hrTime=HPQ.getTimeOrigin=HPQ.millisToHrTime=void 0;var r_1=o_1(),VPQ=9,qk3=6,Lk3=Math.pow(10,qk3),HuA=Math.pow(10,VPQ);function kHA(A){let Q=A/1000,B=Math.trunc(Q),G=Math.round(A%1000*Lk3);return[B,G]}HPQ.millisToHrTime=kHA;function s_1(){let A=r_1.otperformance.timeOrigin;if(typeof A!=="number"){let Q=r_1.otperformance;A=Q.timing&&Q.timing.fetchStart}return A}HPQ.getTimeOrigin=s_1;function EPQ(A){let Q=kHA(s_1()),B=kHA(typeof A==="number"?A:r_1.otperformance.now());return DPQ(Q,B)}HPQ.hrTime=EPQ;function Mk3(A){if(t_1(A))return A;else if(typeof A==="number")if(A<s_1())return EPQ(A);else return kHA(A);else if(A instanceof Date)return kHA(A.getTime());else throw TypeError("Invalid input type")}HPQ.timeInputToHrTime=Mk3;function Ok3(A,Q){let B=Q[0]-A[0],G=Q[1]-A[1];if(G<0)B-=1,G+=HuA;return[B,G]}HPQ.hrTimeDuration=Ok3;function Rk3(A){let Q=VPQ,B=`${"0".repeat(Q)}${A[1]}Z`,G=B.substring(B.length-Q-1);return new Date(A[0]*1000).toISOString().replace("000Z",G)}HPQ.hrTimeToTimeStamp=Rk3;function _k3(A){return A[0]*HuA+A[1]}HPQ.hrTimeToNanoseconds=_k3;function Tk3(A){return A[0]*1000+A[1]/1e6}HPQ.hrTimeToMilliseconds=Tk3;function jk3(A){return A[0]*1e6+A[1]/1000}HPQ.hrTimeToMicroseconds=jk3;function t_1(A){return Array.isArray(A)&&A.length===2&&typeof A[0]==="number"&&typeof A[1]==="number"}HPQ.isTimeInputHrTime=t_1;function Pk3(A){return t_1(A)||typeof A==="number"||A instanceof Date}HPQ.isTimeInput=Pk3;function DPQ(A,Q){let B=[A[0]+Q[0],A[1]+Q[1]];if(B[1]>=HuA)B[1]-=HuA,B[0]+=1;return B}HPQ.addHrTimes=DPQ});var UPQ=w((zPQ)=>{Object.defineProperty(zPQ,"__esModule",{value:!0});zPQ.ExportResultCode=void 0;var dk3;(function(A){A[A.SUCCESS=0]="SUCCESS",A[A.FAILED=1]="FAILED"})(dk3=zPQ.ExportResultCode||(zPQ.ExportResultCode={}))});var LPQ=w((NPQ)=>{Object.defineProperty(NPQ,"__esModule",{value:!0});NPQ.CompositePropagator=void 0;var $PQ=q9();class wPQ{_propagators;_fields;constructor(A={}){this._propagators=A.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Q)=>typeof Q.fields==="function"?Q.fields():[]).reduce((Q,B)=>Q.concat(B),[])))}inject(A,Q,B){for(let G of this._propagators)try{G.inject(A,Q,B)}catch(Z){$PQ.diag.warn(`Failed to inject with ${G.constructor.name}. Err: ${Z.message}`)}}extract(A,Q,B){return this._propagators.reduce((G,Z)=>{try{return Z.extract(G,Q,B)}catch(Y){$PQ.diag.warn(`Failed to extract with ${Z.constructor.name}. Err: ${Y.message}`)}return G},A)}fields(){return this._fields.slice()}}NPQ.CompositePropagator=wPQ});var RPQ=w((MPQ)=>{Object.defineProperty(MPQ,"__esModule",{value:!0});MPQ.validateValue=MPQ.validateKey=void 0;var AT1="[_0-9a-z-*/]",ck3=`[a-z]${AT1}{0,255}`,pk3=`[a-z0-9]${AT1}{0,240}@[a-z]${AT1}{0,13}`,lk3=new RegExp(`^(?:${ck3}|${pk3})$`),ik3=/^[ -~]{0,255}[!-~]$/,nk3=/,|=/;function ak3(A){return lk3.test(A)}MPQ.validateKey=ak3;function ok3(A){return ik3.test(A)&&!nk3.test(A)}MPQ.validateValue=ok3});var BT1=w((SPQ)=>{Object.defineProperty(SPQ,"__esModule",{value:!0});SPQ.TraceState=void 0;var _PQ=RPQ(),TPQ=32,sk3=512,jPQ=",",PPQ="=";class QT1{_internalState=new Map;constructor(A){if(A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+PPQ+this.get(Q)),A},[]).join(jPQ)}_parse(A){if(A.length>sk3)return;if(this._internalState=A.split(jPQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(PPQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,_PQ.validateKey)(Y)&&(0,_PQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>TPQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TPQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new QT1;return A._internalState=new Map(this._internalState),A}}SPQ.TraceState=QT1});var bPQ=w((kPQ)=>{Object.defineProperty(kPQ,"__esModule",{value:!0});kPQ.W3CTraceContextPropagator=kPQ.parseTraceParent=kPQ.TRACE_STATE_HEADER=kPQ.TRACE_PARENT_HEADER=void 0;var FuA=q9(),tk3=yHA(),ek3=BT1();kPQ.TRACE_PARENT_HEADER="traceparent";kPQ.TRACE_STATE_HEADER="tracestate";var Af3="00",Qf3="(?!ff)[\\da-f]{2}",Bf3="(?![0]{32})[\\da-f]{32}",Gf3="(?![0]{16})[\\da-f]{16}",Zf3="[\\da-f]{2}",Yf3=new RegExp(`^\\s?(${Qf3})-(${Bf3})-(${Gf3})-(${Zf3})(-.*)?\\s?$`);function yPQ(A){let Q=Yf3.exec(A);if(!Q)return null;if(Q[1]==="00"&&Q[5])return null;return{traceId:Q[2],spanId:Q[3],traceFlags:parseInt(Q[4],16)}}kPQ.parseTraceParent=yPQ;class vPQ{inject(A,Q,B){let G=FuA.trace.getSpanContext(A);if(!G||(0,tk3.isTracingSuppressed)(A)||!(0,FuA.isSpanContextValid)(G))return;let Z=`${Af3}-${G.traceId}-${G.spanId}-0${Number(G.traceFlags||FuA.TraceFlags.NONE).toString(16)}`;if(B.set(Q,kPQ.TRACE_PARENT_HEADER,Z),G.traceState)B.set(Q,kPQ.TRACE_STATE_HEADER,G.traceState.serialize())}extract(A,Q,B){let G=B.get(Q,kPQ.TRACE_PARENT_HEADER);if(!G)return A;let Z=Array.isArray(G)?G[0]:G;if(typeof Z!=="string")return A;let Y=yPQ(Z);if(!Y)return A;Y.isRemote=!0;let J=B.get(Q,kPQ.TRACE_STATE_HEADER);if(J){let I=Array.isArray(J)?J.join(","):J;Y.traceState=new ek3.TraceState(typeof I==="string"?I:void 0)}return FuA.trace.setSpanContext(A,Y)}fields(){return[kPQ.TRACE_PARENT_HEADER,kPQ.TRACE_STATE_HEADER]}}kPQ.W3CTraceContextPropagator=vPQ});var mPQ=w((gPQ)=>{Object.defineProperty(gPQ,"__esModule",{value:!0});gPQ.getRPCMetadata=gPQ.deleteRPCMetadata=gPQ.setRPCMetadata=gPQ.RPCType=void 0;var If3=q9(),GT1=(0,If3.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Xf3;(function(A){A.HTTP="http"})(Xf3=gPQ.RPCType||(gPQ.RPCType={}));function Wf3(A,Q){return A.setValue(GT1,Q)}gPQ.setRPCMetadata=Wf3;function Kf3(A){return A.deleteValue(GT1)}gPQ.deleteRPCMetadata=Kf3;function Vf3(A){return A.getValue(GT1)}gPQ.getRPCMetadata=Vf3});var aPQ=w((iPQ)=>{Object.defineProperty(iPQ,"__esModule",{value:!0});iPQ.isPlainObject=void 0;var Hf3="[object Object]",Ff3="[object Null]",Cf3="[object Undefined]",zf3=Function.prototype,dPQ=zf3.toString,Uf3=dPQ.call(Object),$f3=Object.getPrototypeOf,cPQ=Object.prototype,pPQ=cPQ.hasOwnProperty,ar=Symbol?Symbol.toStringTag:void 0,lPQ=cPQ.toString;function wf3(A){if(!Nf3(A)||qf3(A)!==Hf3)return!1;let Q=$f3(A);if(Q===null)return!0;let B=pPQ.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&dPQ.call(B)===Uf3}iPQ.isPlainObject=wf3;function Nf3(A){return A!=null&&typeof A=="object"}function qf3(A){if(A==null)return A===void 0?Cf3:Ff3;return ar&&ar in Object(A)?Lf3(A):Mf3(A)}function Lf3(A){let Q=pPQ.call(A,ar),B=A[ar],G=!1;try{A[ar]=void 0,G=!0}catch{}let Z=lPQ.call(A);if(G)if(Q)A[ar]=B;else delete A[ar];return Z}function Mf3(A){return lPQ.call(A)}});var QSQ=w((ePQ)=>{Object.defineProperty(ePQ,"__esModule",{value:!0});ePQ.merge=void 0;var oPQ=aPQ(),Of3=20;function Rf3(...A){let Q=A.shift(),B=new WeakMap;while(A.length>0)Q=sPQ(Q,A.shift(),0,B);return Q}ePQ.merge=Rf3;function ZT1(A){if($uA(A))return A.slice();return A}function sPQ(A,Q,B=0,G){let Z;if(B>Of3)return;if(B++,UuA(A)||UuA(Q)||tPQ(Q))Z=ZT1(Q);else if($uA(A)){if(Z=A.slice(),$uA(Q))for(let Y=0,J=Q.length;Y<J;Y++)Z.push(ZT1(Q[Y]));else if(fHA(Q)){let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J];Z[X]=ZT1(Q[X])}}}else if(fHA(A))if(fHA(Q)){if(!_f3(A,Q))return Q;Z=Object.assign({},A);let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J],W=Q[X];if(UuA(W))if(typeof W>"u")delete Z[X];else Z[X]=W;else{let K=Z[X],V=W;if(rPQ(A,X,G)||rPQ(Q,X,G))delete Z[X];else{if(fHA(K)&&fHA(V)){let E=G.get(K)||[],D=G.get(V)||[];E.push({obj:A,key:X}),D.push({obj:Q,key:X}),G.set(K,E),G.set(V,D)}Z[X]=sPQ(Z[X],W,B,G)}}}}else Z=Q;return Z}function rPQ(A,Q,B){let G=B.get(A[Q])||[];for(let Z=0,Y=G.length;Z<Y;Z++){let J=G[Z];if(J.key===Q&&J.obj===A)return!0}return!1}function $uA(A){return Array.isArray(A)}function tPQ(A){return typeof A==="function"}function fHA(A){return!UuA(A)&&!$uA(A)&&!tPQ(A)&&typeof A==="object"}function UuA(A){return typeof A==="string"||typeof A==="number"||typeof A==="boolean"||typeof A>"u"||A instanceof Date||A instanceof RegExp||A===null}function _f3(A,Q){if(!(0,oPQ.isPlainObject)(A)||!(0,oPQ.isPlainObject)(Q))return!1;return!0}});var ZSQ=w((BSQ)=>{Object.defineProperty(BSQ,"__esModule",{value:!0});BSQ.callWithTimeout=BSQ.TimeoutError=void 0;class wuA extends Error{constructor(A){super(A);Object.setPrototypeOf(this,wuA.prototype)}}BSQ.TimeoutError=wuA;function Tf3(A,Q){let B,G=new Promise(function(Y,J){B=setTimeout(function(){J(new wuA("Operation timed out."))},Q)});return Promise.race([A,G]).then((Z)=>{return clearTimeout(B),Z},(Z)=>{throw clearTimeout(B),Z})}BSQ.callWithTimeout=Tf3});var XSQ=w((JSQ)=>{Object.defineProperty(JSQ,"__esModule",{value:!0});JSQ.isUrlIgnored=JSQ.urlMatches=void 0;function YSQ(A,Q){if(typeof Q==="string")return A===Q;else return!!A.match(Q)}JSQ.urlMatches=YSQ;function Pf3(A,Q){if(!Q)return!1;for(let B of Q)if(YSQ(A,B))return!0;return!1}JSQ.isUrlIgnored=Pf3});var ESQ=w((KSQ)=>{Object.defineProperty(KSQ,"__esModule",{value:!0});KSQ.Deferred=void 0;class WSQ{_promise;_resolve;_reject;constructor(){this._promise=new Promise((A,Q)=>{this._resolve=A,this._reject=Q})}get promise(){return this._promise}resolve(A){this._resolve(A)}reject(A){this._reject(A)}}KSQ.Deferred=WSQ});var CSQ=w((HSQ)=>{Object.defineProperty(HSQ,"__esModule",{value:!0});HSQ.BindOnceFuture=void 0;var xf3=ESQ();class DSQ{_callback;_that;_isCalled=!1;_deferred=new xf3.Deferred;constructor(A,Q){this._callback=A,this._that=Q}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...A){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...A)).then((Q)=>this._deferred.resolve(Q),(Q)=>this._deferred.reject(Q))}catch(Q){this._deferred.reject(Q)}}return this._deferred.promise}}HSQ.BindOnceFuture=DSQ});var wSQ=w((USQ)=>{Object.defineProperty(USQ,"__esModule",{value:!0});USQ.diagLogLevelFromString=void 0;var nk=q9(),zSQ={ALL:nk.DiagLogLevel.ALL,VERBOSE:nk.DiagLogLevel.VERBOSE,DEBUG:nk.DiagLogLevel.DEBUG,INFO:nk.DiagLogLevel.INFO,WARN:nk.DiagLogLevel.WARN,ERROR:nk.DiagLogLevel.ERROR,NONE:nk.DiagLogLevel.NONE};function yf3(A){if(A==null)return;let Q=zSQ[A.toUpperCase()];if(Q==null)return nk.diag.warn(`Unknown log level "${A}", expected one of ${Object.keys(zSQ)}, using default`),nk.DiagLogLevel.INFO;return Q}USQ.diagLogLevelFromString=yf3});var MSQ=w((qSQ)=>{Object.defineProperty(qSQ,"__esModule",{value:!0});qSQ._export=void 0;var NSQ=q9(),vf3=yHA();function kf3(A,Q){return new Promise((B)=>{NSQ.context.with((0,vf3.suppressTracing)(NSQ.context.active()),()=>{A.export(Q,(G)=>{B(G)})})})}qSQ._export=kf3});var J8=w((W4)=>{Object.defineProperty(W4,"__esModule",{value:!0});W4.internal=W4.diagLogLevelFromString=W4.BindOnceFuture=W4.urlMatches=W4.isUrlIgnored=W4.callWithTimeout=W4.TimeoutError=W4.merge=W4.TraceState=W4.unsuppressTracing=W4.suppressTracing=W4.isTracingSuppressed=W4.setRPCMetadata=W4.getRPCMetadata=W4.deleteRPCMetadata=W4.RPCType=W4.parseTraceParent=W4.W3CTraceContextPropagator=W4.TRACE_STATE_HEADER=W4.TRACE_PARENT_HEADER=W4.CompositePropagator=W4.unrefTimer=W4.otperformance=W4.getStringListFromEnv=W4.getNumberFromEnv=W4.getBooleanFromEnv=W4.getStringFromEnv=W4._globalThis=W4.SDK_INFO=W4.parseKeyPairsIntoRecord=W4.ExportResultCode=W4.timeInputToHrTime=W4.millisToHrTime=W4.isTimeInputHrTime=W4.isTimeInput=W4.hrTimeToTimeStamp=W4.hrTimeToNanoseconds=W4.hrTimeToMilliseconds=W4.hrTimeToMicroseconds=W4.hrTimeDuration=W4.hrTime=W4.getTimeOrigin=W4.addHrTimes=W4.loggingErrorHandler=W4.setGlobalErrorHandler=W4.globalErrorHandler=W4.sanitizeAttributes=W4.isAttributeValue=W4.AnchoredClock=W4.W3CBaggagePropagator=void 0;var ff3=vNQ();Object.defineProperty(W4,"W3CBaggagePropagator",{enumerable:!0,get:function(){return ff3.W3CBaggagePropagator}});var bf3=hNQ();Object.defineProperty(W4,"AnchoredClock",{enumerable:!0,get:function(){return bf3.AnchoredClock}});var OSQ=lNQ();Object.defineProperty(W4,"isAttributeValue",{enumerable:!0,get:function(){return OSQ.isAttributeValue}});Object.defineProperty(W4,"sanitizeAttributes",{enumerable:!0,get:function(){return OSQ.sanitizeAttributes}});var RSQ=sNQ();Object.defineProperty(W4,"globalErrorHandler",{enumerable:!0,get:function(){return RSQ.globalErrorHandler}});Object.defineProperty(W4,"setGlobalErrorHandler",{enumerable:!0,get:function(){return RSQ.setGlobalErrorHandler}});var hf3=n_1();Object.defineProperty(W4,"loggingErrorHandler",{enumerable:!0,get:function(){return hf3.loggingErrorHandler}});var KL=CPQ();Object.defineProperty(W4,"addHrTimes",{enumerable:!0,get:function(){return KL.addHrTimes}});Object.defineProperty(W4,"getTimeOrigin",{enumerable:!0,get:function(){return KL.getTimeOrigin}});Object.defineProperty(W4,"hrTime",{enumerable:!0,get:function(){return KL.hrTime}});Object.defineProperty(W4,"hrTimeDuration",{enumerable:!0,get:function(){return KL.hrTimeDuration}});Object.defineProperty(W4,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return KL.hrTimeToMicroseconds}});Object.defineProperty(W4,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return KL.hrTimeToMilliseconds}});Object.defineProperty(W4,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return KL.hrTimeToNanoseconds}});Object.defineProperty(W4,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return KL.hrTimeToTimeStamp}});Object.defineProperty(W4,"isTimeInput",{enumerable:!0,get:function(){return KL.isTimeInput}});Object.defineProperty(W4,"isTimeInputHrTime",{enumerable:!0,get:function(){return KL.isTimeInputHrTime}});Object.defineProperty(W4,"millisToHrTime",{enumerable:!0,get:function(){return KL.millisToHrTime}});Object.defineProperty(W4,"timeInputToHrTime",{enumerable:!0,get:function(){return KL.timeInputToHrTime}});var gf3=UPQ();Object.defineProperty(W4,"ExportResultCode",{enumerable:!0,get:function(){return gf3.ExportResultCode}});var uf3=p_1();Object.defineProperty(W4,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return uf3.parseKeyPairsIntoRecord}});var Pd=o_1();Object.defineProperty(W4,"SDK_INFO",{enumerable:!0,get:function(){return Pd.SDK_INFO}});Object.defineProperty(W4,"_globalThis",{enumerable:!0,get:function(){return Pd._globalThis}});Object.defineProperty(W4,"getStringFromEnv",{enumerable:!0,get:function(){return Pd.getStringFromEnv}});Object.defineProperty(W4,"getBooleanFromEnv",{enumerable:!0,get:function(){return Pd.getBooleanFromEnv}});Object.defineProperty(W4,"getNumberFromEnv",{enumerable:!0,get:function(){return Pd.getNumberFromEnv}});Object.defineProperty(W4,"getStringListFromEnv",{enumerable:!0,get:function(){return Pd.getStringListFromEnv}});Object.defineProperty(W4,"otperformance",{enumerable:!0,get:function(){return Pd.otperformance}});Object.defineProperty(W4,"unrefTimer",{enumerable:!0,get:function(){return Pd.unrefTimer}});var mf3=LPQ();Object.defineProperty(W4,"CompositePropagator",{enumerable:!0,get:function(){return mf3.CompositePropagator}});var NuA=bPQ();Object.defineProperty(W4,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_PARENT_HEADER}});Object.defineProperty(W4,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_STATE_HEADER}});Object.defineProperty(W4,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return NuA.W3CTraceContextPropagator}});Object.defineProperty(W4,"parseTraceParent",{enumerable:!0,get:function(){return NuA.parseTraceParent}});var quA=mPQ();Object.defineProperty(W4,"RPCType",{enumerable:!0,get:function(){return quA.RPCType}});Object.defineProperty(W4,"deleteRPCMetadata",{enumerable:!0,get:function(){return quA.deleteRPCMetadata}});Object.defineProperty(W4,"getRPCMetadata",{enumerable:!0,get:function(){return quA.getRPCMetadata}});Object.defineProperty(W4,"setRPCMetadata",{enumerable:!0,get:function(){return quA.setRPCMetadata}});var YT1=yHA();Object.defineProperty(W4,"isTracingSuppressed",{enumerable:!0,get:function(){return YT1.isTracingSuppressed}});Object.defineProperty(W4,"suppressTracing",{enumerable:!0,get:function(){return YT1.suppressTracing}});Object.defineProperty(W4,"unsuppressTracing",{enumerable:!0,get:function(){return YT1.unsuppressTracing}});var df3=BT1();Object.defineProperty(W4,"TraceState",{enumerable:!0,get:function(){return df3.TraceState}});var cf3=QSQ();Object.defineProperty(W4,"merge",{enumerable:!0,get:function(){return cf3.merge}});var _SQ=ZSQ();Object.defineProperty(W4,"TimeoutError",{enumerable:!0,get:function(){return _SQ.TimeoutError}});Object.defineProperty(W4,"callWithTimeout",{enumerable:!0,get:function(){return _SQ.callWithTimeout}});var TSQ=XSQ();Object.defineProperty(W4,"isUrlIgnored",{enumerable:!0,get:function(){return TSQ.isUrlIgnored}});Object.defineProperty(W4,"urlMatches",{enumerable:!0,get:function(){return TSQ.urlMatches}});var pf3=CSQ();Object.defineProperty(W4,"BindOnceFuture",{enumerable:!0,get:function(){return pf3.BindOnceFuture}});var lf3=wSQ();Object.defineProperty(W4,"diagLogLevelFromString",{enumerable:!0,get:function(){return lf3.diagLogLevelFromString}});var if3=MSQ();W4.internal={_export:if3._export}});var xSQ=w((PSQ)=>{Object.defineProperty(PSQ,"__esModule",{value:!0});PSQ.defaultServiceName=void 0;function nf3(){return`unknown_service:${process.argv0}`}PSQ.defaultServiceName=nf3});var ySQ=w((JT1)=>{Object.defineProperty(JT1,"__esModule",{value:!0});JT1.defaultServiceName=void 0;var af3=xSQ();Object.defineProperty(JT1,"defaultServiceName",{enumerable:!0,get:function(){return af3.defaultServiceName}})});var XT1=w((IT1)=>{Object.defineProperty(IT1,"__esModule",{value:!0});IT1.defaultServiceName=void 0;var rf3=ySQ();Object.defineProperty(IT1,"defaultServiceName",{enumerable:!0,get:function(){return rf3.defaultServiceName}})});var fSQ=w((vSQ)=>{Object.defineProperty(vSQ,"__esModule",{value:!0});vSQ.identity=vSQ.isPromiseLike=void 0;var tf3=(A)=>{return A!==null&&typeof A==="object"&&typeof A.then==="function"};vSQ.isPromiseLike=tf3;function ef3(A){return A}vSQ.identity=ef3});var VT1=w((hSQ)=>{Object.defineProperty(hSQ,"__esModule",{value:!0});hSQ.defaultResource=hSQ.emptyResource=hSQ.resourceFromDetectedResource=hSQ.resourceFromAttributes=void 0;var hHA=q9(),WT1=J8(),or=nr(),Qb3=XT1(),bHA=fSQ();class gHA{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(A,Q){let B=new gHA({},Q);return B._rawAttributes=bSQ(A),B._asyncAttributesPending=A.filter(([G,Z])=>(0,bHA.isPromiseLike)(Z)).length>0,B}constructor(A,Q){let B=A.attributes??{};this._rawAttributes=Object.entries(B).map(([G,Z])=>{if((0,bHA.isPromiseLike)(Z))this._asyncAttributesPending=!0;return[G,Z]}),this._rawAttributes=bSQ(this._rawAttributes),this._schemaUrl=Yb3(Q?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let A=0;A<this._rawAttributes.length;A++){let[Q,B]=this._rawAttributes[A];this._rawAttributes[A]=[Q,(0,bHA.isPromiseLike)(B)?await B:B]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)hHA.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let A={};for(let[Q,B]of this._rawAttributes){if((0,bHA.isPromiseLike)(B)){hHA.diag.debug(`Unsettled resource attribute ${Q} skipped`);continue}if(B!=null)A[Q]??=B}if(!this._asyncAttributesPending)this._memoizedAttributes=A;return A}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(A){if(A==null)return this;let Q=Jb3(this,A),B=Q?{schemaUrl:Q}:void 0;return gHA.FromAttributeList([...A.getRawAttributes(),...this.getRawAttributes()],B)}}function KT1(A,Q){return gHA.FromAttributeList(Object.entries(A),Q)}hSQ.resourceFromAttributes=KT1;function Bb3(A,Q){return new gHA(A,Q)}hSQ.resourceFromDetectedResource=Bb3;function Gb3(){return KT1({})}hSQ.emptyResource=Gb3;function Zb3(){return KT1({[or.ATTR_SERVICE_NAME]:(0,Qb3.defaultServiceName)(),[or.ATTR_TELEMETRY_SDK_LANGUAGE]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_LANGUAGE],[or.ATTR_TELEMETRY_SDK_NAME]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_NAME],[or.ATTR_TELEMETRY_SDK_VERSION]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_VERSION]})}hSQ.defaultResource=Zb3;function bSQ(A){return A.map(([Q,B])=>{if((0,bHA.isPromiseLike)(B))return[Q,B.catch((G)=>{hHA.diag.debug("promise rejection for resource attribute: %s - %s",Q,G);return})];return[Q,B]})}function Yb3(A){if(typeof A==="string"||A===void 0)return A;hHA.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",A);return}function Jb3(A,Q){let B=A?.schemaUrl,G=Q?.schemaUrl,Z=B===void 0||B==="",Y=G===void 0||G==="";if(Z)return G;if(Y)return B;if(B===G)return B;hHA.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',B,G);return}});var cSQ=w((mSQ)=>{Object.defineProperty(mSQ,"__esModule",{value:!0});mSQ.detectResources=void 0;var uSQ=q9(),ET1=VT1(),Kb3=(A={})=>{return(A.detectors||[]).map((B)=>{try{let G=(0,ET1.resourceFromDetectedResource)(B.detect(A));return uSQ.diag.debug(`${B.constructor.name} found resource.`,G),G}catch(G){return uSQ.diag.debug(`${B.constructor.name} failed: ${G.message}`),(0,ET1.emptyResource)()}}).reduce((B,G)=>B.merge(G),(0,ET1.emptyResource)())};mSQ.detectResources=Kb3});var aSQ=w((iSQ)=>{Object.defineProperty(iSQ,"__esModule",{value:!0});iSQ.envDetector=void 0;var Vb3=q9(),Eb3=nr(),pSQ=J8();class lSQ{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(A){let Q={},B=(0,pSQ.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),G=(0,pSQ.getStringFromEnv)("OTEL_SERVICE_NAME");if(B)try{let Z=this._parseResourceAttributes(B);Object.assign(Q,Z)}catch(Z){Vb3.diag.debug(`EnvDetector failed: ${Z.message}`)}if(G)Q[Eb3.ATTR_SERVICE_NAME]=G;return{attributes:Q}}_parseResourceAttributes(A){if(!A)return{};let Q={},B=A.split(this._COMMA_SEPARATOR,-1);for(let G of B){let Z=G.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(Z.length!==2)continue;let[Y,J]=Z;if(Y=Y.trim(),J=J.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(Y))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(J))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);Q[Y]=decodeURIComponent(J)}return Q}_isValid(A){return A.length<=this._MAX_LENGTH&&this._isBaggageOctetString(A)}_isBaggageOctetString(A){for(let Q=0;Q<A.length;Q++){let B=A.charCodeAt(Q);if(B<33||B===44||B===59||B===92||B>126)return!1}return!0}_isValidAndNotEmpty(A){return A.length>0&&this._isValid(A)}}iSQ.envDetector=new lSQ});var uHA=w((oSQ)=>{Object.defineProperty(oSQ,"__esModule",{value:!0});oSQ.ATTR_WEBENGINE_VERSION=oSQ.ATTR_WEBENGINE_NAME=oSQ.ATTR_WEBENGINE_DESCRIPTION=oSQ.ATTR_SERVICE_NAMESPACE=oSQ.ATTR_SERVICE_INSTANCE_ID=oSQ.ATTR_PROCESS_RUNTIME_VERSION=oSQ.ATTR_PROCESS_RUNTIME_NAME=oSQ.ATTR_PROCESS_RUNTIME_DESCRIPTION=oSQ.ATTR_PROCESS_PID=oSQ.ATTR_PROCESS_OWNER=oSQ.ATTR_PROCESS_EXECUTABLE_PATH=oSQ.ATTR_PROCESS_EXECUTABLE_NAME=oSQ.ATTR_PROCESS_COMMAND_ARGS=oSQ.ATTR_PROCESS_COMMAND=oSQ.ATTR_OS_VERSION=oSQ.ATTR_OS_TYPE=oSQ.ATTR_K8S_POD_NAME=oSQ.ATTR_K8S_NAMESPACE_NAME=oSQ.ATTR_K8S_DEPLOYMENT_NAME=oSQ.ATTR_K8S_CLUSTER_NAME=oSQ.ATTR_HOST_TYPE=oSQ.ATTR_HOST_NAME=oSQ.ATTR_HOST_IMAGE_VERSION=oSQ.ATTR_HOST_IMAGE_NAME=oSQ.ATTR_HOST_IMAGE_ID=oSQ.ATTR_HOST_ID=oSQ.ATTR_HOST_ARCH=oSQ.ATTR_CONTAINER_NAME=oSQ.ATTR_CONTAINER_IMAGE_TAGS=oSQ.ATTR_CONTAINER_IMAGE_NAME=oSQ.ATTR_CONTAINER_ID=oSQ.ATTR_CLOUD_REGION=oSQ.ATTR_CLOUD_PROVIDER=oSQ.ATTR_CLOUD_AVAILABILITY_ZONE=oSQ.ATTR_CLOUD_ACCOUNT_ID=void 0;oSQ.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";oSQ.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";oSQ.ATTR_CLOUD_PROVIDER="cloud.provider";oSQ.ATTR_CLOUD_REGION="cloud.region";oSQ.ATTR_CONTAINER_ID="container.id";oSQ.ATTR_CONTAINER_IMAGE_NAME="container.image.name";oSQ.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";oSQ.ATTR_CONTAINER_NAME="container.name";oSQ.ATTR_HOST_ARCH="host.arch";oSQ.ATTR_HOST_ID="host.id";oSQ.ATTR_HOST_IMAGE_ID="host.image.id";oSQ.ATTR_HOST_IMAGE_NAME="host.image.name";oSQ.ATTR_HOST_IMAGE_VERSION="host.image.version";oSQ.ATTR_HOST_NAME="host.name";oSQ.ATTR_HOST_TYPE="host.type";oSQ.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";oSQ.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";oSQ.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";oSQ.ATTR_K8S_POD_NAME="k8s.pod.name";oSQ.ATTR_OS_TYPE="os.type";oSQ.ATTR_OS_VERSION="os.version";oSQ.ATTR_PROCESS_COMMAND="process.command";oSQ.ATTR_PROCESS_COMMAND_ARGS="process.command_args";oSQ.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";oSQ.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";oSQ.ATTR_PROCESS_OWNER="process.owner";oSQ.ATTR_PROCESS_PID="process.pid";oSQ.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";oSQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";oSQ.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";oSQ.ATTR_SERVICE_INSTANCE_ID="service.instance.id";oSQ.ATTR_SERVICE_NAMESPACE="service.namespace";oSQ.ATTR_WEBENGINE_DESCRIPTION="webengine.description";oSQ.ATTR_WEBENGINE_NAME="webengine.name";oSQ.ATTR_WEBENGINE_VERSION="webengine.version"});var LuA=w((sSQ)=>{Object.defineProperty(sSQ,"__esModule",{value:!0});sSQ.execAsync=void 0;var nb3=qA("child_process"),ab3=qA("util");sSQ.execAsync=ab3.promisify(nb3.exec)});var QxQ=w((eSQ)=>{Object.defineProperty(eSQ,"__esModule",{value:!0});eSQ.getMachineId=void 0;var ob3=LuA(),rb3=q9();async function sb3(){try{let Q=(await(0,ob3.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
bundles/ClaudeAgentSDKCode/cli.js:192:`).find((G)=>G.includes("IOPlatformUUID"));if(!Q)return;let B=Q.split('" = "');if(B.length===2)return B[1].slice(0,-1)}catch(A){rb3.diag.debug(`error reading machine id: ${A}`)}return}eSQ.getMachineId=sb3});var ZxQ=w((BxQ)=>{Object.defineProperty(BxQ,"__esModule",{value:!0});BxQ.getMachineId=void 0;var tb3=qA("fs"),eb3=q9();async function Ah3(){let A=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let Q of A)try{return(await tb3.promises.readFile(Q,{encoding:"utf8"})).trim()}catch(B){eb3.diag.debug(`error reading machine id: ${B}`)}return}BxQ.getMachineId=Ah3});var XxQ=w((JxQ)=>{Object.defineProperty(JxQ,"__esModule",{value:!0});JxQ.getMachineId=void 0;var Qh3=qA("fs"),Bh3=LuA(),YxQ=q9();async function Gh3(){try{return(await Qh3.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(A){YxQ.diag.debug(`error reading machine id: ${A}`)}try{return(await(0,Bh3.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(A){YxQ.diag.debug(`error reading machine id: ${A}`)}return}JxQ.getMachineId=Gh3});var ExQ=w((KxQ)=>{Object.defineProperty(KxQ,"__esModule",{value:!0});KxQ.getMachineId=void 0;var WxQ=qA("process"),Zh3=LuA(),Yh3=q9();async function Jh3(){let Q="%windir%\\System32\\REG.exe";if(WxQ.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in WxQ.env)Q="%windir%\\sysnative\\cmd.exe /c "+Q;try{let G=(await(0,Zh3.execAsync)(`${Q} QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`)).stdout.split("REG_SZ");if(G.length===2)return G[1].trim()}catch(B){Yh3.diag.debug(`error reading machine id: ${B}`)}return}KxQ.getMachineId=Jh3});var FxQ=w((DxQ)=>{Object.defineProperty(DxQ,"__esModule",{value:!0});DxQ.getMachineId=void 0;var Ih3=q9();async function Xh3(){Ih3.diag.debug("could not read machine-id: unsupported platform");return}DxQ.getMachineId=Xh3});var UxQ=w((CxQ)=>{Object.defineProperty(CxQ,"__esModule",{value:!0});CxQ.getMachineId=void 0;var Wh3=qA("process"),rr;async function Kh3(){if(!rr)switch(Wh3.platform){case"darwin":rr=(await Promise.resolve().then(() => o(QxQ()))).getMachineId;break;case"linux":rr=(await Promise.resolve().then(() => o(ZxQ()))).getMachineId;break;case"freebsd":rr=(await Promise.resolve().then(() => o(XxQ()))).getMachineId;break;case"win32":rr=(await Promise.resolve().then(() => o(ExQ()))).getMachineId;break;default:rr=(await Promise.resolve().then(() => o(FxQ()))).getMachineId;break}return rr()}CxQ.getMachineId=Kh3});var DT1=w(($xQ)=>{Object.defineProperty($xQ,"__esModule",{value:!0});$xQ.normalizeType=$xQ.normalizeArch=void 0;var Vh3=(A)=>{switch(A){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return A}};$xQ.normalizeArch=Vh3;var Eh3=(A)=>{switch(A){case"sunos":return"solaris";case"win32":return"windows";default:return A}};$xQ.normalizeType=Eh3});var OxQ=w((LxQ)=>{Object.defineProperty(LxQ,"__esModule",{value:!0});LxQ.hostDetector=void 0;var HT1=uHA(),NxQ=qA("os"),Hh3=UxQ(),Fh3=DT1();class qxQ{detect(A){return{attributes:{[HT1.ATTR_HOST_NAME]:(0,NxQ.hostname)(),[HT1.ATTR_HOST_ARCH]:(0,Fh3.normalizeArch)((0,NxQ.arch)()),[HT1.ATTR_HOST_ID]:(0,Hh3.getMachineId)()}}}}LxQ.hostDetector=new qxQ});var SxQ=w((jxQ)=>{Object.defineProperty(jxQ,"__esModule",{value:!0});jxQ.osDetector=void 0;var RxQ=uHA(),_xQ=qA("os"),Ch3=DT1();class TxQ{detect(A){return{attributes:{[RxQ.ATTR_OS_TYPE]:(0,Ch3.normalizeType)((0,_xQ.platform)()),[RxQ.ATTR_OS_VERSION]:(0,_xQ.release)()}}}}jxQ.osDetector=new TxQ});var kxQ=w((yxQ)=>{Object.defineProperty(yxQ,"__esModule",{value:!0});yxQ.processDetector=void 0;var zh3=q9(),ak=uHA(),Uh3=qA("os");class xxQ{detect(A){let Q={[ak.ATTR_PROCESS_PID]:process.pid,[ak.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[ak.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[ak.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[ak.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[ak.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[ak.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)Q[ak.ATTR_PROCESS_COMMAND]=process.argv[1];try{let B=Uh3.userInfo();Q[ak.ATTR_PROCESS_OWNER]=B.username}catch(B){zh3.diag.debug(`error obtaining process owner: ${B}`)}return{attributes:Q}}}yxQ.processDetector=new xxQ});var gxQ=w((bxQ)=>{Object.defineProperty(bxQ,"__esModule",{value:!0});bxQ.serviceInstanceIdDetector=void 0;var $h3=uHA(),wh3=qA("crypto");class fxQ{detect(A){return{attributes:{[$h3.ATTR_SERVICE_INSTANCE_ID]:(0,wh3.randomUUID)()}}}}bxQ.serviceInstanceIdDetector=new fxQ});var uxQ=w((l3A)=>{Object.defineProperty(l3A,"__esModule",{value:!0});l3A.serviceInstanceIdDetector=l3A.processDetector=l3A.osDetector=l3A.hostDetector=void 0;var Nh3=OxQ();Object.defineProperty(l3A,"hostDetector",{enumerable:!0,get:function(){return Nh3.hostDetector}});var qh3=SxQ();Object.defineProperty(l3A,"osDetector",{enumerable:!0,get:function(){return qh3.osDetector}});var Lh3=kxQ();Object.defineProperty(l3A,"processDetector",{enumerable:!0,get:function(){return Lh3.processDetector}});var Mh3=gxQ();Object.defineProperty(l3A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return Mh3.serviceInstanceIdDetector}})});var mxQ=w((i3A)=>{Object.defineProperty(i3A,"__esModule",{value:!0});i3A.serviceInstanceIdDetector=i3A.processDetector=i3A.osDetector=i3A.hostDetector=void 0;var MuA=uxQ();Object.defineProperty(i3A,"hostDetector",{enumerable:!0,get:function(){return MuA.hostDetector}});Object.defineProperty(i3A,"osDetector",{enumerable:!0,get:function(){return MuA.osDetector}});Object.defineProperty(i3A,"processDetector",{enumerable:!0,get:function(){return MuA.processDetector}});Object.defineProperty(i3A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return MuA.serviceInstanceIdDetector}})});var pxQ=w((dxQ)=>{Object.defineProperty(dxQ,"__esModule",{value:!0});dxQ.noopDetector=dxQ.NoopDetector=void 0;class FT1{detect(){return{attributes:{}}}}dxQ.NoopDetector=FT1;dxQ.noopDetector=new FT1});var lxQ=w((Sd)=>{Object.defineProperty(Sd,"__esModule",{value:!0});Sd.noopDetector=Sd.serviceInstanceIdDetector=Sd.processDetector=Sd.osDetector=Sd.hostDetector=Sd.envDetector=void 0;var Th3=aSQ();Object.defineProperty(Sd,"envDetector",{enumerable:!0,get:function(){return Th3.envDetector}});var OuA=mxQ();Object.defineProperty(Sd,"hostDetector",{enumerable:!0,get:function(){return OuA.hostDetector}});Object.defineProperty(Sd,"osDetector",{enumerable:!0,get:function(){return OuA.osDetector}});Object.defineProperty(Sd,"processDetector",{enumerable:!0,get:function(){return OuA.processDetector}});Object.defineProperty(Sd,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return OuA.serviceInstanceIdDetector}});var jh3=pxQ();Object.defineProperty(Sd,"noopDetector",{enumerable:!0,get:function(){return jh3.noopDetector}})});var n3A=w((VL)=>{Object.defineProperty(VL,"__esModule",{value:!0});VL.defaultServiceName=VL.emptyResource=VL.defaultResource=VL.resourceFromAttributes=VL.serviceInstanceIdDetector=VL.processDetector=VL.osDetector=VL.hostDetector=VL.envDetector=VL.detectResources=void 0;var Sh3=cSQ();Object.defineProperty(VL,"detectResources",{enumerable:!0,get:function(){return Sh3.detectResources}});var mHA=lxQ();Object.defineProperty(VL,"envDetector",{enumerable:!0,get:function(){return mHA.envDetector}});Object.defineProperty(VL,"hostDetector",{enumerable:!0,get:function(){return mHA.hostDetector}});Object.defineProperty(VL,"osDetector",{enumerable:!0,get:function(){return mHA.osDetector}});Object.defineProperty(VL,"processDetector",{enumerable:!0,get:function(){return mHA.processDetector}});Object.defineProperty(VL,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return mHA.serviceInstanceIdDetector}});var CT1=VT1();Object.defineProperty(VL,"resourceFromAttributes",{enumerable:!0,get:function(){return CT1.resourceFromAttributes}});Object.defineProperty(VL,"defaultResource",{enumerable:!0,get:function(){return CT1.defaultResource}});Object.defineProperty(VL,"emptyResource",{enumerable:!0,get:function(){return CT1.emptyResource}});var xh3=XT1();Object.defineProperty(VL,"defaultServiceName",{enumerable:!0,get:function(){return xh3.defaultServiceName}})});var oxQ=w((nxQ)=>{Object.defineProperty(nxQ,"__esModule",{value:!0});nxQ.LogRecordImpl=void 0;var sr=q9(),RuA=J8();class ixQ{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(A){if(this._isLogRecordReadonly())return;this._severityText=A}get severityText(){return this._severityText}set severityNumber(A){if(this._isLogRecordReadonly())return;this._severityNumber=A}get severityNumber(){return this._severityNumber}set body(A){if(this._isLogRecordReadonly())return;this._body=A}get body(){return this._body}get eventName(){return this._eventName}set eventName(A){if(this._isLogRecordReadonly())return;this._eventName=A}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(A,Q,B){let{timestamp:G,observedTimestamp:Z,eventName:Y,severityNumber:J,severityText:I,body:X,attributes:W={},context:K}=B,V=Date.now();if(this.hrTime=(0,RuA.timeInputToHrTime)(G??V),this.hrTimeObserved=(0,RuA.timeInputToHrTime)(Z??V),K){let E=sr.trace.getSpanContext(K);if(E&&sr.isSpanContextValid(E))this.spanContext=E}this.severityNumber=J,this.severityText=I,this.body=X,this.resource=A.resource,this.instrumentationScope=Q,this._logRecordLimits=A.logRecordLimits,this._eventName=Y,this.setAttributes(W)}setAttribute(A,Q){if(this._isLogRecordReadonly())return this;if(Q===null)return this;if(A.length===0)return sr.diag.warn(`Invalid attribute key: ${A}`),this;if(!(0,RuA.isAttributeValue)(Q)&&!(typeof Q==="object"&&!Array.isArray(Q)&&Object.keys(Q).length>0))return sr.diag.warn(`Invalid attribute value set for key: ${A}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,A)){if(this.droppedAttributesCount===1)sr.diag.warn("Dropping extra attributes.");return this}if((0,RuA.isAttributeValue)(Q))this.attributes[A]=this._truncateToSize(Q);else this.attributes[A]=Q;return this}setAttributes(A){for(let[Q,B]of Object.entries(A))this.setAttribute(Q,B);return this}setBody(A){return this.body=A,this}setEventName(A){return this.eventName=A,this}setSeverityNumber(A){return this.severityNumber=A,this}setSeverityText(A){return this.severityText=A,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(A){let Q=this._logRecordLimits.attributeValueLengthLimit;if(Q<=0)return sr.diag.warn(`Attribute value limit must be positive, got ${Q}`),A;if(typeof A==="string")return this._truncateToLimitUtil(A,Q);if(Array.isArray(A))return A.map((B)=>typeof B==="string"?this._truncateToLimitUtil(B,Q):B);return A}_truncateToLimitUtil(A,Q){if(A.length<=Q)return A;return A.substring(0,Q)}_isLogRecordReadonly(){if(this._isReadonly)sr.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}nxQ.LogRecordImpl=ixQ});var exQ=w((sxQ)=>{Object.defineProperty(sxQ,"__esModule",{value:!0});sxQ.Logger=void 0;var vh3=q9(),kh3=oxQ();class rxQ{instrumentationScope;_sharedState;constructor(A,Q){this.instrumentationScope=A,this._sharedState=Q}emit(A){let Q=A.context||vh3.context.active(),B=new kh3.LogRecordImpl(this._sharedState,this.instrumentationScope,{context:Q,...A});this._sharedState.activeProcessor.onEmit(B,Q),B._makeReadonly()}}sxQ.Logger=rxQ});var ByQ=w((AyQ)=>{Object.defineProperty(AyQ,"__esModule",{value:!0});AyQ.reconfigureLimits=AyQ.loadDefaultConfig=void 0;var a3A=J8();function fh3(){return{forceFlushTimeoutMillis:30000,logRecordLimits:{attributeValueLengthLimit:(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}AyQ.loadDefaultConfig=fh3;function bh3(A){return{attributeCountLimit:A.attributeCountLimit??(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,a3A.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:A.attributeValueLengthLimit??(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,a3A.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}AyQ.reconfigureLimits=bh3});var zT1=w((ZyQ)=>{Object.defineProperty(ZyQ,"__esModule",{value:!0});ZyQ.NoopLogRecordProcessor=void 0;class GyQ{forceFlush(){return Promise.resolve()}onEmit(A,Q){}shutdown(){return Promise.resolve()}}ZyQ.NoopLogRecordProcessor=GyQ});var WyQ=w((IyQ)=>{Object.defineProperty(IyQ,"__esModule",{value:!0});IyQ.MultiLogRecordProcessor=void 0;var gh3=J8();class JyQ{processors;forceFlushTimeoutMillis;constructor(A,Q){this.processors=A,this.forceFlushTimeoutMillis=Q}async forceFlush(){let A=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((Q)=>(0,gh3.callWithTimeout)(Q.forceFlush(),A)))}onEmit(A,Q){this.processors.forEach((B)=>B.onEmit(A,Q))}async shutdown(){await Promise.all(this.processors.map((A)=>A.shutdown()))}}IyQ.MultiLogRecordProcessor=JyQ});var DyQ=w((VyQ)=>{Object.defineProperty(VyQ,"__esModule",{value:!0});VyQ.LoggerProviderSharedState=void 0;var uh3=zT1(),mh3=WyQ();class KyQ{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(A,Q,B,G){if(this.resource=A,this.forceFlushTimeoutMillis=Q,this.logRecordLimits=B,this.processors=G,G.length>0)this.registeredLogRecordProcessors=G,this.activeProcessor=new mh3.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new uh3.NoopLogRecordProcessor}}VyQ.LoggerProviderSharedState=KyQ});var wyQ=w((zyQ)=>{Object.defineProperty(zyQ,"__esModule",{value:!0});zyQ.LoggerProvider=zyQ.DEFAULT_LOGGER_NAME=void 0;var _uA=q9(),dh3=m_1(),ch3=n3A(),HyQ=J8(),ph3=exQ(),FyQ=ByQ(),lh3=DyQ();zyQ.DEFAULT_LOGGER_NAME="unknown";class CyQ{_shutdownOnce;_sharedState;constructor(A={}){let Q=(0,HyQ.merge)({},(0,FyQ.loadDefaultConfig)(),A),B=A.resource??(0,ch3.defaultResource)();this._sharedState=new lh3.LoggerProviderSharedState(B,Q.forceFlushTimeoutMillis,(0,FyQ.reconfigureLimits)(Q.logRecordLimits),A?.processors??[]),this._shutdownOnce=new HyQ.BindOnceFuture(this._shutdown,this)}getLogger(A,Q,B){if(this._shutdownOnce.isCalled)return _uA.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),dh3.NOOP_LOGGER;if(!A)_uA.diag.warn("Logger requested without instrumentation scope name.");let G=A||zyQ.DEFAULT_LOGGER_NAME,Z=`${G}@${Q||""}:${B?.schemaUrl||""}`;if(!this._sharedState.loggers.has(Z))this._sharedState.loggers.set(Z,new ph3.Logger({name:G,version:Q,schemaUrl:B?.schemaUrl},this._sharedState));return this._sharedState.loggers.get(Z)}forceFlush(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}zyQ.LoggerProvider=CyQ});var OyQ=w((LyQ)=>{Object.defineProperty(LyQ,"__esModule",{value:!0});LyQ.ConsoleLogRecordExporter=void 0;var NyQ=J8();class qyQ{export(A,Q){this._sendLogRecords(A,Q)}shutdown(){return Promise.resolve()}_exportInfo(A){return{resource:{attributes:A.resource.attributes},instrumentationScope:A.instrumentationScope,timestamp:(0,NyQ.hrTimeToMicroseconds)(A.hrTime),traceId:A.spanContext?.traceId,spanId:A.spanContext?.spanId,traceFlags:A.spanContext?.traceFlags,severityText:A.severityText,severityNumber:A.severityNumber,body:A.body,attributes:A.attributes}}_sendLogRecords(A,Q){for(let B of A)console.dir(this._exportInfo(B),{depth:3});Q?.({code:NyQ.ExportResultCode.SUCCESS})}}LyQ.ConsoleLogRecordExporter=qyQ});var jyQ=w((_yQ)=>{Object.defineProperty(_yQ,"__esModule",{value:!0});_yQ.SimpleLogRecordProcessor=void 0;var o3A=J8();class RyQ{_exporter;_shutdownOnce;_unresolvedExports;constructor(A){this._exporter=A,this._shutdownOnce=new o3A.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(A){if(this._shutdownOnce.isCalled)return;let Q=()=>o3A.internal._export(this._exporter,[A]).then((B)=>{if(B.code!==o3A.ExportResultCode.SUCCESS)(0,o3A.globalErrorHandler)(B.error??Error(`SimpleLogRecordProcessor: log record export failed (status ${B})`))}).catch(o3A.globalErrorHandler);if(A.resource.asyncAttributesPending){let B=A.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(B),Q()},o3A.globalErrorHandler);if(B!=null)this._unresolvedExports.add(B)}else Q()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}_yQ.SimpleLogRecordProcessor=RyQ});var vyQ=w((xyQ)=>{Object.defineProperty(xyQ,"__esModule",{value:!0});xyQ.InMemoryLogRecordExporter=void 0;var PyQ=J8();class SyQ{_finishedLogRecords=[];_stopped=!1;export(A,Q){if(this._stopped)return Q({code:PyQ.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...A),Q({code:PyQ.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}xyQ.InMemoryLogRecordExporter=SyQ});var hyQ=w((fyQ)=>{Object.defineProperty(fyQ,"__esModule",{value:!0});fyQ.BatchLogRecordProcessorBase=void 0;var ih3=q9(),Kw=J8();class kyQ{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(A,Q){if(this._exporter=A,this._maxExportBatchSize=Q?.maxExportBatchSize??(0,Kw.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=Q?.maxQueueSize??(0,Kw.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=Q?.scheduledDelayMillis??(0,Kw.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=Q?.exportTimeoutMillis??(0,Kw.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new Kw.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)ih3.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(A){if(this._shutdownOnce.isCalled)return;this._addToBuffer(A)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(A){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(A),this._maybeStartTimer()}_flushAll(){return new Promise((A,Q)=>{let B=[],G=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let Z=0;Z<G;Z++)B.push(this._flushOneBatch());Promise.all(B).then(()=>{A()}).catch(Q)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise((A,Q)=>{(0,Kw.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>A()).catch(Q)})}_maybeStartTimer(){if(this._timer!==void 0)return;this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{if(this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((A)=>{(0,Kw.globalErrorHandler)(A)})},this._scheduledDelayMillis),(0,Kw.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(A){let Q=()=>Kw.internal._export(this._exporter,A).then((G)=>{if(G.code!==Kw.ExportResultCode.SUCCESS)(0,Kw.globalErrorHandler)(G.error??Error(`BatchLogRecordProcessor: log record export failed (status ${G})`))}).catch(Kw.globalErrorHandler),B=A.map((G)=>G.resource).filter((G)=>G.asyncAttributesPending);if(B.length===0)return Q();else return Promise.all(B.map((G)=>G.waitForAsyncAttributes?.())).then(Q,Kw.globalErrorHandler)}}fyQ.BatchLogRecordProcessorBase=kyQ});var dyQ=w((uyQ)=>{Object.defineProperty(uyQ,"__esModule",{value:!0});uyQ.BatchLogRecordProcessor=void 0;var nh3=hyQ();class gyQ extends nh3.BatchLogRecordProcessorBase{onShutdown(){}}uyQ.BatchLogRecordProcessor=gyQ});var cyQ=w((UT1)=>{Object.defineProperty(UT1,"__esModule",{value:!0});UT1.BatchLogRecordProcessor=void 0;var ah3=dyQ();Object.defineProperty(UT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return ah3.BatchLogRecordProcessor}})});var pyQ=w(($T1)=>{Object.defineProperty($T1,"__esModule",{value:!0});$T1.BatchLogRecordProcessor=void 0;var rh3=cyQ();Object.defineProperty($T1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return rh3.BatchLogRecordProcessor}})});var wT1=w((xd)=>{Object.defineProperty(xd,"__esModule",{value:!0});xd.BatchLogRecordProcessor=xd.InMemoryLogRecordExporter=xd.SimpleLogRecordProcessor=xd.ConsoleLogRecordExporter=xd.NoopLogRecordProcessor=xd.LoggerProvider=void 0;var th3=wyQ();Object.defineProperty(xd,"LoggerProvider",{enumerable:!0,get:function(){return th3.LoggerProvider}});var eh3=zT1();Object.defineProperty(xd,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return eh3.NoopLogRecordProcessor}});var Ag3=OyQ();Object.defineProperty(xd,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return Ag3.ConsoleLogRecordExporter}});var Qg3=jyQ();Object.defineProperty(xd,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return Qg3.SimpleLogRecordProcessor}});var Bg3=vyQ();Object.defineProperty(xd,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return Bg3.InMemoryLogRecordExporter}});var Gg3=pyQ();Object.defineProperty(xd,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Gg3.BatchLogRecordProcessor}})});function yd(){let A=process.env.CLAUDE_AGENT_SDK_VERSION?`, agent-sdk/${process.env.CLAUDE_AGENT_SDK_VERSION}`:"";return`claude-cli/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION} (external, ${process.env.CLAUDE_CODE_ENTRYPOINT}${A})`}function tr(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}`}function gI(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}`}function AY(){if(LB()){let Q=r3();if(!Q?.accessToken)return{headers:{},error:"No OAuth token available"};return{headers:{Authorization:`Bearer ${Q.accessToken}`,"anthropic-beta":Fm}}}let A=m$();if(!A)return{headers:{},error:"No API key available"};return{headers:{"x-api-key":A}}}var rD=q(()=>{V2();nJ()});function TuA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").ParentProcessId"`:`ps -o ppid= -p ${Q}`,G=pG(B,{timeout:1000});return G?G.trim():null}catch{return null}}function juA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").CommandLine"`:`ps -o command= -p ${Q}`,G=pG(B,{timeout:1000});return G?G.trim():null}catch{return null}}var PuA=q(()=>{Q3()});function Kg3(){if(process.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"){if(QQ.platform!=="darwin")return Wg3()||"pycharm"}return QQ.terminal}var Yg3,Jg3=()=>{return process.platform==="linux"&&process.env.CLAUDE_CODE_BUBBLEWRAP==="1"},Ig3,Xg3,Wg3,bz;var er=q(()=>{Q3();PuA();p2();YQ();Q0();R8();Yg3=Z0(async()=>{let{code:A}=await EQ("test",["-f","/.dockerenv"]);if(A!==0)return!1;return process.platform==="linux"}),Ig3=Z0(()=>{if(process.platform!=="linux")return!1;let A=jA();try{if(A.existsSync("/lib/libc.musl-x86_64.so.1")||A.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let Q=pG("ldd /bin/ls 2>/dev/null");return Q!==null&&Q.includes("musl")}catch{return f("musl detection failed, assuming glibc"),!1}}),Xg3=["pycharm","intellij","webstorm","phpstorm","rubymine","clion","goland","rider","datagrip","appcode","dataspell","aqua","gateway","fleet","jetbrains","androidstudio"],Wg3=Z0(()=>{if(process.platform==="darwin")return null;try{let Q=process.pid.toString();for(let B=0;B<10;B++){let G=juA(Q);if(G){let Y=G.toLowerCase();for(let J of Xg3)if(Y.includes(J))return J}let Z=TuA(Q);if(!Z||Z==="0"||Z===Q)break;Q=Z}}catch{}return null});bz={...QQ,terminal:Kg3(),getIsDocker:Yg3,getIsBubblewrapSandbox:Jg3,isMuslEnvironment:Ig3}});function I5(A,Q,B=!1){let G=A;if(B){let Z=A.indexOf(`
bundles/ClaudeAgentSDKCode/cli.js:200:`);qT1()};return process.on("exit",A),()=>{process.off("exit",A)}},[])}function Eg3(A,Q){return Math.round(A*Q)/Q}function xuA(A,Q,B){bW0(A,Q,B),aW0()?.add(A,{model:B}),NWA()?.add(Q.input_tokens,{type:"input",model:B}),NWA()?.add(Q.output_tokens,{type:"output",model:B}),NWA()?.add(Q.cache_read_input_tokens??0,{type:"cacheRead",model:B}),NWA()?.add(Q.cache_creation_input_tokens??0,{type:"cacheCreation",model:B})}var iyQ;var EL=q(()=>{o2();d2();vQ();u0();u0();u0();iyQ=o(KA(),1)});function Dg3(A,Q){return Q.input_tokens/1e6*A.inputTokens+Q.output_tokens/1e6*A.outputTokens+(Q.cache_read_input_tokens??0)/1e6*A.promptCacheReadTokens+(Q.cache_creation_input_tokens??0)/1e6*A.promptCacheWriteTokens+(Q.server_tool_use?.web_search_requests??0)*A.webSearchRequests}function Hg3(A){return A.input_tokens+(A.cache_read_input_tokens??0)+(A.cache_creation_input_tokens??0)}function Fg3(A,Q){let B=Vw(A),G=ayQ[B];if(G===Qs&&Hg3(Q)>200000)return MT1;if(!G)return s("tengu_unknown_model_cost",{model:A,shortName:B}),NG1(),ayQ[Vw(ryQ)];return G}function fuA(A,Q){let B=Fg3(A,Q);return Dg3(B,Q)}function oyQ(A){if(Number.isInteger(A))return`$${A}`;return`$${A.toFixed(2)}`}function vd(A){return`${oyQ(A.inputTokens)}/${oyQ(A.outputTokens)} per Mtok`}var Qs,vuA,kuA,MT1,OT1,RT1,ayQ;var buA=q(()=>{EL();_0();b3A();d2();Qs={inputTokens:3,outputTokens:15,promptCacheWriteTokens:3.75,promptCacheReadTokens:0.3,webSearchRequests:0.01},vuA={inputTokens:15,outputTokens:75,promptCacheWriteTokens:18.75,promptCacheReadTokens:1.5,webSearchRequests:0.01},kuA={inputTokens:5,outputTokens:25,promptCacheWriteTokens:6.25,promptCacheReadTokens:0.5,webSearchRequests:0.01},MT1={inputTokens:6,outputTokens:22.5,promptCacheWriteTokens:7.5,promptCacheReadTokens:0.6,webSearchRequests:0.01},OT1={inputTokens:0.8,outputTokens:4,promptCacheWriteTokens:1,promptCacheReadTokens:0.08,webSearchRequests:0.01},RT1={inputTokens:1,outputTokens:5,promptCacheWriteTokens:1.25,promptCacheReadTokens:0.1,webSearchRequests:0.01},ayQ={[Vw(IHA.firstParty)]:OT1,[Vw(XHA.firstParty)]:RT1,[Vw(JHA.firstParty)]:Qs,[Vw(YHA.firstParty)]:Qs,[Vw(yr.firstParty)]:Qs,[Vw(WHA.firstParty)]:vuA,[Vw(KHA.firstParty)]:vuA,[Vw(vr.firstParty)]:kuA,...{}}});async function zg3(){let A=j8()?.organizationUuid;if(!A)throw Error("No organization ID available");let Q=AY();if(Q.error)throw Error(`Auth error: ${Q.error}`);let B={"Content-Type":"application/json","User-Agent":gI(),...Q.headers};try{let G=`https://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await FQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return r(G),{hasAccess:!1,hasError:!0}}}async function $g3(){try{return await Ug3()}catch(A){return f("Sonnet-1M access check failed, defaulting to no access"),{hasAccess:!1,hasError:!0}}}function kd(){let A=j8()?.organizationUuid;if(!A)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!1};let Q=c1(),B=(LB()?Q.s1mAccessCache:Q.s1mNonSubscriberAccessCache)?.[A],G=Date.now();if(!B)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!0};let{hasAccess:Z,hasAccessNotAsDefault:Y,timestamp:J}=B,I=G-J>wg3;return{hasAccess:Z||(Y??!1),wasPartOfDefaultRollout:Z,needsRefresh:I}}async function syQ(){let{needsRefresh:A}=kd();if(A)Ng3()}async function Ng3(){let A=j8()?.organizationUuid;if(!A)return;if(!LB()){let Q=await myA();if(!Q)return;let{uuid:B,rate_limit_tier:G}=Q.organization,Z={hasAccess:G==="auto_prepaid_tier_3"||G==="manual_tier_3",timestamp:Date.now()};i0((Y)=>({...Y,s1mNonSubscriberAccessCache:{...Y.s1mNonSubscriberAccessCache,[B]:Z}}));return}try{let{hasAccess:Q,hasAccessNotAsDefault:B}=await $g3(),G={hasAccess:Q,hasAccessNotAsDefault:B,timestamp:Date.now()};i0((Z)=>({...Z,s1mAccessCache:{...Z.s1mAccessCache,[A]:G}}))}catch(Q){f("Failed to fetch and cache Sonnet-1M access"),r(Q)}}var Cg3=3600000,Ug3,wg3=3600000;var huA=q(()=>{m8();byA();rD();Q0();g1();vQ();V2();rKA();Ug3=fyA(zg3,Cg3)});function qg3(){}var ok;var _T1=q(()=>{ok=qg3});function Lg3(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}var tyQ;var eyQ=q(()=>{tyQ=Lg3});function Mg3(A){return A!==A}var AvQ;var QvQ=q(()=>{AvQ=Mg3});function Og3(A,Q,B){var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}var BvQ;var GvQ=q(()=>{BvQ=Og3});function Rg3(A,Q,B){return Q===Q?BvQ(A,Q,B):tyQ(A,AvQ,B)}var ZvQ;var YvQ=q(()=>{eyQ();QvQ();GvQ();ZvQ=Rg3});function _g3(A,Q){var B=A==null?0:A.length;return!!B&&ZvQ(A,Q,0)>-1}var JvQ;var IvQ=q(()=>{YvQ();JvQ=_g3});function Tg3(A){return C7(A)||hv(A)||!!(XvQ&&A&&A[XvQ])}var XvQ,WvQ;var KvQ=q(()=>{Sa();EWA();HF();XvQ=fK?fK.isConcatSpreadable:void 0;WvQ=Tg3});function VvQ(A,Q,B,G,Z){var Y=-1,J=A.length;B||(B=WvQ),Z||(Z=[]);while(++Y<J){var I=A[Y];if(Q>0&&B(I))if(Q>1)VvQ(I,Q-1,B,G,Z);else KBA(Z,I);else if(!G)Z[Z.length]=I}return Z}var EvQ;var DvQ=q(()=>{gjA();KvQ();EvQ=VvQ});function jg3(A){var Q=A==null?0:A.length;return Q?EvQ(A,1):[]}var HvQ;var FvQ=q(()=>{DvQ();HvQ=jg3});function Pg3(A){return mPA(uPA(A,void 0,HvQ),A+"")}var CvQ;var zvQ=q(()=>{FvQ();lG1();iG1();CvQ=Pg3});function Sg3(A,Q,B){var G=-1,Z=A.length;if(Q<0)Q=-Q>Z?0:Z+Q;if(B=B>Z?Z:B,B<0)B+=Z;Z=Q>B?0:B-Q>>>0,Q>>>=0;var Y=Array(Z);while(++G<Z)Y[G]=A[G+Q];return Y}var guA;var TT1=q(()=>{guA=Sg3});function xg3(A,Q,B){var G=A.length;return B=B===void 0?G:B,!Q&&B>=G?A:guA(A,Q,B)}var UvQ;var $vQ=q(()=>{TT1();UvQ=xg3});function mg3(A){return ug3.test(A)}var yg3="\\ud800-\\udfff",vg3="\\u0300-\\u036f",kg3="\\ufe20-\\ufe2f",fg3="\\u20d0-\\u20ff",bg3,hg3="\\ufe0e\\ufe0f",gg3="\\u200d",ug3,uuA;var jT1=q(()=>{bg3=vg3+kg3+fg3,ug3=RegExp("["+gg3+yg3+bg3+hg3+"]");uuA=mg3});function dg3(A){return A.split("")}var wvQ;var NvQ=q(()=>{wvQ=dg3});function Qu3(A){return A.match(Au3)||[]}var qvQ="\\ud800-\\udfff",cg3="\\u0300-\\u036f",pg3="\\ufe20-\\ufe2f",lg3="\\u20d0-\\u20ff",ig3,ng3="\\ufe0e\\ufe0f",ag3,PT1,ST1="\\ud83c[\\udffb-\\udfff]",og3,LvQ,MvQ="(?:\\ud83c[\\udde6-\\uddff]){2}",OvQ="[\\ud800-\\udbff][\\udc00-\\udfff]",rg3="\\u200d",RvQ,_vQ,sg3,tg3,eg3,Au3,TvQ;var jvQ=q(()=>{ig3=cg3+pg3+lg3,ag3="["+qvQ+"]",PT1="["+ig3+"]",og3="(?:"+PT1+"|"+ST1+")",LvQ="[^"+qvQ+"]",RvQ=og3+"?",_vQ="["+ng3+"]?",sg3="(?:"+rg3+"(?:"+[LvQ,MvQ,OvQ].join("|")+")"+_vQ+RvQ+")*",tg3=_vQ+RvQ+sg3,eg3="(?:"+[LvQ+PT1+"?",PT1,MvQ,OvQ,ag3].join("|")+")",Au3=RegExp(ST1+"(?="+ST1+")|"+eg3+tg3,"g");TvQ=Qu3});function Bu3(A){return uuA(A)?TvQ(A):wvQ(A)}var PvQ;var SvQ=q(()=>{NvQ();jT1();jvQ();PvQ=Bu3});function Gu3(A){return function(Q){Q=NBA(Q);var B=uuA(Q)?PvQ(Q):void 0,G=B?B[0]:Q.charAt(0),Z=B?UvQ(B,1).join(""):Q.slice(1);return G[A]()+Z}}var xvQ;var yvQ=q(()=>{$vQ();jT1();SvQ();VPA();xvQ=Gu3});var Zu3,vvQ;var kvQ=q(()=>{yvQ();Zu3=xvQ("toUpperCase"),vvQ=Zu3});function Yu3(A){return vvQ(NBA(A).toLowerCase())}var lHA;var xT1=q(()=>{VPA();kvQ();lHA=Yu3});function Ju3(A,Q,B,G){var Z=-1,Y=A==null?0:A.length;while(++Z<Y){var J=A[Z];Q(G,J,B(J),A)}return G}var fvQ;var bvQ=q(()=>{fvQ=Ju3});function Iu3(A,Q){return A&&SPA(A,Q,Wq)}var muA;var yT1=q(()=>{gG1();fa();muA=Iu3});function Xu3(A,Q){return function(B,G){if(B==null)return B;if(!yj(B))return A(B,G);var Z=B.length,Y=Q?Z:-1,J=Object(B);while(Q?Y--:++Y<Z)if(G(J[Y],Y,J)===!1)break;return B}}var hvQ;var gvQ=q(()=>{CBA();hvQ=Xu3});var Wu3,duA;var vT1=q(()=>{yT1();gvQ();Wu3=hvQ(muA),duA=Wu3});function Ku3(A,Q,B,G){return duA(A,function(Z,Y,J){Q(G,Z,B(Z),J)}),G}var uvQ;var mvQ=q(()=>{vT1();uvQ=Ku3});function Vu3(A,Q){return function(B,G){var Z=C7(B)?fvQ:uvQ,Y=Q?Q():{};return Z(B,A,kj(G,2),Y)}}var dvQ;var cvQ=q(()=>{bvQ();mvQ();OBA();HF();dvQ=Vu3});function Eu3(A,Q,B){var G=-1,Z=A==null?0:A.length;while(++G<Z)if(B(Q,A[G]))return!0;return!1}var pvQ;var lvQ=q(()=>{pvQ=Eu3});function Du3(A){var Q=A==null?0:A.length;return Q?A[Q-1]:void 0}var _F;var s3A=q(()=>{_F=Du3});function Hu3(A,Q){var B=[];return duA(A,function(G,Z,Y){if(Q(G,Z,Y))B.push(G)}),B}var ivQ;var nvQ=q(()=>{vT1();ivQ=Hu3});function Fu3(A,Q){return wBA(Q,function(B){return A[B]})}var avQ;var ovQ=q(()=>{KPA();avQ=Fu3});function Cu3(A){return A==null?[]:avQ(A,Wq(A))}var rvQ;var svQ=q(()=>{ovQ();fa();rvQ=Cu3});function zu3(A,Q){return Q.length<2?A:LBA(A,guA(Q,0,-1))}var tvQ;var evQ=q(()=>{EPA();TT1();tvQ=zu3});function Uu3(A,Q){return zBA(A,Q)}var kT1;var AkQ=q(()=>{YPA();kT1=Uu3});function $u3(A,Q){var B={};return Q=kj(Q,3),muA(A,function(G,Z,Y){vu(B,Z,Q(G,Z,Y))}),B}var Bs;var cuA=q(()=>{OWA();yT1();OBA();Bs=$u3});function Nu3(A){if(typeof A!="function")throw TypeError(wu3);return function(){var Q=arguments;switch(Q.length){case 0:return!A.call(this);case 1:return!A.call(this,Q[0]);case 2:return!A.call(this,Q[0],Q[1]);case 3:return!A.call(this,Q[0],Q[1],Q[2])}return!A.apply(this,Q)}}var wu3="Expected a function",QkQ;var BkQ=q(()=>{QkQ=Nu3});function qu3(A,Q){return Q=vj(Q,A),A=tvQ(A,Q),A==null||delete A[Kq(_F(Q))]}var GkQ;var ZkQ=q(()=>{qBA();s3A();evQ();ha();GkQ=qu3});function Lu3(A){return hBA(A)?void 0:A}var YkQ;var JkQ=q(()=>{gPA();YkQ=Lu3});var Mu3=1,Ou3=2,Ru3=4,_u3,IkQ;var XkQ=q(()=>{KPA();rW1();ZkQ();qBA();ca();JkQ();zvQ();oW1();_u3=CvQ(function(A,Q){var B={};if(A==null)return B;var G=!1;if(Q=wBA(Q,function(Y){return Y=vj(Y,A),G||(G=Y.length>1),Y}),Hq(A,zyA(A),B),G)B=$yA(B,Mu3|Ou3|Ru3,YkQ);var Z=Q.length;while(Z--)GkQ(B,Q[Z]);return B}),IkQ=_u3});function Tu3(A,Q,B,G){if(!EJ(A))return A;Q=vj(Q,A);var Z=-1,Y=Q.length,J=Y-1,I=A;while(I!=null&&++Z<Y){var X=Kq(Q[Z]),W=B;if(X==="__proto__"||X==="constructor"||X==="prototype")return A;if(Z!=J){var K=I[X];if(W=G?G(K,X,I):void 0,W===void 0)W=EJ(K)?K:Pu(Q[Z+1])?[]:{}}ku(I,X,W),I=I[X]}return A}var WkQ;var KkQ=q(()=>{jWA();qBA();HWA();Xq();ha();WkQ=Tu3});var ju3,VkQ;var EkQ=q(()=>{cvQ();ju3=dvQ(function(A,Q,B){A[B?0:1].push(Q)},function(){return[[],[]]}),VkQ=ju3});function xu3(A,Q){return A+Pu3(Su3()*(Q-A+1))}var Pu3,Su3,DkQ;var HkQ=q(()=>{Pu3=Math.floor,Su3=Math.random;DkQ=xu3});function yu3(A,Q){var B=C7(A)?mjA:ivQ;return B(A,QkQ(kj(Q,3)))}var fT1;var FkQ=q(()=>{XG1();nvQ();OBA();HF();BkQ();fT1=yu3});function vu3(A){var Q=A.length;return Q?A[DkQ(0,Q-1)]:void 0}var puA;var bT1=q(()=>{HkQ();puA=vu3});function ku3(A){return puA(rvQ(A))}var CkQ;var zkQ=q(()=>{bT1();svQ();CkQ=ku3});function fu3(A){var Q=C7(A)?puA:CkQ;return Q(A)}var Gs;var luA=q(()=>{bT1();zkQ();HF();Gs=fu3});function bu3(A,Q,B,G){return G=typeof G=="function"?G:void 0,A==null?A:WkQ(A,Q,B,G)}var UkQ;var $kQ=q(()=>{KkQ();UkQ=bu3});var hu3=1/0,gu3,wkQ;var NkQ=q(()=>{FG1();_T1();hjA();gu3=!(Su&&1/WBA(new Su([,-0]))[1]==hu3)?ok:function(A){return new Su(A)},wkQ=gu3});function mu3(A,Q,B){var G=-1,Z=JvQ,Y=A.length,J=!0,I=[],X=I;if(B)J=!1,Z=pvQ;else if(Y>=uu3){var W=Q?null:wkQ(A);if(W)return WBA(W);J=!1,Z=fjA,X=new kjA}else X=Q?[]:I;A:while(++G<Y){var K=A[G],V=Q?Q(K):K;if(K=B||K!==0?K:0,J&&V===V){var E=X.length;while(E--)if(X[E]===V)continue A;if(Q)X.push(V);I.push(K)}else if(!Z(X,V,B)){if(X!==I)X.push(V);I.push(K)}}return I}var uu3=200,qkQ;var LkQ=q(()=>{BG1();IvQ();lvQ();GG1();NkQ();hjA();qkQ=mu3});function du3(A,Q){return A&&A.length?qkQ(A,kj(Q,2)):[]}var t3A;var iuA=q(()=>{OBA();LkQ();t3A=du3});function cu3(A,Q,B){var G=-1,Z=A.length,Y=Q.length,J={};while(++G<Z){var I=G<Y?Q[G]:void 0;B(J,A[G],I)}return J}var MkQ;var OkQ=q(()=>{MkQ=cu3});function pu3(A,Q){return MkQ(A||[],Q||[],ku)}var RkQ;var _kQ=q(()=>{jWA();OkQ();RkQ=pu3});var e3A=q(()=>{wyA();p2()});function PkQ(){return jkQ}function hT1(A){let Q=2166136261,B=A.length;for(let G=0;G<B;G++)Q^=A.charCodeAt(G),Q+=(Q<<1)+(Q<<4)+(Q<<7)+(Q<<8)+(Q<<24);return Q>>>0}function iHA(A,Q,B){if(B===2)return hT1(hT1(A+Q)+"")%1e4/1e4;if(B===1)return hT1(Q+A)%1000/1000;return null}function lu3(A){if(A<=0)return[];return Array(A).fill(1/A)}function nuA(A,Q){return A>=Q[0]&&A<Q[1]}function SkQ(A,Q){let B=iHA("__"+Q[0],A,1);if(B===null)return!1;return B>=Q[1]&&B<Q[2]}function xkQ(A,Q){for(let B=0;B<Q.length;B++)if(nuA(A,Q[B]))return B;return-1}function uT1(A){try{let Q=A.replace(/([^\\])\//g,"$1\\/");return new RegExp(Q)}catch(Q){console.error(Q);return}}function auA(A,Q){if(!Q.length)return!1;let B=!1,G=!1;for(let Z=0;Z<Q.length;Z++){let Y=au3(A,Q[Z].type,Q[Z].pattern);if(Q[Z].include===!1){if(Y)return!1}else if(B=!0,Y)G=!0}return G||!B}function iu3(A,Q,B){try{let G=Q.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");if(B)G="\\/?"+G.replace(/(^\/|\/$)/g,"")+"\\/?";return new RegExp("^"+G+"$","i").test(A)}catch(G){return!1}}function nu3(A,Q){try{let B=new URL(Q.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),G=[[A.host,B.host,!1],[A.pathname,B.pathname,!0]];if(B.hash)G.push([A.hash,B.hash,!1]);return B.searchParams.forEach((Z,Y)=>{G.push([A.searchParams.get(Y)||"",Z,!1])}),!G.some((Z)=>!iu3(Z[0],Z[1],Z[2]))}catch(B){return!1}}function au3(A,Q,B){try{let G=new URL(A,"https://_");if(Q==="regex"){let Z=uT1(B);if(!Z)return!1;return Z.test(G.href)||Z.test(G.href.substring(G.origin.length))}else if(Q==="simple")return nu3(G,B);return!1}catch(G){return!1}}function ykQ(A,Q,B){if(Q=Q===void 0?1:Q,Q<0)Q=0;else if(Q>1)Q=1;let G=lu3(A);if(B=B||G,B.length!==A)B=G;let Z=B.reduce((J,I)=>I+J,0);if(Z<0.99||Z>1.01)B=G;let Y=0;return B.map((J)=>{let I=Y;return Y+=J,[I,I+Q*J]})}function vkQ(A,Q,B){if(!Q)return null;let G=Q.split("?")[1];if(!G)return null;let Z=G.replace(/#.*/,"").split("&").map((Y)=>Y.split("=",2)).filter((Y)=>{let[J]=Y;return J===A}).map((Y)=>{let[,J]=Y;return parseInt(J)});if(Z.length>0&&Z[0]>=0&&Z[0]<B)return Z[0];return null}function kkQ(A){try{return A()}catch(Q){return console.error(Q),!1}}async function Zs(A,Q,B){if(Q=Q||"",B=B||globalThis.crypto&&globalThis.crypto.subtle||jkQ.SubtleCrypto,!B)throw Error("No SubtleCrypto implementation found");try{let G=await B.importKey("raw",gT1(Q),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[Z,Y]=A.split("."),J=await B.decrypt({name:"AES-CBC",iv:gT1(Z)},G,gT1(Y));return new TextDecoder().decode(J)}catch(G){throw Error("Failed to decrypt")}}function nHA(A){if(typeof A==="string")return A;return JSON.stringify(A)}function Ew(A){if(typeof A==="number")A=A+"";if(!A||typeof A!=="string")A="0";let Q=A.replace(/(^v|\+.*$)/g,"").split(/[-.]/);if(Q.length===3)Q.push("~");return Q.map((B)=>B.match(/^[0-9]+$/)?B.padStart(5," "):B).join("-")}function fkQ(){let A;try{A="1.6.1"}catch(Q){A=""}return A}function bkQ(A,Q){let B,G;try{B=new URL(A),G=new URL(Q)}catch(Z){return console.error(`Unable to merge query strings: ${Z}`),Q}return B.searchParams.forEach((Z,Y)=>{if(G.searchParams.has(Y))return;G.searchParams.set(Y,Z)}),G.toString()}function TkQ(A){return typeof A==="object"&&A!==null}function ouA(A){if(A.urlPatterns&&A.variations.some((Q)=>TkQ(Q)&&("urlRedirect"in Q)))return"redirect";else if(A.variations.some((Q)=>TkQ(Q)&&(Q.domMutations||("js"in Q)||("css"in Q))))return"visual";return"unknown"}async function ruA(A,Q){return new Promise((B)=>{let G=!1,Z,Y=(J)=>{if(G)return;G=!0,Z&&clearTimeout(Z),B(J||null)};if(Q)Z=setTimeout(()=>Y(),Q);A.then((J)=>Y(J)).catch(()=>Y())})}var jkQ,gT1=(A)=>Uint8Array.from(atob(A),(Q)=>Q.charCodeAt(0));var aHA=q(()=>{jkQ={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource}});function ukQ(A){if(Object.assign(sD,A),!sD.backgroundSync)Bm3()}async function mkQ(A){let{instance:Q,timeout:B,skipCache:G,allowStale:Z,backgroundSync:Y}=A;if(!Y)sD.backgroundSync=!1;return tu3({instance:Q,allowStale:Z,timeout:B,skipCache:G})}function ou3(A){let Q=oHA(A),B=Q6A.get(Q)||new Set;B.add(A),Q6A.set(Q,B)}function dkQ(A){Q6A.forEach((Q)=>Q.delete(A))}function ru3(){B6A.forEach((A)=>{if(!A)return;A.state="idle",pT1(A)})}function su3(){B6A.forEach((A)=>{if(!A)return;if(A.state!=="idle")return;lT1(A)})}async function gkQ(){try{if(!sP.localStorage)return;await sP.localStorage.setItem(sD.cacheKey,JSON.stringify(Array.from(rk.entries())))}catch(A){}}async function tu3(A){let{instance:Q,allowStale:B,timeout:G,skipCache:Z}=A,Y=oHA(Q),J=dT1(Q),I=new Date,X=new Date(I.getTime()-sD.maxAge+sD.staleTTL);await eu3();let W=!sD.disableCache&&!Z?rk.get(J):void 0;if(W&&(B||W.staleAt>I)&&W.staleAt>X){if(W.sse)G6A.add(Y);if(W.staleAt<I)mT1(Q);else cT1(Q);return{data:W.data,success:!0,source:"cache"}}else return await ruA(mT1(Q),G)||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}function oHA(A){let[Q,B]=A.getApiInfo();return`${Q}||${B}`}function dT1(A){let Q=oHA(A);if(!("isRemoteEval"in A)||!A.isRemoteEval())return Q;let B=A.getAttributes(),G=A.getCacheKeyAttributes()||Object.keys(A.getAttributes()),Z={};G.forEach((I)=>{Z[I]=B[I]});let Y=A.getForcedVariations(),J=A.getUrl();return`${Q}||${JSON.stringify({ca:Z,fv:Y,url:J})}`}async function eu3(){if(hkQ)return;hkQ=!0;try{if(sP.localStorage){let A=await sP.localStorage.getItem(sD.cacheKey);if(!sD.disableCache&&A){let Q=JSON.parse(A);if(Q&&Array.isArray(Q))Q.forEach((B)=>{let[G,Z]=B;rk.set(G,{...Z,staleAt:new Date(Z.staleAt)})});ckQ()}}}catch(A){}if(!sD.disableIdleStreams){let A=A6A.startIdleListener();if(A)A6A.stopIdleListener=A}}function ckQ(){let A=Array.from(rk.entries()).map((B)=>{let[G,Z]=B;return{key:G,staleAt:Z.staleAt.getTime()}}).sort((B,G)=>B.staleAt-G.staleAt),Q=Math.min(Math.max(0,rk.size-sD.maxEntries),rk.size);for(let B=0;B<Q;B++)rk.delete(A[B].key)}function pkQ(A,Q,B){let G=B.dateUpdated||"",Z=new Date(Date.now()+sD.staleTTL),Y=!sD.disableCache?rk.get(Q):void 0;if(Y&&G&&Y.version===G){Y.staleAt=Z,gkQ();return}if(!sD.disableCache)rk.set(Q,{data:B,version:G,staleAt:Z,sse:G6A.has(A)}),ckQ();gkQ();let J=Q6A.get(A);J&&J.forEach((I)=>Am3(I,B))}async function Am3(A,Q){await A.setPayload(Q||A.getPayload())}async function mT1(A){let{apiHost:Q,apiRequestHeaders:B}=A.getApiHosts(),G=A.getClientKey(),Z="isRemoteEval"in A&&A.isRemoteEval(),Y=oHA(A),J=dT1(A),I=suA.get(J);if(!I)I=(Z?A6A.fetchRemoteEvalCall({host:Q,clientKey:G,payload:{attributes:A.getAttributes(),forcedVariations:A.getForcedVariations(),forcedFeatures:Array.from(A.getForcedFeatures().entries()),url:A.getUrl()},headers:B}):A6A.fetchFeaturesCall({host:Q,clientKey:G,headers:B})).then((W)=>{if(!W.ok)throw Error(`HTTP error: ${W.status}`);if(W.headers.get("x-sse-support")==="enabled")G6A.add(Y);return W.json()}).then((W)=>{return pkQ(Y,J,W),cT1(A),suA.delete(J),{data:W,success:!0,source:"network"}}).catch((W)=>{return suA.delete(J),{data:null,source:"error",success:!1,error:W}}),suA.set(J,I);return I}function cT1(A){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=oHA(A),G=dT1(A),{streamingHost:Z,streamingHostRequestHeaders:Y}=A.getApiHosts(),J=A.getClientKey();if(Q)G6A.add(B);if(sD.backgroundSync&&G6A.has(B)&&sP.EventSource){if(B6A.has(B))return;let I={src:null,host:Z,clientKey:J,headers:Y,cb:(X)=>{try{if(X.type==="features-updated"){let W=Q6A.get(B);W&&W.forEach((K)=>{mT1(K)})}else if(X.type==="features"){let W=JSON.parse(X.data);pkQ(B,G,W)}I.errors=0}catch(W){lkQ(I)}},errors:0,state:"active"};B6A.set(B,I),lT1(I)}}function lkQ(A){if(A.state==="idle")return;if(A.errors++,A.errors>3||A.src&&A.src.readyState===2){let Q=Math.pow(3,A.errors-3)*(1000+Math.random()*1000);pT1(A),setTimeout(()=>{if(["idle","active"].includes(A.state))return;lT1(A)},Math.min(Q,300000))}}function pT1(A){if(!A.src)return;if(A.src.onopen=null,A.src.onerror=null,A.src.close(),A.src=null,A.state==="active")A.state="disabled"}function lT1(A){A.src=A6A.eventSourceCall({host:A.host,clientKey:A.clientKey,headers:A.headers}),A.state="active",A.src.addEventListener("features",A.cb),A.src.addEventListener("features-updated",A.cb),A.src.onerror=()=>lkQ(A),A.src.onopen=()=>{A.errors=0}}function Qm3(A,Q){pT1(A),B6A.delete(Q)}function Bm3(){G6A.clear(),B6A.forEach(Qm3),Q6A.clear(),A6A.stopIdleListener()}function tuA(A,Q){if(Q.streaming){if(!A.getClientKey())throw Error("Must specify clientKey to enable streaming");if(Q.payload)cT1(A,!0);ou3(A)}}var sD,sP,A6A,Q6A,hkQ=!1,rk,suA,B6A,G6A;var ikQ=q(()=>{aHA();sD={staleTTL:60000,maxAge:14400000,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:20000,disableCache:!1},sP=PkQ(),A6A={fetchFeaturesCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;return sP.fetch(`${Q}/api/features/${B}`,{headers:G})},fetchRemoteEvalCall:(A)=>{let{host:Q,clientKey:B,payload:G,headers:Z}=A,Y={method:"POST",headers:{"Content-Type":"application/json",...Z},body:JSON.stringify(G)};return sP.fetch(`${Q}/api/eval/${B}`,Y)},eventSourceCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;if(G)return new sP.EventSource(`${Q}/sub/${B}`,{headers:G});return new sP.EventSource(`${Q}/sub/${B}`)},startIdleListener:()=>{let A;if(!(typeof window<"u"&&typeof document<"u"))return;let B=()=>{if(document.visibilityState==="visible")window.clearTimeout(A),su3();else if(document.visibilityState==="hidden")A=window.setTimeout(ru3,sD.idleStreamInterval)};return document.addEventListener("visibilitychange",B),()=>document.removeEventListener("visibilitychange",B)},stopIdleListener:()=>{}};try{if(globalThis.localStorage)sP.localStorage=globalThis.localStorage}catch(A){}Q6A=new Map,rk=new Map,suA=new Map,B6A=new Map,G6A=new Set});var ZfQ=w((GfQ)=>{Object.defineProperty(GfQ,"__esModule",{value:!0});var rkQ=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,aT1={revert:function(){}},BmA=new Map,nT1=new Set;function GmA(A){var Q=BmA.get(A);return Q||BmA.set(A,Q={element:A,attributes:{}}),Q}function ZmA(A,Q,B,G,Z){var Y=B(A),J={isDirty:!1,originalValue:Y,virtualValue:Y,mutations:[],el:A,_positionTimeout:null,observer:new MutationObserver(function(){if(Q!=="position"||!J._positionTimeout){Q==="position"&&(J._positionTimeout=setTimeout(function(){J._positionTimeout=null},1000));var I=B(A);Q==="position"&&I.parentNode===J.virtualValue.parentNode&&I.insertBeforeNode===J.virtualValue.insertBeforeNode||I!==J.virtualValue&&(J.originalValue=I,Z(J))}}),mutationRunner:Z,setValue:G,getCurrentValue:B};return Q==="position"&&A.parentNode?J.observer.observe(A.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):J.observer.observe(A,function(I){return I==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[I]}}(Q)),J}function YmA(A,Q){var B=Q.getCurrentValue(Q.el);Q.virtualValue=A,A&&typeof A!="string"?B&&A.parentNode===B.parentNode&&A.insertBeforeNode===B.insertBeforeNode||(Q.isDirty=!0,nkQ()):A!==B&&(Q.isDirty=!0,nkQ())}function Gm3(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(function(B){return euA||(euA=document.createElement("div")),euA.innerHTML=B,euA.innerHTML}(Q),A)}function Zm3(A){var Q=new Set(A.originalValue.split(/\s+/).filter(Boolean));A.mutations.forEach(function(B){return B.mutate(Q)}),YmA(Array.from(Q).filter(Boolean).join(" "),A)}function Ym3(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(Q,A)}function Jm3(A){var Q=A.originalValue;A.mutations.forEach(function(B){var G=function(Z){var Y=Z.insertBeforeSelector,J=document.querySelector(Z.parentSelector);if(!J)return null;var I=Y?document.querySelector(Y):null;return Y&&!I?null:{parentNode:J,insertBeforeNode:I}}(B.mutate());Q=G||Q}),YmA(Q,A)}var Im3=function(A){return A.innerHTML},Xm3=function(A,Q){return A.innerHTML=Q};function skQ(A){var Q=GmA(A);return Q.html||(Q.html=ZmA(A,"html",Im3,Xm3,Gm3)),Q.html}var Wm3=function(A){return{parentNode:A.parentElement,insertBeforeNode:A.nextElementSibling}},Km3=function(A,Q){Q.insertBeforeNode&&!Q.parentNode.contains(Q.insertBeforeNode)||Q.parentNode.insertBefore(A,Q.insertBeforeNode)};function tkQ(A){var Q=GmA(A);return Q.position||(Q.position=ZmA(A,"position",Wm3,Km3,Jm3)),Q.position}var euA,sHA,Vm3=function(A,Q){return Q?A.className=Q:A.removeAttribute("class")},Em3=function(A){return A.className};function ekQ(A){var Q=GmA(A);return Q.classes||(Q.classes=ZmA(A,"class",Em3,Vm3,Zm3)),Q.classes}function AfQ(A,Q){var B,G=GmA(A);return G.attributes[Q]||(G.attributes[Q]=ZmA(A,Q,(B=Q,function(Z){var Y;return(Y=Z.getAttribute(B))!=null?Y:null}),function(Z){return function(Y,J){return J!==null?Y.setAttribute(Z,J):Y.removeAttribute(Z)}}(Q),Ym3)),G.attributes[Q]}function AmA(A,Q,B){if(B.isDirty){B.isDirty=!1;var G=B.virtualValue;B.mutations.length||function(Z,Y){var J,I,X=BmA.get(Z);if(X)if(Y==="html")(J=X.html)==null||(I=J.observer)==null||I.disconnect(),delete X.html;else if(Y==="class"){var W,K;(W=X.classes)==null||(K=W.observer)==null||K.disconnect(),delete X.classes}else if(Y==="position"){var V,E;(V=X.position)==null||(E=V.observer)==null||E.disconnect(),delete X.position}else{var D,H,F;(D=X.attributes)==null||(H=D[Y])==null||(F=H.observer)==null||F.disconnect(),delete X.attributes[Y]}}(A,Q),B.setValue(A,G)}}function Dm3(A,Q){A.html&&AmA(Q,"html",A.html),A.classes&&AmA(Q,"class",A.classes),A.position&&AmA(Q,"position",A.position),Object.keys(A.attributes).forEach(function(B){AmA(Q,B,A.attributes[B])})}function nkQ(){BmA.forEach(Dm3)}function QfQ(A){if(A.kind!=="position"||A.elements.size!==1){var Q=new Set(A.elements);document.querySelectorAll(A.selector).forEach(function(B){Q.has(B)||(A.elements.add(B),function(G,Z){var Y=null;G.kind==="html"?Y=skQ(Z):G.kind==="class"?Y=ekQ(Z):G.kind==="attribute"?Y=AfQ(Z,G.attribute):G.kind==="position"&&(Y=tkQ(Z)),Y&&(Y.mutations.push(G),Y.mutationRunner(Y))}(A,B))})}}function akQ(){nT1.forEach(QfQ)}function BfQ(){typeof document<"u"&&(sHA||(sHA=new MutationObserver(function(){akQ()})),akQ(),sHA.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}function JmA(A){return typeof document>"u"?aT1:(nT1.add(A),QfQ(A),{revert:function(){var Q;(Q=A).elements.forEach(function(B){return function(G,Z){var Y=null;if(G.kind==="html"?Y=skQ(Z):G.kind==="class"?Y=ekQ(Z):G.kind==="attribute"?Y=AfQ(Z,G.attribute):G.kind==="position"&&(Y=tkQ(Z)),Y){var J=Y.mutations.indexOf(G);J!==-1&&Y.mutations.splice(J,1),Y.mutationRunner(Y)}}(Q,B)}),Q.elements.clear(),nT1.delete(Q)}})}function iT1(A,Q){return JmA({kind:"html",elements:new Set,mutate:Q,selector:A})}function okQ(A,Q){return JmA({kind:"position",elements:new Set,mutate:Q,selector:A})}function rHA(A,Q){return JmA({kind:"class",elements:new Set,mutate:Q,selector:A})}function QmA(A,Q,B){return rkQ.test(Q)?Q==="class"||Q==="className"?rHA(A,function(G){var Z=B(Array.from(G).join(" "));G.clear(),Z&&Z.split(/\s+/g).filter(Boolean).forEach(function(Y){return G.add(Y)})}):JmA({kind:"attribute",attribute:Q,elements:new Set,mutate:B,selector:A}):aT1}BfQ();var Hm3={html:iT1,classes:rHA,attribute:QmA,position:okQ,declarative:function(A){var{selector:Q,action:B,value:G,attribute:Z,parentSelector:Y,insertBeforeSelector:J}=A;if(Z==="html"){if(B==="append")return iT1(Q,function(I){return I+(G!=null?G:"")});if(B==="set")return iT1(Q,function(){return G!=null?G:""})}else if(Z==="class"){if(B==="append")return rHA(Q,function(I){G&&I.add(G)});if(B==="remove")return rHA(Q,function(I){G&&I.delete(G)});if(B==="set")return rHA(Q,function(I){I.clear(),G&&I.add(G)})}else if(Z==="position"){if(B==="set"&&Y)return okQ(Q,function(){return{insertBeforeSelector:J,parentSelector:Y}})}else{if(B==="append")return QmA(Q,Z,function(I){return I!==null?I+(G!=null?G:""):G!=null?G:""});if(B==="set")return QmA(Q,Z,function(){return G!=null?G:""});if(B==="remove")return QmA(Q,Z,function(){return null})}return aT1}};GfQ.connectGlobalObserver=BfQ,GfQ.default=Hm3,GfQ.disconnectGlobalObserver=function(){sHA&&sHA.disconnect()},GfQ.validAttributeName=rkQ});function fd(A,Q,B){B=B||{};for(let[G,Z]of Object.entries(Q))switch(G){case"$or":if(!YfQ(A,Z,B))return!1;break;case"$nor":if(YfQ(A,Z,B))return!1;break;case"$and":if(!wm3(A,Z,B))return!1;break;case"$not":if(fd(A,Z,B))return!1;break;default:if(!tHA(Z,Fm3(A,G),B))return!1}return!0}function Fm3(A,Q){let B=Q.split("."),G=A;for(let Z=0;Z<B.length;Z++)if(G&&typeof G==="object"&&B[Z]in G)G=G[B[Z]];else return null;return G}function Cm3(A){if(!oT1[A])oT1[A]=new RegExp(A.replace(/([^\\])\//g,"$1\\/"));return oT1[A]}function tHA(A,Q,B){if(typeof A==="string")return Q+""===A;if(typeof A==="number")return Q*1===A;if(typeof A==="boolean")return Q!==null&&!!Q===A;if(A===null)return Q===null;if(Array.isArray(A)||!JfQ(A))return JSON.stringify(Q)===JSON.stringify(A);for(let G in A)if(!$m3(G,Q,A[G],B))return!1;return!0}function JfQ(A){let Q=Object.keys(A);return Q.length>0&&Q.filter((B)=>B[0]==="$").length===Q.length}function zm3(A){if(A===null)return"null";if(Array.isArray(A))return"array";let Q=typeof A;if(["string","number","boolean","object","undefined"].includes(Q))return Q;return"unknown"}function Um3(A,Q,B){if(!Array.isArray(A))return!1;let G=JfQ(Q)?(Z)=>tHA(Q,Z,B):(Z)=>fd(Z,Q,B);for(let Z=0;Z<A.length;Z++)if(A[Z]&&G(A[Z]))return!0;return!1}function ImA(A,Q){if(Array.isArray(A))return A.some((B)=>Q.includes(B));return Q.includes(A)}function $m3(A,Q,B,G){switch(A){case"$veq":return Ew(Q)===Ew(B);case"$vne":return Ew(Q)!==Ew(B);case"$vgt":return Ew(Q)>Ew(B);case"$vgte":return Ew(Q)>=Ew(B);case"$vlt":return Ew(Q)<Ew(B);case"$vlte":return Ew(Q)<=Ew(B);case"$eq":return Q===B;case"$ne":return Q!==B;case"$lt":return Q<B;case"$lte":return Q<=B;case"$gt":return Q>B;case"$gte":return Q>=B;case"$exists":return B?Q!=null:Q==null;case"$in":if(!Array.isArray(B))return!1;return ImA(Q,B);case"$inGroup":return ImA(Q,G[B]||[]);case"$notInGroup":return!ImA(Q,G[B]||[]);case"$nin":if(!Array.isArray(B))return!1;return!ImA(Q,B);case"$not":return!tHA(B,Q,G);case"$size":if(!Array.isArray(Q))return!1;return tHA(B,Q.length,G);case"$elemMatch":return Um3(Q,B,G);case"$all":if(!Array.isArray(Q))return!1;for(let Z=0;Z<B.length;Z++){let Y=!1;for(let J=0;J<Q.length;J++)if(tHA(B[Z],Q[J],G)){Y=!0;break}if(!Y)return!1}return!0;case"$regex":try{return Cm3(B).test(Q)}catch(Z){return!1}case"$type":return zm3(Q)===B;default:return console.error("Unknown operator: "+A),!1}}function YfQ(A,Q,B){if(!Q.length)return!0;for(let G=0;G<Q.length;G++)if(fd(A,Q[G],B))return!0;return!1}function wm3(A,Q,B){for(let G=0;G<Q.length;G++)if(!fd(A,Q[G],B))return!1;return!0}var oT1;var IfQ=q(()=>{aHA();oT1={}});function Lm3(A){let Q=new Map;if(A.global.forcedFeatureValues)A.global.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));if(A.user.forcedFeatureValues)A.user.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));return Q}function Mm3(A){if(A.global.forcedVariations&&A.user.forcedVariations)return{...A.global.forcedVariations,...A.user.forcedVariations};else if(A.global.forcedVariations)return A.global.forcedVariations;else if(A.user.forcedVariations)return A.user.forcedVariations;else return{}}async function Z6A(A){try{await A()}catch(Q){}}function XfQ(A,Q,B){if(A.user.trackedExperiments){let Z=KmA(Q,B);if(A.user.trackedExperiments.has(Z))return[];A.user.trackedExperiments.add(Z)}if(A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({experiment:Q,result:B,timestamp:Date.now().toString(),logType:"experiment"});let G=[];if(A.global.trackingCallback){let Z=A.global.trackingCallback;G.push(Z6A(()=>Z(Q,B,A.user)))}if(A.user.trackingCallback){let Z=A.user.trackingCallback;G.push(Z6A(()=>Z(Q,B)))}if(A.global.eventLogger){let Z=A.global.eventLogger;G.push(Z6A(()=>Z(qm3,{experimentId:Q.key,variationId:B.key,hashAttribute:B.hashAttribute,hashValue:B.hashValue},A.user)))}return G}function Om3(A,Q,B){if(A.user.trackedFeatureUsage){let G=JSON.stringify(B.value);if(A.user.trackedFeatureUsage[Q]===G)return;if(A.user.trackedFeatureUsage[Q]=G,A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({featureKey:Q,result:B,timestamp:Date.now().toString(),logType:"feature"})}if(A.global.onFeatureUsage){let G=A.global.onFeatureUsage;Z6A(()=>G(Q,B,A.user))}if(A.user.onFeatureUsage){let G=A.user.onFeatureUsage;Z6A(()=>G(Q,B))}if(A.global.eventLogger){let G=A.global.eventLogger;Z6A(()=>G(Nm3,{feature:Q,source:B.source,value:B.value,ruleId:B.source==="defaultValue"?"$default":B.ruleId||"",variationId:B.experimentResult?B.experimentResult.key:""},A.user))}}function XmA(A,Q){if(Q.stack.evaluatedFeatures.has(A))return bd(Q,A,null,"cyclicPrerequisite");Q.stack.evaluatedFeatures.add(A),Q.stack.id=A;let B=Lm3(Q);if(B.has(A))return bd(Q,A,B.get(A),"override");if(!Q.global.features||!Q.global.features[A])return bd(Q,A,null,"unknownFeature");let G=Q.global.features[A];if(G.rules){let Z=new Set(Q.stack.evaluatedFeatures);A:for(let Y of G.rules){if(Y.parentConditions)for(let X of Y.parentConditions){Q.stack.evaluatedFeatures=new Set(Z);let W=XmA(X.id,Q);if(W.source==="cyclicPrerequisite")return bd(Q,A,null,"cyclicPrerequisite");let K={value:W.value};if(!fd(K,X.condition||{})){if(X.gate)return bd(Q,A,null,"prerequisite");continue A}}if(Y.filters&&VfQ(Y.filters,Q))continue;if("force"in Y){if(Y.condition&&!KfQ(Y.condition,Q))continue;if(!Rm3(Q,Y.seed||A,Y.hashAttribute,Q.user.saveStickyBucketAssignmentDoc&&!Y.disableStickyBucketing?Y.fallbackAttribute:void 0,Y.range,Y.coverage,Y.hashVersion))continue;if(Y.tracks)Y.tracks.forEach((X)=>{if(!XfQ(Q,X.experiment,X.result).length&&Q.global.saveDeferredTrack)Q.global.saveDeferredTrack({experiment:X.experiment,result:X.result})});return bd(Q,A,Y.force,"force",Y.id)}if(!Y.variations)continue;let J={variations:Y.variations,key:Y.key||A};if("coverage"in Y)J.coverage=Y.coverage;if(Y.weights)J.weights=Y.weights;if(Y.hashAttribute)J.hashAttribute=Y.hashAttribute;if(Y.fallbackAttribute)J.fallbackAttribute=Y.fallbackAttribute;if(Y.disableStickyBucketing)J.disableStickyBucketing=Y.disableStickyBucketing;if(Y.bucketVersion!==void 0)J.bucketVersion=Y.bucketVersion;if(Y.minBucketVersion!==void 0)J.minBucketVersion=Y.minBucketVersion;if(Y.namespace)J.namespace=Y.namespace;if(Y.meta)J.meta=Y.meta;if(Y.ranges)J.ranges=Y.ranges;if(Y.name)J.name=Y.name;if(Y.phase)J.phase=Y.phase;if(Y.seed)J.seed=Y.seed;if(Y.hashVersion)J.hashVersion=Y.hashVersion;if(Y.filters)J.filters=Y.filters;if(Y.condition)J.condition=Y.condition;let{result:I}=WmA(J,A,Q);if(Q.global.onExperimentEval&&Q.global.onExperimentEval(J,I),I.inExperiment&&!I.passthrough)return bd(Q,A,I.value,"experiment",Y.id,J,I)}}return bd(Q,A,G.defaultValue===void 0?null:G.defaultValue,"defaultValue")}function WmA(A,Q,B){let G=A.key,Z=A.variations.length;if(Z<2)return{result:hY(B,A,-1,!1,Q)};if(B.global.enabled===!1||B.user.enabled===!1)return{result:hY(B,A,-1,!1,Q)};if(A=_m3(A,B),A.urlPatterns&&!auA(B.user.url||"",A.urlPatterns))return{result:hY(B,A,-1,!1,Q)};let Y=vkQ(G,B.user.url||"",Z);if(Y!==null)return{result:hY(B,A,Y,!1,Q)};let J=Mm3(B);if(G in J){let C=J[G];return{result:hY(B,A,C,!1,Q)}}if(A.status==="draft"||A.active===!1)return{result:hY(B,A,-1,!1,Q)};let{hashAttribute:I,hashValue:X}=Ys(B,A.hashAttribute,B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing?A.fallbackAttribute:void 0);if(!X)return{result:hY(B,A,-1,!1,Q)};let W=-1,K=!1,V=!1;if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{variation:C,versionIsBlocked:$}=Pm3({ctx:B,expKey:A.key,expBucketVersion:A.bucketVersion,expHashAttribute:A.hashAttribute,expFallbackAttribute:A.fallbackAttribute,expMinBucketVersion:A.minBucketVersion,expMeta:A.meta});K=C>=0,W=C,V=!!$}if(!K){if(A.filters){if(VfQ(A.filters,B))return{result:hY(B,A,-1,!1,Q)}}else if(A.namespace&&!SkQ(X,A.namespace))return{result:hY(B,A,-1,!1,Q)};if(A.include&&!kkQ(A.include))return{result:hY(B,A,-1,!1,Q)};if(A.condition&&!KfQ(A.condition,B))return{result:hY(B,A,-1,!1,Q)};if(A.parentConditions){let C=new Set(B.stack.evaluatedFeatures);for(let $ of A.parentConditions){B.stack.evaluatedFeatures=new Set(C);let O=XmA($.id,B);if(O.source==="cyclicPrerequisite")return{result:hY(B,A,-1,!1,Q)};let M={value:O.value};if(!fd(M,$.condition||{}))return{result:hY(B,A,-1,!1,Q)}}}if(A.groups&&!jm3(A.groups,B))return{result:hY(B,A,-1,!1,Q)}}if(A.url&&!Tm3(A.url,B))return{result:hY(B,A,-1,!1,Q)};let E=iHA(A.seed||G,X,A.hashVersion||1);if(E===null)return{result:hY(B,A,-1,!1,Q)};if(!K){let C=A.ranges||ykQ(Z,A.coverage===void 0?1:A.coverage,A.weights);W=xkQ(E,C)}if(V)return{result:hY(B,A,-1,!1,Q,void 0,!0)};if(W<0)return{result:hY(B,A,-1,!1,Q)};if("force"in A)return{result:hY(B,A,A.force===void 0?-1:A.force,!1,Q)};if(B.global.qaMode||B.user.qaMode)return{result:hY(B,A,-1,!1,Q)};if(A.status==="stopped")return{result:hY(B,A,-1,!1,Q)};let D=hY(B,A,W,!0,Q,E,K);if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{changed:C,key:$,doc:O}=xm3(B,I,nHA(X),{[rT1(A.key,A.bucketVersion)]:D.key});if(C)B.user.stickyBucketAssignmentDocs=B.user.stickyBucketAssignmentDocs||{},B.user.stickyBucketAssignmentDocs[$]=O,B.user.saveStickyBucketAssignmentDoc(O)}let H=XfQ(B,A,D);if(H.length===0&&B.global.saveDeferredTrack)B.global.saveDeferredTrack({experiment:A,result:D});let F=!H.length?void 0:H.length===1?H[0]:Promise.all(H).then(()=>{});return"changeId"in A&&A.changeId&&B.global.recordChangeId&&B.global.recordChangeId(A.changeId),{result:D,trackingCall:F}}function bd(A,Q,B,G,Z,Y,J){let I={value:B,on:!!B,off:!B,source:G,ruleId:Z||""};if(Y)I.experiment=Y;if(J)I.experimentResult=J;if(G!=="override")Om3(A,Q,I);return I}function WfQ(A){return{...A.user.attributes,...A.user.attributeOverrides}}function KfQ(A,Q){return fd(WfQ(Q),A,Q.global.savedGroups||{})}function VfQ(A,Q){return A.some((B)=>{let{hashValue:G}=Ys(Q,B.attribute);if(!G)return!0;let Z=iHA(B.seed,G,B.hashVersion||2);if(Z===null)return!0;return!B.ranges.some((Y)=>nuA(Z,Y))})}function Rm3(A,Q,B,G,Z,Y,J){if(!Z&&Y===void 0)return!0;if(!Z&&Y===0)return!1;let{hashValue:I}=Ys(A,B,G);if(!I)return!1;let X=iHA(Q,I,J||1);if(X===null)return!1;return Z?nuA(X,Z):Y!==void 0?X<=Y:!0}function hY(A,Q,B,G,Z,Y,J){let I=!0;if(B<0||B>=Q.variations.length)B=0,I=!1;let{hashAttribute:X,hashValue:W}=Ys(A,Q.hashAttribute,A.user.saveStickyBucketAssignmentDoc&&!Q.disableStickyBucketing?Q.fallbackAttribute:void 0),K=Q.meta?Q.meta[B]:{},V={key:K.key||""+B,featureId:Z,inExperiment:I,hashUsed:G,variationId:B,value:Q.variations[B],hashAttribute:X,hashValue:W,stickyBucketUsed:!!J};if(K.name)V.name=K.name;if(Y!==void 0)V.bucket=Y;if(K.passthrough)V.passthrough=K.passthrough;return V}function _m3(A,Q){let B=A.key,G=Q.global.overrides;if(G&&G[B]){if(A=Object.assign({},A,G[B]),typeof A.url==="string")A.url=uT1(A.url)}return A}function Ys(A,Q,B){let G=Q||"id",Z="",Y=WfQ(A);if(Y[G])Z=Y[G];if(!Z&&B){if(Y[B])Z=Y[B];if(Z)G=B}return{hashAttribute:G,hashValue:Z}}function Tm3(A,Q){let B=Q.user.url;if(!B)return!1;let G=B.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");if(A.test(B))return!0;if(A.test(G))return!0;return!1}function jm3(A,Q){let B=Q.global.groups||{};for(let G=0;G<A.length;G++)if(B[A[G]])return!0;return!1}function Pm3(A){let{ctx:Q,expKey:B,expBucketVersion:G,expHashAttribute:Z,expFallbackAttribute:Y,expMinBucketVersion:J,expMeta:I}=A;G=G||0,J=J||0,Z=Z||"id",I=I||[];let X=rT1(B,G),W=Sm3(Q,Z,Y);if(J>0)for(let E=0;E<=J;E++){let D=rT1(B,E);if(W[D]!==void 0)return{variation:-1,versionIsBlocked:!0}}let K=W[X];if(K===void 0)return{variation:-1};let V=I.findIndex((E)=>E.key===K);if(V<0)return{variation:-1};return{variation:V}}function rT1(A,Q){return Q=Q||0,`${A}__${Q}`}function sT1(A,Q){return`${A}||${Q}`}function Sm3(A,Q,B){if(!A.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:G,hashValue:Z}=Ys(A,Q),Y=sT1(G,nHA(Z)),{hashAttribute:J,hashValue:I}=Ys(A,B),X=I?sT1(J,nHA(I)):null,W={};if(X&&A.user.stickyBucketAssignmentDocs[X])Object.assign(W,A.user.stickyBucketAssignmentDocs[X].assignments||{});if(A.user.stickyBucketAssignmentDocs[Y])Object.assign(W,A.user.stickyBucketAssignmentDocs[Y].assignments||{});return W}function xm3(A,Q,B,G){let Z=sT1(Q,B),Y=A.user.stickyBucketAssignmentDocs&&A.user.stickyBucketAssignmentDocs[Z]?A.user.stickyBucketAssignmentDocs[Z].assignments||{}:{},J={...Y,...G},I=JSON.stringify(Y)!==JSON.stringify(J);return{key:Z,doc:{attributeName:Q,attributeValue:B,assignments:J},changed:I}}function ym3(A,Q){let B=new Set,G=Q&&Q.features?Q.features:A.global.features||{},Z=Q&&Q.experiments?Q.experiments:A.global.experiments||[];return Object.keys(G).forEach((Y)=>{let J=G[Y];if(J.rules){for(let I of J.rules)if(I.variations){if(B.add(I.hashAttribute||"id"),I.fallbackAttribute)B.add(I.fallbackAttribute)}}}),Z.map((Y)=>{if(B.add(Y.hashAttribute||"id"),Y.fallbackAttribute)B.add(Y.fallbackAttribute)}),Array.from(B)}async function EfQ(A,Q,B){let G=tT1(A,B);return Q.getAllAssignments(G)}function tT1(A,Q){let B={};return ym3(A,Q).forEach((Z)=>{let{hashValue:Y}=Ys(A,Z);B[Z]=nHA(Y)}),B}async function DfQ(A,Q,B){if(A={...A},A.encryptedFeatures){try{A.features=JSON.parse(await Zs(A.encryptedFeatures,Q,B))}catch(G){console.error(G)}delete A.encryptedFeatures}if(A.encryptedExperiments){try{A.experiments=JSON.parse(await Zs(A.encryptedExperiments,Q,B))}catch(G){console.error(G)}delete A.encryptedExperiments}if(A.encryptedSavedGroups){try{A.savedGroups=JSON.parse(await Zs(A.encryptedSavedGroups,Q,B))}catch(G){console.error(G)}delete A.encryptedSavedGroups}return A}function HfQ(A){let Q=A.apiHost||"https://cdn.growthbook.io";return{apiHost:Q.replace(/\/*$/,""),streamingHost:(A.streamingHost||Q).replace(/\/*$/,""),apiRequestHeaders:A.apiHostRequestHeaders,streamingHostRequestHeaders:A.streamingHostRequestHeaders}}function KmA(A,Q){return Q.hashAttribute+Q.hashValue+A.key+Q.variationId}var Nm3="Feature Evaluated",qm3="Experiment Viewed";var FfQ=q(()=>{IfQ();aHA()});class VmA{constructor(A){if(A=A||{},this.version=vm3,this._options=this.context=A,this._renderer=A.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!A.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!A.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),A.remoteEval){if(A.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!A.clientKey)throw Error("Missing clientKey");let Q=!1;try{Q=!!new URL(A.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(B){}if(Q)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(A.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(A.stickyBucketService){let Q=A.stickyBucketService;this._saveStickyBucketAssignmentDoc=(B)=>{return Q.saveAssignments(B)}}if(A.plugins)for(let Q of A.plugins)Q(this);if(A.features)this.ready=!0;if(Y6A&&A.enableDevMode)window._growthbook=this,document.dispatchEvent(new Event("gbloaded"));if(A.experiments)this.ready=!0,this._updateAllAutoExperiments();if(this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let Q in this._options.stickyBucketAssignmentDocs){let B=this._options.stickyBucketAssignmentDocs[Q];if(B)this._options.stickyBucketService.saveAssignments(B).catch(()=>{})}if(this.ready)this.refreshStickyBuckets(this.getPayload())}async setPayload(A){this._payload=A;let Q=await DfQ(A,this._options.decryptionKey);if(this._decryptedPayload=Q,await this.refreshStickyBuckets(Q),Q.features)this._options.features=Q.features;if(Q.savedGroups)this._options.savedGroups=Q.savedGroups;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();this.ready=!0,this._render()}initSync(A){this._initialized=!0;let Q=A.payload;if(Q.encryptedExperiments||Q.encryptedFeatures)throw Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,Q);if(this._payload=Q,this._decryptedPayload=Q,Q.features)this._options.features=Q.features;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();return this.ready=!0,tuA(this,A),this}async init(A){if(this._initialized=!0,A=A||{},A.cacheSettings)ukQ(A.cacheSettings);if(A.payload)return await this.setPayload(A.payload),tuA(this,A),{success:!0,source:"init"};else{let{data:Q,...B}=await this._refresh({...A,allowStale:!0});return tuA(this,A),await this.setPayload(Q||{}),B}}async loadFeatures(A){A=A||{},await this.init({skipCache:A.skipCache,timeout:A.timeout,streaming:(this._options.backgroundSync??!0)&&(A.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(A){let Q=await this._refresh({...A||{},allowStale:!1});if(Q.data)await this.setPayload(Q.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return HfQ(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(A){let{timeout:Q,skipCache:B,allowStale:G,streaming:Z}=A;if(!this._options.clientKey)throw Error("Missing clientKey");return mkQ({instance:this,timeout:Q,skipCache:B||this._options.disableCache,allowStale:G,backgroundSync:Z??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(A){console.error("Failed to render",A)}}setFeatures(A){this._options.features=A,this.ready=!0,this._render()}async setEncryptedFeatures(A,Q,B){let G=await Zs(A,Q||this._options.decryptionKey,B);this.setFeatures(JSON.parse(G))}setExperiments(A){this._options.experiments=A,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(A,Q,B){let G=await Zs(A,Q||this._options.decryptionKey,B);this.setExperiments(JSON.parse(G))}async setAttributes(A){if(this._options.attributes=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(A){return this.setAttributes({...this._options.attributes,...A})}async setAttributeOverrides(A){if(this._options.attributeOverrides=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(A){if(this._options.forcedVariations=A||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(A){this._options.forcedFeatureValues=A,this._render()}async setURL(A){if(A===this._options.url)return;if(this._options.url=A,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(A){return this._subscriptions.add(A),()=>{this._subscriptions.delete(A)}}async _refreshForRemoteEval(){if(!this._options.remoteEval)return;if(!this._initialized)return;let A=await this._refresh({allowStale:!1});if(A.data)await this.setPayload(A.data)}getAllResults(){return new Map(this._assigned)}onDestroy(A){this._destroyCallbacks.push(A)}isDestroyed(){return!!this._destroyed}destroy(){if(this._destroyed=!0,this._destroyCallbacks.forEach((A)=>{try{A()}catch(Q){console.error(Q)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,dkQ(this),this.logs=[],Y6A&&window._growthbook===this)delete window._growthbook;this._activeAutoExperiments.forEach((A)=>{A.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(A){this._renderer=A}forceVariation(A,Q){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[A]=Q,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(A){let{result:Q}=WmA(A,null,this._getEvalContext());return this._fireSubscriptions(A,Q),Q}triggerExperiment(A){if(this._triggeredExpKeys.add(A),!this._options.experiments)return null;return this._options.experiments.filter((B)=>B.key===A).map((B)=>{return this._runAutoExperiment(B)}).filter((B)=>B!==null)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(A,Q){let B=this._activeAutoExperiments.get(A);if(A.manual&&!this._triggeredExpKeys.has(A.key)&&!B)return null;let G=this._isAutoExperimentBlockedByContext(A),Z,Y;if(G)Z=hY(this._getEvalContext(),A,-1,!1,"");else({result:Z,trackingCall:Y}=WmA(A,null,this._getEvalContext())),this._fireSubscriptions(A,Z);let J=JSON.stringify(Z.value);if(!Q&&Z.inExperiment&&B&&B.valueHash===J)return Z;if(B)this._undoActiveAutoExperiment(A);if(Z.inExperiment){let I=ouA(A);if(I==="redirect"&&Z.value.urlRedirect&&A.urlPatterns){let X=A.persistQueryString?bkQ(this._getContextUrl(),Z.value.urlRedirect):Z.value.urlRedirect;if(auA(X,A.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:A.key}),Z;this._redirectedUrl=X;let{navigate:W,delay:K}=this._getNavigateFunction();if(W)if(Y6A)Promise.all([...Y?[ruA(Y,this._options.maxNavigateDelay??1000)]:[],new Promise((V)=>window.setTimeout(V,this._options.navigateDelay??K))]).then(()=>{try{W(X)}catch(V){console.error(V)}});else try{W(X)}catch(V){console.error(V)}}else if(I==="visual"){let X=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(Z.value):this._applyDOMChanges(Z.value);if(X)this._activeAutoExperiments.set(A,{undo:X,valueHash:J})}}return Z}_undoActiveAutoExperiment(A){let Q=this._activeAutoExperiments.get(A);if(Q)Q.undo(),this._activeAutoExperiments.delete(A)}_updateAllAutoExperiments(A){if(!this._autoExperimentsAllowed)return;let Q=this._options.experiments||[],B=new Set(Q);this._activeAutoExperiments.forEach((G,Z)=>{if(!B.has(Z))G.undo(),this._activeAutoExperiments.delete(Z)});for(let G of Q){let Z=this._runAutoExperiment(G,A);if(Z!==null&&Z!==void 0&&Z.inExperiment&&ouA(G)==="redirect")break}}_fireSubscriptions(A,Q){let B=A.key,G=this._assigned.get(B);if(!G||G.result.inExperiment!==Q.inExperiment||G.result.variationId!==Q.variationId)this._assigned.set(B,{experiment:A,result:Q}),this._subscriptions.forEach((Z)=>{try{Z(A,Q)}catch(Y){console.error(Y)}})}_recordChangedId(A){this._completedChangeIds.add(A)}isOn(A){return this.evalFeature(A).on}isOff(A){return this.evalFeature(A).off}getFeatureValue(A,Q){let B=this.evalFeature(A).value;return B===null?Q:B}feature(A){return this.evalFeature(A)}evalFeature(A){return XmA(A,this._getEvalContext())}log(A,Q){if(!this.debug)return;if(this._options.log)this._options.log(A,Q);else console.log(A,Q)}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(A){this._deferredTrackingCalls=new Map(A.filter((Q)=>Q&&Q.experiment&&Q.result).map((Q)=>{return[KmA(Q.experiment,Q.result),Q]}))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let A=[];this._deferredTrackingCalls.forEach((Q)=>{if(!Q||!Q.experiment||!Q.result)console.error("Invalid deferred tracking call",{call:Q});else A.push(this._options.trackingCallback(Q.experiment,Q.result))}),this._deferredTrackingCalls.clear(),await Promise.all(A)}setTrackingCallback(A){this._options.trackingCallback=A,this.fireDeferredTrackingCalls()}setEventLogger(A){this._options.eventLogger=A}async logEvent(A,Q){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode)this.logs.push({eventName:A,properties:Q,timestamp:Date.now().toString(),logType:"event"});if(this._options.eventLogger)try{await this._options.eventLogger(A,Q||{},this._getUserContext())}catch(B){console.error(B)}else console.error("No event logger configured")}_saveDeferredTrack(A){this._deferredTrackingCalls.set(KmA(A.experiment,A.result),A)}_getContextUrl(){return this._options.url||(Y6A?window.location.href:"")}_isAutoExperimentBlockedByContext(A){let Q=ouA(A);if(Q==="visual"){if(this._options.disableVisualExperiments)return!0;if(this._options.disableJsInjection){if(A.variations.some((B)=>B.js))return!0}}else if(Q==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{let B=new URL(this._getContextUrl());for(let G of A.variations){if(!G||!G.urlRedirect)continue;let Z=new URL(G.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments){if(Z.protocol!==B.protocol)return!0;if(Z.host!==B.host)return!0}}}catch(B){return this.log("Error parsing current or redirect URL",{id:A.key,error:B}),!0}}else return!0;if(A.changeId&&(this._options.blockedChangeIds||[]).includes(A.changeId))return!0;return!1}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){if(this._options.navigate)return{navigate:this._options.navigate,delay:0};else if(Y6A)return{navigate:(A)=>{window.location.replace(A)},delay:100};return{navigate:null,delay:0}}_applyDOMChanges(A){if(!Y6A)return;let Q=[];if(A.css){let B=document.createElement("style");B.innerHTML=A.css,document.head.appendChild(B),Q.push(()=>B.remove())}if(A.js){let B=document.createElement("script");if(B.innerHTML=A.js,this._options.jsInjectionNonce)B.nonce=this._options.jsInjectionNonce;document.head.appendChild(B),Q.push(()=>B.remove())}if(A.domMutations)A.domMutations.forEach((B)=>{Q.push(CfQ.default.declarative(B).revert)});return()=>{Q.forEach((B)=>B())}}async refreshStickyBuckets(A){if(this._options.stickyBucketService){let Q=this._getEvalContext(),B=await EfQ(Q,this._options.stickyBucketService,A);this._options.stickyBucketAssignmentDocs=B}}generateStickyBucketAssignmentDocsSync(A,Q){if(!("getAllAssignmentsSync"in A)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let B=this._getEvalContext(),G=tT1(B,Q);return A.getAllAssignmentsSync(G)}inDevMode(){return!!this._options.enableDevMode}}var CfQ,Y6A,vm3;var zfQ=q(()=>{aHA();ikQ();FfQ();CfQ=o(ZfQ(),1),Y6A=typeof window<"u"&&typeof document<"u",vm3=fkQ()});var UfQ=q(()=>{zfQ()});function Aj1(A){let Q=HmA.get(A);if(Q)LfQ({experimentId:Q.experimentId,variationId:Q.variationId,userAttributes:$fQ(),experimentMetadata:{feature_id:A}})}function X6A(){return AFA()}function $fQ(){let A=MfQ();return{id:A.deviceId,sessionId:A.sessionId,deviceID:A.deviceId,...A.organizationUuid&&{organizationUUID:A.organizationUuid},...A.accountUuid&&{accountUUID:A.accountUuid},...A.userType&&{userType:A.userType},...A.subscriptionType&&{subscriptionType:A.subscriptionType},...A.firstTokenTime&&{firstTokenTime:A.firstTokenTime},...A.email&&{email:A.email},...A.appVersion&&{appVersion:A.appVersion},...A.githubActionsMetadata&&{githubActionsMetadata:A.githubActionsMetadata}}}async function km3(A,Q,B){if(!X6A())return Q;let G=await Js();if(!G)return Q;let Z=G.getFeatureValue(A,Q);if(B)Aj1(A);return Z}function eHA(A,Q){if(!X6A())return Q;if(fm3(A,Q),HmA.has(A))Aj1(A);else DmA.add(A);try{let B=c1().cachedGrowthBookFeatures?.[A];return B!==void 0?B:Q}catch{return Q}}async function fm3(A,Q){let B=await km3(A,Q,!1);if(c1().cachedGrowthBookFeatures?.[A]===B)return;i0((Z)=>({...Z,cachedGrowthBookFeatures:{...Z.cachedGrowthBookFeatures??{},[A]:B}}))}function wfQ(){if(!X6A())return;try{Qj1(),Js()}catch(A){r(A instanceof Error?A:Error(`GrowthBook: Force refresh failed: ${A}`))}}function Qj1(){qfQ(),sk?.destroy(),sk=null,eT1=!1,HmA.clear(),DmA.clear(),EmA.cache?.clear?.(),Js.cache?.clear?.()}async function hm3(){if(!X6A())return;try{let A=await Js();if(!A)return;await A.refreshFeatures();let Q=c1().cachedGrowthBookFeatures;if(Q){let B={...Q},G=!1;for(let Z of Object.keys(Q)){let Y=A.getFeatureValue(Z,void 0);if(Y!==void 0&&Y!==Q[Z])B[Z]=Y,G=!0}if(G)i0((Z)=>({...Z,cachedGrowthBookFeatures:B}))}}catch(A){r(A instanceof Error?A:Error(`GrowthBook: Light refresh failed: ${A}`))}}function NfQ(){if(!X6A())return;if(J6A)clearInterval(J6A);if(J6A=setInterval(()=>{hm3()},bm3),!I6A)I6A=()=>{qfQ()},process.on("beforeExit",I6A)}function qfQ(){if(J6A)clearInterval(J6A),J6A=null;if(I6A)process.removeListener("beforeExit",I6A),I6A=null}var sk=null,eT1=!1,HmA,DmA,EmA,Js,bm3=21600000,J6A=null,I6A=null;var Is=q(()=>{e3A();UfQ();tk();Q0();g1();QFA();vQ();rD();u0();HmA=new Map,DmA=new Set;EmA=Z0(()=>{if(!X6A())return null;let A=$fQ(),Q="https://api.anthropic.com/",G=tZ(!0)||I4()?AY():{headers:{},error:"trust not established"};eT1=!G.error,sk=new VmA({apiHost:Q,clientKey:Hh0,attributes:A,remoteEval:!0,cacheKeyAttributes:["id"],...G.error?{}:{apiHostRequestHeaders:G.headers},...{}});let Y=sk.init({timeout:5000}).then(async(J)=>{let I=sk?.getPayload();if(I?.features){let X={};for(let[W,K]of Object.entries(I.features)){let V=K;if("value"in V&&!("defaultValue"in V))X[W]={...V,defaultValue:V.value};else X[W]=V;if(V.source==="experiment"&&V.experimentResult){let{experimentResult:E,experiment:D}=V;if(D?.key&&E.variationId!==void 0)HmA.set(W,{experimentId:D.key,variationId:E.variationId})}}await sk?.setPayload({...I,features:X});for(let W of DmA)Aj1(W);DmA.clear()}}).catch((J)=>{});return process.on("beforeExit",()=>{sk?.destroy()}),process.on("exit",()=>{sk?.destroy()}),{client:sk,initialized:Y}}),Js=Z0(async()=>{let A=EmA();if(!A)return null;if(!eT1){if(tZ(!0)||I4()){if(!AY().error){if(EmA.cache?.clear?.(),Js.cache?.clear?.(),A=EmA(),!A)return null}}}return await A.initialized,A.client})});function mI(){return process.env.ANTHROPIC_SMALL_FAST_MODEL||ZFA()}function V6A(A){return A===bY().opus40||A===bY().opus41||A===bY().opus45}function FmA(A){return A.includes("opus")}function CmA(){let A,Q=qG1();if(Q!==void 0)A=Q;else{let B=CQ()||{};A=process.env.ANTHROPIC_MODEL||B.model||void 0}if(LB()&&!YL()&&A&&FmA(A))return;return A}function Ws(A={}){let Q=CmA();if(Q!==null&&Q!==void 0)return Q;let{forDisplay:B=!1}=A;return _fQ(B)}function c8(){let A=Ws();if(A!==void 0&&A!==null)return uI(A);return ek()}function hz(){if(process.env.ANTHROPIC_DEFAULT_SONNET_MODEL)return process.env.ANTHROPIC_DEFAULT_SONNET_MODEL;return bY().sonnet45}function BFA(){return c3()==="max"}function GFA(){return c3()==="team"}function RfQ(){return c3()==="pro"}function Ks(){if(process.env.ANTHROPIC_DEFAULT_OPUS_MODEL)return process.env.ANTHROPIC_DEFAULT_OPUS_MODEL;if(_3()==="firstParty")return bY().opus45;return bY().opus41}function ZFA(){if(process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL)return process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL;if(_3()==="firstParty"||_3()==="foundry")return bY().haiku45;return bY().haiku35}function zmA(){return u7("tengu_opus_default_pro_plan","opus_is_default",!1)}function Vs(A){let{permissionMode:Q,mainLoopModel:B,exceeds200kTokens:G=!1}=A;if(Ws()==="opusplan"&&Q==="plan"&&!G)return Ks();if(Ws()==="haiku"&&Q==="plan")return hz();return B}function Zj1(){if(!LB())return!1;let{hasAccess:A}=kd();if(!A)return!1;return u7("sonnet_1m_default","enabled",!1)}function _fQ(A){let Q=um3();if(Q!==null&&Q.name)return A?Q.displayName??Q.name:Q.name;if(Zj1())return"sonnet[1m]";return}function UmA(A={}){let{forDisplay:Q=!1}=A,B=_fQ(Q);if(B!==void 0)return B;if(BFA()||GFA())return Ks();if(RfQ()&&zmA())return Ks();return hz()}function ek(A={}){return uI(UmA(A))}function Vw(A){if(A.includes("claude-opus-4-5"))return"claude-opus-4-5";if(A.includes("claude-opus-4-1"))return"claude-opus-4-1";if(A.includes("claude-opus-4"))return"claude-opus-4";let Q=A.match(/(claude-(\d+-\d+-)?\w+)/);if(Q&&Q[1])return Q[1];return A}async function TfQ(){try{if(c1().claudeCodeFirstTokenDate!==void 0)return;let Q=AY();if(Q.error){r(Error(`Failed to get auth headers: ${Q.error}`));return}let G=`${k9().BASE_API_URL}/api/organization/claude_code_first_token_date`,Y=(await FQ.get(G,{headers:{...Q.headers,"User-Agent":gI()}})).data?.first_token_date??null;if(Y!==null){let J=new Date(Y).getTime();if(isNaN(J)){r(Error(`Received invalid first_token_date from API: ${Y}`));return}}i0((J)=>({...J,claudeCodeFirstTokenDate:Y}))}catch(A){r(A instanceof Error?A:Error(String(A)))}}function $mA(){if(Zj1())return"Sonnet 4.5 with 1M context ¬∑ Best for everyday tasks";if(BFA()||GFA())return"Opus 4.5 ¬∑ Most capable for complex work";if(RfQ()&&zmA())return"Opus 4.5 ¬∑ Most capable for complex work";return"Sonnet 4.5 ¬∑ Best for everyday tasks"}function mm3(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return tD(uI(A))}function jfQ(A){if(A==="opusplan")return"Opus Plan";if(Jj1(A))return A.charAt(0).toUpperCase()+A.slice(1);return tD(A)}function tD(A){if(A===bY().opus45)return"Opus 4.5";if(A===bY().opus41)return"Opus 4.1";if(A===bY().opus40)return"Opus 4";if(A===bY().sonnet45+"[1m]")return"Sonnet 4.5 (1M context)";if(A===bY().sonnet45)return"Sonnet 4.5";if(A===bY().sonnet40)return"Sonnet 4";if(A===bY().sonnet40+"[1m]")return"Sonnet 4 (1M context)";if(A===bY().sonnet37)return"Sonnet 3.7";if(A===bY().sonnet35)return"Sonnet 3.5";if(A===bY().haiku45)return"Haiku 4.5";if(A===bY().haiku35)return"Haiku 3.5";return A}function PfQ(A){let Q=tD(A);if(Q===A)return"Claude";return`Claude ${Q}`}function Xs(){if(LB()){if(!YL())return{value:null,label:"Sonnet",description:Yj1.description};return{value:null,label:"Default (recommended)",description:$mA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${mm3(UmA({forDisplay:!0}))}) ¬∑ ${vd(Qs)}`}}function pm3(){return ZFA()===bY().haiku45?yfQ:cm3}function am3(){let A=_3()==="firstParty"?yfQ:null;if(LB()){if(!YL())return[Xs(),Bj1];if(BFA()||GFA()){let G=[Xs(),im3];if(kd().hasAccess)G.push(OfQ);return G.push(Bj1),G}let B=[Xs(),lm3];if(Zj1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if(kd().hasAccess)B.push(OfQ);return B.push(Bj1),B}let Q=[Xs(),xfQ()];if(_3()!=="firstParty")Q.push(dm3());if(kd().hasAccess)Q.push(SfQ);if(A)Q.push(A);return Q}function wmA(){let A=am3(),Q=null,B=CmA(),G=wPA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,nm3()];if(!LB()&&Jj1(Q))if(Q==="sonnet")A.push(Yj1);else if(Q==="sonnet[1m]")A.push(SfQ);else if(Q==="opus")A.push(xfQ());else if(Q==="haiku")A.push(pm3());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Jj1(A){return W6A.includes(A)}function uI(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Jj1(Z))switch(Z){case"opusplan":return hz()+(G?"[1m]":"");case"sonnet":return hz()+(G?"[1m]":"");case"haiku":return ZFA()+(G?"[1m]":"");case"opus":return Ks();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function DL(A){if(A===null){if(LB()&&!YL())return`Sonnet (${Yj1.description})`;else if(LB())return`Default (${$mA()})`;return`Default (${ek({forDisplay:!0})})`}let Q=uI(A);return A===Q?Q:`${A} (${Q})`}function E6A(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;if(B)return uI(B);if(!A)return uI(Gj1);if(A==="inherit")return Vs({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return uI(A)}function NmA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function vfQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(YL())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function Af(A){return A.replace(/\[1m\]/gi,"")}var W6A,gm3,ryQ,K6A,Gj1="sonnet",um3,Yj1,SfQ,xfQ=()=>{let A=_3()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} ¬∑ ${A?"Legacy":"Most capable for complex work"} ¬∑ ${vd(A?vuA:kuA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},dm3=()=>{return{value:bY().opus45,label:"Opus 4.5",description:`Opus 4.5 ¬∑ Most capable for complex work ¬∑ ${vd(kuA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},yfQ,cm3,lm3,OfQ,im3,Bj1,nm3=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var d2=q(()=>{p2();vQ();u0();V2();b3A();qR1();buA();gB();w4();tk();m8();nJ();g1();rD();huA();hW();Is();W6A=["sonnet","opus","haiku","sonnet[1m]","opusplan"],gm3=yr,ryQ=gm3.firstParty,K6A=[...W6A,"inherit"];um3=Z0(()=>{return eHA("strawberry_granite_flag","N/A"),eHA("persimmon_marble_flag","N/A"),null});Yj1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 ¬∑ Best for everyday tasks ¬∑ ${vd(Qs)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},SfQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions ¬∑ ${vd(MT1)}`,descriptionForModel:"Sonnet 4.5 with 1M context window - for long sessions with large codebases"},yfQ={value:"haiku",label:"Haiku",description:`Haiku 4.5 ¬∑ Fastest for quick answers ¬∑ ${vd(RT1)}`,descriptionForModel:"Haiku 4.5 - fastest for quick answers. Lower cost but less capable than Sonnet 4.5."},cm3={value:"haiku",label:"Haiku",description:`Haiku 3.5 for simple tasks ¬∑ ${vd(OT1)}`,descriptionForModel:"Haiku 3.5 - faster and lower cost, but less capable than Sonnet. Use for simple tasks."};lm3={value:"opus",label:"Opus",description:"Opus 4.5 ¬∑ Most capable for complex work"},OfQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:"Sonnet 4.5 with 1M context ¬∑ Uses rate limits faster"},im3={value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 ¬∑ Best for everyday tasks"},Bj1={value:"haiku",label:"Haiku",description:"Haiku 4.5 ¬∑ Fastest for quick answers"}});async function sm3(){let[A,Q]=await Promise.all([QQ.getPackageManagers(),QQ.getRuntimes()]);return{platform:QQ.platform,arch:QQ.arch,nodeVersion:QQ.nodeVersion,terminal:bz.terminal,packageManagers:A.join(","),runtimes:Q.join(","),isRunningWithBun:QQ.isRunningWithBun(),isCi:C0(!1),isClaubbit:process.env.CLAUBBIT==="true",isClaudeCodeRemote:process.env.CLAUDE_CODE_REMOTE==="true",isConductor:QQ.isConductor(),...process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE&&{remoteEnvironmentType:process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE},...process.env.CLAUDE_CODE_CONTAINER_ID&&{claudeCodeContainerId:process.env.CLAUDE_CODE_CONTAINER_ID},...process.env.CLAUDE_CODE_REMOTE_SESSION_ID&&{claudeCodeRemoteSessionId:process.env.CLAUDE_CODE_REMOTE_SESSION_ID},...process.env.CLAUDE_CODE_TAGS&&{tags:process.env.CLAUDE_CODE_TAGS},isGithubAction:process.env.GITHUB_ACTIONS==="true",isClaudeCodeAction:process.env.CLAUDE_CODE_ACTION==="1"||process.env.CLAUDE_CODE_ACTION==="true",isClaudeAiAuth:LB(),version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION,versionBase:rm3(),buildTime:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.BUILD_TIME,deploymentEnvironment:QQ.detectDeploymentEnvironment(),...process.env.GITHUB_ACTIONS==="true"&&{githubEventName:process.env.GITHUB_EVENT_NAME,githubActionsRunnerEnvironment:process.env.RUNNER_ENVIRONMENT,githubActionsRunnerOs:process.env.RUNNER_OS,githubActionRef:process.env.GITHUB_ACTION_PATH?.includes("claude-code-action/")?process.env.GITHUB_ACTION_PATH.split("claude-code-action/")[1]:void 0},...Ao()&&{wslVersion:Ao()}}}function tm3(){return}async function hd(A={}){let Q=A.model?String(A.model):c8(),B=d$(Q),G=await sm3(),Z=tm3();return{model:Q,sessionId:W0(),userType:"external",...B.length>0?{betas:B.join(",")}:{},envContext:G,...process.env.CLAUDE_CODE_ENTRYPOINT&&{entrypoint:process.env.CLAUDE_CODE_ENTRYPOINT},...process.env.CLAUDE_AGENT_SDK_VERSION&&{agentSdkVersion:process.env.CLAUDE_AGENT_SDK_VERSION},isInteractive:String(PBA()),clientType:LPA(),...Z&&{processMetrics:Z},sweBenchRunId:process.env.SWE_BENCH_RUN_ID||"",sweBenchInstanceId:process.env.SWE_BENCH_INSTANCE_ID||"",sweBenchTaskId:process.env.SWE_BENCH_TASK_ID||""}}function kfQ(A,Q={}){let B={};for(let[G,Z]of Object.entries(Q))if(Z!==void 0)B[G]=String(Z);for(let[G,Z]of Object.entries(A)){if(Z===void 0)continue;if(G==="envContext")B.env=JSON.stringify(Z);else if(G==="processMetrics")B.process=JSON.stringify(Z);else B[G]=String(Z)}return B}function ffQ(A,Q={}){let{envContext:B,processMetrics:G,...Z}=A;return{...Q,...Z,env:B,...G&&{process:G},surface:om3}}function bfQ(A,Q,B={}){let{envContext:G,processMetrics:Z,...Y}=A,J={platform:G.platform,arch:G.arch,node_version:G.nodeVersion,terminal:G.terminal||"unknown",package_managers:G.packageManagers,runtimes:G.runtimes,is_running_with_bun:G.isRunningWithBun,is_ci:G.isCi,is_claubbit:G.isClaubbit,is_claude_code_remote:G.isClaudeCodeRemote,is_conductor:G.isConductor,is_github_action:G.isGithubAction,is_claude_code_action:G.isClaudeCodeAction,is_claude_ai_auth:G.isClaudeAiAuth,version:G.version,build_time:G.buildTime,deployment_environment:G.deploymentEnvironment};if(G.remoteEnvironmentType)J.remote_environment_type=G.remoteEnvironmentType;if(G.claudeCodeContainerId)J.claude_code_container_id=G.claudeCodeContainerId;if(G.claudeCodeRemoteSessionId)J.claude_code_remote_session_id=G.claudeCodeRemoteSessionId;if(G.tags)J.tags=G.tags.split(",").map((X)=>X.trim()).filter(Boolean);if(G.githubEventName)J.github_event_name=G.githubEventName;if(G.githubActionsRunnerEnvironment)J.github_actions_runner_environment=G.githubActionsRunnerEnvironment;if(G.githubActionsRunnerOs)J.github_actions_runner_os=G.githubActionsRunnerOs;if(G.githubActionRef)J.github_action_ref=G.githubActionRef;if(G.wslVersion)J.wsl_version=G.wslVersion;if(G.versionBase)J.version_base=G.versionBase;let I={session_id:Y.sessionId,model:Y.model,user_type:Y.userType,is_interactive:Y.isInteractive==="true",client_type:Y.clientType};if(Y.betas)I.betas=Y.betas;if(Y.entrypoint)I.entrypoint=Y.entrypoint;if(Y.agentSdkVersion)I.agent_sdk_version=Y.agentSdkVersion;if(Y.sweBenchRunId)I.swe_bench_run_id=Y.sweBenchRunId;if(Y.sweBenchInstanceId)I.swe_bench_instance_id=Y.sweBenchInstanceId;if(Y.sweBenchTaskId)I.swe_bench_task_id=Y.sweBenchTaskId;if(Q.githubActionsMetadata){let X=Q.githubActionsMetadata;J.github_actions_metadata={actor_id:X.actorId,repository_id:X.repositoryId,repository_owner_id:X.repositoryOwnerId}}return{env:J,...Z&&{process:JSON.stringify(Z)},core:I,additional:B}}var om3="claude-code",rm3;var D6A=q(()=>{p2();R8();er();Bk();d2();u0();sQ();V2();Z8();rm3=Z0(()=>{let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION.match(/^\d+\.\d+\.\d+(?:-[a-z]+)?/);return A?A[0]:void 0})});function em3(){return{seconds:0,nanos:0}}function hfQ(A){return A!==null&&A!==void 0}var YFA;var Ij1=q(()=>{YFA={fromJSON(A){return{seconds:hfQ(A.seconds)?globalThis.Number(A.seconds):0,nanos:hfQ(A.nanos)?globalThis.Number(A.nanos):0}},toJSON(A){let Q={};if(A.seconds!==void 0)Q.seconds=Math.round(A.seconds);if(A.nanos!==void 0)Q.nanos=Math.round(A.nanos);return Q},create(A){return YFA.fromPartial(A??{})},fromPartial(A){let Q=em3();return Q.seconds=A.seconds??0,Q.nanos=A.nanos??0,Q}}});function Ad3(){return{account_id:0,organization_uuid:"",account_uuid:""}}function Xj1(A){return A!==null&&A!==void 0}var Qf;var Wj1=q(()=>{Qf={fromJSON(A){return{account_id:Xj1(A.account_id)?globalThis.Number(A.account_id):0,organization_uuid:Xj1(A.organization_uuid)?globalThis.String(A.organization_uuid):"",account_uuid:Xj1(A.account_uuid)?globalThis.String(A.account_uuid):""}},toJSON(A){let Q={};if(A.account_id!==void 0)Q.account_id=Math.round(A.account_id);if(A.organization_uuid!==void 0)Q.organization_uuid=A.organization_uuid;if(A.account_uuid!==void 0)Q.account_uuid=A.account_uuid;return Q},create(A){return Qf.fromPartial(A??{})},fromPartial(A){let Q=Ad3();return Q.account_id=A.account_id??0,Q.organization_uuid=A.organization_uuid??"",Q.account_uuid=A.account_uuid??"",Q}}});function Qd3(){return{actor_id:"",repository_id:"",repository_owner_id:""}}function Bd3(){return{platform:"",node_version:"",terminal:"",package_managers:"",runtimes:"",is_running_with_bun:!1,is_ci:!1,is_claubbit:!1,is_github_action:!1,is_claude_code_action:!1,is_claude_ai_auth:!1,version:"",github_event_name:"",github_actions_runner_environment:"",github_actions_runner_os:"",github_action_ref:"",wsl_version:"",github_actions_metadata:void 0,arch:"",is_claude_code_remote:!1,remote_environment_type:"",claude_code_container_id:"",claude_code_remote_session_id:"",tags:[],deployment_environment:""}}function Gd3(){return{event_name:"",client_timestamp:void 0,model:"",session_id:"",user_type:"",betas:"",env:void 0,entrypoint:"",agent_sdk_version:"",is_interactive:!1,client_type:"",process:"",additional_metadata:"",auth:void 0,server_timestamp:void 0,event_id:"",device_id:"",swe_bench_run_id:"",swe_bench_instance_id:"",swe_bench_task_id:"",email:""}}function Zd3(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function gfQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Zd3(YFA.fromJSON(A))}function h4(A){return A!==null&&A!==void 0}var qmA,LmA,MmA;var ufQ=q(()=>{Ij1();Wj1();qmA={fromJSON(A){return{actor_id:h4(A.actor_id)?globalThis.String(A.actor_id):"",repository_id:h4(A.repository_id)?globalThis.String(A.repository_id):"",repository_owner_id:h4(A.repository_owner_id)?globalThis.String(A.repository_owner_id):""}},toJSON(A){let Q={};if(A.actor_id!==void 0)Q.actor_id=A.actor_id;if(A.repository_id!==void 0)Q.repository_id=A.repository_id;if(A.repository_owner_id!==void 0)Q.repository_owner_id=A.repository_owner_id;return Q},create(A){return qmA.fromPartial(A??{})},fromPartial(A){let Q=Qd3();return Q.actor_id=A.actor_id??"",Q.repository_id=A.repository_id??"",Q.repository_owner_id=A.repository_owner_id??"",Q}};LmA={fromJSON(A){return{platform:h4(A.platform)?globalThis.String(A.platform):"",node_version:h4(A.node_version)?globalThis.String(A.node_version):"",terminal:h4(A.terminal)?globalThis.String(A.terminal):"",package_managers:h4(A.package_managers)?globalThis.String(A.package_managers):"",runtimes:h4(A.runtimes)?globalThis.String(A.runtimes):"",is_running_with_bun:h4(A.is_running_with_bun)?globalThis.Boolean(A.is_running_with_bun):!1,is_ci:h4(A.is_ci)?globalThis.Boolean(A.is_ci):!1,is_claubbit:h4(A.is_claubbit)?globalThis.Boolean(A.is_claubbit):!1,is_github_action:h4(A.is_github_action)?globalThis.Boolean(A.is_github_action):!1,is_claude_code_action:h4(A.is_claude_code_action)?globalThis.Boolean(A.is_claude_code_action):!1,is_claude_ai_auth:h4(A.is_claude_ai_auth)?globalThis.Boolean(A.is_claude_ai_auth):!1,version:h4(A.version)?globalThis.String(A.version):"",github_event_name:h4(A.github_event_name)?globalThis.String(A.github_event_name):"",github_actions_runner_environment:h4(A.github_actions_runner_environment)?globalThis.String(A.github_actions_runner_environment):"",github_actions_runner_os:h4(A.github_actions_runner_os)?globalThis.String(A.github_actions_runner_os):"",github_action_ref:h4(A.github_action_ref)?globalThis.String(A.github_action_ref):"",wsl_version:h4(A.wsl_version)?globalThis.String(A.wsl_version):"",github_actions_metadata:h4(A.github_actions_metadata)?qmA.fromJSON(A.github_actions_metadata):void 0,arch:h4(A.arch)?globalThis.String(A.arch):"",is_claude_code_remote:h4(A.is_claude_code_remote)?globalThis.Boolean(A.is_claude_code_remote):!1,remote_environment_type:h4(A.remote_environment_type)?globalThis.String(A.remote_environment_type):"",claude_code_container_id:h4(A.claude_code_container_id)?globalThis.String(A.claude_code_container_id):"",claude_code_remote_session_id:h4(A.claude_code_remote_session_id)?globalThis.String(A.claude_code_remote_session_id):"",tags:globalThis.Array.isArray(A?.tags)?A.tags.map((Q)=>globalThis.String(Q)):[],deployment_environment:h4(A.deployment_environment)?globalThis.String(A.deployment_environment):""}},toJSON(A){let Q={};if(A.platform!==void 0)Q.platform=A.platform;if(A.node_version!==void 0)Q.node_version=A.node_version;if(A.terminal!==void 0)Q.terminal=A.terminal;if(A.package_managers!==void 0)Q.package_managers=A.package_managers;if(A.runtimes!==void 0)Q.runtimes=A.runtimes;if(A.is_running_with_bun!==void 0)Q.is_running_with_bun=A.is_running_with_bun;if(A.is_ci!==void 0)Q.is_ci=A.is_ci;if(A.is_claubbit!==void 0)Q.is_claubbit=A.is_claubbit;if(A.is_github_action!==void 0)Q.is_github_action=A.is_github_action;if(A.is_claude_code_action!==void 0)Q.is_claude_code_action=A.is_claude_code_action;if(A.is_claude_ai_auth!==void 0)Q.is_claude_ai_auth=A.is_claude_ai_auth;if(A.version!==void 0)Q.version=A.version;if(A.github_event_name!==void 0)Q.github_event_name=A.github_event_name;if(A.github_actions_runner_environment!==void 0)Q.github_actions_runner_environment=A.github_actions_runner_environment;if(A.github_actions_runner_os!==void 0)Q.github_actions_runner_os=A.github_actions_runner_os;if(A.github_action_ref!==void 0)Q.github_action_ref=A.github_action_ref;if(A.wsl_version!==void 0)Q.wsl_version=A.wsl_version;if(A.github_actions_metadata!==void 0)Q.github_actions_metadata=qmA.toJSON(A.github_actions_metadata);if(A.arch!==void 0)Q.arch=A.arch;if(A.is_claude_code_remote!==void 0)Q.is_claude_code_remote=A.is_claude_code_remote;if(A.remote_environment_type!==void 0)Q.remote_environment_type=A.remote_environment_type;if(A.claude_code_container_id!==void 0)Q.claude_code_container_id=A.claude_code_container_id;if(A.claude_code_remote_session_id!==void 0)Q.claude_code_remote_session_id=A.claude_code_remote_session_id;if(A.tags?.length)Q.tags=A.tags;if(A.deployment_environment!==void 0)Q.deployment_environment=A.deployment_environment;return Q},create(A){return LmA.fromPartial(A??{})},fromPartial(A){let Q=Bd3();return Q.platform=A.platform??"",Q.node_version=A.node_version??"",Q.terminal=A.terminal??"",Q.package_managers=A.package_managers??"",Q.runtimes=A.runtimes??"",Q.is_running_with_bun=A.is_running_with_bun??!1,Q.is_ci=A.is_ci??!1,Q.is_claubbit=A.is_claubbit??!1,Q.is_github_action=A.is_github_action??!1,Q.is_claude_code_action=A.is_claude_code_action??!1,Q.is_claude_ai_auth=A.is_claude_ai_auth??!1,Q.version=A.version??"",Q.github_event_name=A.github_event_name??"",Q.github_actions_runner_environment=A.github_actions_runner_environment??"",Q.github_actions_runner_os=A.github_actions_runner_os??"",Q.github_action_ref=A.github_action_ref??"",Q.wsl_version=A.wsl_version??"",Q.github_actions_metadata=A.github_actions_metadata!==void 0&&A.github_actions_metadata!==null?qmA.fromPartial(A.github_actions_metadata):void 0,Q.arch=A.arch??"",Q.is_claude_code_remote=A.is_claude_code_remote??!1,Q.remote_environment_type=A.remote_environment_type??"",Q.claude_code_container_id=A.claude_code_container_id??"",Q.claude_code_remote_session_id=A.claude_code_remote_session_id??"",Q.tags=A.tags?.map((B)=>B)||[],Q.deployment_environment=A.deployment_environment??"",Q}};MmA={fromJSON(A){return{event_name:h4(A.event_name)?globalThis.String(A.event_name):"",client_timestamp:h4(A.client_timestamp)?gfQ(A.client_timestamp):void 0,model:h4(A.model)?globalThis.String(A.model):"",session_id:h4(A.session_id)?globalThis.String(A.session_id):"",user_type:h4(A.user_type)?globalThis.String(A.user_type):"",betas:h4(A.betas)?globalThis.String(A.betas):"",env:h4(A.env)?LmA.fromJSON(A.env):void 0,entrypoint:h4(A.entrypoint)?globalThis.String(A.entrypoint):"",agent_sdk_version:h4(A.agent_sdk_version)?globalThis.String(A.agent_sdk_version):"",is_interactive:h4(A.is_interactive)?globalThis.Boolean(A.is_interactive):!1,client_type:h4(A.client_type)?globalThis.String(A.client_type):"",process:h4(A.process)?globalThis.String(A.process):"",additional_metadata:h4(A.additional_metadata)?globalThis.String(A.additional_metadata):"",auth:h4(A.auth)?Qf.fromJSON(A.auth):void 0,server_timestamp:h4(A.server_timestamp)?gfQ(A.server_timestamp):void 0,event_id:h4(A.event_id)?globalThis.String(A.event_id):"",device_id:h4(A.device_id)?globalThis.String(A.device_id):"",swe_bench_run_id:h4(A.swe_bench_run_id)?globalThis.String(A.swe_bench_run_id):"",swe_bench_instance_id:h4(A.swe_bench_instance_id)?globalThis.String(A.swe_bench_instance_id):"",swe_bench_task_id:h4(A.swe_bench_task_id)?globalThis.String(A.swe_bench_task_id):"",email:h4(A.email)?globalThis.String(A.email):""}},toJSON(A){let Q={};if(A.event_name!==void 0)Q.event_name=A.event_name;if(A.client_timestamp!==void 0)Q.client_timestamp=A.client_timestamp.toISOString();if(A.model!==void 0)Q.model=A.model;if(A.session_id!==void 0)Q.session_id=A.session_id;if(A.user_type!==void 0)Q.user_type=A.user_type;if(A.betas!==void 0)Q.betas=A.betas;if(A.env!==void 0)Q.env=LmA.toJSON(A.env);if(A.entrypoint!==void 0)Q.entrypoint=A.entrypoint;if(A.agent_sdk_version!==void 0)Q.agent_sdk_version=A.agent_sdk_version;if(A.is_interactive!==void 0)Q.is_interactive=A.is_interactive;if(A.client_type!==void 0)Q.client_type=A.client_type;if(A.process!==void 0)Q.process=A.process;if(A.additional_metadata!==void 0)Q.additional_metadata=A.additional_metadata;if(A.auth!==void 0)Q.auth=Qf.toJSON(A.auth);if(A.server_timestamp!==void 0)Q.server_timestamp=A.server_timestamp.toISOString();if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.swe_bench_run_id!==void 0)Q.swe_bench_run_id=A.swe_bench_run_id;if(A.swe_bench_instance_id!==void 0)Q.swe_bench_instance_id=A.swe_bench_instance_id;if(A.swe_bench_task_id!==void 0)Q.swe_bench_task_id=A.swe_bench_task_id;if(A.email!==void 0)Q.email=A.email;return Q},create(A){return MmA.fromPartial(A??{})},fromPartial(A){let Q=Gd3();return Q.event_name=A.event_name??"",Q.client_timestamp=A.client_timestamp??void 0,Q.model=A.model??"",Q.session_id=A.session_id??"",Q.user_type=A.user_type??"",Q.betas=A.betas??"",Q.env=A.env!==void 0&&A.env!==null?LmA.fromPartial(A.env):void 0,Q.entrypoint=A.entrypoint??"",Q.agent_sdk_version=A.agent_sdk_version??"",Q.is_interactive=A.is_interactive??!1,Q.client_type=A.client_type??"",Q.process=A.process??"",Q.additional_metadata=A.additional_metadata??"",Q.auth=A.auth!==void 0&&A.auth!==null?Qf.fromPartial(A.auth):void 0,Q.server_timestamp=A.server_timestamp??void 0,Q.event_id=A.event_id??"",Q.device_id=A.device_id??"",Q.swe_bench_run_id=A.swe_bench_run_id??"",Q.swe_bench_instance_id=A.swe_bench_instance_id??"",Q.swe_bench_task_id=A.swe_bench_task_id??"",Q.email=A.email??"",Q}}});function Yd3(){return{event_id:"",event_timestamp:void 0,timestamp:void 0,experiment_id:"",variation_id:0,environment:"",user_attributes:"",experiment_metadata:"",device_id:"",auth:void 0,session_id:""}}function Jd3(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function mfQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Jd3(YFA.fromJSON(A))}function jR(A){return A!==null&&A!==void 0}var Kj1;var dfQ=q(()=>{Ij1();Wj1();Kj1={fromJSON(A){return{event_id:jR(A.event_id)?globalThis.String(A.event_id):"",event_timestamp:jR(A.event_timestamp)?mfQ(A.event_timestamp):void 0,timestamp:jR(A.timestamp)?mfQ(A.timestamp):void 0,experiment_id:jR(A.experiment_id)?globalThis.String(A.experiment_id):"",variation_id:jR(A.variation_id)?globalThis.Number(A.variation_id):0,environment:jR(A.environment)?globalThis.String(A.environment):"",user_attributes:jR(A.user_attributes)?globalThis.String(A.user_attributes):"",experiment_metadata:jR(A.experiment_metadata)?globalThis.String(A.experiment_metadata):"",device_id:jR(A.device_id)?globalThis.String(A.device_id):"",auth:jR(A.auth)?Qf.fromJSON(A.auth):void 0,session_id:jR(A.session_id)?globalThis.String(A.session_id):""}},toJSON(A){let Q={};if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.event_timestamp!==void 0)Q.event_timestamp=A.event_timestamp.toISOString();if(A.timestamp!==void 0)Q.timestamp=A.timestamp.toISOString();if(A.experiment_id!==void 0)Q.experiment_id=A.experiment_id;if(A.variation_id!==void 0)Q.variation_id=Math.round(A.variation_id);if(A.environment!==void 0)Q.environment=A.environment;if(A.user_attributes!==void 0)Q.user_attributes=A.user_attributes;if(A.experiment_metadata!==void 0)Q.experiment_metadata=A.experiment_metadata;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.auth!==void 0)Q.auth=Qf.toJSON(A.auth);if(A.session_id!==void 0)Q.session_id=A.session_id;return Q},create(A){return Kj1.fromPartial(A??{})},fromPartial(A){let Q=Yd3();return Q.event_id=A.event_id??"",Q.event_timestamp=A.event_timestamp??void 0,Q.timestamp=A.timestamp??void 0,Q.experiment_id=A.experiment_id??"",Q.variation_id=A.variation_id??0,Q.environment=A.environment??"",Q.user_attributes=A.user_attributes??"",Q.experiment_metadata=A.experiment_metadata??"",Q.device_id=A.device_id??"",Q.auth=A.auth!==void 0&&A.auth!==null?Qf.fromPartial(A.auth):void 0,Q.session_id=A.session_id??"",Q}}});import{randomUUID as Id3}from"crypto";import{existsSync as JFA,readFileSync as Xd3,writeFileSync as Wd3,unlinkSync as cfQ,readdirSync as Kd3,mkdirSync as Vd3}from"fs";import*as OmA from"path";function H6A(){return OmA.join(uQ(),"telemetry")}class Vj1{endpoint;timeout;maxQueuedEvents;maxBatchSize;batchDelayMs;baseBackoffDelayMs;maxBackoffDelayMs;pendingExports=[];isShutdown=!1;backoffRetryTimer=null;backoffAttempt=0;isRetrying=!1;constructor(A={}){let Q=process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com";this.endpoint=`${Q}/api/event_logging/batch`,this.timeout=A.timeout||1e4,this.maxQueuedEvents=A.maxQueuedEvents||8192,this.maxBatchSize=A.maxBatchSize||200,this.batchDelayMs=A.batchDelayMs||100,this.baseBackoffDelayMs=A.baseBackoffDelayMs||500,this.maxBackoffDelayMs=A.maxBackoffDelayMs||30000,this.retryPreviousBatches()}getQueuedEventCount(){return this.loadEventsFromCurrentBatch().length}getCurrentBatchFilePath(){return OmA.join(H6A(),`${lfQ}${W0()}.${pfQ}.json`)}loadEventsFromFile(A){try{if(!JFA(A))return[];let Q=Xd3(A,"utf8");return JSON.parse(Q)}catch{return[]}}loadEventsFromCurrentBatch(){return this.loadEventsFromFile(this.getCurrentBatchFilePath())}saveEventsToFile(A,Q){try{if(Q.length===0){if(JFA(A))cfQ(A)}else{if(!JFA(H6A()))Vd3(H6A(),{recursive:!0});Wd3(A,JSON.stringify(Q),"utf8")}}catch(B){r(B)}}deleteFile(A){try{if(JFA(A))cfQ(A)}catch(Q){r(Q)}}retryPreviousBatches(){try{if(!JFA(H6A()))return;let A=`${lfQ}${W0()}.`,Q=Kd3(H6A()).filter((B)=>B.startsWith(A)&&B.endsWith(".json")).filter((B)=>!B.includes(pfQ));for(let B of Q){let G=OmA.join(H6A(),B);this.retryFileInBackground(G)}}catch(A){r(A)}}async retryFileInBackground(A){let Q=this.loadEventsFromFile(A);if(Q.length===0){this.deleteFile(A);return}if((await this.sendEventsInBatches(Q)).length===0)this.deleteFile(A)}async export(A,Q){if(this.isShutdown){Q({code:Es.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}let B=this.doExport(A,Q);this.pendingExports.push(B),B.finally(()=>{let G=this.pendingExports.indexOf(B);if(G>-1)this.pendingExports.splice(G,1)})}async doExport(A,Q){try{let B=A.filter((Y)=>Y.instrumentationScope?.name==="com.anthropic.claude_code.events");if(B.length===0){Q({code:Es.ExportResultCode.SUCCESS});return}let G=this.transformLogsToEvents(B).events;if(G.length===0){Q({code:Es.ExportResultCode.SUCCESS});return}let Z=await this.sendEventsInBatches(G);if(Z.length>0){this.queueFailedEvents(Z),this.scheduleBackoffRetry(),Q({code:Es.ExportResultCode.FAILED,error:Error(`Failed to export ${Z.length} events`)});return}if(this.resetBackoff(),this.getQueuedEventCount()>0&&!this.isRetrying)this.retryFailedEvents();Q({code:Es.ExportResultCode.SUCCESS})}catch(B){r(B),Q({code:Es.ExportResultCode.FAILED,error:B instanceof Error?B:Error("Unknown export error")})}}async sendEventsInBatches(A){let Q=[];for(let G=0;G<A.length;G+=this.maxBatchSize)Q.push(A.slice(G,G+this.maxBatchSize));let B=[];for(let G=0;G<Q.length;G++){let Z=Q[G];try{await this.sendBatchWithRetry({events:Z})}catch{B.push(...Z)}if(G<Q.length-1&&this.batchDelayMs>0)await new Promise((Y)=>setTimeout(Y,this.batchDelayMs))}return B}queueFailedEvents(A){let Q=this.getCurrentBatchFilePath(),G=[...this.loadEventsFromFile(Q),...A],Z=G.slice(-this.maxQueuedEvents);G.length-Z.length>0,this.saveEventsToFile(Q,Z),r(Error(`1P event logging: ${A.length} events failed to export`))}scheduleBackoffRetry(){if(this.backoffRetryTimer||this.isRetrying||this.isShutdown)return;let A=this.backoffAttempt+1,Q=Math.min(this.baseBackoffDelayMs*A*A,this.maxBackoffDelayMs);this.backoffRetryTimer=setTimeout(()=>{this.backoffRetryTimer=null,this.retryFailedEvents()},Q)}async retryFailedEvents(){let A=this.getCurrentBatchFilePath();while(!this.isShutdown){let Q=this.loadEventsFromFile(A);if(Q.length===0)break;this.isRetrying=!0,this.backoffAttempt++,this.deleteFile(A);let B=await this.sendEventsInBatches(Q);if(this.isRetrying=!1,B.length>0){this.saveEventsToFile(A,B),this.scheduleBackoffRetry();return}this.resetBackoff()}}resetBackoff(){if(this.backoffAttempt=0,this.backoffRetryTimer)clearTimeout(this.backoffRetryTimer),this.backoffRetryTimer=null}async sendBatchWithRetry(A){let Q={"Content-Type":"application/json","User-Agent":gI(),"x-service-name":"claude-code"},G=!(tZ(!0)||I4());if(!G&&LB()){let I=r3();if(I&&qm(I.expiresAt))G=!0}let Z=G?{headers:{},error:"trust not established or Oauth token expired"}:AY(),Y=!Z.error,J=Y?{...Q,...Z.headers}:Q;try{let I=await FQ.post(this.endpoint,A,{timeout:this.timeout,headers:J});this.logSuccess(A.events.length,Y,I.data);return}catch(I){if(Y&&FQ.isAxiosError(I)&&I.response?.status===401){let X=await FQ.post(this.endpoint,A,{timeout:this.timeout,headers:Q});this.logSuccess(A.events.length,!1,X.data);return}throw I}}logSuccess(A,Q,B){}hrTimeToDate(A){let[Q,B]=A;return new Date(Q*1000+B/1e6)}transformLogsToEvents(A){let Q=[];for(let B of A){let G=B.attributes||{};if(G.event_type==="GrowthbookExperimentEvent"){let K=this.hrTimeToDate(B.hrTime);Q.push({event_type:"GrowthbookExperimentEvent",event_data:Kj1.toJSON({event_id:G.event_id,event_timestamp:K,timestamp:K,experiment_id:G.experiment_id,variation_id:G.variation_id,environment:G.environment,user_attributes:G.user_attributes,experiment_metadata:G.experiment_metadata,device_id:G.device_id})});continue}let Z=G.event_name||B.body||"unknown",Y=G.core_metadata,J=G.user_metadata,I=G.event_metadata||{};if(!Y){Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),session_id:W0(),additional_metadata:JSON.stringify({transform_error:"core_metadata attribute is missing"})})});continue}let X=bfQ(Y,J,I),W={...X.additional};Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),device_id:G.user_id,email:J?.email,...X.core,env:X.env,process:X.process,additional_metadata:Object.keys(W).length>0?JSON.stringify(W):void 0})})}return{events:Q}}async shutdown(){this.isShutdown=!0,this.resetBackoff(),await this.forceFlush()}async forceFlush(){await Promise.all(this.pendingExports)}}var Es,pfQ,lfQ="1p_failed_events.";var ifQ=q(()=>{m8();Q0();g1();rD();V2();qq();D6A();u0();vQ();ufQ();dfQ();sQ();Es=o(J8(),1),pfQ=Id3()});import{randomUUID as nfQ}from"crypto";function Dd3(){return rfQ(Ed3,{})}function Ej1(A){let B=Dd3()[A];if(!B)return null;let G=B.sample_rate;if(typeof G!=="number"||G<0||G>1)return null;if(G>=1)return null;if(G<=0)return 0;return Math.random()<G?G:0}async function Dj1(){if(!F6A)return;try{await F6A.shutdown()}catch{}}function AFA(){if(iX())return!1;return zG("tengu_log_1p_events")}async function Hd3(A,Q,B={}){try{let G=await hd({model:B.model}),Z={event_name:Q,event_id:nfQ(),core_metadata:G,user_metadata:Ds(!0),event_metadata:B},Y=Bf();if(Y)Z.user_id=Y;A.emit({body:Q,attributes:Z})}catch(G){}}function Hj1(A,Q={}){if(!AFA())return;if(!IFA)return;Hd3(IFA,A,Q)}function Fd3(){return"production"}function LfQ(A){if(!AFA())return;if(!IFA)return;let Q=Bf(),B={event_type:"GrowthbookExperimentEvent",event_id:nfQ(),experiment_id:A.experimentId,variation_id:A.variationId,...Q&&{device_id:Q},...A.userAttributes&&{session_id:A.userAttributes.sessionId,user_attributes:JSON.stringify(A.userAttributes)},...A.experimentMetadata&&{experiment_metadata:JSON.stringify(A.experimentMetadata)},environment:Fd3()};IFA.emit({body:"growthbook_experiment",attributes:B})}function ofQ(){if(w9("1p_event_logging_start"),!AFA())return;let Q=C6A("tengu_1p_event_batch_config",{});w9("1p_event_after_statsig_config");let B=Q.scheduledDelayMillis||parseInt(process.env.OTEL_LOGS_EXPORT_INTERVAL||Cd3.toString()),G=Q.maxExportBatchSize||zd3,Z=Q.maxQueueSize||Ud3,Y=pQ(),J={[_mA.ATTR_SERVICE_NAME]:"claude-code",[_mA.ATTR_SERVICE_VERSION]:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION};if(Y==="wsl"){let W=Ao();if(W)J["wsl.version"]=W}let I=afQ.resourceFromAttributes(J),X=new Vj1({maxQueuedEvents:Z,maxBatchSize:G});F6A=new RmA.LoggerProvider({resource:I,processors:[new RmA.BatchLogRecordProcessor(X,{scheduledDelayMillis:B,maxExportBatchSize:G,maxQueueSize:Z})]}),IFA=F6A.getLogger("com.anthropic.claude_code.events",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION),O8(async()=>{await F6A?.forceFlush()}),process.on("beforeExit",async()=>{await F6A?.forceFlush()})}var RmA,afQ,_mA,Ed3="tengu_event_sampling_config",IFA=null,F6A=null,Cd3=5000,zd3=200,Ud3=8192;var QFA=q(()=>{vQ();w4();br();ifQ();Z8();fW();D6A();Q0();da();g1();tk();RmA=o(wT1(),1),afQ=o(n3A(),1),_mA=o(nr(),1)});var BbQ=w((g87,QbQ)=>{var AbQ=qA("child_process"),sfQ=AbQ.spawn,$d3=AbQ.exec;QbQ.exports=function(A,Q,B){if(typeof Q==="function"&&B===void 0)B=Q,Q=void 0;if(A=parseInt(A),Number.isNaN(A))if(B)return B(Error("pid must be a number"));else throw Error("pid must be a number");var G={},Z={};switch(G[A]=[],Z[A]=1,process.platform){case"win32":$d3("taskkill /pid "+A+" /T /F",B);break;case"darwin":Fj1(A,G,Z,function(Y){return sfQ("pgrep",["-P",Y])},function(){tfQ(G,Q,B)});break;default:Fj1(A,G,Z,function(Y){return sfQ("ps",["-o","pid","--no-headers","--ppid",Y])},function(){tfQ(G,Q,B)});break}};function tfQ(A,Q,B){var G={};try{Object.keys(A).forEach(function(Z){if(A[Z].forEach(function(Y){if(!G[Y])efQ(Y,Q),G[Y]=1}),!G[Z])efQ(Z,Q),G[Z]=1})}catch(Z){if(B)return B(Z);else throw Z}if(B)return B()}function efQ(A,Q){try{process.kill(parseInt(A,10),Q)}catch(B){if(B.code!=="ESRCH")throw B}}function Fj1(A,Q,B,G,Z){var Y=G(A),J="";Y.stdout.on("data",function(W){var W=W.toString("ascii");J+=W});var I=function(X){if(delete B[A],X!=0){if(Object.keys(B).length==0)Z();return}J.match(/\d+/g).forEach(function(W){W=parseInt(W,10),Q[A].push(W),Q[W]=[],B[W]=1,Fj1(W,Q,B,G,Z)})};Y.on("close",I)}});class XFA{capacity;buffer;head=0;size=0;constructor(A){this.capacity=A;this.buffer=Array(A)}add(A){if(this.buffer[this.head]=A,this.head=(this.head+1)%this.capacity,this.size<this.capacity)this.size++}addAll(A){for(let Q of A)this.add(Q)}getRecent(A){let Q=[],B=this.size<this.capacity?0:this.head,G=Math.min(A,this.size);for(let Z=0;Z<G;Z++){let Y=(B+this.size-G+Z)%this.capacity;Q.push(this.buffer[Y])}return Q}toArray(){if(this.size===0)return[];let A=[],Q=this.size<this.capacity?0:this.head;for(let B=0;B<this.size;B++){let G=(Q+B)%this.capacity;A.push(this.buffer[G])}return A}clear(){this.head=0,this.size=0}length(){return this.size}}function Cj1(A,Q=",",B=67108736){let Z="";for(let Y of A){let J=Z?Q:"",I=J+Y;if(Z.length+I.length<=B)Z+=I;else{let X=B-Z.length-J.length-14;if(X>0)Z+=J+Y.slice(0,X)+"...[truncated]";else Z+="...[truncated]";return Z}}return Z}class z6A{maxSize;content="";isTruncated=!1;totalBytesReceived=0;constructor(A=67108736){this.maxSize=A}append(A){let Q=typeof A==="string"?A:A.toString();if(this.totalBytesReceived+=Q.length,this.isTruncated&&this.content.length>=this.maxSize)return;if(this.content.length+Q.length>this.maxSize){let B=this.maxSize-this.content.length;if(B>0)this.content+=Q.slice(0,B);this.isTruncated=!0}else this.content+=Q}toString(){if(!this.isTruncated)return this.content;let A=this.totalBytesReceived-this.maxSize,Q=Math.round(A/1024);return this.content+`
bundles/ClaudeAgentSDKCode/cli.js:348:`;if(K)G=W;Q.push(new sdA(J,X,I(X),K))}}return Q}getWrappedText(){return this.wrappedLines.map((A)=>A.isPrecededByNewline?A.text:A.text.trimStart())}getWrappedLines(){return this.wrappedLines}getLine(A){let Q=this.wrappedLines;return Q[Math.max(0,Math.min(A,Q.length-1))]}getOffsetFromPosition(A){let Q=this.getLine(A.line);if(Q.text.length===0&&Q.endsWithNewline)return Q.startOffset;let B=Q.isPrecededByNewline?0:Q.text.length-Q.text.trimStart().length,G=A.column+B,Z=this.displayWidthToStringIndex(Q.text,G),Y=Q.startOffset+Z,J=Q.startOffset+Q.text.length,I=J,X=RZ(Q.text);if(Q.endsWithNewline&&A.column>X)I=J+1;return Math.min(Y,I)}getLineLength(A){let Q=this.getLine(A);return RZ(Q.text)}getPositionFromOffset(A){let Q=this.wrappedLines;for(let Z=0;Z<Q.length;Z++){let Y=Q[Z],J=Q[Z+1];if(A>=Y.startOffset&&(!J||A<J.startOffset)){let I=A-Y.startOffset,X;if(Y.isPrecededByNewline)X=this.stringIndexToDisplayWidth(Y.text,I);else{let W=Y.text.length-Y.text.trimStart().length;if(I<W)X=0;else{let K=Y.text.trimStart(),V=I-W;X=this.stringIndexToDisplayWidth(K,V)}}return{line:Z,column:Math.max(0,X)}}}let B=Q.length-1,G=this.wrappedLines[B];return{line:B,column:RZ(G.text)}}get lineCount(){return this.wrappedLines.length}withCache(A,Q){let B=this.navigationCache.get(A);if(B!==void 0)return B;let G=Q();return this.navigationCache.set(A,G),G}nextOffset(A){return this.withCache(`next:${A}`,()=>{let Q=this.getGraphemeBoundaries();return this.binarySearchBoundary(Q,A,!0)})}prevOffset(A){if(A<=0)return 0;return this.withCache(`prev:${A}`,()=>{let Q=this.getGraphemeBoundaries();return this.binarySearchBoundary(Q,A,!1)})}}var rdA="",TS1=!1,jS1;var PS1=q(()=>{sj1();O6A();jS1=new Intl.Segmenter(void 0,{granularity:"grapheme"})});var WdQ={};FG(WdQ,{sharp:()=>XdQ,default:()=>mi3});function XdQ(A){let Q=null,B=[];async function G(){if(!Q)Q=(async()=>{if(!AcA)throw Error("Native image processor module not available");let{processImage:Y}=AcA,J=await Y(A);for(let I of B)I(J);return J})();return Q}let Z={async metadata(){return(await G()).metadata()},resize(Y,J,I){return B.push((X)=>{X.resize(Y,J,I)}),Z},jpeg(Y){return B.push((J)=>{J.jpeg(Y?.quality)}),Z},png(Y){return B.push((J)=>{J.png(Y)}),Z},webp(Y){return B.push((J)=>{J.webp(Y?.quality)}),Z},async toBuffer(){return(await G()).toBuffer()}};return Z}var AcA,mi3;var KdQ=q(()=>{try{AcA=(()=>{throw new Error("Cannot require module "+"../../image-processor.node");})()}catch(A){AcA=null}mi3=XdQ});var IS=w((BX7,EdQ)=>{var VdQ=function(A){return typeof A<"u"&&A!==null},di3=function(A){return typeof A==="object"},ci3=function(A){return Object.prototype.toString.call(A)==="[object Object]"},pi3=function(A){return typeof A==="function"},li3=function(A){return typeof A==="boolean"},ii3=function(A){return A instanceof Buffer},ni3=function(A){if(VdQ(A))switch(A.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},ai3=function(A){return A instanceof ArrayBuffer},oi3=function(A){return typeof A==="string"&&A.length>0},ri3=function(A){return typeof A==="number"&&!Number.isNaN(A)},si3=function(A){return Number.isInteger(A)},ti3=function(A,Q,B){return A>=Q&&A<=B},ei3=function(A,Q){return Q.includes(A)},An3=function(A,Q,B){return Error(`Expected ${Q} for ${A} but received ${B} of type ${typeof B}`)},Qn3=function(A,Q){return Q.message=A.message,Q};EdQ.exports={defined:VdQ,object:di3,plainObject:ci3,fn:pi3,bool:li3,buffer:ii3,typedArray:ni3,arrayBuffer:ai3,string:oi3,number:ri3,integer:si3,inRange:ti3,inArray:ei3,invalidParameterError:An3,nativeError:Qn3}});var FdQ=w((GX7,HdQ)=>{var DdQ=()=>process.platform==="linux",QcA=null,Bn3=()=>{if(!QcA)if(DdQ()&&process.report){let A=process.report.excludeNetwork;process.report.excludeNetwork=!0,QcA=process.report.getReport(),process.report.excludeNetwork=A}else QcA={};return QcA};HdQ.exports={isLinux:DdQ,getReport:Bn3}});var UdQ=w((ZX7,zdQ)=>{var CdQ=qA("fs"),Gn3=(A)=>CdQ.readFileSync(A,"utf-8"),Zn3=(A)=>new Promise((Q,B)=>{CdQ.readFile(A,"utf-8",(G,Z)=>{if(G)B(G);else Q(Z)})});zdQ.exports={LDD_PATH:"/usr/bin/ldd",readFileSync:Gn3,readFile:Zn3}});var GcA=w((YX7,vdQ)=>{var wdQ=qA("child_process"),{isLinux:l6A,getReport:NdQ}=FdQ(),{LDD_PATH:BcA,readFile:qdQ,readFileSync:LdQ}=UdQ(),XS,WS,Qc="",MdQ=()=>{if(!Qc)return new Promise((A)=>{wdQ.exec("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",(Q,B)=>{Qc=Q?" ":B,A(Qc)})});return Qc},OdQ=()=>{if(!Qc)try{Qc=wdQ.execSync("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",{encoding:"utf8"})}catch(A){Qc=" "}return Qc},Bc="glibc",RdQ=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,p6A="musl",Yn3=(A)=>A.includes("libc.musl-")||A.includes("ld-musl-"),_dQ=()=>{let A=NdQ();if(A.header&&A.header.glibcVersionRuntime)return Bc;if(Array.isArray(A.sharedObjects)){if(A.sharedObjects.some(Yn3))return p6A}return null},TdQ=(A)=>{let[Q,B]=A.split(/[\r\n]+/);if(Q&&Q.includes(Bc))return Bc;if(B&&B.includes(p6A))return p6A;return null},jdQ=(A)=>{if(A.includes("musl"))return p6A;if(A.includes("GNU C Library"))return Bc;return null},Jn3=async()=>{if(XS!==void 0)return XS;XS=null;try{let A=await qdQ(BcA);XS=jdQ(A)}catch(A){}return XS},In3=()=>{if(XS!==void 0)return XS;XS=null;try{let A=LdQ(BcA);XS=jdQ(A)}catch(A){}return XS},PdQ=async()=>{let A=null;if(l6A()){if(A=await Jn3(),!A)A=_dQ();if(!A){let Q=await MdQ();A=TdQ(Q)}}return A},SdQ=()=>{let A=null;if(l6A()){if(A=In3(),!A)A=_dQ();if(!A){let Q=OdQ();A=TdQ(Q)}}return A},Xn3=async()=>l6A()&&await PdQ()!==Bc,Wn3=()=>l6A()&&SdQ()!==Bc,Kn3=async()=>{if(WS!==void 0)return WS;WS=null;try{let Q=(await qdQ(BcA)).match(RdQ);if(Q)WS=Q[1]}catch(A){}return WS},Vn3=()=>{if(WS!==void 0)return WS;WS=null;try{let Q=LdQ(BcA).match(RdQ);if(Q)WS=Q[1]}catch(A){}return WS},xdQ=()=>{let A=NdQ();if(A.header&&A.header.glibcVersionRuntime)return A.header.glibcVersionRuntime;return null},$dQ=(A)=>A.trim().split(/\s+/)[1],ydQ=(A)=>{let[Q,B,G]=A.split(/[\r\n]+/);if(Q&&Q.includes(Bc))return $dQ(Q);if(B&&G&&B.includes(p6A))return $dQ(G);return null},En3=async()=>{let A=null;if(l6A()){if(A=await Kn3(),!A)A=xdQ();if(!A){let Q=await MdQ();A=ydQ(Q)}}return A},Dn3=()=>{let A=null;if(l6A()){if(A=Vn3(),!A)A=xdQ();if(!A){let Q=OdQ();A=ydQ(Q)}}return A};vdQ.exports={GLIBC:Bc,MUSL:p6A,family:PdQ,familySync:SdQ,isNonGlibcLinux:Xn3,isNonGlibcLinuxSync:Wn3,version:En3,versionSync:Dn3}});var QCA=w((JX7,kdQ)=>{var Hn3=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};kdQ.exports=Hn3});var ZcA=w((IX7,fdQ)=>{var Fn3=Number.MAX_SAFE_INTEGER||9007199254740991,Cn3=["major","premajor","minor","preminor","patch","prepatch","prerelease"];fdQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Fn3,RELEASE_TYPES:Cn3,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var BCA=w((KS,bdQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:SS1,MAX_SAFE_BUILD_LENGTH:zn3,MAX_LENGTH:Un3}=ZcA(),$n3=QCA();KS=bdQ.exports={};var wn3=KS.re=[],Nn3=KS.safeRe=[],N2=KS.src=[],qn3=KS.safeSrc=[],q2=KS.t={},Ln3=0,xS1="[a-zA-Z0-9-]",Mn3=[["\\s",1],["\\d",Un3],[xS1,zn3]],On3=(A)=>{for(let[Q,B]of Mn3)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},j3=(A,Q,B)=>{let G=On3(Q),Z=Ln3++;$n3(A,Z,Q),q2[A]=Z,N2[Z]=Q,qn3[Z]=G,wn3[Z]=new RegExp(Q,B?"g":void 0),Nn3[Z]=new RegExp(G,B?"g":void 0)};j3("NUMERICIDENTIFIER","0|[1-9]\\d*");j3("NUMERICIDENTIFIERLOOSE","\\d+");j3("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${xS1}*`);j3("MAINVERSION",`(${N2[q2.NUMERICIDENTIFIER]})\\.(${N2[q2.NUMERICIDENTIFIER]})\\.(${N2[q2.NUMERICIDENTIFIER]})`);j3("MAINVERSIONLOOSE",`(${N2[q2.NUMERICIDENTIFIERLOOSE]})\\.(${N2[q2.NUMERICIDENTIFIERLOOSE]})\\.(${N2[q2.NUMERICIDENTIFIERLOOSE]})`);j3("PRERELEASEIDENTIFIER",`(?:${N2[q2.NUMERICIDENTIFIER]}|${N2[q2.NONNUMERICIDENTIFIER]})`);j3("PRERELEASEIDENTIFIERLOOSE",`(?:${N2[q2.NUMERICIDENTIFIERLOOSE]}|${N2[q2.NONNUMERICIDENTIFIER]})`);j3("PRERELEASE",`(?:-(${N2[q2.PRERELEASEIDENTIFIER]}(?:\\.${N2[q2.PRERELEASEIDENTIFIER]})*))`);j3("PRERELEASELOOSE",`(?:-?(${N2[q2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${N2[q2.PRERELEASEIDENTIFIERLOOSE]})*))`);j3("BUILDIDENTIFIER",`${xS1}+`);j3("BUILD",`(?:\\+(${N2[q2.BUILDIDENTIFIER]}(?:\\.${N2[q2.BUILDIDENTIFIER]})*))`);j3("FULLPLAIN",`v?${N2[q2.MAINVERSION]}${N2[q2.PRERELEASE]}?${N2[q2.BUILD]}?`);j3("FULL",`^${N2[q2.FULLPLAIN]}$`);j3("LOOSEPLAIN",`[v=\\s]*${N2[q2.MAINVERSIONLOOSE]}${N2[q2.PRERELEASELOOSE]}?${N2[q2.BUILD]}?`);j3("LOOSE",`^${N2[q2.LOOSEPLAIN]}$`);j3("GTLT","((?:<|>)?=?)");j3("XRANGEIDENTIFIERLOOSE",`${N2[q2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);j3("XRANGEIDENTIFIER",`${N2[q2.NUMERICIDENTIFIER]}|x|X|\\*`);j3("XRANGEPLAIN",`[v=\\s]*(${N2[q2.XRANGEIDENTIFIER]})(?:\\.(${N2[q2.XRANGEIDENTIFIER]})(?:\\.(${N2[q2.XRANGEIDENTIFIER]})(?:${N2[q2.PRERELEASE]})?${N2[q2.BUILD]}?)?)?`);j3("XRANGEPLAINLOOSE",`[v=\\s]*(${N2[q2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N2[q2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N2[q2.XRANGEIDENTIFIERLOOSE]})(?:${N2[q2.PRERELEASELOOSE]})?${N2[q2.BUILD]}?)?)?`);j3("XRANGE",`^${N2[q2.GTLT]}\\s*${N2[q2.XRANGEPLAIN]}$`);j3("XRANGELOOSE",`^${N2[q2.GTLT]}\\s*${N2[q2.XRANGEPLAINLOOSE]}$`);j3("COERCEPLAIN",`(^|[^\\d])(\\d{1,${SS1}})(?:\\.(\\d{1,${SS1}}))?(?:\\.(\\d{1,${SS1}}))?`);j3("COERCE",`${N2[q2.COERCEPLAIN]}(?:$|[^\\d])`);j3("COERCEFULL",N2[q2.COERCEPLAIN]+`(?:${N2[q2.PRERELEASE]})?(?:${N2[q2.BUILD]})?(?:$|[^\\d])`);j3("COERCERTL",N2[q2.COERCE],!0);j3("COERCERTLFULL",N2[q2.COERCEFULL],!0);j3("LONETILDE","(?:~>?)");j3("TILDETRIM",`(\\s*)${N2[q2.LONETILDE]}\\s+`,!0);KS.tildeTrimReplace="$1~";j3("TILDE",`^${N2[q2.LONETILDE]}${N2[q2.XRANGEPLAIN]}$`);j3("TILDELOOSE",`^${N2[q2.LONETILDE]}${N2[q2.XRANGEPLAINLOOSE]}$`);j3("LONECARET","(?:\\^)");j3("CARETTRIM",`(\\s*)${N2[q2.LONECARET]}\\s+`,!0);KS.caretTrimReplace="$1^";j3("CARET",`^${N2[q2.LONECARET]}${N2[q2.XRANGEPLAIN]}$`);j3("CARETLOOSE",`^${N2[q2.LONECARET]}${N2[q2.XRANGEPLAINLOOSE]}$`);j3("COMPARATORLOOSE",`^${N2[q2.GTLT]}\\s*(${N2[q2.LOOSEPLAIN]})$|^$`);j3("COMPARATOR",`^${N2[q2.GTLT]}\\s*(${N2[q2.FULLPLAIN]})$|^$`);j3("COMPARATORTRIM",`(\\s*)${N2[q2.GTLT]}\\s*(${N2[q2.LOOSEPLAIN]}|${N2[q2.XRANGEPLAIN]})`,!0);KS.comparatorTrimReplace="$1$2$3";j3("HYPHENRANGE",`^\\s*(${N2[q2.XRANGEPLAIN]})\\s+-\\s+(${N2[q2.XRANGEPLAIN]})\\s*$`);j3("HYPHENRANGELOOSE",`^\\s*(${N2[q2.XRANGEPLAINLOOSE]})\\s+-\\s+(${N2[q2.XRANGEPLAINLOOSE]})\\s*$`);j3("STAR","(<|>)?=?\\s*\\*");j3("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j3("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var YcA=w((XX7,hdQ)=>{var Rn3=Object.freeze({loose:!0}),_n3=Object.freeze({}),Tn3=(A)=>{if(!A)return _n3;if(typeof A!=="object")return Rn3;return A};hdQ.exports=Tn3});var ddQ=w((WX7,mdQ)=>{var gdQ=/^[0-9]+$/,udQ=(A,Q)=>{let B=gdQ.test(A),G=gdQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},jn3=(A,Q)=>udQ(Q,A);mdQ.exports={compareIdentifiers:udQ,rcompareIdentifiers:jn3}});var n6A=w((KX7,idQ)=>{var JcA=QCA(),{MAX_LENGTH:cdQ,MAX_SAFE_INTEGER:IcA}=ZcA(),{safeRe:pdQ,safeSrc:ldQ,t:XcA}=BCA(),Pn3=YcA(),{compareIdentifiers:i6A}=ddQ();class fR{constructor(A,Q){if(Q=Pn3(Q),A instanceof fR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>cdQ)throw TypeError(`version is longer than ${cdQ} characters`);JcA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?pdQ[XcA.LOOSE]:pdQ[XcA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>IcA||this.major<0)throw TypeError("Invalid major version");if(this.minor>IcA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>IcA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<IcA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(JcA("SemVer.compare",this.version,this.options,A),!(A instanceof fR)){if(typeof A==="string"&&A===this.version)return 0;A=new fR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof fR))A=new fR(A,this.options);return i6A(this.major,A.major)||i6A(this.minor,A.minor)||i6A(this.patch,A.patch)}comparePre(A){if(!(A instanceof fR))A=new fR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(JcA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof fR))A=new fR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(JcA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=new RegExp(`^${this.options.loose?ldQ[XcA.PRERELEASELOOSE]:ldQ[XcA.PRERELEASE]}$`),Z=`-${Q}`.match(G);if(!Z||Z[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(i6A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}idQ.exports=fR});var odQ=w((VX7,adQ)=>{var ndQ=n6A(),Sn3=(A,Q,B=!1)=>{if(A instanceof ndQ)return A;try{return new ndQ(A,Q)}catch(G){if(!B)return null;throw G}};adQ.exports=Sn3});var sdQ=w((EX7,rdQ)=>{var xn3=n6A(),yn3=odQ(),{safeRe:WcA,t:KcA}=BCA(),vn3=(A,Q)=>{if(A instanceof xn3)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?WcA[KcA.COERCEFULL]:WcA[KcA.COERCE]);else{let X=Q.includePrerelease?WcA[KcA.COERCERTLFULL]:WcA[KcA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return yn3(`${G}.${Z}.${Y}${J}${I}`,Q)};rdQ.exports=vn3});var Ps=w((DX7,edQ)=>{var tdQ=n6A(),kn3=(A,Q,B)=>new tdQ(A,B).compare(new tdQ(Q,B));edQ.exports=kn3});var yS1=w((HX7,AcQ)=>{var fn3=Ps(),bn3=(A,Q,B)=>fn3(A,Q,B)>=0;AcQ.exports=bn3});var GcQ=w((FX7,BcQ)=>{class QcQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}BcQ.exports=QcQ});var YcQ=w((CX7,ZcQ)=>{var hn3=Ps(),gn3=(A,Q,B)=>hn3(A,Q,B)===0;ZcQ.exports=gn3});var IcQ=w((zX7,JcQ)=>{var un3=Ps(),mn3=(A,Q,B)=>un3(A,Q,B)!==0;JcQ.exports=mn3});var WcQ=w((UX7,XcQ)=>{var dn3=Ps(),cn3=(A,Q,B)=>dn3(A,Q,B)>0;XcQ.exports=cn3});var VcQ=w(($X7,KcQ)=>{var pn3=Ps(),ln3=(A,Q,B)=>pn3(A,Q,B)<0;KcQ.exports=ln3});var DcQ=w((wX7,EcQ)=>{var in3=Ps(),nn3=(A,Q,B)=>in3(A,Q,B)<=0;EcQ.exports=nn3});var FcQ=w((NX7,HcQ)=>{var an3=YcQ(),on3=IcQ(),rn3=WcQ(),sn3=yS1(),tn3=VcQ(),en3=DcQ(),Aa3=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return an3(A,B,G);case"!=":return on3(A,B,G);case">":return rn3(A,B,G);case">=":return sn3(A,B,G);case"<":return tn3(A,B,G);case"<=":return en3(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};HcQ.exports=Aa3});var qcQ=w((qX7,NcQ)=>{var GCA=Symbol("SemVer ANY");class VcA{static get ANY(){return GCA}constructor(A,Q){if(Q=CcQ(Q),A instanceof VcA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),kS1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===GCA)this.value="";else this.value=this.operator+this.semver.version;kS1("comp",this)}parse(A){let Q=this.options.loose?zcQ[UcQ.COMPARATORLOOSE]:zcQ[UcQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=GCA;else this.semver=new $cQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(kS1("Comparator.test",A,this.options.loose),this.semver===GCA||A===GCA)return!0;if(typeof A==="string")try{A=new $cQ(A,this.options)}catch(Q){return!1}return vS1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof VcA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new wcQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new wcQ(this.value,Q).test(A.semver)}if(Q=CcQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(vS1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(vS1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}NcQ.exports=VcA;var CcQ=YcA(),{safeRe:zcQ,t:UcQ}=BCA(),vS1=FcQ(),kS1=QCA(),$cQ=n6A(),wcQ=fS1()});var fS1=w((LX7,RcQ)=>{var Qa3=/\s+/g;class ZCA{constructor(A,Q){if(Q=Ga3(Q),A instanceof ZCA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new ZCA(A.raw,Q);if(A instanceof bS1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(Qa3," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!McQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&Ka3(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&Xa3)|(this.options.loose&&Wa3))+":"+A,G=LcQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?dz[TF.HYPHENRANGELOOSE]:dz[TF.HYPHENRANGE];A=A.replace(Y,wa3(this.options.includePrerelease)),BY("hyphen replace",A),A=A.replace(dz[TF.COMPARATORTRIM],Ya3),BY("comparator trim",A),A=A.replace(dz[TF.TILDETRIM],Ja3),BY("tilde trim",A),A=A.replace(dz[TF.CARETTRIM],Ia3),BY("caret trim",A);let J=A.split(" ").map((K)=>Va3(K,this.options)).join(" ").split(/\s+/).map((K)=>$a3(K,this.options));if(Z)J=J.filter((K)=>{return BY("loose invalid filter",K,this.options),!!K.match(dz[TF.COMPARATORLOOSE])});BY("range list",J);let I=new Map,X=J.map((K)=>new bS1(K,this.options));for(let K of X){if(McQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return LcQ.set(B,W),W}intersects(A,Q){if(!(A instanceof ZCA))throw TypeError("a Range is required");return this.set.some((B)=>{return OcQ(B,Q)&&A.set.some((G)=>{return OcQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new Za3(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(Na3(this.set[Q],A,this.options))return!0;return!1}}RcQ.exports=ZCA;var Ba3=GcQ(),LcQ=new Ba3,Ga3=YcA(),bS1=qcQ(),BY=QCA(),Za3=n6A(),{safeRe:dz,t:TF,comparatorTrimReplace:Ya3,tildeTrimReplace:Ja3,caretTrimReplace:Ia3}=BCA(),{FLAG_INCLUDE_PRERELEASE:Xa3,FLAG_LOOSE:Wa3}=ZcA(),McQ=(A)=>A.value==="<0.0.0-0",Ka3=(A)=>A.value==="",OcQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},Va3=(A,Q)=>{return BY("comp",A,Q),A=Ha3(A,Q),BY("caret",A),A=Ea3(A,Q),BY("tildes",A),A=Ca3(A,Q),BY("xrange",A),A=Ua3(A,Q),BY("stars",A),A},jF=(A)=>!A||A.toLowerCase()==="x"||A==="*",Ea3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>Da3(B,Q)).join(" ")},Da3=(A,Q)=>{let B=Q.loose?dz[TF.TILDELOOSE]:dz[TF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{BY("tilde",A,G,Z,Y,J,I);let X;if(jF(Z))X="";else if(jF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(jF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)BY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return BY("tilde return",X),X})},Ha3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>Fa3(B,Q)).join(" ")},Fa3=(A,Q)=>{BY("caret",A,Q);let B=Q.loose?dz[TF.CARETLOOSE]:dz[TF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{BY("caret",A,Z,Y,J,I,X);let W;if(jF(Y))W="";else if(jF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(jF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(BY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(BY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return BY("caret return",W),W})},Ca3=(A,Q)=>{return BY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>za3(B,Q)).join(" ")},za3=(A,Q)=>{A=A.trim();let B=Q.loose?dz[TF.XRANGELOOSE]:dz[TF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{BY("xRange",A,G,Z,Y,J,I,X);let W=jF(Y),K=W||jF(J),V=K||jF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return BY("xRange return",G),G})},Ua3=(A,Q)=>{return BY("replaceStars",A,Q),A.trim().replace(dz[TF.STAR],"")},$a3=(A,Q)=>{return BY("replaceGTE0",A,Q),A.trim().replace(dz[Q.includePrerelease?TF.GTE0PRE:TF.GTE0],"")},wa3=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(jF(G))B="";else if(jF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(jF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(jF(W))X="";else if(jF(K))X=`<${+W+1}.0.0-0`;else if(jF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},Na3=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(BY(A[G].semver),A[G].semver===bS1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var TcQ=w((MX7,_cQ)=>{var qa3=fS1(),La3=(A,Q,B)=>{try{Q=new qa3(Q,B)}catch(G){return!1}return Q.test(A)};_cQ.exports=La3});var hS1=w((OX7,Ma3)=>{Ma3.exports={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.33.5",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://sharp.pixelplumbing.com",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb√§ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B√ºnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J√©r√©my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kotƒõ≈°ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci√±o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu√© <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>","Don Denton <don@happycollision.com>"],scripts:{install:"node install/check",clean:"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT"',"test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build","package-from-github-release":"node npm/from-github-release","docs-build":"node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},type:"commonjs",main:"lib/index.js",types:"lib/index.d.ts",files:["install","lib","src/*.{cc,h,gyp}"],repository:{type:"git",url:"git://github.com/lovell/sharp.git"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{color:"^4.2.3","detect-libc":"^2.0.3",semver:"^7.6.3"},optionalDependencies:{"@img/sharp-darwin-arm64":"0.33.5","@img/sharp-darwin-x64":"0.33.5","@img/sharp-libvips-darwin-arm64":"1.0.4","@img/sharp-libvips-darwin-x64":"1.0.4","@img/sharp-libvips-linux-arm":"1.0.5","@img/sharp-libvips-linux-arm64":"1.0.4","@img/sharp-libvips-linux-s390x":"1.0.4","@img/sharp-libvips-linux-x64":"1.0.4","@img/sharp-libvips-linuxmusl-arm64":"1.0.4","@img/sharp-libvips-linuxmusl-x64":"1.0.4","@img/sharp-linux-arm":"0.33.5","@img/sharp-linux-arm64":"0.33.5","@img/sharp-linux-s390x":"0.33.5","@img/sharp-linux-x64":"0.33.5","@img/sharp-linuxmusl-arm64":"0.33.5","@img/sharp-linuxmusl-x64":"0.33.5","@img/sharp-wasm32":"0.33.5","@img/sharp-win32-ia32":"0.33.5","@img/sharp-win32-x64":"0.33.5"},devDependencies:{"@emnapi/runtime":"^1.2.0","@img/sharp-libvips-dev":"1.0.4","@img/sharp-libvips-dev-wasm32":"1.0.5","@img/sharp-libvips-win32-ia32":"1.0.4","@img/sharp-libvips-win32-x64":"1.0.4","@types/node":"*",async:"^3.2.5",cc:"^3.0.1",emnapi:"^1.2.0","exif-reader":"^2.0.1","extract-zip":"^2.0.1",icc:"^3.0.0","jsdoc-to-markdown":"^8.0.3","license-checker":"^25.0.1",mocha:"^10.7.3","node-addon-api":"^8.1.0",nyc:"^17.0.0",prebuild:"^13.0.1",semistandard:"^17.0.0","tar-fs":"^3.0.6",tsd:"^0.31.1"},license:"Apache-2.0",engines:{node:"^18.17.0 || ^20.3.0 || >=21.0.0"},config:{libvips:">=8.15.3"},funding:{url:"https://opencollective.com/libvips"},binary:{napi_versions:[9]},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]},nyc:{include:["lib"]},tsd:{directory:"test/types/"}}});var uS1=w((RX7,hcQ)=>{var{spawnSync:EcA}=qA("node:child_process"),{createHash:Oa3}=qA("node:crypto"),xcQ=sdQ(),Ra3=yS1(),_a3=TcQ(),jcQ=GcA(),{config:Ta3,engines:PcQ,optionalDependencies:ja3}=hS1(),Pa3=process.env.npm_package_config_libvips||Ta3.libvips,ycQ=xcQ(Pa3).version,Sa3=["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-ia32","win32-x64"],DcA={encoding:"utf8",shell:!0},xa3=(A)=>{if(A instanceof Error)console.error(`sharp: Installation error: ${A.message}`);else console.log(`sharp: ${A}`)},vcQ=()=>jcQ.isNonGlibcLinuxSync()?jcQ.familySync():"",ya3=()=>`${process.platform}${vcQ()}-${process.arch}`,a6A=()=>{if(kcQ())return"wasm32";let{npm_config_arch:A,npm_config_platform:Q,npm_config_libc:B}=process.env,G=typeof B==="string"?B:vcQ();return`${Q||process.platform}${G}-${A||process.arch}`},va3=()=>{try{return qA(`@img/sharp-libvips-dev-${a6A()}/include`)}catch{try{return (()=>{throw new Error("Cannot require module "+"@img/sharp-libvips-dev/include");})()}catch{}}return""},ka3=()=>{try{return (()=>{throw new Error("Cannot require module "+"@img/sharp-libvips-dev/cplusplus");})()}catch{}return""},fa3=()=>{try{return qA(`@img/sharp-libvips-dev-${a6A()}/lib`)}catch{try{return qA(`@img/sharp-libvips-${a6A()}/lib`)}catch{}}return""},ba3=()=>{if(process.release?.name==="node"&&process.versions){if(!_a3(process.versions.node,PcQ.node))return{found:process.versions.node,expected:PcQ.node}}},kcQ=()=>{let{CC:A}=process.env;return Boolean(A&&A.endsWith("/emcc"))},ha3=()=>{if(process.platform==="darwin"&&process.arch==="x64")return(EcA("sysctl sysctl.proc_translated",DcA).stdout||"").trim()==="sysctl.proc_translated: 1";return!1},ScQ=(A)=>Oa3("sha512").update(A).digest("hex"),ga3=()=>{try{let A=ScQ(`imgsharp-libvips-${a6A()}`),Q=xcQ(ja3[`@img/sharp-libvips-${a6A()}`]).version;return ScQ(`${A}npm:${Q}`).slice(0,10)}catch{}return""},ua3=()=>EcA(`node-gyp rebuild --directory=src ${kcQ()?"--nodedir=emscripten":""}`,{...DcA,stdio:"inherit"}).status,fcQ=()=>{if(process.platform!=="win32")return(EcA("pkg-config --modversion vips-cpp",{...DcA,env:{...process.env,PKG_CONFIG_PATH:bcQ()}}).stdout||"").trim();else return""},bcQ=()=>{if(process.platform!=="win32")return[(EcA('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',DcA).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":");else return""},gS1=(A,Q,B)=>{if(B)B(`Detected ${Q}, skipping search for globally-installed libvips`);return A},ma3=(A)=>{if(Boolean(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS)===!0)return gS1(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS",A);if(Boolean(process.env.SHARP_FORCE_GLOBAL_LIBVIPS)===!0)return gS1(!0,"SHARP_FORCE_GLOBAL_LIBVIPS",A);if(ha3())return gS1(!1,"Rosetta",A);let Q=fcQ();return!!Q&&Ra3(Q,ycQ)};hcQ.exports={minimumLibvipsVersion:ycQ,prebuiltPlatforms:Sa3,buildPlatformArch:a6A,buildSharpLibvipsIncludeDir:va3,buildSharpLibvipsCPlusPlusDir:ka3,buildSharpLibvipsLibDir:fa3,isUnsupportedNodeRuntime:ba3,runtimePlatformArch:ya3,log:xa3,yarnLocator:ga3,spawnRebuild:ua3,globalLibvipsVersion:fcQ,pkgConfigPath:bcQ,useGlobalLibvips:ma3}});var YCA=w((TX7,ucQ)=>{var{familySync:da3,versionSync:ca3}=GcA(),{runtimePlatformArch:pa3,isUnsupportedNodeRuntime:gcQ,prebuiltPlatforms:la3,minimumLibvipsVersion:ia3}=uS1(),Ss=pa3(),na3=[`../src/build/Release/sharp-${Ss}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${Ss}/sharp.node`,"@img/sharp-wasm32/sharp.node"],mS1,HcA=[];for(let A of na3)try{mS1=qA(A);break}catch(Q){HcA.push(Q)}if(mS1)ucQ.exports=mS1;else{let[A,Q,B]=["linux","darwin","win32"].map((Y)=>Ss.startsWith(Y)),G=[`Could not load the "sharp" module using the ${Ss} runtime`];HcA.forEach((Y)=>{if(Y.code!=="MODULE_NOT_FOUND")G.push(`${Y.code}: ${Y.message}`)});let Z=HcA.map((Y)=>Y.message).join(" ");if(G.push("Possible solutions:"),gcQ()){let{found:Y,expected:J}=gcQ();G.push("- Please upgrade Node.js:",`    Found ${Y}`,`    Requires ${J}`)}else if(la3.includes(Ss)){let[Y,J]=Ss.split("-"),I=Y.endsWith("musl")?" --libc=musl":"";G.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${Y.replace("musl","")}${I} --cpu=${J} sharp`)}else G.push(`- Manually install libvips >= ${ia3}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(A&&/(symbol not found|CXXABI_)/i.test(Z))try{let{config:Y}=qA(`@img/sharp-libvips-${Ss}/package`),J=`${da3()} ${ca3()}`,I=`${Y.musl?"musl":"glibc"} ${Y.musl||Y.glibc}`;G.push("- Update your OS:",`    Found ${J}`,`    Requires ${I}`)}catch(Y){}if(A&&/\/snap\/core[0-9]{2}/.test(Z))G.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node");if(Q&&/Incompatible library version/.test(Z))G.push("- Update Homebrew:","    brew update && brew upgrade vips");if(HcA.some((Y)=>Y.code==="ERR_DLOPEN_DISABLED"))G.push("- Run Node.js without using the --no-addons flag");if(B&&/The specified procedure could not be found/.test(Z))G.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp");throw G.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),Error(G.join(`
bundles/ClaudeAgentSDKCode/cli.js:513:`).length}catch(A){return 0}},VaQ=async(A)=>{try{let Q=A||`Claude Code auto-stash - ${new Date().toISOString()}`,{untracked:B}=await zy1();if(B.length>0){let{code:Z}=await EQ("git",["add",...B],{preserveOutputOnError:!1});if(Z!==0)return!1}let{code:G}=await EQ("git",["stash","push","--message",Q],{preserveOutputOnError:!1});return G===0}catch(Q){return!1}};var aI=q(()=>{p2();Q3();Q0();pB();_0();_w=Z0(async()=>{let{code:A}=await EQ("git",["rev-parse","--is-inside-work-tree"]);return A===0})});function C16(){if(nP())return`- When you cannot find an answer or the feature doesn't exist, direct the user to ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.ISSUES_EXPLAINER}`;return"- When you cannot find an answer or the feature doesn't exist, direct the user to use /feedback to report a feature request or bug"}var H16="https://code.claude.com/docs/en/claude_code_docs_map.md",EaQ="https://platform.claude.com/llms.txt",$y1="claude-code-guide",F16,DaQ;var wy1=q(()=>{jE();$S();S8A();gB();V2();F16=`You are the Claude guide agent. Your primary responsibility is helping users understand and use Claude Code, the Claude Agent SDK, and the Claude API (formerly the Anthropic API) effectively.
bundles/ClaudeAgentSDKCode/cli.js:908:  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,h$A="secret must be a string or buffer",I7A="key must be a string or a buffer",rH6="key must be a string, a buffer or an object",lu1=typeof cL.createPublicKey==="function";if(lu1)I7A+=" or a KeyObject",h$A+="or a KeyObject";function nGB(A){if(X7A.isBuffer(A))return;if(typeof A==="string")return;if(!lu1)throw z_(I7A);if(typeof A!=="object")throw z_(I7A);if(typeof A.type!=="string")throw z_(I7A);if(typeof A.asymmetricKeyType!=="string")throw z_(I7A);if(typeof A.export!=="function")throw z_(I7A)}function aGB(A){if(X7A.isBuffer(A))return;if(typeof A==="string")return;if(typeof A==="object")return;throw z_(rH6)}function sH6(A){if(X7A.isBuffer(A))return;if(typeof A==="string")return A;if(!lu1)throw z_(h$A);if(typeof A!=="object")throw z_(h$A);if(A.type!=="secret")throw z_(h$A);if(typeof A.export!=="function")throw z_(h$A)}function iu1(A){return A.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oGB(A){A=A.toString();var Q=4-A.length%4;if(Q!==4)for(var B=0;B<Q;++B)A+="=";return A.replace(/\-/g,"+").replace(/_/g,"/")}function z_(A){var Q=[].slice.call(arguments,1),B=lGB.format.bind(lGB,A).apply(null,Q);return TypeError(B)}function tH6(A){return X7A.isBuffer(A)||typeof A==="string"}function g$A(A){if(!tH6(A))A=JSON.stringify(A);return A}function rGB(A){return function(B,G){sH6(G),B=g$A(B);var Z=cL.createHmac("sha"+A,G),Y=(Z.update(B),Z.digest("base64"));return iu1(Y)}}var pu1,eH6="timingSafeEqual"in cL?function(Q,B){if(Q.byteLength!==B.byteLength)return!1;return cL.timingSafeEqual(Q,B)}:function(Q,B){if(!pu1)pu1=gf1();return pu1(Q,B)};function AF6(A){return function(B,G,Z){var Y=rGB(A)(B,Z);return eH6(X7A.from(G),X7A.from(Y))}}function sGB(A){return function(B,G){aGB(G),B=g$A(B);var Z=cL.createSign("RSA-SHA"+A),Y=(Z.update(B),Z.sign(G,"base64"));return iu1(Y)}}function tGB(A){return function(B,G,Z){nGB(Z),B=g$A(B),G=oGB(G);var Y=cL.createVerify("RSA-SHA"+A);return Y.update(B),Y.verify(Z,G,"base64")}}function QF6(A){return function(B,G){aGB(G),B=g$A(B);var Z=cL.createSign("RSA-SHA"+A),Y=(Z.update(B),Z.sign({key:G,padding:cL.constants.RSA_PKCS1_PSS_PADDING,saltLength:cL.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return iu1(Y)}}function BF6(A){return function(B,G,Z){nGB(Z),B=g$A(B),G=oGB(G);var Y=cL.createVerify("RSA-SHA"+A);return Y.update(B),Y.verify({key:Z,padding:cL.constants.RSA_PKCS1_PSS_PADDING,saltLength:cL.constants.RSA_PSS_SALTLEN_DIGEST},G,"base64")}}function GF6(A){var Q=sGB(A);return function(){var G=Q.apply(null,arguments);return G=iGB.derToJose(G,"ES"+A),G}}function ZF6(A){var Q=tGB(A);return function(G,Z,Y){Z=iGB.joseToDer(Z,"ES"+A).toString("base64");var J=Q(G,Z,Y);return J}}function YF6(){return function(){return""}}function JF6(){return function(Q,B){return B===""}}eGB.exports=function(Q){var B={hs:rGB,rs:sGB,ps:QF6,es:GF6,none:YF6},G={hs:AF6,rs:tGB,ps:BF6,es:ZF6,none:JF6},Z=Q.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!Z)throw z_(oH6,Q);var Y=(Z[1]||Z[3]).toLowerCase(),J=Z[2];return{sign:B[Y](J),verify:G[Y](J)}}});var au1=w((ik7,AZB)=>{var IF6=qA("buffer").Buffer;AZB.exports=function(Q){if(typeof Q==="string")return Q;if(typeof Q==="number"||IF6.isBuffer(Q))return Q.toString();return JSON.stringify(Q)}});var JZB=w((nk7,YZB)=>{var XF6=yS().Buffer,QZB=cu1(),WF6=nu1(),KF6=qA("stream"),BZB=au1(),ou1=qA("util");function GZB(A,Q){return XF6.from(A,Q).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function VF6(A,Q,B){B=B||"utf8";var G=GZB(BZB(A),"binary"),Z=GZB(BZB(Q),B);return ou1.format("%s.%s",G,Z)}function ZZB(A){var{header:Q,payload:B}=A,G=A.secret||A.privateKey,Z=A.encoding,Y=WF6(Q.alg),J=VF6(Q,B,Z),I=Y.sign(J,G);return ou1.format("%s.%s",J,I)}function faA(A){var Q=A.secret||A.privateKey||A.key,B=new QZB(Q);this.readable=!0,this.header=A.header,this.encoding=A.encoding,this.secret=this.privateKey=this.key=B,this.payload=new QZB(A.payload),this.secret.once("close",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this)),this.payload.once("close",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}ou1.inherits(faA,KF6);faA.prototype.sign=function(){try{var Q=ZZB({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",Q),this.emit("data",Q),this.emit("end"),this.readable=!1,Q}catch(B){this.readable=!1,this.emit("error",B),this.emit("close")}};faA.sign=ZZB;YZB.exports=faA});var CZB=w((ak7,FZB)=>{var XZB=yS().Buffer,IZB=cu1(),EF6=nu1(),DF6=qA("stream"),WZB=au1(),HF6=qA("util"),FF6=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function CF6(A){return Object.prototype.toString.call(A)==="[object Object]"}function zF6(A){if(CF6(A))return A;try{return JSON.parse(A)}catch(Q){return}}function KZB(A){var Q=A.split(".",1)[0];return zF6(XZB.from(Q,"base64").toString("binary"))}function UF6(A){return A.split(".",2).join(".")}function VZB(A){return A.split(".")[2]}function $F6(A,Q){Q=Q||"utf8";var B=A.split(".")[1];return XZB.from(B,"base64").toString(Q)}function EZB(A){return FF6.test(A)&&!!KZB(A)}function DZB(A,Q,B){if(!Q){var G=Error("Missing algorithm parameter for jws.verify");throw G.code="MISSING_ALGORITHM",G}A=WZB(A);var Z=VZB(A),Y=UF6(A),J=EF6(Q);return J.verify(Y,Z,B)}function HZB(A,Q){if(Q=Q||{},A=WZB(A),!EZB(A))return null;var B=KZB(A);if(!B)return null;var G=$F6(A);if(B.typ==="JWT"||Q.json)G=JSON.parse(G,Q.encoding);return{header:B,payload:G,signature:VZB(A)}}function W7A(A){A=A||{};var Q=A.secret||A.publicKey||A.key,B=new IZB(Q);this.readable=!0,this.algorithm=A.algorithm,this.encoding=A.encoding,this.secret=this.publicKey=this.key=B,this.signature=new IZB(A.signature),this.secret.once("close",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this)),this.signature.once("close",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}HF6.inherits(W7A,DF6);W7A.prototype.verify=function(){try{var Q=DZB(this.signature.buffer,this.algorithm,this.key.buffer),B=HZB(this.signature.buffer,this.encoding);return this.emit("done",Q,B),this.emit("data",Q),this.emit("end"),this.readable=!1,Q}catch(G){this.readable=!1,this.emit("error",G),this.emit("close")}};W7A.decode=HZB;W7A.isValid=EZB;W7A.verify=DZB;FZB.exports=W7A});var haA=w((NF6)=>{var zZB=JZB(),baA=CZB(),wF6=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];NF6.ALGORITHMS=wF6;NF6.sign=zZB.sign;NF6.verify=baA.verify;NF6.decode=baA.decode;NF6.isValid=baA.isValid;NF6.createSign=function(Q){return new zZB(Q)};NF6.createVerify=function(Q){return new baA(Q)}});var ru1=w((rk7,UZB)=>{var jF6=haA();UZB.exports=function(A,Q){Q=Q||{};var B=jF6.decode(A,Q);if(!B)return null;var G=B.payload;if(typeof G==="string")try{var Z=JSON.parse(G);if(Z!==null&&typeof Z==="object")G=Z}catch(Y){}if(Q.complete===!0)return{header:B.header,payload:G,signature:B.signature};return G}});var u$A=w((sk7,$ZB)=>{var gaA=function(A,Q){if(Error.call(this,A),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);if(this.name="JsonWebTokenError",this.message=A,Q)this.inner=Q};gaA.prototype=Object.create(Error.prototype);gaA.prototype.constructor=gaA;$ZB.exports=gaA});var su1=w((tk7,NZB)=>{var wZB=u$A(),uaA=function(A,Q){wZB.call(this,A),this.name="NotBeforeError",this.date=Q};uaA.prototype=Object.create(wZB.prototype);uaA.prototype.constructor=uaA;NZB.exports=uaA});var tu1=w((ek7,LZB)=>{var qZB=u$A(),maA=function(A,Q){qZB.call(this,A),this.name="TokenExpiredError",this.expiredAt=Q};maA.prototype=Object.create(qZB.prototype);maA.prototype.constructor=maA;LZB.exports=maA});var eu1=w((Af7,MZB)=>{var PF6=RJ1();MZB.exports=function(A,Q){var B=Q||Math.floor(Date.now()/1000);if(typeof A==="string"){var G=PF6(A);if(typeof G>"u")return;return Math.floor(B+G/1000)}else if(typeof A==="number")return B+A;else return}});var m$A=w((Qf7,OZB)=>{var SF6=Number.MAX_SAFE_INTEGER||9007199254740991,xF6=["major","premajor","minor","preminor","patch","prepatch","prerelease"];OZB.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:SF6,RELEASE_TYPES:xF6,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var d$A=w((Bf7,RZB)=>{var yF6=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};RZB.exports=yF6});var K7A=w((iS,_ZB)=>{var{MAX_SAFE_COMPONENT_LENGTH:Am1,MAX_SAFE_BUILD_LENGTH:vF6,MAX_LENGTH:kF6}=m$A(),fF6=d$A();iS=_ZB.exports={};var bF6=iS.re=[],hF6=iS.safeRe=[],L2=iS.src=[],gF6=iS.safeSrc=[],M2=iS.t={},uF6=0,Qm1="[a-zA-Z0-9-]",mF6=[["\\s",1],["\\d",kF6],[Qm1,vF6]],dF6=(A)=>{for(let[Q,B]of mF6)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},x3=(A,Q,B)=>{let G=dF6(Q),Z=uF6++;fF6(A,Z,Q),M2[A]=Z,L2[Z]=Q,gF6[Z]=G,bF6[Z]=new RegExp(Q,B?"g":void 0),hF6[Z]=new RegExp(G,B?"g":void 0)};x3("NUMERICIDENTIFIER","0|[1-9]\\d*");x3("NUMERICIDENTIFIERLOOSE","\\d+");x3("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Qm1}*`);x3("MAINVERSION",`(${L2[M2.NUMERICIDENTIFIER]})\\.(${L2[M2.NUMERICIDENTIFIER]})\\.(${L2[M2.NUMERICIDENTIFIER]})`);x3("MAINVERSIONLOOSE",`(${L2[M2.NUMERICIDENTIFIERLOOSE]})\\.(${L2[M2.NUMERICIDENTIFIERLOOSE]})\\.(${L2[M2.NUMERICIDENTIFIERLOOSE]})`);x3("PRERELEASEIDENTIFIER",`(?:${L2[M2.NUMERICIDENTIFIER]}|${L2[M2.NONNUMERICIDENTIFIER]})`);x3("PRERELEASEIDENTIFIERLOOSE",`(?:${L2[M2.NUMERICIDENTIFIERLOOSE]}|${L2[M2.NONNUMERICIDENTIFIER]})`);x3("PRERELEASE",`(?:-(${L2[M2.PRERELEASEIDENTIFIER]}(?:\\.${L2[M2.PRERELEASEIDENTIFIER]})*))`);x3("PRERELEASELOOSE",`(?:-?(${L2[M2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L2[M2.PRERELEASEIDENTIFIERLOOSE]})*))`);x3("BUILDIDENTIFIER",`${Qm1}+`);x3("BUILD",`(?:\\+(${L2[M2.BUILDIDENTIFIER]}(?:\\.${L2[M2.BUILDIDENTIFIER]})*))`);x3("FULLPLAIN",`v?${L2[M2.MAINVERSION]}${L2[M2.PRERELEASE]}?${L2[M2.BUILD]}?`);x3("FULL",`^${L2[M2.FULLPLAIN]}$`);x3("LOOSEPLAIN",`[v=\\s]*${L2[M2.MAINVERSIONLOOSE]}${L2[M2.PRERELEASELOOSE]}?${L2[M2.BUILD]}?`);x3("LOOSE",`^${L2[M2.LOOSEPLAIN]}$`);x3("GTLT","((?:<|>)?=?)");x3("XRANGEIDENTIFIERLOOSE",`${L2[M2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);x3("XRANGEIDENTIFIER",`${L2[M2.NUMERICIDENTIFIER]}|x|X|\\*`);x3("XRANGEPLAIN",`[v=\\s]*(${L2[M2.XRANGEIDENTIFIER]})(?:\\.(${L2[M2.XRANGEIDENTIFIER]})(?:\\.(${L2[M2.XRANGEIDENTIFIER]})(?:${L2[M2.PRERELEASE]})?${L2[M2.BUILD]}?)?)?`);x3("XRANGEPLAINLOOSE",`[v=\\s]*(${L2[M2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L2[M2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L2[M2.XRANGEIDENTIFIERLOOSE]})(?:${L2[M2.PRERELEASELOOSE]})?${L2[M2.BUILD]}?)?)?`);x3("XRANGE",`^${L2[M2.GTLT]}\\s*${L2[M2.XRANGEPLAIN]}$`);x3("XRANGELOOSE",`^${L2[M2.GTLT]}\\s*${L2[M2.XRANGEPLAINLOOSE]}$`);x3("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Am1}})(?:\\.(\\d{1,${Am1}}))?(?:\\.(\\d{1,${Am1}}))?`);x3("COERCE",`${L2[M2.COERCEPLAIN]}(?:$|[^\\d])`);x3("COERCEFULL",L2[M2.COERCEPLAIN]+`(?:${L2[M2.PRERELEASE]})?(?:${L2[M2.BUILD]})?(?:$|[^\\d])`);x3("COERCERTL",L2[M2.COERCE],!0);x3("COERCERTLFULL",L2[M2.COERCEFULL],!0);x3("LONETILDE","(?:~>?)");x3("TILDETRIM",`(\\s*)${L2[M2.LONETILDE]}\\s+`,!0);iS.tildeTrimReplace="$1~";x3("TILDE",`^${L2[M2.LONETILDE]}${L2[M2.XRANGEPLAIN]}$`);x3("TILDELOOSE",`^${L2[M2.LONETILDE]}${L2[M2.XRANGEPLAINLOOSE]}$`);x3("LONECARET","(?:\\^)");x3("CARETTRIM",`(\\s*)${L2[M2.LONECARET]}\\s+`,!0);iS.caretTrimReplace="$1^";x3("CARET",`^${L2[M2.LONECARET]}${L2[M2.XRANGEPLAIN]}$`);x3("CARETLOOSE",`^${L2[M2.LONECARET]}${L2[M2.XRANGEPLAINLOOSE]}$`);x3("COMPARATORLOOSE",`^${L2[M2.GTLT]}\\s*(${L2[M2.LOOSEPLAIN]})$|^$`);x3("COMPARATOR",`^${L2[M2.GTLT]}\\s*(${L2[M2.FULLPLAIN]})$|^$`);x3("COMPARATORTRIM",`(\\s*)${L2[M2.GTLT]}\\s*(${L2[M2.LOOSEPLAIN]}|${L2[M2.XRANGEPLAIN]})`,!0);iS.comparatorTrimReplace="$1$2$3";x3("HYPHENRANGE",`^\\s*(${L2[M2.XRANGEPLAIN]})\\s+-\\s+(${L2[M2.XRANGEPLAIN]})\\s*$`);x3("HYPHENRANGELOOSE",`^\\s*(${L2[M2.XRANGEPLAINLOOSE]})\\s+-\\s+(${L2[M2.XRANGEPLAINLOOSE]})\\s*$`);x3("STAR","(<|>)?=?\\s*\\*");x3("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");x3("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var daA=w((Gf7,TZB)=>{var cF6=Object.freeze({loose:!0}),pF6=Object.freeze({}),lF6=(A)=>{if(!A)return pF6;if(typeof A!=="object")return cF6;return A};TZB.exports=lF6});var Bm1=w((Zf7,SZB)=>{var jZB=/^[0-9]+$/,PZB=(A,Q)=>{let B=jZB.test(A),G=jZB.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},iF6=(A,Q)=>PZB(Q,A);SZB.exports={compareIdentifiers:PZB,rcompareIdentifiers:iF6}});var XH=w((Yf7,kZB)=>{var caA=d$A(),{MAX_LENGTH:xZB,MAX_SAFE_INTEGER:paA}=m$A(),{safeRe:yZB,safeSrc:vZB,t:laA}=K7A(),nF6=daA(),{compareIdentifiers:V7A}=Bm1();class U_{constructor(A,Q){if(Q=nF6(Q),A instanceof U_)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>xZB)throw TypeError(`version is longer than ${xZB} characters`);caA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?yZB[laA.LOOSE]:yZB[laA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>paA||this.major<0)throw TypeError("Invalid major version");if(this.minor>paA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>paA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<paA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(caA("SemVer.compare",this.version,this.options,A),!(A instanceof U_)){if(typeof A==="string"&&A===this.version)return 0;A=new U_(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof U_))A=new U_(A,this.options);return V7A(this.major,A.major)||V7A(this.minor,A.minor)||V7A(this.patch,A.patch)}comparePre(A){if(!(A instanceof U_))A=new U_(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(caA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return V7A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof U_))A=new U_(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(caA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return V7A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=new RegExp(`^${this.options.loose?vZB[laA.PRERELEASELOOSE]:vZB[laA.PRERELEASE]}$`),Z=`-${Q}`.match(G);if(!Z||Z[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(V7A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}kZB.exports=U_});var Fe=w((Jf7,bZB)=>{var fZB=XH(),aF6=(A,Q,B=!1)=>{if(A instanceof fZB)return A;try{return new fZB(A,Q)}catch(G){if(!B)return null;throw G}};bZB.exports=aF6});var gZB=w((If7,hZB)=>{var oF6=Fe(),rF6=(A,Q)=>{let B=oF6(A,Q);return B?B.version:null};hZB.exports=rF6});var mZB=w((Xf7,uZB)=>{var sF6=Fe(),tF6=(A,Q)=>{let B=sF6(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};uZB.exports=tF6});var pZB=w((Wf7,cZB)=>{var dZB=XH(),eF6=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new dZB(A instanceof dZB?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};cZB.exports=eF6});var nZB=w((Kf7,iZB)=>{var lZB=Fe(),AC6=(A,Q)=>{let B=lZB(A,null,!0),G=lZB(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};iZB.exports=AC6});var oZB=w((Vf7,aZB)=>{var QC6=XH(),BC6=(A,Q)=>new QC6(A,Q).major;aZB.exports=BC6});var sZB=w((Ef7,rZB)=>{var GC6=XH(),ZC6=(A,Q)=>new GC6(A,Q).minor;rZB.exports=ZC6});var eZB=w((Df7,tZB)=>{var YC6=XH(),JC6=(A,Q)=>new YC6(A,Q).patch;tZB.exports=JC6});var QYB=w((Hf7,AYB)=>{var IC6=Fe(),XC6=(A,Q)=>{let B=IC6(A,Q);return B&&B.prerelease.length?B.prerelease:null};AYB.exports=XC6});var pL=w((Ff7,GYB)=>{var BYB=XH(),WC6=(A,Q,B)=>new BYB(A,B).compare(new BYB(Q,B));GYB.exports=WC6});var YYB=w((Cf7,ZYB)=>{var KC6=pL(),VC6=(A,Q,B)=>KC6(Q,A,B);ZYB.exports=VC6});var IYB=w((zf7,JYB)=>{var EC6=pL(),DC6=(A,Q)=>EC6(A,Q,!0);JYB.exports=DC6});var iaA=w((Uf7,WYB)=>{var XYB=XH(),HC6=(A,Q,B)=>{let G=new XYB(A,B),Z=new XYB(Q,B);return G.compare(Z)||G.compareBuild(Z)};WYB.exports=HC6});var VYB=w(($f7,KYB)=>{var FC6=iaA(),CC6=(A,Q)=>A.sort((B,G)=>FC6(B,G,Q));KYB.exports=CC6});var DYB=w((wf7,EYB)=>{var zC6=iaA(),UC6=(A,Q)=>A.sort((B,G)=>zC6(G,B,Q));EYB.exports=UC6});var c$A=w((Nf7,HYB)=>{var $C6=pL(),wC6=(A,Q,B)=>$C6(A,Q,B)>0;HYB.exports=wC6});var naA=w((qf7,FYB)=>{var NC6=pL(),qC6=(A,Q,B)=>NC6(A,Q,B)<0;FYB.exports=qC6});var Gm1=w((Lf7,CYB)=>{var LC6=pL(),MC6=(A,Q,B)=>LC6(A,Q,B)===0;CYB.exports=MC6});var Zm1=w((Mf7,zYB)=>{var OC6=pL(),RC6=(A,Q,B)=>OC6(A,Q,B)!==0;zYB.exports=RC6});var aaA=w((Of7,UYB)=>{var _C6=pL(),TC6=(A,Q,B)=>_C6(A,Q,B)>=0;UYB.exports=TC6});var oaA=w((Rf7,$YB)=>{var jC6=pL(),PC6=(A,Q,B)=>jC6(A,Q,B)<=0;$YB.exports=PC6});var Ym1=w((_f7,wYB)=>{var SC6=Gm1(),xC6=Zm1(),yC6=c$A(),vC6=aaA(),kC6=naA(),fC6=oaA(),bC6=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return SC6(A,B,G);case"!=":return xC6(A,B,G);case">":return yC6(A,B,G);case">=":return vC6(A,B,G);case"<":return kC6(A,B,G);case"<=":return fC6(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};wYB.exports=bC6});var qYB=w((Tf7,NYB)=>{var hC6=XH(),gC6=Fe(),{safeRe:raA,t:saA}=K7A(),uC6=(A,Q)=>{if(A instanceof hC6)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?raA[saA.COERCEFULL]:raA[saA.COERCE]);else{let X=Q.includePrerelease?raA[saA.COERCERTLFULL]:raA[saA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return gC6(`${G}.${Z}.${Y}${J}${I}`,Q)};NYB.exports=uC6});var OYB=w((jf7,MYB)=>{class LYB{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}MYB.exports=LYB});var lL=w((Pf7,jYB)=>{var mC6=/\s+/g;class p$A{constructor(A,Q){if(Q=cC6(Q),A instanceof p$A)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new p$A(A.raw,Q);if(A instanceof Jm1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(mC6," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!_YB(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&rC6(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&aC6)|(this.options.loose&&oC6))+":"+A,G=RYB.get(B);if(G)return G;let Z=this.options.loose,Y=Z?GU[oF.HYPHENRANGELOOSE]:GU[oF.HYPHENRANGE];A=A.replace(Y,Jz6(this.options.includePrerelease)),XY("hyphen replace",A),A=A.replace(GU[oF.COMPARATORTRIM],lC6),XY("comparator trim",A),A=A.replace(GU[oF.TILDETRIM],iC6),XY("tilde trim",A),A=A.replace(GU[oF.CARETTRIM],nC6),XY("caret trim",A);let J=A.split(" ").map((K)=>sC6(K,this.options)).join(" ").split(/\s+/).map((K)=>Yz6(K,this.options));if(Z)J=J.filter((K)=>{return XY("loose invalid filter",K,this.options),!!K.match(GU[oF.COMPARATORLOOSE])});XY("range list",J);let I=new Map,X=J.map((K)=>new Jm1(K,this.options));for(let K of X){if(_YB(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return RYB.set(B,W),W}intersects(A,Q){if(!(A instanceof p$A))throw TypeError("a Range is required");return this.set.some((B)=>{return TYB(B,Q)&&A.set.some((G)=>{return TYB(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new pC6(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(Iz6(this.set[Q],A,this.options))return!0;return!1}}jYB.exports=p$A;var dC6=OYB(),RYB=new dC6,cC6=daA(),Jm1=l$A(),XY=d$A(),pC6=XH(),{safeRe:GU,t:oF,comparatorTrimReplace:lC6,tildeTrimReplace:iC6,caretTrimReplace:nC6}=K7A(),{FLAG_INCLUDE_PRERELEASE:aC6,FLAG_LOOSE:oC6}=m$A(),_YB=(A)=>A.value==="<0.0.0-0",rC6=(A)=>A.value==="",TYB=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},sC6=(A,Q)=>{return XY("comp",A,Q),A=Az6(A,Q),XY("caret",A),A=tC6(A,Q),XY("tildes",A),A=Bz6(A,Q),XY("xrange",A),A=Zz6(A,Q),XY("stars",A),A},rF=(A)=>!A||A.toLowerCase()==="x"||A==="*",tC6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>eC6(B,Q)).join(" ")},eC6=(A,Q)=>{let B=Q.loose?GU[oF.TILDELOOSE]:GU[oF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{XY("tilde",A,G,Z,Y,J,I);let X;if(rF(Z))X="";else if(rF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(rF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)XY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return XY("tilde return",X),X})},Az6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>Qz6(B,Q)).join(" ")},Qz6=(A,Q)=>{XY("caret",A,Q);let B=Q.loose?GU[oF.CARETLOOSE]:GU[oF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{XY("caret",A,Z,Y,J,I,X);let W;if(rF(Y))W="";else if(rF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(rF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(XY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(XY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return XY("caret return",W),W})},Bz6=(A,Q)=>{return XY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>Gz6(B,Q)).join(" ")},Gz6=(A,Q)=>{A=A.trim();let B=Q.loose?GU[oF.XRANGELOOSE]:GU[oF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{XY("xRange",A,G,Z,Y,J,I,X);let W=rF(Y),K=W||rF(J),V=K||rF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return XY("xRange return",G),G})},Zz6=(A,Q)=>{return XY("replaceStars",A,Q),A.trim().replace(GU[oF.STAR],"")},Yz6=(A,Q)=>{return XY("replaceGTE0",A,Q),A.trim().replace(GU[Q.includePrerelease?oF.GTE0PRE:oF.GTE0],"")},Jz6=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(rF(G))B="";else if(rF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(rF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(rF(W))X="";else if(rF(K))X=`<${+W+1}.0.0-0`;else if(rF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},Iz6=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(XY(A[G].semver),A[G].semver===Jm1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var l$A=w((Sf7,kYB)=>{var i$A=Symbol("SemVer ANY");class taA{static get ANY(){return i$A}constructor(A,Q){if(Q=PYB(Q),A instanceof taA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),Xm1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===i$A)this.value="";else this.value=this.operator+this.semver.version;Xm1("comp",this)}parse(A){let Q=this.options.loose?SYB[xYB.COMPARATORLOOSE]:SYB[xYB.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=i$A;else this.semver=new yYB(B[2],this.options.loose)}toString(){return this.value}test(A){if(Xm1("Comparator.test",A,this.options.loose),this.semver===i$A||A===i$A)return!0;if(typeof A==="string")try{A=new yYB(A,this.options)}catch(Q){return!1}return Im1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof taA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new vYB(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new vYB(this.value,Q).test(A.semver)}if(Q=PYB(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(Im1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(Im1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}kYB.exports=taA;var PYB=daA(),{safeRe:SYB,t:xYB}=K7A(),Im1=Ym1(),Xm1=d$A(),yYB=XH(),vYB=lL()});var n$A=w((xf7,fYB)=>{var Xz6=lL(),Wz6=(A,Q,B)=>{try{Q=new Xz6(Q,B)}catch(G){return!1}return Q.test(A)};fYB.exports=Wz6});var hYB=w((yf7,bYB)=>{var Kz6=lL(),Vz6=(A,Q)=>new Kz6(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));bYB.exports=Vz6});var uYB=w((vf7,gYB)=>{var Ez6=XH(),Dz6=lL(),Hz6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new Dz6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new Ez6(G,B)}}),G};gYB.exports=Hz6});var dYB=w((kf7,mYB)=>{var Fz6=XH(),Cz6=lL(),zz6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new Cz6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new Fz6(G,B)}}),G};mYB.exports=zz6});var lYB=w((ff7,pYB)=>{var Wm1=XH(),Uz6=lL(),cYB=c$A(),$z6=(A,Q)=>{A=new Uz6(A,Q);let B=new Wm1("0.0.0");if(A.test(B))return B;if(B=new Wm1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new Wm1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||cYB(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||cYB(B,Y)))B=Y}if(B&&A.test(B))return B;return null};pYB.exports=$z6});var nYB=w((bf7,iYB)=>{var wz6=lL(),Nz6=(A,Q)=>{try{return new wz6(A,Q).range||"*"}catch(B){return null}};iYB.exports=Nz6});var eaA=w((hf7,sYB)=>{var qz6=XH(),rYB=l$A(),{ANY:Lz6}=rYB,Mz6=lL(),Oz6=n$A(),aYB=c$A(),oYB=naA(),Rz6=oaA(),_z6=aaA(),Tz6=(A,Q,B,G)=>{A=new qz6(A,G),Q=new Mz6(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=aYB,Y=Rz6,J=oYB,I=">",X=">=";break;case"<":Z=oYB,Y=_z6,J=aYB,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(Oz6(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===Lz6)D=new rYB(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};sYB.exports=Tz6});var eYB=w((gf7,tYB)=>{var jz6=eaA(),Pz6=(A,Q,B)=>jz6(A,Q,">",B);tYB.exports=Pz6});var QJB=w((uf7,AJB)=>{var Sz6=eaA(),xz6=(A,Q,B)=>Sz6(A,Q,"<",B);AJB.exports=xz6});var ZJB=w((mf7,GJB)=>{var BJB=lL(),yz6=(A,Q,B)=>{return A=new BJB(A,B),Q=new BJB(Q,B),A.intersects(Q,B)};GJB.exports=yz6});var JJB=w((df7,YJB)=>{var vz6=n$A(),kz6=pL();YJB.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>kz6(K,V,B));for(let K of J)if(vz6(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var EJB=w((cf7,VJB)=>{var IJB=lL(),Vm1=l$A(),{ANY:Km1}=Vm1,a$A=n$A(),Em1=pL(),fz6=(A,Q,B={})=>{if(A===Q)return!0;A=new IJB(A,B),Q=new IJB(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=hz6(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},bz6=[new Vm1(">=0.0.0-0")],XJB=[new Vm1(">=0.0.0")],hz6=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===Km1)if(Q.length===1&&Q[0].semver===Km1)return!0;else if(B.includePrerelease)A=bz6;else A=XJB;if(Q.length===1&&Q[0].semver===Km1)if(B.includePrerelease)return!0;else Q=XJB;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=WJB(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=KJB(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=Em1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!a$A(D,String(Z),B))return null;if(Y&&!a$A(D,String(Y),B))return null;for(let H of Q)if(!a$A(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=WJB(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!a$A(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=KJB(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!a$A(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},WJB=(A,Q,B)=>{if(!A)return Q;let G=Em1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},KJB=(A,Q,B)=>{if(!A)return Q;let G=Em1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};VJB.exports=fz6});var AoA=w((pf7,FJB)=>{var Dm1=K7A(),DJB=m$A(),gz6=XH(),HJB=Bm1(),uz6=Fe(),mz6=gZB(),dz6=mZB(),cz6=pZB(),pz6=nZB(),lz6=oZB(),iz6=sZB(),nz6=eZB(),az6=QYB(),oz6=pL(),rz6=YYB(),sz6=IYB(),tz6=iaA(),ez6=VYB(),AU6=DYB(),QU6=c$A(),BU6=naA(),GU6=Gm1(),ZU6=Zm1(),YU6=aaA(),JU6=oaA(),IU6=Ym1(),XU6=qYB(),WU6=l$A(),KU6=lL(),VU6=n$A(),EU6=hYB(),DU6=uYB(),HU6=dYB(),FU6=lYB(),CU6=nYB(),zU6=eaA(),UU6=eYB(),$U6=QJB(),wU6=ZJB(),NU6=JJB(),qU6=EJB();FJB.exports={parse:uz6,valid:mz6,clean:dz6,inc:cz6,diff:pz6,major:lz6,minor:iz6,patch:nz6,prerelease:az6,compare:oz6,rcompare:rz6,compareLoose:sz6,compareBuild:tz6,sort:ez6,rsort:AU6,gt:QU6,lt:BU6,eq:GU6,neq:ZU6,gte:YU6,lte:JU6,cmp:IU6,coerce:XU6,Comparator:WU6,Range:KU6,satisfies:VU6,toComparators:EU6,maxSatisfying:DU6,minSatisfying:HU6,minVersion:FU6,validRange:CU6,outside:zU6,gtr:UU6,ltr:$U6,intersects:wU6,simplifyRange:NU6,subset:qU6,SemVer:gz6,re:Dm1.re,src:Dm1.src,tokens:Dm1.t,SEMVER_SPEC_VERSION:DJB.SEMVER_SPEC_VERSION,RELEASE_TYPES:DJB.RELEASE_TYPES,compareIdentifiers:HJB.compareIdentifiers,rcompareIdentifiers:HJB.rcompareIdentifiers}});var zJB=w((lf7,CJB)=>{var LU6=AoA();CJB.exports=LU6.satisfies(process.version,">=15.7.0")});var $JB=w((if7,UJB)=>{var MU6=AoA();UJB.exports=MU6.satisfies(process.version,">=16.9.0")});var Hm1=w((nf7,wJB)=>{var OU6=zJB(),RU6=$JB(),_U6={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},TU6={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};wJB.exports=function(A,Q){if(!A||!Q)return;let B=Q.asymmetricKeyType;if(!B)return;let G=_U6[B];if(!G)throw Error(`Unknown key type "${B}".`);if(!G.includes(A))throw Error(`"alg" parameter for "${B}" key type must be one of: ${G.join(", ")}.`);if(OU6)switch(B){case"ec":let Z=Q.asymmetricKeyDetails.namedCurve,Y=TU6[A];if(Z!==Y)throw Error(`"alg" parameter "${A}" requires curve "${Y}".`);break;case"rsa-pss":if(RU6){let J=parseInt(A.slice(-3),10),{hashAlgorithm:I,mgf1HashAlgorithm:X,saltLength:W}=Q.asymmetricKeyDetails;if(I!==`sha${J}`||X!==I)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${A}.`);if(W!==void 0&&W>J>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${A}.`)}break}}});var Fm1=w((af7,NJB)=>{var jU6=AoA();NJB.exports=jU6.satisfies(process.version,"^6.12.0 || >=8.0.0")});var MJB=w((of7,LJB)=>{var SZ=u$A(),PU6=su1(),qJB=tu1(),SU6=ru1(),xU6=eu1(),yU6=Hm1(),vU6=Fm1(),kU6=haA(),{KeyObject:fU6,createSecretKey:bU6,createPublicKey:hU6}=qA("crypto"),Cm1=["RS256","RS384","RS512"],gU6=["ES256","ES384","ES512"],zm1=["RS256","RS384","RS512"],uU6=["HS256","HS384","HS512"];if(vU6)Cm1.splice(Cm1.length,0,"PS256","PS384","PS512"),zm1.splice(zm1.length,0,"PS256","PS384","PS512");LJB.exports=function(A,Q,B,G){if(typeof B==="function"&&!G)G=B,B={};if(!B)B={};B=Object.assign({},B);let Z;if(G)Z=G;else Z=function(K,V){if(K)throw K;return V};if(B.clockTimestamp&&typeof B.clockTimestamp!=="number")return Z(new SZ("clockTimestamp must be a number"));if(B.nonce!==void 0&&(typeof B.nonce!=="string"||B.nonce.trim()===""))return Z(new SZ("nonce must be a non-empty string"));if(B.allowInvalidAsymmetricKeyTypes!==void 0&&typeof B.allowInvalidAsymmetricKeyTypes!=="boolean")return Z(new SZ("allowInvalidAsymmetricKeyTypes must be a boolean"));let Y=B.clockTimestamp||Math.floor(Date.now()/1000);if(!A)return Z(new SZ("jwt must be provided"));if(typeof A!=="string")return Z(new SZ("jwt must be a string"));let J=A.split(".");if(J.length!==3)return Z(new SZ("jwt malformed"));let I;try{I=SU6(A,{complete:!0})}catch(K){return Z(K)}if(!I)return Z(new SZ("invalid token"));let X=I.header,W;if(typeof Q==="function"){if(!G)return Z(new SZ("verify must be called asynchronous if secret or public key is provided as a callback"));W=Q}else W=function(K,V){return V(null,Q)};return W(X,function(K,V){if(K)return Z(new SZ("error in secret or public key callback: "+K.message));let E=J[2].trim()!=="";if(!E&&V)return Z(new SZ("jwt signature is required"));if(E&&!V)return Z(new SZ("secret or public key must be provided"));if(!E&&!B.algorithms)return Z(new SZ('please specify "none" in "algorithms" to verify unsigned tokens'));if(V!=null&&!(V instanceof fU6))try{V=hU6(V)}catch(F){try{V=bU6(typeof V==="string"?Buffer.from(V):V)}catch(C){return Z(new SZ("secretOrPublicKey is not valid key material"))}}if(!B.algorithms)if(V.type==="secret")B.algorithms=uU6;else if(["rsa","rsa-pss"].includes(V.asymmetricKeyType))B.algorithms=zm1;else if(V.asymmetricKeyType==="ec")B.algorithms=gU6;else B.algorithms=Cm1;if(B.algorithms.indexOf(I.header.alg)===-1)return Z(new SZ("invalid algorithm"));if(X.alg.startsWith("HS")&&V.type!=="secret")return Z(new SZ(`secretOrPublicKey must be a symmetric key when using ${X.alg}`));else if(/^(?:RS|PS|ES)/.test(X.alg)&&V.type!=="public")return Z(new SZ(`secretOrPublicKey must be an asymmetric key when using ${X.alg}`));if(!B.allowInvalidAsymmetricKeyTypes)try{yU6(X.alg,V)}catch(F){return Z(F)}let D;try{D=kU6.verify(A,I.header.alg,V)}catch(F){return Z(F)}if(!D)return Z(new SZ("invalid signature"));let H=I.payload;if(typeof H.nbf<"u"&&!B.ignoreNotBefore){if(typeof H.nbf!=="number")return Z(new SZ("invalid nbf value"));if(H.nbf>Y+(B.clockTolerance||0))return Z(new PU6("jwt not active",new Date(H.nbf*1000)))}if(typeof H.exp<"u"&&!B.ignoreExpiration){if(typeof H.exp!=="number")return Z(new SZ("invalid exp value"));if(Y>=H.exp+(B.clockTolerance||0))return Z(new qJB("jwt expired",new Date(H.exp*1000)))}if(B.audience){let F=Array.isArray(B.audience)?B.audience:[B.audience];if(!(Array.isArray(H.aud)?H.aud:[H.aud]).some(function(O){return F.some(function(M){return M instanceof RegExp?M.test(O):M===O})}))return Z(new SZ("jwt audience invalid. expected: "+F.join(" or ")))}if(B.issuer){if(typeof B.issuer==="string"&&H.iss!==B.issuer||Array.isArray(B.issuer)&&B.issuer.indexOf(H.iss)===-1)return Z(new SZ("jwt issuer invalid. expected: "+B.issuer))}if(B.subject){if(H.sub!==B.subject)return Z(new SZ("jwt subject invalid. expected: "+B.subject))}if(B.jwtid){if(H.jti!==B.jwtid)return Z(new SZ("jwt jwtid invalid. expected: "+B.jwtid))}if(B.nonce){if(H.nonce!==B.nonce)return Z(new SZ("jwt nonce invalid. expected: "+B.nonce))}if(B.maxAge){if(typeof H.iat!=="number")return Z(new SZ("iat required when maxAge is specified"));let F=xU6(B.maxAge,H.iat);if(typeof F>"u")return Z(new SZ('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(Y>=F+(B.clockTolerance||0))return Z(new qJB("maxAge exceeded",new Date(F*1000)))}if(B.complete===!0){let F=I.signature;return Z(null,{header:X,payload:H,signature:F})}return Z(null,H)})}});var PJB=w((rf7,jJB)=>{var OJB=1/0,_JB=9007199254740991,mU6=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,RJB=NaN,dU6="[object Arguments]",cU6="[object Function]",pU6="[object GeneratorFunction]",lU6="[object String]",iU6="[object Symbol]",nU6=/^\s+|\s+$/g,aU6=/^[-+]0x[0-9a-f]+$/i,oU6=/^0b[01]+$/i,rU6=/^0o[0-7]+$/i,sU6=/^(?:0|[1-9]\d*)$/,tU6=parseInt;function eU6(A,Q){var B=-1,G=A?A.length:0,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}function A$6(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}function Q$6(A,Q,B){if(Q!==Q)return A$6(A,B$6,B);var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}function B$6(A){return A!==A}function G$6(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}function Z$6(A,Q){return eU6(Q,function(B){return A[B]})}function Y$6(A,Q){return function(B){return A(Q(B))}}var QoA=Object.prototype,$m1=QoA.hasOwnProperty,BoA=QoA.toString,J$6=QoA.propertyIsEnumerable,I$6=Y$6(Object.keys,Object),X$6=Math.max;function W$6(A,Q){var B=TJB(A)||H$6(A)?G$6(A.length,String):[],G=B.length,Z=!!G;for(var Y in A)if((Q||$m1.call(A,Y))&&!(Z&&(Y=="length"||V$6(Y,G))))B.push(Y);return B}function K$6(A){if(!E$6(A))return I$6(A);var Q=[];for(var B in Object(A))if($m1.call(A,B)&&B!="constructor")Q.push(B);return Q}function V$6(A,Q){return Q=Q==null?_JB:Q,!!Q&&(typeof A=="number"||sU6.test(A))&&(A>-1&&A%1==0&&A<Q)}function E$6(A){var Q=A&&A.constructor,B=typeof Q=="function"&&Q.prototype||QoA;return A===B}function D$6(A,Q,B,G){A=wm1(A)?A:M$6(A),B=B&&!G?N$6(B):0;var Z=A.length;if(B<0)B=X$6(Z+B,0);return U$6(A)?B<=Z&&A.indexOf(Q,B)>-1:!!Z&&Q$6(A,Q,B)>-1}function H$6(A){return F$6(A)&&$m1.call(A,"callee")&&(!J$6.call(A,"callee")||BoA.call(A)==dU6)}var TJB=Array.isArray;function wm1(A){return A!=null&&z$6(A.length)&&!C$6(A)}function F$6(A){return Nm1(A)&&wm1(A)}function C$6(A){var Q=Um1(A)?BoA.call(A):"";return Q==cU6||Q==pU6}function z$6(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=_JB}function Um1(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function Nm1(A){return!!A&&typeof A=="object"}function U$6(A){return typeof A=="string"||!TJB(A)&&Nm1(A)&&BoA.call(A)==lU6}function $$6(A){return typeof A=="symbol"||Nm1(A)&&BoA.call(A)==iU6}function w$6(A){if(!A)return A===0?A:0;if(A=q$6(A),A===OJB||A===-OJB){var Q=A<0?-1:1;return Q*mU6}return A===A?A:0}function N$6(A){var Q=w$6(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function q$6(A){if(typeof A=="number")return A;if($$6(A))return RJB;if(Um1(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=Um1(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(nU6,"");var B=oU6.test(A);return B||rU6.test(A)?tU6(A.slice(2),B?2:8):aU6.test(A)?RJB:+A}function L$6(A){return wm1(A)?W$6(A):K$6(A)}function M$6(A){return A?Z$6(A,L$6(A)):[]}jJB.exports=D$6});var xJB=w((sf7,SJB)=>{var O$6="[object Boolean]",R$6=Object.prototype,_$6=R$6.toString;function T$6(A){return A===!0||A===!1||j$6(A)&&_$6.call(A)==O$6}function j$6(A){return!!A&&typeof A=="object"}SJB.exports=T$6});var bJB=w((tf7,fJB)=>{var yJB=1/0,P$6=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,vJB=NaN,S$6="[object Symbol]",x$6=/^\s+|\s+$/g,y$6=/^[-+]0x[0-9a-f]+$/i,v$6=/^0b[01]+$/i,k$6=/^0o[0-7]+$/i,f$6=parseInt,b$6=Object.prototype,h$6=b$6.toString;function g$6(A){return typeof A=="number"&&A==c$6(A)}function kJB(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function u$6(A){return!!A&&typeof A=="object"}function m$6(A){return typeof A=="symbol"||u$6(A)&&h$6.call(A)==S$6}function d$6(A){if(!A)return A===0?A:0;if(A=p$6(A),A===yJB||A===-yJB){var Q=A<0?-1:1;return Q*P$6}return A===A?A:0}function c$6(A){var Q=d$6(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function p$6(A){if(typeof A=="number")return A;if(m$6(A))return vJB;if(kJB(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=kJB(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(x$6,"");var B=v$6.test(A);return B||k$6.test(A)?f$6(A.slice(2),B?2:8):y$6.test(A)?vJB:+A}fJB.exports=g$6});var gJB=w((ef7,hJB)=>{var l$6="[object Number]",i$6=Object.prototype,n$6=i$6.toString;function a$6(A){return!!A&&typeof A=="object"}function o$6(A){return typeof A=="number"||a$6(A)&&n$6.call(A)==l$6}hJB.exports=o$6});var cJB=w((Ab7,dJB)=>{var r$6="[object Object]";function s$6(A){var Q=!1;if(A!=null&&typeof A.toString!="function")try{Q=!!(A+"")}catch(B){}return Q}function t$6(A,Q){return function(B){return A(Q(B))}}var e$6=Function.prototype,uJB=Object.prototype,mJB=e$6.toString,Aw6=uJB.hasOwnProperty,Qw6=mJB.call(Object),Bw6=uJB.toString,Gw6=t$6(Object.getPrototypeOf,Object);function Zw6(A){return!!A&&typeof A=="object"}function Yw6(A){if(!Zw6(A)||Bw6.call(A)!=r$6||s$6(A))return!1;var Q=Gw6(A);if(Q===null)return!0;var B=Aw6.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&mJB.call(B)==Qw6}dJB.exports=Yw6});var lJB=w((Qb7,pJB)=>{var Jw6="[object String]",Iw6=Object.prototype,Xw6=Iw6.toString,Ww6=Array.isArray;function Kw6(A){return!!A&&typeof A=="object"}function Vw6(A){return typeof A=="string"||!Ww6(A)&&Kw6(A)&&Xw6.call(A)==Jw6}pJB.exports=Vw6});var rJB=w((Bb7,oJB)=>{var Ew6="Expected a function",iJB=1/0,Dw6=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,nJB=NaN,Hw6="[object Symbol]",Fw6=/^\s+|\s+$/g,Cw6=/^[-+]0x[0-9a-f]+$/i,zw6=/^0b[01]+$/i,Uw6=/^0o[0-7]+$/i,$w6=parseInt,ww6=Object.prototype,Nw6=ww6.toString;function qw6(A,Q){var B;if(typeof Q!="function")throw TypeError(Ew6);return A=_w6(A),function(){if(--A>0)B=Q.apply(this,arguments);if(A<=1)Q=void 0;return B}}function Lw6(A){return qw6(2,A)}function aJB(A){var Q=typeof A;return!!A&&(Q=="object"||Q=="function")}function Mw6(A){return!!A&&typeof A=="object"}function Ow6(A){return typeof A=="symbol"||Mw6(A)&&Nw6.call(A)==Hw6}function Rw6(A){if(!A)return A===0?A:0;if(A=Tw6(A),A===iJB||A===-iJB){var Q=A<0?-1:1;return Q*Dw6}return A===A?A:0}function _w6(A){var Q=Rw6(A),B=Q%1;return Q===Q?B?Q-B:Q:0}function Tw6(A){if(typeof A=="number")return A;if(Ow6(A))return nJB;if(aJB(A)){var Q=typeof A.valueOf=="function"?A.valueOf():A;A=aJB(Q)?Q+"":Q}if(typeof A!="string")return A===0?A:+A;A=A.replace(Fw6,"");var B=zw6.test(A);return B||Uw6.test(A)?$w6(A.slice(2),B?2:8):Cw6.test(A)?nJB:+A}oJB.exports=Lw6});var YIB=w((Gb7,ZIB)=>{var sJB=eu1(),jw6=Fm1(),Pw6=Hm1(),tJB=haA(),Sw6=PJB(),GoA=xJB(),eJB=bJB(),qm1=gJB(),QIB=cJB(),$p=lJB(),xw6=rJB(),{KeyObject:yw6,createSecretKey:vw6,createPrivateKey:kw6}=qA("crypto"),BIB=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];if(jw6)BIB.splice(3,0,"PS256","PS384","PS512");var fw6={expiresIn:{isValid:function(A){return eJB(A)||$p(A)&&A},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(A){return eJB(A)||$p(A)&&A},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(A){return $p(A)||Array.isArray(A)},message:'"audience" must be a string or array'},algorithm:{isValid:Sw6.bind(null,BIB),message:'"algorithm" must be a valid string enum value'},header:{isValid:QIB,message:'"header" must be an object'},encoding:{isValid:$p,message:'"encoding" must be a string'},issuer:{isValid:$p,message:'"issuer" must be a string'},subject:{isValid:$p,message:'"subject" must be a string'},jwtid:{isValid:$p,message:'"jwtid" must be a string'},noTimestamp:{isValid:GoA,message:'"noTimestamp" must be a boolean'},keyid:{isValid:$p,message:'"keyid" must be a string'},mutatePayload:{isValid:GoA,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:GoA,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:GoA,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},bw6={iat:{isValid:qm1,message:'"iat" should be a number of seconds'},exp:{isValid:qm1,message:'"exp" should be a number of seconds'},nbf:{isValid:qm1,message:'"nbf" should be a number of seconds'}};function GIB(A,Q,B,G){if(!QIB(B))throw Error('Expected "'+G+'" to be a plain object.');Object.keys(B).forEach(function(Z){let Y=A[Z];if(!Y){if(!Q)throw Error('"'+Z+'" is not allowed in "'+G+'"');return}if(!Y.isValid(B[Z]))throw Error(Y.message)})}function hw6(A){return GIB(fw6,!1,A,"options")}function gw6(A){return GIB(bw6,!0,A,"payload")}var AIB={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},uw6=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];ZIB.exports=function(A,Q,B,G){if(typeof B==="function")G=B,B={};else B=B||{};let Z=typeof A==="object"&&!Buffer.isBuffer(A),Y=Object.assign({alg:B.algorithm||"HS256",typ:Z?"JWT":void 0,kid:B.keyid},B.header);function J(W){if(G)return G(W);throw W}if(!Q&&B.algorithm!=="none")return J(Error("secretOrPrivateKey must have a value"));if(Q!=null&&!(Q instanceof yw6))try{Q=kw6(Q)}catch(W){try{Q=vw6(typeof Q==="string"?Buffer.from(Q):Q)}catch(K){return J(Error("secretOrPrivateKey is not valid key material"))}}if(Y.alg.startsWith("HS")&&Q.type!=="secret")return J(Error(`secretOrPrivateKey must be a symmetric key when using ${Y.alg}`));else if(/^(?:RS|PS|ES)/.test(Y.alg)){if(Q.type!=="private")return J(Error(`secretOrPrivateKey must be an asymmetric key when using ${Y.alg}`));if(!B.allowInsecureKeySizes&&!Y.alg.startsWith("ES")&&Q.asymmetricKeyDetails!==void 0&&Q.asymmetricKeyDetails.modulusLength<2048)return J(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`))}if(typeof A>"u")return J(Error("payload is required"));else if(Z){try{gw6(A)}catch(W){return J(W)}if(!B.mutatePayload)A=Object.assign({},A)}else{let W=uw6.filter(function(K){return typeof B[K]<"u"});if(W.length>0)return J(Error("invalid "+W.join(",")+" option for "+typeof A+" payload"))}if(typeof A.exp<"u"&&typeof B.expiresIn<"u")return J(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof A.nbf<"u"&&typeof B.notBefore<"u")return J(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{hw6(B)}catch(W){return J(W)}if(!B.allowInvalidAsymmetricKeyTypes)try{Pw6(Y.alg,Q)}catch(W){return J(W)}let I=A.iat||Math.floor(Date.now()/1000);if(B.noTimestamp)delete A.iat;else if(Z)A.iat=I;if(typeof B.notBefore<"u"){try{A.nbf=sJB(B.notBefore,I)}catch(W){return J(W)}if(typeof A.nbf>"u")return J(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof B.expiresIn<"u"&&typeof A==="object"){try{A.exp=sJB(B.expiresIn,I)}catch(W){return J(W)}if(typeof A.exp>"u")return J(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(AIB).forEach(function(W){let K=AIB[W];if(typeof B[W]<"u"){if(typeof A[K]<"u")return J(Error('Bad "options.'+W+'" option. The payload already has an "'+K+'" property.'));A[K]=B[W]}});let X=B.encoding||"utf8";if(typeof G==="function")G=G&&xw6(G),tJB.createSign({header:Y,privateKey:Q,payload:A,encoding:X}).once("error",G).once("done",function(W){if(!B.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Y.alg)&&W.length<256)return G(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`));G(null,W)});else{let W=tJB.sign({header:Y,payload:A,secret:Q,encoding:X});if(!B.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Y.alg)&&W.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Y.alg}`);return W}}});var IIB=w((Zb7,JIB)=>{JIB.exports={decode:ru1(),verify:MJB(),sign:YIB(),JsonWebTokenError:u$A(),NotBeforeError:su1(),TokenExpiredError:tu1()}});class $_{static fromAssertion(A){let Q=new $_;return Q.jwt=A,Q}static fromCertificate(A,Q,B){let G=new $_;if(G.privateKey=Q,G.thumbprint=A,G.useSha256=!1,B)G.publicCertificate=this.parseCertificate(B);return G}static fromCertificateWithSha256Thumbprint(A,Q,B){let G=new $_;if(G.privateKey=Q,G.thumbprint=A,G.useSha256=!0,B)G.publicCertificate=this.parseCertificate(B);return G}getJwt(A,Q,B){if(this.privateKey&&this.thumbprint){if(this.jwt&&!this.isExpired()&&Q===this.issuer&&B===this.jwtAudience)return this.jwt;return this.createJwt(A,Q,B)}if(this.jwt)return this.jwt;throw o0(_G.invalidAssertion)}createJwt(A,Q,B){this.issuer=Q,this.jwtAudience=B;let G=YY.nowSeconds();this.expirationTime=G+600;let Y={alg:this.useSha256?dL.PSS_256:dL.RSA_256},J=this.useSha256?dL.X5T_256:dL.X5T;if(Object.assign(Y,{[J]:BU.base64EncodeUrl(this.thumbprint,fE.HEX)}),this.publicCertificate)Object.assign(Y,{[dL.X5C]:this.publicCertificate});let I={[dL.AUDIENCE]:this.jwtAudience,[dL.EXPIRATION_TIME]:this.expirationTime,[dL.ISSUER]:this.issuer,[dL.SUBJECT]:this.issuer,[dL.NOT_BEFORE]:G,[dL.JWT_ID]:A.createNewGuid()};return this.jwt=XIB.default.sign(I,this.privateKey,{header:Y}),this.jwt}isExpired(){return this.expirationTime<YY.nowSeconds()}static parseCertificate(A){let Q=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,B=[],G;while((G=Q.exec(A))!==null)B.push(G[1].replace(/\r*\n/g,f0.EMPTY_STRING));return B}}var XIB;var ZoA=q(()=>{R7();v$A();IY();XIB=o(IIB(),1);/*! @azure/msal-node v3.8.1 2025-10-29 */});var YoA="@azure/msal-node",w_="3.8.1";var E7A=q(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});var o$A;var Lm1=q(()=>{R7();/*! @azure/msal-node v3.8.1 2025-10-29 */o$A=class o$A extends IH{constructor(A){super(A)}async acquireToken(A){this.logger.info("in acquireToken call in username-password client");let Q=YY.nowSeconds(),B=await this.executeTokenRequest(this.authority,A),G=new YI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return G.validateTokenResponse(B.body),G.handleServerTokenResponse(B.body,this.authority,Q,A)}async executeTokenRequest(A,Q){let B=this.createTokenQueryParameters(Q),G=S3.appendQueryString(A.tokenEndpoint,B),Z=await this.createTokenRequestBody(Q),Y=this.createTokenRequestHeaders({credential:Q.username,type:pF.UPN}),J={clientId:this.config.authOptions.clientId,authority:A.canonicalAuthority,scopes:Q.scopes,claims:Q.claims,authenticationScheme:Q.authenticationScheme,resourceRequestMethod:Q.resourceRequestMethod,resourceRequestUri:Q.resourceRequestUri,shrClaims:Q.shrClaims,sshKid:Q.sshKid};return this.executePostToTokenEndpoint(G,Z,Y,J,Q.correlationId)}async createTokenRequestBody(A){let Q=new Map;if(oB.addClientId(Q,this.config.authOptions.clientId),oB.addUsername(Q,A.username),oB.addPassword(Q,A.password),oB.addScopes(Q,A.scopes),oB.addResponseType(Q,g5A.IDTOKEN_TOKEN),oB.addGrantType(Q,ez.RESOURCE_OWNER_PASSWORD_GRANT),oB.addClientInfo(Q),oB.addLibraryInfo(Q,this.config.libraryInfo),oB.addApplicationTelemetry(Q,this.config.telemetry.application),oB.addThrottling(Q),this.serverTelemetryManager)oB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(oB.addCorrelationId(Q,B),this.config.clientCredentials.clientSecret)oB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=this.config.clientCredentials.clientAssertion;if(G)oB.addClientAssertion(Q,await nF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),oB.addClientAssertionType(Q,G.assertionType);if(!AZ.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)oB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);if(this.config.systemOptions.preventCorsPreflight&&A.username)oB.addCcsUpn(Q,A.username);return bE.mapToQueryString(Q)}}});function WIB(A,Q,B,G){let Z=R$A.getStandardAuthorizeRequestParameters({...A.auth,authority:Q,redirectUri:B.redirectUri||""},B,G);if(oB.addLibraryInfo(Z,{sku:aF.MSAL_SKU,version:w_,cpu:process.arch||"",os:process.platform||""}),A.auth.protocolMode!==JH.OIDC)oB.addApplicationTelemetry(Z,A.telemetry.application);if(oB.addResponseType(Z,g5A.CODE),B.codeChallenge&&B.codeChallengeMethod)oB.addCodeChallengeParams(Z,B.codeChallenge,B.codeChallengeMethod);return oB.addExtraQueryParameters(Z,B.extraQueryParameters||{}),R$A.getAuthorizeUrl(Q,Z,A.auth.encodeExtraQueryParams,B.extraQueryParameters)}var KIB=q(()=>{R7();IY();E7A();/*! @azure/msal-node v3.8.1 2025-10-29 */});class Ce{constructor(A){this.config=l7B(A),this.cryptoProvider=new Fb,this.logger=new AU(this.config.system.loggerOptions,YoA,w_),this.storage=new He(this.logger,this.config.auth.clientId,this.cryptoProvider,Uu1(this.config.auth)),this.tokenCache=new b$A(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(A){this.logger.info("getAuthCodeUrl called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A),responseMode:A.responseMode||gS.QUERY,authenticationScheme:V8.BEARER,state:A.state||"",nonce:A.nonce||""},B=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions);return WIB(this.config,B,Q,this.logger)}async acquireTokenByCode(A,Q){if(this.logger.info("acquireTokenByCode called"),A.state&&Q)this.logger.info("acquireTokenByCode - validating state"),this.validateState(A.state,Q.state||""),Q={...Q,state:""};let B={...A,...await this.initializeBaseRequest(A),authenticationScheme:V8.BEARER},G=this.initializeServerTelemetryManager(Db.acquireTokenByCode,B.correlationId);try{let Z=await this.createAuthority(B.authority,B.correlationId,void 0,A.azureCloudOptions),Y=await this.buildOauthClientConfiguration(Z,B.correlationId,B.redirectUri,G),J=new HaA(Y);return this.logger.verbose("Auth code client created",B.correlationId),await J.acquireToken(B,Q)}catch(Z){if(Z instanceof J3)Z.setCorrelationId(B.correlationId);throw G.cacheFailedRequest(Z),Z}}async acquireTokenByRefreshToken(A){this.logger.info("acquireTokenByRefreshToken called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A),authenticationScheme:V8.BEARER},B=this.initializeServerTelemetryManager(Db.acquireTokenByRefreshToken,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,Q.redirectUri||"",B),Y=new Y7A(Z);return this.logger.verbose("Refresh token client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof J3)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireTokenSilent(A){let Q={...A,...await this.initializeBaseRequest(A),forceRefresh:A.forceRefresh||!1},B=this.initializeServerTelemetryManager(Db.acquireTokenSilent,Q.correlationId,Q.forceRefresh);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,Q.redirectUri||"",B),Y=new FaA(Z);this.logger.verbose("Silent flow client created",Q.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(Q,Y,Z)}catch(J){if(J instanceof Jp&&J.errorCode===_G.tokenRefreshRequired)return new Y7A(Z).acquireTokenByRefreshToken(Q);throw J}}catch(G){if(G instanceof J3)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireCachedTokenSilent(A,Q,B){let[G,Z]=await Q.acquireCachedToken({...A,scopes:A.scopes?.length?A.scopes:[...YH]});if(Z===eG.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let Y=new Y7A(B);try{await Y.acquireTokenByRefreshToken(A)}catch{}}return G}async acquireTokenByUsernamePassword(A){this.logger.info("acquireTokenByUsernamePassword called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A)},B=this.initializeServerTelemetryManager(Db.acquireTokenByUsernamePassword,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,"",B),Y=new o$A(Z);return this.logger.verbose("Username password client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof J3)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(A,Q){if(!A)throw oY.createStateNotFoundError();if(A!==Q)throw o0(_G.stateMismatch)}getLogger(){return this.logger}setLogger(A){this.logger=A}async buildOauthClientConfiguration(A,Q,B,G){return this.logger.verbose("buildOauthClientConfiguration called",Q),this.logger.info(`Building oauth client configuration with the following authority: ${A.tokenEndpoint}.`,Q),G?.updateRegionDiscoveryMetadata(A.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:A,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:B},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:Q},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:G,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(A)},libraryInfo:{sku:aF.MSAL_SKU,version:w_,cpu:process.arch||f0.EMPTY_STRING,os:process.platform||f0.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(A){if(this.developerProvidedClientAssertion)this.clientAssertion=$_.fromAssertion(await nF(this.developerProvidedClientAssertion,this.config.auth.clientId,A.tokenEndpoint));return this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,A.tokenEndpoint),assertionType:aF.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(A){if(this.logger.verbose("initializeRequestScopes called",A.correlationId),A.authenticationScheme&&A.authenticationScheme===V8.POP)this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",A.correlationId);if(A.authenticationScheme=V8.BEARER,this.config.cache.claimsBasedCachingEnabled&&A.claims&&!AZ.isEmptyObj(A.claims))A.requestedClaimsHash=await this.cryptoProvider.hashString(A.claims);return{...A,scopes:[...A&&A.scopes||[],...YH],correlationId:A&&A.correlationId||this.cryptoProvider.createNewGuid(),authority:A.authority||this.config.auth.authority}}initializeServerTelemetryManager(A,Q,B){let G={clientId:this.config.auth.clientId,correlationId:Q,apiId:A,forceRefresh:B||!1};return new Cp(G,this.storage)}async createAuthority(A,Q,B,G){this.logger.verbose("createAuthority called",Q);let Z=pW.generateAuthority(A,G||this.config.auth.azureCloudOptions),Y={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:B,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return BaA.createDiscoveredInstance(Z,this.config.system.networkClient,this.storage,Y,this.logger,Q)}clearCache(){this.storage.clear()}}var JoA=q(()=>{R7();yu1();k$A();yaA();IY();du1();ZoA();E7A();P$A();Lm1();KIB();/*! @azure/msal-node v3.8.1 2025-10-29 */});import mw6 from"http";class Mm1{async listenForAuthCode(A,Q){if(this.server)throw oY.createLoopbackServerAlreadyExistsError();return new Promise((B,G)=>{this.server=mw6.createServer((Z,Y)=>{let J=Z.url;if(!J){Y.end(Q||"Error occurred loading redirectUrl"),G(oY.createUnableToLoadRedirectUrlError());return}else if(J===f0.FORWARD_SLASH){Y.end(A||"Auth code was successfully acquired. You can close this window now.");return}let I=this.getRedirectUri(),X=new URL(J,I),W=bE.getDeserializedResponse(X.search)||{};if(W.code)Y.writeHead(Y3.REDIRECT,{location:I}),Y.end();if(W.error)Y.end(Q||`Error occurred: ${W.error}`);B(W)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw oY.createNoLoopbackServerExistsError();let A=this.server.address();if(!A||typeof A==="string"||!A.port)throw this.closeServer(),oY.createInvalidLoopbackAddressTypeError();let Q=A&&A.port;return`${aF.HTTP_PROTOCOL}${aF.LOCALHOST}:${Q}`}closeServer(){if(this.server){if(this.server.close(),typeof this.server.closeAllConnections==="function")this.server.closeAllConnections();this.server.unref(),this.server=void 0}}}var VIB=q(()=>{R7();P$A();IY();/*! @azure/msal-node v3.8.1 2025-10-29 */});var r$A;var Om1=q(()=>{R7();/*! @azure/msal-node v3.8.1 2025-10-29 */r$A=class r$A extends IH{constructor(A){super(A)}async acquireToken(A){let Q=await this.getDeviceCode(A);A.deviceCodeCallback(Q);let B=YY.nowSeconds(),G=await this.acquireTokenWithDeviceCode(A,Q),Z=new YI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return Z.validateTokenResponse(G),Z.handleServerTokenResponse(G,this.authority,B,A)}async getDeviceCode(A){let Q=this.createExtraQueryParameters(A),B=S3.appendQueryString(this.authority.deviceCodeEndpoint,Q),G=this.createQueryString(A),Z=this.createTokenRequestHeaders(),Y={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid};return this.executePostRequestToDeviceCodeEndpoint(B,G,Z,Y,A.correlationId)}createExtraQueryParameters(A){let Q=new Map;if(A.extraQueryParameters)oB.addExtraQueryParameters(Q,A.extraQueryParameters);return bE.mapToQueryString(Q)}async executePostRequestToDeviceCodeEndpoint(A,Q,B,G,Z){let{body:{user_code:Y,device_code:J,verification_uri:I,expires_in:X,interval:W,message:K}}=await this.sendPostRequest(G,A,{body:Q,headers:B},Z);return{userCode:Y,deviceCode:J,verificationUri:I,expiresIn:X,interval:W,message:K}}createQueryString(A){let Q=new Map;if(oB.addScopes(Q,A.scopes),oB.addClientId(Q,this.config.authOptions.clientId),A.extraQueryParameters)oB.addExtraQueryParameters(Q,A.extraQueryParameters);if(A.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)oB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return bE.mapToQueryString(Q)}continuePolling(A,Q,B){if(B)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),o0(_G.deviceCodePollingCancelled);else if(Q&&Q<A&&YY.nowSeconds()>Q)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${Q}`),o0(_G.userTimeoutReached);else if(YY.nowSeconds()>A){if(Q)this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${Q}`);throw this.logger.error(`Device code expired. Expiration time of device code was ${A}`),o0(_G.deviceCodeExpired)}return!0}async acquireTokenWithDeviceCode(A,Q){let B=this.createTokenQueryParameters(A),G=S3.appendQueryString(this.authority.tokenEndpoint,B),Z=this.createTokenRequestBody(A,Q),Y=this.createTokenRequestHeaders(),J=A.timeout?YY.nowSeconds()+A.timeout:void 0,I=YY.nowSeconds()+Q.expiresIn,X=Q.interval*1000;while(this.continuePolling(I,J,A.cancel)){let W={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid},K=await this.executePostToTokenEndpoint(G,Z,Y,W,A.correlationId);if(K.body&&K.body.error)if(K.body.error===f0.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await YY.delay(X);else throw this.logger.info("Unexpected error in polling from the server"),Gg1(d5A.postRequestFailed,K.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),K.body}throw this.logger.error("Polling stopped for unknown reasons."),o0(_G.deviceCodeUnknownError)}createTokenRequestBody(A,Q){let B=new Map;oB.addScopes(B,A.scopes),oB.addClientId(B,this.config.authOptions.clientId),oB.addGrantType(B,ez.DEVICE_CODE_GRANT),oB.addDeviceCode(B,Q.deviceCode);let G=A.correlationId||this.config.cryptoInterface.createNewGuid();if(oB.addCorrelationId(B,G),oB.addClientInfo(B),oB.addLibraryInfo(B,this.config.libraryInfo),oB.addApplicationTelemetry(B,this.config.telemetry.application),oB.addThrottling(B),this.serverTelemetryManager)oB.addServerTelemetry(B,this.serverTelemetryManager);if(!AZ.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)oB.addClaims(B,A.claims,this.config.authOptions.clientCapabilities);return bE.mapToQueryString(B)}}});var s$A;var EIB=q(()=>{IY();R7();JoA();P$A();VIB();Om1();E7A();/*! @azure/msal-node v3.8.1 2025-10-29 */s$A=class s$A extends Ce{constructor(A){super(A);if(this.config.broker.nativeBrokerPlugin)if(this.config.broker.nativeBrokerPlugin.isBrokerAvailable)this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions);else this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.");this.skus=Cp.makeExtraSkuString({libraryName:aF.MSAL_SKU,libraryVersion:w_})}async acquireTokenByDeviceCode(A){this.logger.info("acquireTokenByDeviceCode called",A.correlationId);let Q=Object.assign(A,await this.initializeBaseRequest(A)),B=this.initializeServerTelemetryManager(Db.acquireTokenByDeviceCode,Q.correlationId);try{let G=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),Z=await this.buildOauthClientConfiguration(G,Q.correlationId,"",B),Y=new r$A(Z);return this.logger.verbose("Device code client created",Q.correlationId),await Y.acquireToken(Q)}catch(G){if(G instanceof J3)G.setCorrelationId(Q.correlationId);throw B.cacheFailedRequest(G),G}}async acquireTokenInteractive(A){let Q=A.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",Q);let{openBrowser:B,successTemplate:G,errorTemplate:Z,windowHandle:Y,loopbackClient:J,...I}=A;if(this.nativeBrokerPlugin){let D={...I,clientId:this.config.auth.clientId,scopes:A.scopes||YH,redirectUri:A.redirectUri||"",authority:A.authority||this.config.auth.authority,correlationId:Q,extraParameters:{...I.extraQueryParameters,...I.tokenQueryParameters,[Be.X_CLIENT_EXTRA_SKU]:this.skus},accountId:I.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(D,Y)}if(A.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw oY.createRedirectUriNotSupportedError();A.redirectUri=""}let{verifier:X,challenge:W}=await this.cryptoProvider.generatePkceCodes(),K=J||new Mm1,V={},E=null;try{let D=K.listenForAuthCode(G,Z).then((M)=>{V=M}).catch((M)=>{E=M}),H=await this.waitForRedirectUri(K),F={...I,correlationId:Q,scopes:A.scopes||YH,redirectUri:H,responseMode:gS.QUERY,codeChallenge:W,codeChallengeMethod:TnA.S256},C=await this.getAuthCodeUrl(F);if(await B(C),await D,E)throw E;if(V.error)throw new iF(V.error,V.error_description,V.suberror);else if(!V.code)throw oY.createNoAuthCodeInResponseError();let $=V.client_info,O={code:V.code,codeVerifier:X,clientInfo:$||f0.EMPTY_STRING,...F};return await this.acquireTokenByCode(O)}finally{K.closeServer()}}async acquireTokenSilent(A){let Q=A.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",Q),this.nativeBrokerPlugin){let B={...A,clientId:this.config.auth.clientId,scopes:A.scopes||YH,redirectUri:A.redirectUri||"",authority:A.authority||this.config.auth.authority,correlationId:Q,extraParameters:{...A.tokenQueryParameters,[Be.X_CLIENT_EXTRA_SKU]:this.skus},accountId:A.account.nativeAccountId,forceRefresh:A.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(B)}if(A.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw oY.createRedirectUriNotSupportedError();A.redirectUri=""}return super.acquireTokenSilent(A)}async signOut(A){if(this.nativeBrokerPlugin&&A.account.nativeAccountId){let Q={clientId:this.config.auth.clientId,accountId:A.account.nativeAccountId,correlationId:A.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(Q)}await this.getTokenCache().removeAccount(A.account,A.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let A=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,A)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(A){return new Promise((Q,B)=>{let G=0,Z=setInterval(()=>{if($aA.TIMEOUT_MS/$aA.INTERVAL_MS<G){clearInterval(Z),B(oY.createLoopbackServerTimeoutError());return}try{let Y=A.getRedirectUri();clearInterval(Z),Q(Y);return}catch(Y){if(Y instanceof J3&&Y.errorCode===AW.noLoopbackServerExists.code){G++;return}clearInterval(Z),B(Y);return}},$aA.INTERVAL_MS)})}}});var ze;var IoA=q(()=>{R7();/*! @azure/msal-node v3.8.1 2025-10-29 */ze=class ze extends IH{constructor(A,Q){super(A);this.appTokenProvider=Q}async acquireToken(A){if(A.skipCache||A.claims)return this.executeTokenRequest(A,this.authority);let[Q,B]=await this.getCachedAuthenticationResult(A,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);if(Q){if(B===eG.PROACTIVELY_REFRESHED){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let G=!0;await this.executeTokenRequest(A,this.authority,G)}return Q}else return this.executeTokenRequest(A,this.authority)}async getCachedAuthenticationResult(A,Q,B,G,Z,Y){let J=Q,I=Q,X=eG.NOT_APPLICABLE,W;if(J.serializableCache&&J.persistencePlugin)W=new mL(J.serializableCache,!1),await J.persistencePlugin.beforeCacheAccess(W);let K=this.readAccessTokenFromCache(G,I.managedIdentityId?.id||J.authOptions.clientId,new ZI(A.scopes||[]),Z,A.correlationId);if(J.serializableCache&&J.persistencePlugin&&W)await J.persistencePlugin.afterCacheAccess(W);if(!K)return Y?.setCacheOutcome(eG.NO_CACHED_ACCESS_TOKEN),[null,eG.NO_CACHED_ACCESS_TOKEN];if(YY.isTokenExpired(K.expiresOn,J.systemOptions?.tokenRenewalOffsetSeconds||m5A))return Y?.setCacheOutcome(eG.CACHED_ACCESS_TOKEN_EXPIRED),[null,eG.CACHED_ACCESS_TOKEN_EXPIRED];if(K.refreshOn&&YY.isTokenExpired(K.refreshOn.toString(),0))X=eG.PROACTIVELY_REFRESHED,Y?.setCacheOutcome(eG.PROACTIVELY_REFRESHED);return[await YI.generateAuthenticationResult(B,G,{account:null,idToken:null,accessToken:K,refreshToken:null,appMetadata:null},!0,A),X]}readAccessTokenFromCache(A,Q,B,G,Z){let Y={homeAccountId:f0.EMPTY_STRING,environment:A.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:O7.ACCESS_TOKEN,clientId:Q,realm:A.tenant,target:ZI.createSearchScopes(B.asArray())},J=G.getAccessTokensByFilter(Y,Z);if(J.length<1)return null;else if(J.length>1)throw o0(_G.multipleMatchingTokens);return J[0]}async executeTokenRequest(A,Q,B){let G,Z;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let I={correlationId:A.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:A.scopes,claims:A.claims};Z=YY.nowSeconds();let X=await this.appTokenProvider(I);G={access_token:X.accessToken,expires_in:X.expiresInSeconds,refresh_in:X.refreshInSeconds,token_type:V8.BEARER}}else{let I=this.createTokenQueryParameters(A),X=S3.appendQueryString(Q.tokenEndpoint,I),W=await this.createTokenRequestBody(A),K=this.createTokenRequestHeaders(),V={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid};this.logger.info("Sending token request to endpoint: "+Q.tokenEndpoint),Z=YY.nowSeconds();let E=await this.executePostToTokenEndpoint(X,W,K,V,A.correlationId);G=E.body,G.status=E.status}let Y=new YI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return Y.validateTokenResponse(G,B),await Y.handleServerTokenResponse(G,this.authority,Z,A)}async createTokenRequestBody(A){let Q=new Map;if(oB.addClientId(Q,this.config.authOptions.clientId),oB.addScopes(Q,A.scopes,!1),oB.addGrantType(Q,ez.CLIENT_CREDENTIALS_GRANT),oB.addLibraryInfo(Q,this.config.libraryInfo),oB.addApplicationTelemetry(Q,this.config.telemetry.application),oB.addThrottling(Q),this.serverTelemetryManager)oB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(oB.addCorrelationId(Q,B),this.config.clientCredentials.clientSecret)oB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=A.clientAssertion||this.config.clientCredentials.clientAssertion;if(G)oB.addClientAssertion(Q,await nF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),oB.addClientAssertionType(Q,G.assertionType);if(!AZ.isEmptyObj(A.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)oB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return bE.mapToQueryString(Q)}}});var t$A;var Rm1=q(()=>{R7();v$A();/*! @azure/msal-node v3.8.1 2025-10-29 */t$A=class t$A extends IH{constructor(A){super(A)}async acquireToken(A){if(this.scopeSet=new ZI(A.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(A.oboAssertion),A.skipCache||A.claims)return this.executeTokenRequest(A,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(A)}catch(Q){return await this.executeTokenRequest(A,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(A){let Q=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,A);if(!Q)throw this.serverTelemetryManager?.setCacheOutcome(eG.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),o0(_G.tokenRefreshRequired);else if(YY.isTokenExpired(Q.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(eG.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),o0(_G.tokenRefreshRequired);let B=this.readIdTokenFromCacheForOBO(Q.homeAccountId,A.correlationId),G,Z=null;if(B){G=gnA.extractTokenClaims(B.secret,BU.base64Decode);let Y=G.oid||G.sub,J={homeAccountId:B.homeAccountId,environment:B.environment,tenantId:B.realm,username:f0.EMPTY_STRING,localAccountId:Y||f0.EMPTY_STRING};Z=this.cacheManager.getAccount(this.cacheManager.generateAccountKey(J),A.correlationId)}if(this.config.serverTelemetryManager)this.config.serverTelemetryManager.incrementCacheHits();return YI.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:Z,accessToken:Q,idToken:B,refreshToken:null,appMetadata:null},!0,A,G)}readIdTokenFromCacheForOBO(A,Q){let B={homeAccountId:A,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:O7.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},G=this.cacheManager.getIdTokensByFilter(B,Q);if(Object.values(G).length<1)return null;return Object.values(G)[0]}readAccessTokenFromCacheForOBO(A,Q){let B=Q.authenticationScheme||V8.BEARER,Z={credentialType:B&&B.toLowerCase()!==V8.BEARER.toLowerCase()?O7.ACCESS_TOKEN_WITH_AUTH_SCHEME:O7.ACCESS_TOKEN,clientId:A,target:ZI.createSearchScopes(this.scopeSet.asArray()),tokenType:B,keyId:Q.sshKid,requestedClaimsHash:Q.requestedClaimsHash,userAssertionHash:this.userAssertionHash},Y=this.cacheManager.getAccessTokensByFilter(Z,Q.correlationId),J=Y.length;if(J<1)return null;else if(J>1)throw o0(_G.multipleMatchingTokens);return Y[0]}async executeTokenRequest(A,Q,B){let G=this.createTokenQueryParameters(A),Z=S3.appendQueryString(Q.tokenEndpoint,G),Y=await this.createTokenRequestBody(A),J=this.createTokenRequestHeaders(),I={clientId:this.config.authOptions.clientId,authority:A.authority,scopes:A.scopes,claims:A.claims,authenticationScheme:A.authenticationScheme,resourceRequestMethod:A.resourceRequestMethod,resourceRequestUri:A.resourceRequestUri,shrClaims:A.shrClaims,sshKid:A.sshKid},X=YY.nowSeconds(),W=await this.executePostToTokenEndpoint(Z,Y,J,I,A.correlationId),K=new YI(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return K.validateTokenResponse(W.body),await K.handleServerTokenResponse(W.body,this.authority,X,A,void 0,B)}async createTokenRequestBody(A){let Q=new Map;if(oB.addClientId(Q,this.config.authOptions.clientId),oB.addScopes(Q,A.scopes),oB.addGrantType(Q,ez.JWT_BEARER),oB.addClientInfo(Q),oB.addLibraryInfo(Q,this.config.libraryInfo),oB.addApplicationTelemetry(Q,this.config.telemetry.application),oB.addThrottling(Q),this.serverTelemetryManager)oB.addServerTelemetry(Q,this.serverTelemetryManager);let B=A.correlationId||this.config.cryptoInterface.createNewGuid();if(oB.addCorrelationId(Q,B),oB.addRequestTokenUse(Q,Be.ON_BEHALF_OF),oB.addOboAssertion(Q,A.oboAssertion),this.config.clientCredentials.clientSecret)oB.addClientSecret(Q,this.config.clientCredentials.clientSecret);let G=this.config.clientCredentials.clientAssertion;if(G)oB.addClientAssertion(Q,await nF(G.assertion,this.config.authOptions.clientId,A.resourceRequestUri)),oB.addClientAssertionType(Q,G.assertionType);if(A.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)oB.addClaims(Q,A.claims,this.config.authOptions.clientCapabilities);return bE.mapToQueryString(Q)}}});var e$A;var DIB=q(()=>{JoA();ZoA();IY();R7();IoA();Rm1();/*! @azure/msal-node v3.8.1 2025-10-29 */e$A=class e$A extends Ce{constructor(A){super(A);let Q=!!this.config.auth.clientSecret,B=!!this.config.auth.clientAssertion,G=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(this.appTokenProvider)return;if(Q&&B||B&&G||Q&&G)throw o0(_G.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(!G)throw o0(_G.invalidClientCredential);else this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?$_.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):$_.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);this.appTokenProvider=void 0}SetAppTokenProvider(A){this.appTokenProvider=A}async acquireTokenByClientCredential(A){this.logger.info("acquireTokenByClientCredential called",A.correlationId);let Q;if(A.clientAssertion)Q={assertion:await nF(A.clientAssertion,this.config.auth.clientId),assertionType:aF.JWT_BEARER_ASSERTION_TYPE};let B=await this.initializeBaseRequest(A),G={...B,scopes:B.scopes.filter((V)=>!YH.includes(V))},Z={...A,...G,clientAssertion:Q},J=new S3(Z.authority).getUrlComponents().PathSegments[0];if(Object.values(tz).includes(J))throw o0(_G.missingTenantIdError);let I=process.env[S7B],X;if(Z.azureRegion!=="DisableMsalForceRegion")if(!Z.azureRegion&&I)X=I;else X=Z.azureRegion;let W={azureRegion:X,environmentRegion:process.env[P7B]},K=this.initializeServerTelemetryManager(Db.acquireTokenByClientCredential,Z.correlationId,Z.skipCache);try{let V=await this.createAuthority(Z.authority,Z.correlationId,W,A.azureCloudOptions),E=await this.buildOauthClientConfiguration(V,Z.correlationId,"",K),D=new ze(E,this.appTokenProvider);return this.logger.verbose("Client credential client created",Z.correlationId),await D.acquireToken(Z)}catch(V){if(V instanceof J3)V.setCorrelationId(Z.correlationId);throw K.cacheFailedRequest(V),V}}async acquireTokenOnBehalfOf(A){this.logger.info("acquireTokenOnBehalfOf called",A.correlationId);let Q={...A,...await this.initializeBaseRequest(A)};try{let B=await this.createAuthority(Q.authority,Q.correlationId,void 0,A.azureCloudOptions),G=await this.buildOauthClientConfiguration(B,Q.correlationId,"",void 0),Z=new t$A(G);return this.logger.verbose("On behalf of client created",Q.correlationId),await Z.acquireToken(Q)}catch(B){if(B instanceof J3)B.setCorrelationId(Q.correlationId);throw B}}}});function HIB(A){if(typeof A!=="string")return!1;let Q=new Date(A);return!isNaN(Q.getTime())&&Q.toISOString()===A}var FIB=q(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class _m1{constructor(A,Q,B){this.httpClientNoRetries=A,this.retryPolicy=Q,this.logger=B}async sendNetworkRequestAsyncHelper(A,Q,B){if(A===JY.GET)return this.httpClientNoRetries.sendGetRequestAsync(Q,B);else return this.httpClientNoRetries.sendPostRequestAsync(Q,B)}async sendNetworkRequestAsync(A,Q,B){let G=await this.sendNetworkRequestAsyncHelper(A,Q,B);if("isNewRequest"in this.retryPolicy)this.retryPolicy.isNewRequest=!0;let Z=0;while(await this.retryPolicy.pauseForRetry(G.status,Z,this.logger,G.headers[jZ.RETRY_AFTER]))G=await this.sendNetworkRequestAsyncHelper(A,Q,B),Z++;return G}async sendGetRequestAsync(A,Q){return this.sendNetworkRequestAsync(JY.GET,A,Q)}async sendPostRequestAsync(A,Q){return this.sendNetworkRequestAsync(JY.POST,A,Q)}}var CIB=q(()=>{R7();IY();/*! @azure/msal-node v3.8.1 2025-10-29 */});class ZU{constructor(A,Q,B,G,Z){this.logger=A,this.nodeStorage=Q,this.networkClient=B,this.cryptoProvider=G,this.disableInternalRetries=Z}async getServerTokenResponseAsync(A,Q,B,G){return this.getServerTokenResponse(A)}getServerTokenResponse(A){let Q,B;if(A.body.expires_on){if(HIB(A.body.expires_on))A.body.expires_on=new Date(A.body.expires_on).getTime()/1000;if(B=A.body.expires_on-YY.nowSeconds(),B>7200)Q=B/2}return{status:A.status,access_token:A.body.access_token,expires_in:B,scope:A.body.resource,token_type:A.body.token_type,refresh_in:Q,correlation_id:A.body.correlation_id||A.body.correlationId,error:typeof A.body.error==="string"?A.body.error:A.body.error?.code,error_description:A.body.message||(typeof A.body.error==="string"?A.body.error_description:A.body.error?.message),error_codes:A.body.error_codes,timestamp:A.body.timestamp,trace_id:A.body.trace_id}}async acquireTokenWithManagedIdentity(A,Q,B,G){let Z=this.createRequest(A.resource,Q);if(A.revokedTokenSha256Hash)this.logger.info(`[Managed Identity] The following claims are present in the request: ${A.claims}`),Z.queryParameters[eX.SHA256_TOKEN_TO_REFRESH]=A.revokedTokenSha256Hash;if(A.clientCapabilities?.length){let E=A.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${E}`),Z.queryParameters[eX.XMS_CC]=E}let Y=Z.headers;Y[jZ.CONTENT_TYPE]=f0.URL_FORM_CONTENT_TYPE;let J={headers:Y};if(Object.keys(Z.bodyParameters).length)J.body=Z.computeParametersBodyString();let I=this.disableInternalRetries?this.networkClient:new _m1(this.networkClient,Z.retryPolicy,this.logger),X=YY.nowSeconds(),W;try{if(Z.httpMethod===JY.POST)W=await I.sendPostRequestAsync(Z.computeUri(),J);else W=await I.sendGetRequestAsync(Z.computeUri(),J)}catch(E){if(E instanceof J3)throw E;else throw o0(_G.networkError)}let K=new YI(Q.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),V=await this.getServerTokenResponseAsync(W,I,Z,J);return K.validateTokenResponse(V,G),K.handleServerTokenResponse(V,B,X,A)}getManagedIdentityUserAssignedIdQueryParameterKey(A,Q,B){switch(A){case OJ.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${B?"2017+":"2019+"}] Adding user assigned client id to the request.`),B?Ue.MANAGED_IDENTITY_CLIENT_ID_2017:Ue.MANAGED_IDENTITY_CLIENT_ID;case OJ.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),Q?Ue.MANAGED_IDENTITY_RESOURCE_ID_IMDS:Ue.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case OJ.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),Ue.MANAGED_IDENTITY_OBJECT_ID;default:throw eI(Up)}}}var Ue;var $e=q(()=>{R7();IY();J7A();FIB();CIB();Ee();/*! @azure/msal-node v3.8.1 2025-10-29 */Ue={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"};ZU.getValidatedEnvVariableUrlString=(A,Q,B,G)=>{try{return new S3(Q).urlString}catch(Z){throw G.info(`[Managed Identity] ${B} managed identity is unavailable because the '${A}' environment variable is malformed.`),eI(Ve[A])}}});class Tm1{calculateDelay(A,Q){if(!A)return Q;let B=Math.round(parseFloat(A)*1000);if(isNaN(B))B=new Date(A).valueOf()-new Date().valueOf();return Math.max(Q,B)}}var zIB=q(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class XoA{constructor(){this.linearRetryStrategy=new Tm1}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return cw6}async pauseForRetry(A,Q,B,G){if(pw6.includes(A)&&Q<dw6){let Z=this.linearRetryStrategy.calculateDelay(G,XoA.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return B.verbose(`Retrying request in ${Z}ms (retry attempt: ${Q+1})`),await new Promise((Y)=>{return setTimeout(Y,Z)}),!0}return!1}}var dw6=3,cw6=1000,pw6;var UIB=q(()=>{xaA();zIB();/*! @azure/msal-node v3.8.1 2025-10-29 */pw6=[Y3.NOT_FOUND,Y3.REQUEST_TIMEOUT,Y3.TOO_MANY_REQUESTS,Y3.SERVER_ERROR,Y3.SERVICE_UNAVAILABLE,Y3.GATEWAY_TIMEOUT]});class yw{constructor(A,Q,B){this.httpMethod=A,this._baseEndpoint=Q,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=B||new XoA}computeUri(){let A=new Map;if(this.queryParameters)oB.addExtraQueryParameters(A,this.queryParameters);let Q=bE.mapToQueryString(A);return S3.appendQueryString(this._baseEndpoint,Q)}computeParametersBodyString(){let A=new Map;if(this.bodyParameters)oB.addExtraQueryParameters(A,this.bodyParameters);return bE.mapToQueryString(A)}}var we=q(()=>{R7();UIB();/*! @azure/msal-node v3.8.1 2025-10-29 */});var lw6="2019-08-01",Ne;var $IB=q(()=>{$e();IY();we();/*! @azure/msal-node v3.8.1 2025-10-29 */Ne=class Ne extends ZU{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.identityEndpoint=Y,this.identityHeader=J}static getEnvironmentVariables(){let A=process.env[T4.IDENTITY_ENDPOINT],Q=process.env[T4.IDENTITY_HEADER];return[A,Q]}static tryCreate(A,Q,B,G,Z){let[Y,J]=Ne.getEnvironmentVariables();if(!Y||!J)return A.info(`[Managed Identity] ${p4.APP_SERVICE} managed identity is unavailable because one or both of the '${T4.IDENTITY_HEADER}' and '${T4.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let I=Ne.getValidatedEnvVariableUrlString(T4.IDENTITY_ENDPOINT,Y,p4.APP_SERVICE,A);return A.info(`[Managed Identity] Environment variables validation passed for ${p4.APP_SERVICE} managed identity. Endpoint URI: ${I}. Creating ${p4.APP_SERVICE} managed identity.`),new Ne(A,Q,B,G,Z,Y,J)}createRequest(A,Q){let B=new yw(JY.GET,this.identityEndpoint);if(B.headers[QU.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,B.queryParameters[eX.API_VERSION]=lw6,B.queryParameters[eX.RESOURCE]=A,Q.idType!==OJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType)]=Q.id;return B}}});import{accessSync as iw6,constants as wIB,statSync as nw6,readFileSync as aw6}from"fs";import ow6 from"path";var rw6="2019-11-01",NIB="http://127.0.0.1:40342/metadata/identity/oauth2/token",qIB="N/A: himds executable exists",LIB,sw6,wp;var MIB=q(()=>{R7();we();$e();J7A();IY();Ee();/*! @azure/msal-node v3.8.1 2025-10-29 */LIB={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},sw6={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"};wp=class wp extends ZU{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.identityEndpoint=Y}static getEnvironmentVariables(){let A=process.env[T4.IDENTITY_ENDPOINT],Q=process.env[T4.IMDS_ENDPOINT];if(!A||!Q){let B=sw6[process.platform];try{iw6(B,wIB.F_OK|wIB.R_OK),A=NIB,Q=qIB}catch(G){}}return[A,Q]}static tryCreate(A,Q,B,G,Z,Y){let[J,I]=wp.getEnvironmentVariables();if(!J||!I)return A.info(`[Managed Identity] ${p4.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${T4.IDENTITY_ENDPOINT}' and '${T4.IMDS_ENDPOINT}' are not defined. ${p4.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(I===qIB)A.info(`[Managed Identity] ${p4.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${p4.AZURE_ARC} endpoint: ${NIB}. Creating ${p4.AZURE_ARC} managed identity.`);else{let X=wp.getValidatedEnvVariableUrlString(T4.IDENTITY_ENDPOINT,J,p4.AZURE_ARC,A);X.endsWith("/")&&X.slice(0,-1),wp.getValidatedEnvVariableUrlString(T4.IMDS_ENDPOINT,I,p4.AZURE_ARC,A),A.info(`[Managed Identity] Environment variables validation passed for ${p4.AZURE_ARC} managed identity. Endpoint URI: ${X}. Creating ${p4.AZURE_ARC} managed identity.`)}if(Y.idType!==OJ.SYSTEM_ASSIGNED)throw eI(MaA);return new wp(A,Q,B,G,Z,J)}createRequest(A){let Q=new yw(JY.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return Q.headers[QU.METADATA_HEADER_NAME]="true",Q.queryParameters[eX.API_VERSION]=rw6,Q.queryParameters[eX.RESOURCE]=A,Q}async getServerTokenResponseAsync(A,Q,B,G){let Z;if(A.status===Y3.UNAUTHORIZED){let Y=A.headers["www-authenticate"];if(!Y)throw eI(_aA);if(!Y.includes("Basic realm="))throw eI(TaA);let J=Y.split("Basic realm=")[1];if(!LIB.hasOwnProperty(process.platform))throw eI(LaA);let I=LIB[process.platform],X=ow6.basename(J);if(!X.endsWith(".key"))throw eI(waA);if(I+X!==J)throw eI(NaA);let W;try{W=await nw6(J).size}catch(E){throw eI(j$A)}if(W>v7B)throw eI(qaA);let K;try{K=aw6(J,fE.UTF8)}catch(E){throw eI(j$A)}let V=`Basic ${K}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),B.headers[QU.AUTHORIZATION_HEADER_NAME]=V;try{Z=await Q.sendGetRequestAsync(B.computeUri(),G)}catch(E){if(E instanceof J3)throw E;else throw o0(_G.networkError)}}return this.getServerTokenResponse(Z||A)}}});var qe;var OIB=q(()=>{we();$e();IY();J7A();Ee();/*! @azure/msal-node v3.8.1 2025-10-29 */qe=class qe extends ZU{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.msiEndpoint=Y}static getEnvironmentVariables(){return[process.env[T4.MSI_ENDPOINT]]}static tryCreate(A,Q,B,G,Z,Y){let[J]=qe.getEnvironmentVariables();if(!J)return A.info(`[Managed Identity] ${p4.CLOUD_SHELL} managed identity is unavailable because the '${T4.MSI_ENDPOINT} environment variable is not defined.`),null;let I=qe.getValidatedEnvVariableUrlString(T4.MSI_ENDPOINT,J,p4.CLOUD_SHELL,A);if(A.info(`[Managed Identity] Environment variable validation passed for ${p4.CLOUD_SHELL} managed identity. Endpoint URI: ${I}. Creating ${p4.CLOUD_SHELL} managed identity.`),Y.idType!==OJ.SYSTEM_ASSIGNED)throw eI(OaA);return new qe(A,Q,B,G,Z,J)}createRequest(A){let Q=new yw(JY.POST,this.msiEndpoint);return Q.headers[QU.METADATA_HEADER_NAME]="true",Q.bodyParameters[eX.RESOURCE]=A,Q}}});class jm1{constructor(A,Q,B){this.minExponentialBackoff=A,this.maxExponentialBackoff=Q,this.exponentialDeltaBackoff=B}calculateDelay(A){if(A===0)return this.minExponentialBackoff;return Math.min(Math.pow(2,A-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}}var RIB=q(()=>{/*! @azure/msal-node v3.8.1 2025-10-29 */});class Le{constructor(){this.exponentialRetryStrategy=new jm1(Le.MIN_EXPONENTIAL_BACKOFF_MS,Le.MAX_EXPONENTIAL_BACKOFF_MS,Le.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return QN6}static get MAX_EXPONENTIAL_BACKOFF_MS(){return BN6}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return GN6}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return ZN6}set isNewRequest(A){this._isNewRequest=A}async pauseForRetry(A,Q,B){if(this._isNewRequest)this._isNewRequest=!1,this.maxRetries=A===Y3.GONE?AN6:ew6;if((tw6.includes(A)||A>=Y3.SERVER_ERROR_RANGE_START&&A<=Y3.SERVER_ERROR_RANGE_END&&Q<this.maxRetries)&&Q<this.maxRetries){let G=A===Y3.GONE?Le.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(Q);return B.verbose(`Retrying request in ${G}ms (retry attempt: ${Q+1})`),await new Promise((Z)=>{return setTimeout(Z,G)}),!0}return!1}}var tw6,ew6=3,AN6=7,QN6=1000,BN6=4000,GN6=2000,ZN6=1e4;var _IB=q(()=>{xaA();RIB();/*! @azure/msal-node v3.8.1 2025-10-29 */tw6=[Y3.NOT_FOUND,Y3.REQUEST_TIMEOUT,Y3.GONE,Y3.TOO_MANY_REQUESTS]});var TIB="/metadata/identity/oauth2/token",YN6,JN6="2018-02-01",AwA;var jIB=q(()=>{we();$e();IY();_IB();/*! @azure/msal-node v3.8.1 2025-10-29 */YN6=`http://169.254.169.254${TIB}`;AwA=class AwA extends ZU{constructor(A,Q,B,G,Z,Y){super(A,Q,B,G,Z);this.identityEndpoint=Y}static tryCreate(A,Q,B,G,Z){let Y;if(process.env[T4.AZURE_POD_IDENTITY_AUTHORITY_HOST])A.info(`[Managed Identity] Environment variable ${T4.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${p4.IMDS} returned endpoint: ${process.env[T4.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),Y=AwA.getValidatedEnvVariableUrlString(T4.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[T4.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${TIB}`,p4.IMDS,A);else A.info(`[Managed Identity] Unable to find ${T4.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${p4.IMDS}, using the default endpoint.`),Y=YN6;return new AwA(A,Q,B,G,Z,Y)}createRequest(A,Q){let B=new yw(JY.GET,this.identityEndpoint);if(B.headers[QU.METADATA_HEADER_NAME]="true",B.queryParameters[eX.API_VERSION]=JN6,B.queryParameters[eX.RESOURCE]=A,Q.idType!==OJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType,!0)]=Q.id;return B.retryPolicy=new Le,B}}});var IN6="2019-07-01-preview",Me;var PIB=q(()=>{we();$e();IY();/*! @azure/msal-node v3.8.1 2025-10-29 */Me=class Me extends ZU{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.identityEndpoint=Y,this.identityHeader=J}static getEnvironmentVariables(){let A=process.env[T4.IDENTITY_ENDPOINT],Q=process.env[T4.IDENTITY_HEADER],B=process.env[T4.IDENTITY_SERVER_THUMBPRINT];return[A,Q,B]}static tryCreate(A,Q,B,G,Z,Y){let[J,I,X]=Me.getEnvironmentVariables();if(!J||!I||!X)return A.info(`[Managed Identity] ${p4.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${T4.IDENTITY_HEADER}', '${T4.IDENTITY_ENDPOINT}' or '${T4.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let W=Me.getValidatedEnvVariableUrlString(T4.IDENTITY_ENDPOINT,J,p4.SERVICE_FABRIC,A);if(A.info(`[Managed Identity] Environment variables validation passed for ${p4.SERVICE_FABRIC} managed identity. Endpoint URI: ${W}. Creating ${p4.SERVICE_FABRIC} managed identity.`),Y.idType!==OJ.SYSTEM_ASSIGNED)A.warning(`[Managed Identity] ${p4.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`);return new Me(A,Q,B,G,Z,J,I)}createRequest(A,Q){let B=new yw(JY.GET,this.identityEndpoint);if(B.headers[QU.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,B.queryParameters[eX.API_VERSION]=IN6,B.queryParameters[eX.RESOURCE]=A,Q.idType!==OJ.SYSTEM_ASSIGNED)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType)]=Q.id;return B}}});var XN6="2017-09-01",WN6,Oe;var SIB=q(()=>{$e();IY();we();/*! @azure/msal-node v3.8.1 2025-10-29 */WN6=`Only client id is supported for user-assigned managed identity in ${p4.MACHINE_LEARNING}.`;Oe=class Oe extends ZU{constructor(A,Q,B,G,Z,Y,J){super(A,Q,B,G,Z);this.msiEndpoint=Y,this.secret=J}static getEnvironmentVariables(){let A=process.env[T4.MSI_ENDPOINT],Q=process.env[T4.MSI_SECRET];return[A,Q]}static tryCreate(A,Q,B,G,Z){let[Y,J]=Oe.getEnvironmentVariables();if(!Y||!J)return A.info(`[Managed Identity] ${p4.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${T4.MSI_ENDPOINT}' and '${T4.MSI_SECRET}' environment variables are not defined.`),null;let I=Oe.getValidatedEnvVariableUrlString(T4.MSI_ENDPOINT,Y,p4.MACHINE_LEARNING,A);return A.info(`[Managed Identity] Environment variables validation passed for ${p4.MACHINE_LEARNING} managed identity. Endpoint URI: ${I}. Creating ${p4.MACHINE_LEARNING} managed identity.`),new Oe(A,Q,B,G,Z,Y,J)}createRequest(A,Q){let B=new yw(JY.GET,this.msiEndpoint);if(B.headers[QU.METADATA_HEADER_NAME]="true",B.headers[QU.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,B.queryParameters[eX.API_VERSION]=XN6,B.queryParameters[eX.RESOURCE]=A,Q.idType===OJ.SYSTEM_ASSIGNED)B.queryParameters[Ue.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[T4.DEFAULT_IDENTITY_CLIENT_ID];else if(Q.idType===OJ.USER_ASSIGNED_CLIENT_ID)B.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(Q.idType,!1,!0)]=Q.id;else throw Error(WN6);return B}}});class Cb{constructor(A,Q,B,G,Z){this.logger=A,this.nodeStorage=Q,this.networkClient=B,this.cryptoProvider=G,this.disableInternalRetries=Z}async sendManagedIdentityTokenRequest(A,Q,B,G){if(!Cb.identitySource)Cb.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,Q);return Cb.identitySource.acquireTokenWithManagedIdentity(A,Q,B,G)}allEnvironmentVariablesAreDefined(A){return Object.values(A).every((Q)=>{return Q!==void 0})}getManagedIdentitySource(){return Cb.sourceName=this.allEnvironmentVariablesAreDefined(Me.getEnvironmentVariables())?p4.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(Ne.getEnvironmentVariables())?p4.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Oe.getEnvironmentVariables())?p4.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(qe.getEnvironmentVariables())?p4.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(wp.getEnvironmentVariables())?p4.AZURE_ARC:p4.DEFAULT_TO_IMDS,Cb.sourceName}selectManagedIdentitySource(A,Q,B,G,Z,Y){let J=Me.tryCreate(A,Q,B,G,Z,Y)||Ne.tryCreate(A,Q,B,G,Z)||Oe.tryCreate(A,Q,B,G,Z)||qe.tryCreate(A,Q,B,G,Z,Y)||wp.tryCreate(A,Q,B,G,Z,Y)||AwA.tryCreate(A,Q,B,G,Z);if(!J)throw eI(RaA);return J}}var xIB=q(()=>{$IB();MIB();OIB();jIB();PIB();J7A();IY();SIB();Ee();/*! @azure/msal-node v3.8.1 2025-10-29 */});class nS{constructor(A){this.config=i7B(A||{}),this.logger=new AU(this.config.system.loggerOptions,YoA,w_);let Q={canonicalAuthority:f0.DEFAULT_AUTHORITY};if(!nS.nodeStorage)nS.nodeStorage=new He(this.logger,this.config.managedIdentityId.id,c5A,Q);this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Fb;let B={protocolMode:JH.AAD,knownAuthorities:[_u1],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new pW(_u1,this.networkClient,nS.nodeStorage,B,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new ze({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new Cb(this.logger,nS.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new De}async acquireToken(A){if(!A.resource)throw TG(l5A.urlEmptyError);let Q={forceRefresh:A.forceRefresh,resource:A.resource.replace("/.default",""),scopes:[A.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:A.claims,clientCapabilities:this.config.clientCapabilities};if(Q.forceRefresh)return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority);let[B,G]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(Q,this.config,this.cryptoProvider,this.fakeAuthority,nS.nodeStorage);if(Q.claims){let Z=this.managedIdentityClient.getManagedIdentitySource();if(B&&KN6.includes(Z)){let Y=this.hashUtils.sha256(B.accessToken).toString(fE.HEX);Q.revokedTokenSha256Hash=Y}return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority)}if(B){if(G===eG.PROACTIVELY_REFRESHED){this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let Z=!0;await this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority,Z)}return B}else return this.acquireTokenFromManagedIdentity(Q,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(A,Q,B,G){return this.managedIdentityClient.sendManagedIdentityTokenRequest(A,Q,B,G)}getManagedIdentitySource(){return Cb.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}var KN6;var yIB=q(()=>{R7();yu1();E7A();k$A();IoA();xIB();yaA();IY();SaA();/*! @azure/msal-node v3.8.1 2025-10-29 */KN6=[p4.SERVICE_FABRIC]});class Pm1{constructor(A,Q){this.client=A,this.partitionManager=Q}async beforeCacheAccess(A){let Q=await this.partitionManager.getKey(),B=await this.client.get(Q);A.tokenCache.deserialize(B)}async afterCacheAccess(A){if(A.cacheHasChanged){let Q=A.tokenCache.getKVStore(),B=Object.values(Q).filter((Z)=>tX.isAccountEntity(Z)),G;if(B.length>0){let Z=B[0];G=await this.partitionManager.extractKey(Z)}else G=await this.partitionManager.getKey();await this.client.set(G,A.tokenCache.serialize())}}}var vIB=q(()=>{R7();/*! @azure/msal-node v3.8.1 2025-10-29 */});var vw={};FG(vw,{version:()=>w_,internals:()=>Ru1,UsernamePasswordClient:()=>o$A,TokenCacheContext:()=>mL,TokenCache:()=>b$A,ServerError:()=>iF,ResponseMode:()=>gS,PublicClientApplication:()=>s$A,ProtocolMode:()=>JH,PromptValue:()=>ec,OnBehalfOfClient:()=>t$A,ManagedIdentitySourceNames:()=>p4,ManagedIdentityApplication:()=>nS,Logger:()=>AU,LogLevel:()=>MJ,InteractionRequiredAuthErrorMessage:()=>Mu1,InteractionRequiredAuthErrorCodes:()=>JaA,InteractionRequiredAuthError:()=>xw,DistributedCachePlugin:()=>Pm1,DeviceCodeClient:()=>r$A,CryptoProvider:()=>Fb,ConfidentialClientApplication:()=>e$A,ClientCredentialClient:()=>ze,ClientConfigurationErrorMessage:()=>Jg1,ClientConfigurationErrorCodes:()=>l5A,ClientConfigurationError:()=>i5A,ClientAuthErrorMessage:()=>Zg1,ClientAuthErrorCodes:()=>_G,ClientAuthError:()=>Jp,ClientAssertion:()=>$_,ClientApplication:()=>Ce,AzureCloudInstance:()=>Zb,AuthErrorMessage:()=>Bg1,AuthErrorCodes:()=>d5A,AuthError:()=>J3});var WoA=q(()=>{T7B();EIB();DIB();JoA();IoA();Om1();Rm1();yIB();Lm1();ZoA();du1();vIB();IY();k$A();R7();E7A();/*! @azure/msal-node v3.8.1 2025-10-29 */});var kIB=q(()=>{WoA()});function D7A(A,Q,B){let G=(Z)=>{return QwA.getToken.info(Z),new af({scopes:Array.isArray(A)?A:[A],getTokenOptions:B,message:Z})};if(!Q)throw G("No response");if(!Q.expiresOn)throw G('Response had no "expiresOn" property.');if(!Q.accessToken)throw G('Response had no "accessToken" property.')}function Sm1(A){let Q=A===null||A===void 0?void 0:A.authorityHost;if(!Q&&DUA)Q=process.env.AZURE_AUTHORITY_HOST;return Q!==null&&Q!==void 0?Q:BUA}function xm1(A,Q){if(!Q)Q=BUA;if(new RegExp(`${A}/?$`).test(Q))return Q;if(Q.endsWith("/"))return Q+A;else return`${Q}/${A}`}function fIB(A,Q,B){if(A==="adfs"&&Q||B)return[Q];return[]}function VoA(A){switch(A){case"error":return vw.LogLevel.Error;case"info":return vw.LogLevel.Info;case"verbose":return vw.LogLevel.Verbose;case"warning":return vw.LogLevel.Warning;default:return vw.LogLevel.Info}}function Re(A,Q,B){if(Q.name==="AuthError"||Q.name==="ClientAuthError"||Q.name==="BrowserAuthError"){let G=Q;switch(G.errorCode){case"endpoints_resolution_error":return QwA.info(M7(A,Q.message)),new G4(Q.message);case"device_code_polling_cancelled":return new v5A("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":QwA.info(M7(A,`Authentication returned errorCode ${G.errorCode}`));break;default:QwA.info(M7(A,`Failed to acquire token: ${Q.message}`));break}}if(Q.name==="ClientConfigurationError"||Q.name==="BrowserConfigurationAuthError"||Q.name==="AbortError"||Q.name==="AuthenticationError")return Q;if(Q.name==="NativeAuthError")return QwA.info(M7(A,`Error from the native broker: ${Q.message} with status code: ${Q.statusCode}`)),Q;return new af({scopes:A,getTokenOptions:B,message:Q.message})}function bIB(A){return{localAccountId:A.homeAccountId,environment:A.authority,username:A.username,homeAccountId:A.homeAccountId,tenantId:A.tenantId}}function hIB(A,Q){var B;return{authority:(B=Q.environment)!==null&&B!==void 0?B:d3B,homeAccountId:Q.homeAccountId,tenantId:Q.tenantId||m3B,username:Q.username,clientId:A,version:VN6}}var QwA,VN6="1.0",KoA=(A,Q=wnA?"Node":"Browser")=>(B,G,Z)=>{if(Z)return;switch(B){case vw.LogLevel.Error:A.info(`MSAL ${Q} V2 error: ${G}`);return;case vw.LogLevel.Info:A.info(`MSAL ${Q} V2 info message: ${G}`);return;case vw.LogLevel.Verbose:A.info(`MSAL ${Q} V2 verbose message: ${G}`);return;case vw.LogLevel.Warning:A.info(`MSAL ${Q} V2 warning: ${G}`);return}};var ym1=q(()=>{uF();sI();R5A();sc();dh1();kIB();QwA=l5("IdentityUtils")});function gIB(A){return rh1([{name:"imdsRetryPolicy",retry:({retryCount:Q,response:B})=>{if((B===null||B===void 0?void 0:B.status)!==404)return{skipStrategy:!0};return T8B(Q,{retryDelayInMs:A.startDelayInMs,maxRetryDelayInMs:EN6})}}],{maxRetries:A.maxRetries})}var EN6=64000;var uIB=q(()=>{sf();sc()});function FN6(A){var Q;if(!wUA(A))throw Error(`${zb}: Multiple scopes are not supported.`);let G=new URL(HN6,(Q=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)!==null&&Q!==void 0?Q:DN6),Z={Accept:"application/json"};return{url:`${G}`,method:"GET",headers:Lt(Z)}}var zb="ManagedIdentityCredential - IMDS",_e,DN6="http://169.254.169.254",HN6="/metadata/identity/oauth2/token",vm1;var mIB=q(()=>{sf();sc();sI();Pw();_e=l5(zb);vm1={name:"imdsMsi",async isAvailable(A){let{scopes:Q,identityClient:B,getTokenOptions:G}=A,Z=wUA(Q);if(!Z)return _e.info(`${zb}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!B)throw Error("Missing IdentityClient");let Y=FN6(Z);return nY.withSpan("ManagedIdentityCredential-pingImdsEndpoint",G!==null&&G!==void 0?G:{},async(J)=>{var I,X;Y.tracingOptions=J.tracingOptions;let W=D_(Y);W.timeout=((I=J.requestOptions)===null||I===void 0?void 0:I.timeout)||1000,W.allowInsecureConnection=!0;let K;try{_e.info(`${zb}: Pinging the Azure IMDS endpoint`),K=await B.sendRequest(W)}catch(V){if($nA(V))_e.verbose(`${zb}: Caught error ${V.name}: ${V.message}`);return _e.info(`${zb}: The Azure IMDS endpoint is unavailable`),!1}if(K.status===403){if((X=K.bodyAsText)===null||X===void 0?void 0:X.includes("unreachable"))return _e.info(`${zb}: The Azure IMDS endpoint is unavailable`),_e.info(`${zb}: ${K.bodyAsText}`),!1}return _e.info(`${zb}: The Azure IMDS endpoint is available`),!0})}}});function EoA(A){var Q,B;let G=A;if(G===void 0&&((B=(Q=globalThis.process)===null||Q===void 0?void 0:Q.env)===null||B===void 0?void 0:B.AZURE_REGIONAL_AUTHORITY_NAME)!==void 0)G=process.env.AZURE_REGIONAL_AUTHORITY_NAME;if(G===km1.AutoDiscoverRegion)return"AUTO_DISCOVER";return G}var km1;var dIB=q(()=>{(function(A){A.AutoDiscoverRegion="AutoDiscoverRegion",A.USWest="westus",A.USWest2="westus2",A.USCentral="centralus",A.USEast="eastus",A.USEast2="eastus2",A.USNorthCentral="northcentralus",A.USSouthCentral="southcentralus",A.USWestCentral="westcentralus",A.CanadaCentral="canadacentral",A.CanadaEast="canadaeast",A.BrazilSouth="brazilsouth",A.EuropeNorth="northeurope",A.EuropeWest="westeurope",A.UKSouth="uksouth",A.UKWest="ukwest",A.FranceCentral="francecentral",A.FranceSouth="francesouth",A.SwitzerlandNorth="switzerlandnorth",A.SwitzerlandWest="switzerlandwest",A.GermanyNorth="germanynorth",A.GermanyWestCentral="germanywestcentral",A.NorwayWest="norwaywest",A.NorwayEast="norwayeast",A.AsiaEast="eastasia",A.AsiaSouthEast="southeastasia",A.JapanEast="japaneast",A.JapanWest="japanwest",A.AustraliaEast="australiaeast",A.AustraliaSouthEast="australiasoutheast",A.AustraliaCentral="australiacentral",A.AustraliaCentral2="australiacentral2",A.IndiaCentral="centralindia",A.IndiaSouth="southindia",A.IndiaWest="westindia",A.KoreaSouth="koreasouth",A.KoreaCentral="koreacentral",A.UAECentral="uaecentral",A.UAENorth="uaenorth",A.SouthAfricaNorth="southafricanorth",A.SouthAfricaWest="southafricawest",A.ChinaNorth="chinanorth",A.ChinaEast="chinaeast",A.ChinaNorth2="chinanorth2",A.ChinaEast2="chinaeast2",A.GermanyCentral="germanycentral",A.GermanyNorthEast="germanynortheast",A.GovernmentUSVirginia="usgovvirginia",A.GovernmentUSIowa="usgoviowa",A.GovernmentUSArizona="usgovarizona",A.GovernmentUSTexas="usgovtexas",A.GovernmentUSDodEast="usdodeast",A.GovernmentUSDodCentral="usdodcentral"})(km1||(km1={}))});import cIB from"node:fs";function CN6(){try{return cIB.statSync("/.dockerenv"),!0}catch{return!1}}function zN6(){try{return cIB.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function bm1(){if(fm1===void 0)fm1=CN6()||zN6();return fm1}var fm1;var pIB=()=>{};import UN6 from"node:fs";function H7A(){if(hm1===void 0)hm1=$N6()||bm1();return hm1}var hm1,$N6=()=>{try{return UN6.statSync("/run/.containerenv"),!0}catch{return!1}};var gm1=q(()=>{pIB()});import iIB from"node:process";import wN6 from"node:os";import NN6 from"node:fs";var lIB=()=>{if(iIB.platform!=="linux")return!1;if(wN6.release().toLowerCase().includes("microsoft")){if(H7A())return!1;return!0}try{return NN6.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!H7A():!1}catch{return!1}},Np;var um1=q(()=>{gm1();Np=iIB.env.__IS_WSL_TEST__?lIB:lIB()});import nIB from"node:process";import aIB,{constants as qN6}from"node:fs/promises";var LN6,MN6=async()=>{return`${await LN6()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`},mm1=async()=>{if(Np)return MN6();return`${nIB.env.SYSTEMROOT||nIB.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`};var oIB=q(()=>{um1();um1();LN6=(()=>{let Q;return async function(){if(Q)return Q;let B="/etc/wsl.conf",G=!1;try{await aIB.access(B,qN6.F_OK),G=!0}catch{}if(!G)return"/mnt/";let Z=await aIB.readFile(B,{encoding:"utf8"}),Y=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(Z);if(!Y)return"/mnt/";return Q=Y.groups.mountPoint.trim(),Q=Q.endsWith("/")?Q:`${Q}/`,Q}})()});function qp(A,Q,B){let G=(Z)=>Object.defineProperty(A,Q,{value:Z,enumerable:!0,writable:!0});return Object.defineProperty(A,Q,{configurable:!0,enumerable:!0,get(){let Z=B();return G(Z),Z},set(Z){G(Z)}}),A}import{promisify as ON6}from"node:util";import RN6 from"node:process";import{execFile as _N6}from"node:child_process";async function dm1(){if(RN6.platform!=="darwin")throw Error("macOS only");let{stdout:A}=await TN6("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(A)?.groups.id??"com.apple.Safari"}var TN6;var rIB=q(()=>{TN6=ON6(_N6)});import jN6 from"node:process";import{promisify as PN6}from"node:util";import{execFile as SN6,execFileSync as Ru7}from"node:child_process";async function sIB(A,{humanReadableOutput:Q=!0,signal:B}={}){if(jN6.platform!=="darwin")throw Error("macOS only");let G=Q?[]:["-ss"],Z={};if(B)Z.signal=B;let{stdout:Y}=await xN6("osascript",["-e",A,G],Z);return Y.trim()}var xN6;var tIB=q(()=>{xN6=PN6(SN6)});async function cm1(A){return sIB(`tell application "Finder" to set app_path to application file id "${A}" as string
bundles/ClaudeAgentSDKCode/cli.js:982:`).map((V)=>V.trim())}let X=A.split(grA).pop();if(!X)return null;let W=X.replace(".lock","");return{workspaceFolders:B,port:parseInt(W),pid:G,ideName:Z,useWebSocket:Y,runningInWindows:J,authToken:I}}catch(Q){return r(Q),null}}async function sc1(A,Q,B=500){try{return new Promise((G)=>{let Z=ZR6({host:A,port:Q,timeout:B});Z.on("connect",()=>{Z.destroy(),G(!0)}),Z.on("error",()=>{G(!1)}),Z.on("timeout",()=>{Z.destroy(),G(!1)})})}catch(G){return!1}}function JR6(){let A=[],Q=jA(),B=pQ(),G=rc1(uQ(),"ide");if(Q.existsSync(G))A.push(G);if(B!=="wsl")return A;let Z=process.env.USERPROFILE;if(!Z)try{let Y=pG("powershell.exe -Command '$env:USERPROFILE'");if(Y)Z=Y.trim()}catch{f("Unable to get Windows USERPROFILE via PowerShell - IDE detection may be incomplete")}if(Z){let J=new f7A(process.env.WSL_DISTRO_NAME).toLocalPath(Z),I=urA(J,".claude","ide");if(Q.existsSync(I))A.push(I)}try{if(Q.existsSync("/mnt/c/Users")){let J=Q.readdirSync("/mnt/c/Users");for(let I of J){if(I.name==="Public"||I.name==="Default"||I.name==="Default User"||I.name==="All Users")continue;let X=rc1("/mnt/c/Users",I.name,".claude","ide");if(Q.existsSync(X))A.push(X)}}}catch(Y){r(Y instanceof Error?Y:Error(String(Y)))}return A}async function IR6(){try{let A=drA();for(let Q of A){let B=yEB(Q);if(!B){try{jA().unlinkSync(Q)}catch(Y){r(Y)}continue}let G=await mEB(B.runningInWindows,B.port),Z=!1;if(B.pid){if(!xEB(B.pid)){if(pQ()!=="wsl")Z=!0;else if(!await sc1(G,B.port))Z=!0}}else if(!await sc1(G,B.port))Z=!0;if(Z)try{jA().unlinkSync(Q)}catch(Y){r(Y)}}}catch(A){r(A)}}async function WR6(A){try{let Q=await VR6(A);if(s("tengu_ext_installed",{}),!c1().diffTool)i0((G)=>({...G,diffTool:"auto"}));return{installed:!0,error:null,installedVersion:Q,ideType:A}}catch(Q){s("tengu_ext_install_error",{});let B=Q instanceof Error?Q.message:String(Q);return r(Q),{installed:!1,error:B,installedVersion:null,ideType:A}}}async function _EB(){if(hrA)hrA.abort();hrA=v9();let A=hrA.signal;await IR6();let Q=Date.now();while(Date.now()-Q<30000&&!A.aborted){let B=await kwA(!1);if(A.aborted)return null;if(B.length===1)return B[0];await new Promise((G)=>setTimeout(G,1000))}return null}async function kwA(A){let Q=[];try{let B=process.env.CLAUDE_CODE_SSE_PORT,G=B?parseInt(B):null,Z=cQ(),Y=drA();for(let J of Y){let I=yEB(J);if(!I)continue;if(pQ()!=="wsl"&&BW()&&(!I.pid||!YR6(I.pid)))continue;let X=!1;if(process.env.CLAUDE_CODE_IDE_SKIP_VALID_CHECK==="true")X=!0;else if(I.port===G)X=!0;else X=I.workspaceFolders.some((E)=>{if(!E)return!1;let D=E;if(pQ()==="wsl"&&I.runningInWindows&&process.env.WSL_DISTRO_NAME){if(!REB(E,process.env.WSL_DISTRO_NAME))return!1;let F=urA(D);if(Z===F||Z.startsWith(F+grA))return!0;D=new f7A(process.env.WSL_DISTRO_NAME).toLocalPath(E)}let H=urA(D);if(pQ()==="windows"){let F=Z.replace(/^[a-zA-Z]:/,($)=>$.toUpperCase()),C=H.replace(/^[a-zA-Z]:/,($)=>$.toUpperCase());return F===C||F.startsWith(C+grA)}return Z===H||Z.startsWith(H+grA)});if(!X&&!A)continue;let W=I.ideName??(BW()?DV(bz.terminal):"IDE"),K=await mEB(I.runningInWindows,I.port),V;if(I.useWebSocket)V=`ws://${K}:${I.port}`;else V=`http://${K}:${I.port}/sse`;Q.push({url:V,name:W,workspaceFolders:I.workspaceFolders,port:I.port,isValid:X,authToken:I.authToken,ideRunningInWindows:I.runningInWindows})}if(!A&&G){let J=Q.filter((I)=>I.isValid&&I.port===G);if(J.length===1)return J}}catch(B){r(B)}return Q}async function vEB(A){await A.notification({method:"ide_connected",params:{pid:process.pid}})}function crA(A){return A.some((Q)=>Q.type==="connected"&&Q.name==="ide")}async function TEB(A){if(mrA(A)){let Q=kEB(A);if(Q)try{if((await j6(Q,["--list-extensions"],{env:tc1()})).stdout?.includes(KR6))return!0}catch{}}else if(O_(A))return ic1(A);return!1}async function VR6(A){if(mrA(A)){let Q=kEB(A);if(Q){let B=await ER6(Q);if(!B||SEB.lt(B,jEB())){await new Promise((Z)=>{setTimeout(Z,500)});let G=await j6(Q,["--force","--install-extension","anthropic.claude-code"],{env:tc1()});if(G.code!==0)throw Error(`${G.code}: ${G.error} ${G.stderr}`);B=jEB()}return B}}return null}function tc1(){if(pQ()==="linux")return{...process.env,DISPLAY:""};return}function jEB(){return{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}async function ER6(A){let{stdout:Q}=await EQ(A,["--list-extensions","--show-versions"],{env:tc1()}),B=Q?.split(`
bundles/ClaudeAgentSDKCode/cli.js:1073:`,Y};qtA.publicKeyToOpenSSH=function(A,Q){var B="ssh-rsa";Q=Q||"";var G=ZW.util.createBuffer();return $GA(G,B),Kx(G,A.e),Kx(G,A.n),B+" "+ZW.util.encode64(G.bytes())+" "+Q};qtA.privateKeyToOpenSSH=function(A,Q){if(!Q)return ZW.pki.privateKeyToPem(A);return ZW.pki.encryptRsaPrivateKey(A,Q,{legacy:!0,algorithm:"aes128"})};qtA.getPublicKeyFingerprint=function(A,Q){Q=Q||{};var B=Q.md||ZW.md.md5.create(),G="ssh-rsa",Z=ZW.util.createBuffer();$GA(Z,G),Kx(Z,A.e),Kx(Z,A.n),B.start(),B.update(Z.getBytes());var Y=B.digest();if(Q.encoding==="hex"){var J=Y.toHex();if(Q.delimiter)return J.match(/.{2}/g).join(Q.delimiter);return J}else if(Q.encoding==="binary")return Y.getBytes();else if(Q.encoding)throw Error('Unknown encoding "'+Q.encoding+'".');return Y};function Kx(A,Q){var B=Q.toString(16);if(B[0]>="8")B="00"+B;var G=ZW.util.hexToBytes(B);A.putInt32(G.length),A.putBytes(G)}function $GA(A,Q){A.putInt32(Q.length),A.putString(Q)}function NtA(){var A=ZW.md.sha1.create(),Q=arguments.length;for(var B=0;B<Q;++B)A.update(arguments[B]);return A.digest()}});var b$B=w((Bt7,f$B)=>{f$B.exports=F6();sp();Y$B();y_();lsA();KNA();q$B();JGA();R$B();T$B();P$B();Pl1();BtA();se();Ll1();yl1();y$B();kl1();Ol1();Fl1();WtA();QM();Ul1();k$B();ml1();T5()});import{execFile as Vf6}from"child_process";import{promisify as Df6}from"util";var Ef6,Yt7;var Yi1=q(()=>{Ef6=o(b$B(),1),Yt7=Df6(Vf6)});var Ji1=q(()=>{Yi1()});var h$B,Ff6,Cf6,zf6,Uf6,$f6,wf6,Nf6,qf6,Lf6,Et7,Mf6,Dt7;var g$B=q(()=>{C2();h$B=qw({command:bQ(),args:AI(bQ()).optional(),env:iR(bQ(),bQ()).optional()}),Ff6=qw({name:bQ(),email:bQ().email().optional(),url:bQ().url().optional()}),Cf6=qw({type:bQ(),url:bQ().url()}),zf6=h$B.partial(),Uf6=h$B.extend({platform_overrides:iR(bQ(),zf6).optional()}),$f6=qw({type:nR(["python","node","binary"]),entry_point:bQ(),mcp_config:Uf6}),wf6=qw({claude_desktop:bQ().optional(),platforms:AI(nR(["darwin","win32","linux"])).optional(),runtimes:qw({python:bQ().optional(),node:bQ().optional()}).optional()}).passthrough(),Nf6=qw({name:bQ(),description:bQ().optional()}),qf6=qw({name:bQ(),description:bQ().optional(),arguments:AI(bQ()).optional(),text:bQ()}),Lf6=qw({type:nR(["string","number","boolean","directory","file"]),title:bQ(),description:bQ(),required:ZV().optional(),default:rs([bQ(),ML(),ZV(),AI(bQ())]).optional(),multiple:ZV().optional(),sensitive:ZV().optional(),min:ML().optional(),max:ML().optional()}),Et7=iR(bQ(),rs([bQ(),ML(),ZV(),AI(bQ())])),Mf6=qw({$schema:bQ().optional(),dxt_version:bQ().optional().describe("@deprecated Use manifest_version instead"),manifest_version:bQ().optional(),name:bQ(),display_name:bQ().optional(),version:bQ(),description:bQ(),long_description:bQ().optional(),author:Ff6,repository:Cf6.optional(),homepage:bQ().url().optional(),documentation:bQ().url().optional(),support:bQ().url().optional(),icon:bQ().optional(),screenshots:AI(bQ()).optional(),server:$f6,tools:AI(Nf6).optional(),tools_generated:ZV().optional(),prompts:AI(qf6).optional(),prompts_generated:ZV().optional(),keywords:AI(bQ()).optional(),license:bQ().optional(),compatibility:wf6.optional(),user_config:iR(bQ(),Lf6).optional()}).refine((A)=>!!(A.dxt_version||A.manifest_version),{message:"Either 'dxt_version' (deprecated) or 'manifest_version' must be provided"}),Dt7=qw({status:nR(["signed","unsigned","self-signed"]),publisher:bQ().optional(),issuer:bQ().optional(),valid_from:bQ().optional(),valid_to:bQ().optional(),fingerprint:bQ().optional()})});var Of6,Rf6;var Ii1=q(()=>{Ji1();awA();g$B();Of6=o(qzB(),1),Rf6=o(OzB(),1)});var u$B=q(()=>{fp1();Ii1();awA();Rp1()});function Xi1(A,Q){if(typeof A==="string"){let B=A;for(let[G,Z]of Object.entries(Q)){let Y=new RegExp(`\\$\\{${G}\\}`,"g");if(B.match(Y))if(Array.isArray(Z))console.warn(`Cannot replace ${G} with array value in string context: "${A}"`,{key:G,replacement:Z});else B=B.replace(Y,Z)}return B}else if(Array.isArray(A)){let B=[];for(let G of A)if(typeof G==="string"&&G.match(/^\$\{user_config\.[^}]+\}$/)){let Z=G.match(/^\$\{([^}]+)\}$/)?.[1];if(Z&&Q[Z]){let Y=Q[Z];if(Array.isArray(Y))B.push(...Y);else B.push(Y)}else B.push(G)}else B.push(Xi1(G,Q));return B}else if(A&&typeof A==="object"){let B={};for(let[G,Z]of Object.entries(A))B[G]=Xi1(Z,Q);return B}return A}async function wGA(A){let{manifest:Q,extensionPath:B,systemDirs:G,userConfig:Z,pathSeparator:Y,logger:J}=A,I=Q.server?.mcp_config;if(!I)return;let X={...I};if(I.platform_overrides){if(process.platform in I.platform_overrides){let V=I.platform_overrides[process.platform];X.command=V.command||X.command,X.args=V.args||X.args,X.env=V.env||X.env}}if(_f6({manifest:Q,userConfig:Z})){J?.warn(`Extension ${Q.name} has missing required configuration, skipping MCP config`);return}let W={__dirname:B,pathSeparator:Y,"/":Y,...G},K={};if(Q.user_config){for(let[V,E]of Object.entries(Q.user_config))if(E.default!==void 0)K[V]=E.default}if(Z)Object.assign(K,Z);for(let[V,E]of Object.entries(K)){let D=`user_config.${V}`;if(Array.isArray(E))W[D]=E.map(String);else if(typeof E==="boolean")W[D]=E?"true":"false";else W[D]=String(E)}return X=Xi1(X,W),X}function m$B(A){return A===void 0||A===null||A===""}function _f6({manifest:A,userConfig:Q}){if(!A.user_config)return!1;let B=Q||{};for(let[G,Z]of Object.entries(A.user_config))if(Z.required){let Y=B[G];if(m$B(Y)||Array.isArray(Y)&&(Y.length===0||Y.some(m$B)))return!0}return!1}var d$B=()=>{};var wNA=q(()=>{Rp1();u$B();Ji1();fp1();Yi1();Ii1();awA();d$B()});function c$B(A){let Q=wsA.safeParse(A);if(!Q.success){let B=Q.error.flatten(),G=[...Object.entries(B.fieldErrors).map(([Z,Y])=>`${Z}: ${Y?.join(", ")}`),...B.formErrors||[]].filter(Boolean).join("; ");throw Error(`Invalid manifest: ${G}`)}return Q.data}function Tf6(A){let Q;try{Q=JSON.parse(A)}catch(B){throw Error(`Invalid JSON in manifest.json: ${B instanceof Error?B.message:String(B)}`)}return c$B(Q)}function LtA(A){let Q=new TextDecoder().decode(A);return Tf6(Q)}var Wi1=q(()=>{wNA()});import*as MtA from"path";function jf6(A){if(k8A(A))return!1;let Q=MtA.normalize(A);if(MtA.isAbsolute(Q))return!1;return!0}function Pf6(A,Q){Q.fileCount++;let B;if(Q.fileCount>Jl.MAX_FILE_COUNT)B=`Archive contains too many files: ${Q.fileCount} (max: ${Jl.MAX_FILE_COUNT})`;if(!jf6(A.name))B=`Unsafe file path detected: "${A.name}". Path traversal or absolute paths are not allowed.`;let G=A.originalSize||0;if(G>Jl.MAX_FILE_SIZE)B=`File "${A.name}" is too large: ${Math.round(G/1024/1024)}MB (max: ${Math.round(Jl.MAX_FILE_SIZE/1024/1024)}MB)`;if(Q.totalUncompressedSize+=G,Q.totalUncompressedSize>Jl.MAX_TOTAL_SIZE)B=`Archive total size is too large: ${Math.round(Q.totalUncompressedSize/1024/1024)}MB (max: ${Math.round(Jl.MAX_TOTAL_SIZE/1024/1024)}MB)`;let Z=Q.totalUncompressedSize/Q.compressedSize;if(Z>Jl.MAX_COMPRESSION_RATIO)B=`Suspicious compression ratio detected: ${Z.toFixed(1)}:1 (max: ${Jl.MAX_COMPRESSION_RATIO}:1). This may be a zip bomb.`;return B?{isValid:!1,error:B}:{isValid:!0}}async function Ki1(A){let Q=jA();if(!Q.existsSync(A))throw Error(`Zip file does not exist: ${A}`);try{let B=Q.readFileBytesSync(A),G=B.length;return await new Promise((Y,J)=>{let I={fileCount:0,totalUncompressedSize:0,compressedSize:G,errors:[]},X=rHB(new Uint8Array(B),{filter:(W)=>{let K=Pf6(W,I);if(!K.isValid)return J(Error(K.error)),X(),!1;return!0}},(W,K)=>{if(W)J(Error(`Failed to unzip file: ${W.message||String(W)}`));else f(`Zip extraction completed: ${I.fileCount} files, ${Math.round(I.totalUncompressedSize/1024)}KB uncompressed`),Y(K)})})}catch(B){let G=B instanceof Error?B.message:String(B);throw Error(`Failed to read or unzip file: ${G}`)}}var Jl;var Vi1=q(()=>{sHB();Q0();YQ();ZY();Jl={MAX_FILE_SIZE:536870912,MAX_TOTAL_SIZE:1073741824,MAX_FILE_COUNT:1e5,MAX_COMPRESSION_RATIO:50,MIN_COMPRESSION_RATIO:0.5}});import*as p$B from"os";import*as JAA from"path";function Il(){let A=pQ(),Q=p$B.homedir(),B={HOME:Q,DESKTOP:JAA.join(Q,"Desktop"),DOCUMENTS:JAA.join(Q,"Documents"),DOWNLOADS:JAA.join(Q,"Downloads")};switch(A){case"windows":{let G=process.env.USERPROFILE||Q;return{HOME:Q,DESKTOP:JAA.join(G,"Desktop"),DOCUMENTS:JAA.join(G,"Documents"),DOWNLOADS:JAA.join(G,"Downloads")}}case"linux":case"wsl":return{HOME:Q,DESKTOP:process.env.XDG_DESKTOP_DIR||B.DESKTOP,DOCUMENTS:process.env.XDG_DOCUMENTS_DIR||B.DOCUMENTS,DOWNLOADS:process.env.XDG_DOWNLOAD_DIR||B.DOWNLOADS};case"macos":default:{if(A==="unknown")f("Unknown platform detected, using default paths");return B}}}var NNA=q(()=>{Z8();Q0()});import{createHash as Di1}from"crypto";import{join as Xl,dirname as Sf6}from"path";import{writeFileSync as o$B}from"fs";function XM(A){return A.endsWith(".mcpb")||A.endsWith(".dxt")}function r$B(A){return A.startsWith("http://")||A.startsWith("https://")}function xf6(A){return Di1("sha256").update(A).digest("hex").substring(0,16)}function s$B(A){return Xl(A,".mcpb-cache")}function t$B(A,Q){let B=Di1("md5").update(Q).digest("hex").substring(0,8);return Xl(A,`${B}.metadata.json`)}function l$B(A,Q){try{let G=CQ().pluginConfigs?.[A]?.mcpServers?.[Q];if(!G)return null;return f(`Loaded user config for ${A}/${Q} from settings`),G}catch(B){let G=B instanceof Error?B:Error(String(B));return r(G),f(`Failed to load user config for ${A}/${Q}: ${B}`,{level:"error"}),null}}function i$B(A,Q,B){try{let G=CQ();if(!G.pluginConfigs)G.pluginConfigs={};if(!G.pluginConfigs[A])G.pluginConfigs[A]={};if(!G.pluginConfigs[A].mcpServers)G.pluginConfigs[A].mcpServers={};G.pluginConfigs[A].mcpServers[Q]=B;let Z=X2("userSettings",G);if(Z.error)throw Z.error;f(`Saved user config for ${A}/${Q} to user settings`)}catch(G){let Z=G instanceof Error?G:Error(String(G));throw r(Z),Error(`Failed to save user configuration for ${A}/${Q}: ${Z.message}`)}}function n$B(A,Q){let B=[];for(let[G,Z]of Object.entries(Q)){let Y=A[G];if(Z.required&&(Y===void 0||Y==="")){B.push(`${Z.title||G} is required but not provided`);continue}if(Y===void 0||Y==="")continue;if(Z.type==="string"){if(Array.isArray(Y)){if(!Z.multiple)B.push(`${Z.title||G} must be a string, not an array`);else if(!Y.every((J)=>typeof J==="string"))B.push(`${Z.title||G} must be an array of strings`)}else if(typeof Y!=="string")B.push(`${Z.title||G} must be a string`)}else if(Z.type==="number"&&typeof Y!=="number")B.push(`${Z.title||G} must be a number`);else if(Z.type==="boolean"&&typeof Y!=="boolean")B.push(`${Z.title||G} must be a boolean`);else if((Z.type==="file"||Z.type==="directory")&&typeof Y!=="string")B.push(`${Z.title||G} must be a path string`);if(Z.type==="number"&&typeof Y==="number"){if(Z.min!==void 0&&Y<Z.min)B.push(`${Z.title||G} must be at least ${Z.min}`);if(Z.max!==void 0&&Y>Z.max)B.push(`${Z.title||G} must be at most ${Z.max}`)}}return{valid:B.length===0,errors:B}}async function a$B(A,Q){let B=await wGA({manifest:A,extensionPath:Q,systemDirs:Il(),userConfig:{},pathSeparator:"/"});if(!B){let G=Error(`Failed to generate MCP server configuration from manifest "${A.name}"`);throw r(G),G}return B}async function e$B(A,Q){let B=jA(),G=t$B(A,Q);if(!B.existsSync(G))return null;try{let Z=B.readFileSync(G,{encoding:"utf-8"});return JSON.parse(Z)}catch(Z){let Y=Z instanceof Error?Z:Error(String(Z));return r(Y),f(`Failed to load MCPB cache metadata: ${Z}`,{level:"error"}),null}}async function Ei1(A,Q,B){let G=jA(),Z=t$B(A,Q);G.mkdirSync(A),G.writeFileSync(Z,JSON.stringify(B,null,2),{encoding:"utf-8",flush:!1})}async function yf6(A,Q,B){if(f(`Downloading MCPB from ${A}`),B)B(`Downloading ${A}...`);try{let G=await FQ.get(A,{timeout:120000,responseType:"arraybuffer",maxRedirects:5,onDownloadProgress:(Y)=>{if(Y.total&&B){let J=Math.round(Y.loaded/Y.total*100);B(`Downloading... ${J}%`)}}}),Z=new Uint8Array(G.data);if(o$B(Q,Buffer.from(Z)),f(`Downloaded ${Z.length} bytes to ${Q}`),B)B("Download complete");return Z}catch(G){let Z=G instanceof Error?G.message:String(G),Y=Error(`Failed to download MCPB file from ${A}: ${Z}`);throw r(Y),Y}}async function vf6(A,Q,B){let G=jA();if(B)B("Extracting files...");G.mkdirSync(Q);let Z=0,Y=Object.keys(A).length;for(let[J,I]of Object.entries(A)){let X=Xl(Q,J),W=Sf6(X);if(W!==Q&&!G.existsSync(W))G.mkdirSync(W);if(J.endsWith(".json")||J.endsWith(".js")||J.endsWith(".ts")||J.endsWith(".txt")||J.endsWith(".md")||J.endsWith(".yml")||J.endsWith(".yaml")){let V=new TextDecoder().decode(I);G.writeFileSync(X,V,{encoding:"utf-8",flush:!1})}else o$B(X,Buffer.from(I));if(Z++,B&&Z%10===0)B(`Extracted ${Z}/${Y} files`)}if(f(`Extracted ${Z} files to ${Q}`),B)B(`Extraction complete (${Z} files)`)}async function kf6(A,Q){let B=jA(),G=s$B(Q),Z=await e$B(G,A);if(!Z)return!0;if(!B.existsSync(Z.extractedPath))return f(`MCPB extraction path missing: ${Z.extractedPath}`),!0;if(!r$B(A)){let Y=Xl(Q,A);if(!B.existsSync(Y))return f(`MCPB source file missing: ${Y}`),!0;let J=B.statSync(Y),I=new Date(Z.cachedAt).getTime(),X=J.mtimeMs;if(X>I)return f(`MCPB file modified: ${new Date(X)} > ${new Date(I)}`),!0}return!1}async function qNA(A,Q,B,G,Z,Y){let J=jA(),I=s$B(Q);J.mkdirSync(I),f(`Loading MCPB from source: ${A}`);let X=await e$B(I,A);if(X&&!await kf6(A,Q)){f(`Using cached MCPB from ${X.extractedPath} (hash: ${X.contentHash})`);let O=Xl(X.extractedPath,"manifest.json");if(!J.existsSync(O)){let x=Error(`Cached manifest not found: ${O}`);throw r(x),x}let M=J.readFileSync(O,{encoding:"utf-8"}),L=new TextEncoder().encode(M),_=LtA(L);if(_.user_config&&Object.keys(_.user_config).length>0){let x=_.name,b=l$B(B,x),v=Z||b||{},m=n$B(v,_.user_config);if(Y||!m.valid)return{status:"needs-config",manifest:_,extractedPath:X.extractedPath,contentHash:X.contentHash,configSchema:_.user_config,existingConfig:b||{},validationErrors:m.valid?[]:m.errors};if(Z)i$B(B,x,Z);let u=await wGA({manifest:_,extensionPath:X.extractedPath,systemDirs:Il(),userConfig:v,pathSeparator:"/"});if(!u){let e=Error(`Failed to generate MCP server configuration from manifest "${_.name}"`);throw r(e),e}return{manifest:_,mcpConfig:u,extractedPath:X.extractedPath,contentHash:X.contentHash}}let T=await a$B(_,X.extractedPath);return{manifest:_,mcpConfig:T,extractedPath:X.extractedPath,contentHash:X.contentHash}}let W,K;if(r$B(A)){let O=Di1("md5").update(A).digest("hex").substring(0,8);K=Xl(I,`${O}.mcpb`),W=await yf6(A,K,G)}else{let O=Xl(Q,A);if(!J.existsSync(O)){let M=Error(`MCPB file not found: ${O}`);throw r(M),M}if(G)G(`Loading ${A}...`);W=J.readFileBytesSync(O),K=O}let V=xf6(W);if(f(`MCPB content hash: ${V}`),G)G("Extracting MCPB archive...");let E=await Ki1(K),D=E["manifest.json"];if(!D){let O=Error("No manifest.json found in MCPB file");throw r(O),O}let H=LtA(D);if(f(`MCPB manifest: ${H.name} v${H.version} by ${H.author.name}`),!H.server){let O=Error(`MCPB manifest for "${H.name}" does not define a server configuration`);throw r(O),O}let F=Xl(I,V);if(await vf6(E,F,G),H.user_config&&Object.keys(H.user_config).length>0){let O=H.name,M=l$B(B,O),L=Z||M||{},_=n$B(L,H.user_config);if(!_.valid){let b={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Ei1(I,A,b),{status:"needs-config",manifest:H,extractedPath:F,contentHash:V,configSchema:H.user_config,existingConfig:M||{},validationErrors:_.errors}}if(Z)i$B(B,O,Z);if(G)G("Generating MCP server configuration...");let T=await wGA({manifest:H,extensionPath:F,systemDirs:Il(),userConfig:L,pathSeparator:"/"});if(!T){let b=Error(`Failed to generate MCP server configuration from manifest "${H.name}"`);throw r(b),b}let x={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Ei1(I,A,x),{manifest:H,mcpConfig:T,extractedPath:F,contentHash:V}}if(G)G("Generating MCP server configuration...");let C=await a$B(H,F),$={source:A,contentHash:V,extractedPath:F,cachedAt:new Date().toISOString(),lastChecked:new Date().toISOString()};return await Ei1(I,A,$),f(`Successfully loaded MCPB: ${H.name} (extracted to ${F})`),{manifest:H,mcpConfig:C,extractedPath:F,contentHash:V}}var Hi1=q(()=>{m8();wNA();Wi1();Vi1();YQ();Q0();g1();NNA();gB()});import{join as ff6}from"path";async function AwB(A,Q,B){try{f(`Loading MCP servers from MCPB: ${Q}`);let G=A.repository,Z=await qNA(Q,A.path,G,(I)=>{f(`MCPB [${A.name}]: ${I}`)});if("status"in Z&&Z.status==="needs-config")return f(`MCPB ${Q} requires user configuration. `+`User can configure via: /plugin ‚Üí Manage plugins ‚Üí ${A.name} ‚Üí Configure`),null;let Y=Z,J=Y.manifest.name;return f(`Loaded MCP server "${J}" from MCPB (extracted to ${Y.extractedPath})`),{[J]:Y.mcpConfig}}catch(G){let Z=G instanceof Error?G.message:String(G);f(`Failed to load MCPB ${Q}: ${Z}`,{level:"error"});let Y=`${A.name}@${A.repository}`;if(Q.startsWith("http")&&(Z.includes("download")||Z.includes("network")))B.push({type:"mcpb-download-failed",source:Y,plugin:A.name,url:Q,reason:Z});else if(Z.includes("manifest")||Z.includes("user configuration"))B.push({type:"mcpb-invalid-manifest",source:Y,plugin:A.name,mcpbPath:Q,validationError:Z});else B.push({type:"mcpb-extract-failed",source:Y,plugin:A.name,mcpbPath:Q,reason:Z});return null}}async function bf6(A,Q=[]){let B={},G=Fi1(A.path,".mcp.json");if(G)B={...B,...G};if(A.manifest.mcpServers){let Z=A.manifest.mcpServers;if(typeof Z==="string")if(XM(Z)){let Y=await AwB(A,Z,Q);if(Y)B={...B,...Y}}else{let Y=Fi1(A.path,Z);if(Y)B={...B,...Y}}else if(Array.isArray(Z))for(let Y of Z)if(typeof Y==="string")if(XM(Y)){let J=await AwB(A,Y,Q);if(J)B={...B,...J}}else{let J=Fi1(A.path,Y);if(J)B={...B,...J}}else B={...B,...Y};else B={...B,...Z}}return Object.keys(B).length>0?B:void 0}function Fi1(A,Q){let B=jA(),G=ff6(A,Q);if(!B.existsSync(G))return null;try{let Z=B.readFileSync(G,{encoding:"utf-8"}),Y=JSON.parse(Z),J=Y.mcpServers||Y,I={};for(let[X,W]of Object.entries(J)){let K=hp.safeParse(W);if(K.success)I[X]=K.data;else f(`Invalid MCP server config for ${X} in ${G}: ${K.error.message}`,{level:"error"})}return I}catch(Z){return f(`Failed to load MCP servers from ${G}: ${Z}`,{level:"error"}),null}}function hf6(A,Q){let B={};for(let[G,Z]of Object.entries(A)){let Y=`plugin:${Q}:${G}`;B[Y]={...Z,scope:"dynamic"}}return B}function Ci1(A,Q){return A.replace(/\$\{CLAUDE_PLUGIN_ROOT\}/g,Q)}function gf6(A,Q){return A.replace(/\$\{user_config\.([^}]+)\}/g,(B,G)=>{let Z=Q[G];if(Z===void 0)throw Error(`Missing required user configuration value: ${G}. This should have been validated before variable substitution.`);return String(Z)})}function uf6(A,Q,B,G){let Z=[],Y=(J)=>{let I=Ci1(J,Q);if(B)I=gf6(I,B);let{expanded:X,missingVars:W}=hwA(I);return Z.push(...W),X};if(A.type==="stdio"||!A.type){let J={...A};if(J.command)J.command=Y(J.command);if(J.args)J.args=J.args.map((X)=>Y(X));let I={CLAUDE_PLUGIN_ROOT:Q,...J.env||{}};for(let[X,W]of Object.entries(I))if(X!=="CLAUDE_PLUGIN_ROOT")I[X]=Y(W);if(J.env=I,G&&Z.length>0){let X=[...new Set(Z)];f(`Missing environment variables in plugin MCP config: ${X.join(", ")}`,{level:"warn"})}return J}if(G&&Z.length>0){let J=[...new Set(Z)];f(`Missing environment variables in plugin MCP config: ${J.join(", ")}`,{level:"warn"})}return A}async function QwB(A,Q=[]){if(!A.enabled)return;let B=A.mcpServers||await bf6(A,Q);if(!B)return;let G={};for(let[Z,Y]of Object.entries(B))G[Z]=uf6(Y,A.path,void 0,Q);return hf6(G,A.name)}var zi1=q(()=>{YQ();Q0();u7A();Hi1()});function WM(A){switch(A.type){case"generic-error":return A.error;case"path-not-found":return`Path not found: ${A.path} (${A.component})`;case"git-auth-failed":return`Git authentication failed (${A.authType}): ${A.gitUrl}`;case"git-timeout":return`Git ${A.operation} timeout: ${A.gitUrl}`;case"network-error":return`Network error: ${A.url}${A.details?` - ${A.details}`:""}`;case"manifest-parse-error":return`Manifest parse error: ${A.parseError}`;case"manifest-validation-error":return`Manifest validation failed: ${A.validationErrors.join(", ")}`;case"plugin-not-found":return`Plugin ${A.pluginId} not found in marketplace ${A.marketplace}`;case"marketplace-not-found":return`Marketplace ${A.marketplace} not found`;case"marketplace-load-failed":return`Marketplace ${A.marketplace} failed to load: ${A.reason}`;case"repository-scan-failed":return`Repository scan failed: ${A.reason}`;case"mcp-config-invalid":return`MCP server ${A.serverName} invalid: ${A.validationError}`;case"hook-load-failed":return`Hook load failed: ${A.reason}`;case"component-load-failed":return`${A.component} load failed from ${A.path}: ${A.reason}`;case"mcpb-download-failed":return`Failed to download MCPB from ${A.url}: ${A.reason}`;case"mcpb-extract-failed":return`Failed to extract MCPB ${A.mcpbPath}: ${A.reason}`;case"mcpb-invalid-manifest":return`MCPB manifest invalid at ${A.mcpbPath}: ${A.validationError}`;case"lsp-config-invalid":return`Plugin "${A.plugin}" has invalid LSP server config for "${A.serverName}": ${A.validationError}`;case"lsp-server-start-failed":return`Plugin "${A.plugin}" failed to start LSP server "${A.serverName}": ${A.reason}`;case"lsp-server-crashed":if(A.signal)return`Plugin "${A.plugin}" LSP server "${A.serverName}" crashed with signal ${A.signal}`;return`Plugin "${A.plugin}" LSP server "${A.serverName}" crashed with exit code ${A.exitCode??"unknown"}`;case"lsp-request-timeout":return`Plugin "${A.plugin}" LSP server "${A.serverName}" timed out on ${A.method} request after ${A.timeoutMs}ms`;case"lsp-request-failed":return`Plugin "${A.plugin}" LSP server "${A.serverName}" ${A.method} request failed: ${A.error}`;case"marketplace-blocked-by-policy":return`Marketplace '${A.marketplace}' is not allowed by enterprise policy`}}import{join as OtA,dirname as mf6,parse as df6}from"path";function RtA(){return OtA(VM(),"managed-mcp.json")}function LNA(A,Q){if(!A)return{};let B={};for(let[G,Z]of Object.entries(A))B[G]={...Z,scope:Q};return B}function BwB(A){let Q=OtA(s1(),".mcp.json");KM(Q,JSON.stringify(A,null,2),{encoding:"utf8"})}function GwB(A){if(A.type!==void 0&&A.type!=="stdio")return null;let Q=A;return[Q.command,...Q.args]}function ZwB(A,Q){if(A.length!==Q.length)return!1;return A.every((B,G)=>B===Q[G])}function YwB(A,Q){let B=CQ();if(!B.deniedMcpServers)return!1;for(let G of B.deniedMcpServers)if(cwA(G)&&G.serverName===A)return!0;if(Q){let G=GwB(Q);if(G){for(let Z of B.deniedMcpServers)if(DsA(Z)&&ZwB(Z.serverCommand,G))return!0}}return!1}function Ui1(A,Q){if(YwB(A,Q))return!1;let B=CQ();if(!B.allowedMcpServers)return!0;if(B.allowedMcpServers.length===0)return!1;let G=B.allowedMcpServers.some(DsA);if(Q){let Z=GwB(Q);if(Z)if(G){for(let Y of B.allowedMcpServers)if(DsA(Y)&&ZwB(Y.serverCommand,Z))return!0;return!1}else{for(let Y of B.allowedMcpServers)if(cwA(Y)&&Y.serverName===A)return!0;return!1}else{for(let Y of B.allowedMcpServers)if(cwA(Y)&&Y.serverName===A)return!0;return!1}}for(let Z of B.allowedMcpServers)if(cwA(Z)&&Z.serverName===A)return!0;return!1}function cf6(A){let Q=[];function B(Z){let{expanded:Y,missingVars:J}=hwA(Z);return Q.push(...J),Y}let G;switch(A.type){case void 0:case"stdio":{let Z=A;G={...Z,command:B(Z.command),args:Z.args.map(B),env:Z.env?Bs(Z.env,B):void 0};break}case"sse":case"http":case"ws":{let Z=A;G={...Z,url:B(Z.url),headers:Z.headers?Bs(Z.headers,B):void 0};break}case"sse-ide":case"ws-ide":G=A;break;case"sdk":G=A;break}return{expanded:G,missingVars:[...new Set(Q)]}}function IAA(A,Q,B){if(A.match(/[^a-zA-Z0-9_-]/))throw Error(`Invalid name ${A}. Names can only contain letters, numbers, hyphens, and underscores.`);let G=hp.safeParse(Q);if(!G.success){let Y=G.error.errors.map((J)=>`${J.path.join(".")}: ${J.message}`).join(", ");throw Error(`Invalid configuration: ${Y}`)}let Z=G.data;if(YwB(A,Z))throw Error(`Cannot add MCP server "${A}": server is explicitly blocked by enterprise policy`);if(!Ui1(A,Z))throw Error(`Cannot add MCP server "${A}": not allowed by enterprise policy`);switch(B){case"project":{let{servers:Y}=$i1();if(Y[A])throw Error(`MCP server ${A} already exists in .mcp.json`);break}case"user":{if(c1().mcpServers?.[A])throw Error(`MCP server ${A} already exists in user config`);break}case"local":{if(a7().mcpServers?.[A])throw Error(`MCP server ${A} already exists in local config`);break}case"dynamic":throw Error("Cannot add MCP server to scope: dynamic");case"enterprise":throw Error("Cannot add MCP server to scope: enterprise")}switch(B){case"project":{let{servers:Y}=$i1(),J={};for(let[X,W]of Object.entries(Y)){let{scope:K,...V}=W;J[X]=V}J[A]=Z;let I={mcpServers:J};try{BwB(I)}catch(X){throw Error(`Failed to write to .mcp.json: ${X}`)}break}case"user":{i0((Y)=>({...Y,mcpServers:{...Y.mcpServers,[A]:Z}}));break}case"local":{oG((Y)=>({...Y,mcpServers:{...Y.mcpServers,[A]:Z}}));break}default:throw Error(`Cannot add MCP server to scope: ${B}`)}}function wi1(A,Q){switch(Q){case"project":{let{servers:B}=$i1();if(!B[A])throw Error(`No MCP server found with name: ${A} in .mcp.json`);let G={};for(let[Y,J]of Object.entries(B))if(Y!==A){let{scope:I,...X}=J;G[Y]=X}let Z={mcpServers:G};try{BwB(Z)}catch(Y){throw Error(`Failed to remove from .mcp.json: ${Y}`)}break}case"user":{if(!c1().mcpServers?.[A])throw Error(`No user-scoped MCP server found with name: ${A}`);i0((G)=>{let{[A]:Z,...Y}=G.mcpServers??{};return{...G,mcpServers:Y}});break}case"local":{if(!a7().mcpServers?.[A])throw Error(`No project-local MCP server found with name: ${A}`);oG((G)=>{let{[A]:Z,...Y}=G.mcpServers??{};return{...G,mcpServers:Y}});break}default:throw Error(`Cannot remove MCP server from scope: ${Q}`)}}function $i1(){if(!BV("projectSettings"))return{servers:{},errors:[]};let A=jA(),Q=OtA(s1(),".mcp.json");if(!A.existsSync(Q))return{servers:{},errors:[]};let{config:B,errors:G}=NGA({filePath:Q,expandVars:!0,scope:"project"});return{servers:B?.mcpServers?LNA(B.mcpServers,"project"):{},errors:G||[]}}function AX(A){let Q={project:"projectSettings",user:"userSettings",local:"localSettings"};if(A in Q&&!BV(Q[A]))return{servers:{},errors:[]};switch(A){case"project":{let B=jA(),G={},Z=[],Y=[],J=s1();while(J!==df6(J).root)Y.push(J),J=mf6(J);for(let I of Y.reverse()){let X=OtA(I,".mcp.json");if(!B.existsSync(X))continue;let{config:W,errors:K}=NGA({filePath:X,expandVars:!0,scope:"project"});if(W?.mcpServers)Object.assign(G,LNA(W.mcpServers,A));if(K.length>0)Z.push(...K)}return{servers:G,errors:Z}}case"user":{let B=c1().mcpServers;if(!B)return{servers:{},errors:[]};let{config:G,errors:Z}=MNA({configObject:{mcpServers:B},expandVars:!0,scope:"user"});return{servers:LNA(G?.mcpServers,A),errors:Z}}case"local":{let B=a7().mcpServers;if(!B)return{servers:{},errors:[]};let{config:G,errors:Z}=MNA({configObject:{mcpServers:B},expandVars:!0,scope:"local"});return{servers:LNA(G?.mcpServers,A),errors:Z}}case"enterprise":{let B=RtA();if(!jA().existsSync(B))return{servers:{},errors:[]};let{config:Z,errors:Y}=NGA({filePath:B,expandVars:!0,scope:"enterprise"});return{servers:LNA(Z?.mcpServers,A),errors:Y}}}}function Wl(A){let{servers:Q}=AX("enterprise"),{servers:B}=AX("user"),{servers:G}=AX("project"),{servers:Z}=AX("local");if(Q[A])return Q[A];if(Z[A])return Z[A];if(G[A])return G[A];if(B[A])return B[A];return null}async function k_(){let{servers:A}=AX("enterprise");if(Ni1()){let V={};for(let[E,D]of Object.entries(A)){if(!Ui1(E,D))continue;V[E]=D}return s("tengu_mcp_servers",{enterprise:Object.keys(V).length,global:0,project:0,user:0,plugin:0}),{servers:V,errors:[]}}let{servers:Q}=AX("user"),{servers:B}=AX("project"),{servers:G}=AX("local"),Z={},Y=await J7(),J=[];if(Y.errors.length>0)for(let V of Y.errors)if(V.type==="mcp-config-invalid"||V.type==="mcpb-download-failed"||V.type==="mcpb-extract-failed"||V.type==="mcpb-invalid-manifest"){let E=`Plugin MCP loading error - ${V.type}: ${WM(V)}`;r(Error(E))}else{let E=V.type;f(`Plugin not available for MCP: ${V.source} - error type: ${E}`)}for(let V of Y.enabled){let E=await QwB(V,J);if(E)Object.assign(Z,E)}if(J.length>0)for(let V of J){let E=`Plugin MCP server error - ${V.type}: ${WM(V)}`;r(Error(E))}let I={};for(let[V,E]of Object.entries(B))if(_tA(V)==="approved")I[V]=E;let X=Object.assign({},Z,Q,I,G),W={};for(let[V,E]of Object.entries(X)){if(!Ui1(V,E))continue;W[V]=E}let K={enterprise:0,global:0,project:0,user:0,plugin:0};for(let V of Object.values(W))if(V.scope==="enterprise")K.enterprise++;else if(V.scope==="user")K.global++;else if(V.scope==="project")K.project++;else if(V.scope==="local")K.user++;else if(V.scope==="dynamic")K.plugin++;return s("tengu_mcp_servers",K),{servers:W,errors:J}}function MNA(A){let{configObject:Q,expandVars:B,scope:G,filePath:Z}=A,Y=BHB.safeParse(Q);if(!Y.success)return{config:null,errors:Y.error.issues.map((X)=>({...Z&&{file:Z},path:X.path.join("."),message:"Does not adhere to MCP server configuration schema",mcpErrorMetadata:{scope:G,severity:"fatal"}}))};let J=[],I={};for(let[X,W]of Object.entries(Y.data.mcpServers)){let K=W;if(B){let{expanded:V,missingVars:E}=cf6(W);if(E.length>0)J.push({...Z&&{file:Z},path:`mcpServers.${X}`,message:`Missing environment variables: ${E.join(", ")}`,suggestion:`Set the following environment variables: ${E.join(", ")}`,mcpErrorMetadata:{scope:G,serverName:X,severity:"warning"}});K=V}if(pQ()==="windows"&&(!K.type||K.type==="stdio")&&(K.command==="npx"||K.command.endsWith("\\npx")||K.command.endsWith("/npx")))J.push({...Z&&{file:Z},path:`mcpServers.${X}`,message:"Windows requires 'cmd /c' wrapper to execute npx",suggestion:'Change command to "cmd" with args ["/c", "npx", ...]. See: https://code.claude.com/docs/en/mcp#configure-mcp-servers',mcpErrorMetadata:{scope:G,serverName:X,severity:"warning"}});I[X]=K}return{config:{mcpServers:I},errors:J}}function NGA(A){let{filePath:Q,expandVars:B,scope:G}=A,Z=jA();if(!Z.existsSync(Q))return{config:null,errors:[{file:Q,path:"",message:`MCP config file not found: ${Q}`,suggestion:"Check that the file path is correct",mcpErrorMetadata:{scope:G,severity:"fatal"}}]};let Y;try{Y=Z.readFileSync(Q,{encoding:"utf8"})}catch(I){return{config:null,errors:[{file:Q,path:"",message:`Failed to read file: ${I}`,suggestion:"Check file permissions and ensure the file exists",mcpErrorMetadata:{scope:G,severity:"fatal"}}]}}let J=d8(Y);if(!J)return{config:null,errors:[{file:Q,path:"",message:"MCP config is not a valid JSON",suggestion:"Fix the JSON syntax errors in the file",mcpErrorMetadata:{scope:G,severity:"fatal"}}]};return MNA({configObject:J,expandVars:B,scope:G,filePath:Q})}function Ni1(){let{config:A}=NGA({filePath:RtA(),expandVars:!0,scope:"enterprise"});return A!==null}function JwB(A){return Object.values(A).every((Q)=>Q.type==="sdk"&&Q.name==="claude-vscode")}function ONA(A){return(a7().disabledMcpServers||[]).includes(A)}function qi1(A,Q){oG((B)=>{let G=B.disabledMcpServers||[];if(Q)G=G.filter((Z)=>Z!==A);else if(!G.includes(A))G=[...G,A];return{...B,disabledMcpServers:G}})}var cw=q(()=>{vQ();YQ();vI();_0();cuA();pB();N9();u7A();_J();Z8();gB();me();iI();g1();Q0();GW();r7A();zi1()});function pf6(A){return A.scope==="project"||A.scope==="local"}async function lf6(A,Q){if(!Q.headersHelper)return null;if("scope"in Q&&pf6(Q)&&!I4()){if(!tZ(!0)){let G=Error(`Security: headersHelper for MCP server '${A}' executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);return Dq("MCP headersHelper invoked before trust check",G),s("tengu_mcp_headersHelper_missing_trust",{}),null}}try{p0(A,"Executing headersHelper to get dynamic headers");let B=await j6(Q.headersHelper,[],{shell:!0,timeout:1e4});if(B.code!==0||!B.stdout)throw Error(`headersHelper for MCP server '${A}' did not return a valid value`);let G=B.stdout.trim(),Z=JSON.parse(G);if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw Error(`headersHelper for MCP server '${A}' must return a JSON object with string key-value pairs`);for(let[Y,J]of Object.entries(Z))if(typeof J!=="string")throw Error(`headersHelper for MCP server '${A}' returned non-string value for key "${Y}": ${typeof J}`);return p0(A,`Successfully retrieved ${Object.keys(Z).length} headers from headersHelper`),Z}catch(B){return nZ(A,`Error getting headers from headersHelper: ${B instanceof Error?B.message:String(B)}`),r(Error(`Error getting MCP headers from headersHelper for server '${A}': ${B instanceof Error?B.message:String(B)}`)),null}}async function TtA(A,Q){let B=Q.headers||{},G=await lf6(A,Q)||{};return{...B,...G}}var IwB=q(()=>{Q3();vQ();g1();Q0();_0();u0()});class Li1{serverName;sendMcpMessage;isClosed=!1;onclose;onerror;onmessage;constructor(A,Q){this.serverName=A;this.sendMcpMessage=Q}async start(){}async send(A){if(this.isClosed)throw Error("Transport is closed");let Q=await this.sendMcpMessage(this.serverName,A);if(this.onmessage)this.onmessage(Q)}async close(){if(this.isClosed)return;this.isClosed=!0,this.onclose?.()}}function if6(A,Q){return null;switch(Q){case"navigate":if(typeof A.url==="string")try{let G=new URL(A.url);B.push(G.hostname)}catch{B.push(RNA(A.url,30))}break;case"find":if(typeof A.query==="string")B.push(`pattern: ${RNA(A.query,30)}`);break;case"computer":if(typeof A.action==="string"){let G=A.action;if(G==="left_click"||G==="right_click"||G==="double_click"||G==="middle_click")if(typeof A.ref==="string")B.push(`${G} on ${A.ref}`);else if(Array.isArray(A.coordinate))B.push(`${G} at (${A.coordinate.join(", ")})`);else B.push(G);else if(G==="type"&&typeof A.text==="string")B.push(`type "${RNA(A.text,15)}"`);else if(G==="key"&&typeof A.text==="string")B.push(`key ${A.text}`);else if(G==="scroll"&&typeof A.scroll_direction==="string")B.push(`scroll ${A.scroll_direction}`);else if(G==="wait"&&typeof A.duration==="number")B.push(`wait ${A.duration}ms`);else if(G==="left_click_drag")B.push("drag");else B.push(G)}break;case"gif_creator":if(typeof A.action==="string")B.push(`${A.action}`);break;case"resize_window":if(typeof A.width==="number"&&typeof A.height==="number")B.push(`${A.width}x${A.height}`);break;case"read_console_messages":if(typeof A.pattern==="string")B.push(`pattern: ${RNA(A.pattern,20)}`);if(A.onlyErrors===!0)B.push("errors only");break;case"read_network_requests":if(typeof A.urlPattern==="string")B.push(`pattern: ${RNA(A.urlPattern,20)}`);break;case"shortcuts_get":if(typeof A.command==="string")B.push(`/${A.command}`);else if(typeof A.shortcutId==="string")B.push(`shortcut_id: ${A.shortcutId}`);break}}function nf6(A,Q,B){return null;switch(Q){case"navigate":G="Navigation completed";break;case"tabs_create":G="Tab created";break;case"form_input":G="Input completed";break;case"computer":G="Action completed";break;case"resize_window":G="Window resized";break;case"find":G="Search completed";break;case"gif_creator":G="GIF action completed";break;case"read_console_messages":G="Console messages retrieved";break;case"read_network_requests":G="Network requests retrieved";break;case"shortcuts_get":G="Shortcut retrieved";break;case"shortcuts_list":G="Shortcuts retrieved";break}}function WwB(A){return{userFacingName(Q){return A},renderToolUseMessage(Q){return null},renderToolResultMessage(Q,B,{verbose:G}){if(!XwB(Q))return null;return fwA(Q,[],{verbose:G})}}}function RNA(A,Q){return A.length>Q?A.slice(0,Q)+"‚Ä¶":A}function XwB(A){return typeof A==="object"&&A!==null}var _NA;var Mi1=q(()=>{hA();g4();gdA();Bp1();r7A();_J();_NA=o(KA(),1)});function jtA(){return parseInt(process.env.MCP_TIMEOUT||"",10)||30000}function of6(){return parseInt(process.env.MCP_SERVER_CONNECTION_BATCH_SIZE||"",10)||3}function sf6(A){return!A.name.startsWith("mcp__ide__")||rf6.includes(A.name)}function KwB(A,Q){return`${A}-${JSON.stringify(Q)}`}async function qGA(A,Q){let B=KwB(A,Q);try{let G=await XAA(A,Q);if(G.type==="connected")await G.cleanup()}catch{}XAA.cache.delete(B)}async function Rb(A,Q,B){return HwB({client:B,tool:A,args:Q,signal:v9().signal})}async function WAA(A,Q){try{await qGA(A,Q);let B=await XAA(A,Q);if(B.type!=="connected")return{client:B,tools:[],commands:[]};let G=!!B.capabilities?.resources,[Z,Y,J]=await Promise.all([StA(B),EwB(B),G?VwB(B):Promise.resolve([])]),I=[];if(G){if(![_b,Tb].some((W)=>Z.some((K)=>K.name===W.name)))I.push(_b,Tb)}return{client:B,tools:[...Z,...I],commands:Y,resources:J.length>0?J:void 0}}catch(B){return nZ(A,`Error during reconnection: ${B instanceof Error?B.message:String(B)}`),{client:{name:A,type:"failed",config:Q},tools:[],commands:[]}}}async function tf6(A,Q,B){for(let G=0;G<A.length;G+=Q){let Z=A.slice(G,G+Q);await Promise.all(Z.map(B))}}async function Oi1(A,Q){let B=!1,G=Object.entries(Q??(await k_()).servers),Z=G.length,Y=G.filter(([K,V])=>V.type==="stdio").length,J=G.filter(([K,V])=>V.type==="sse").length,I=G.filter(([K,V])=>V.type==="http").length,X=G.filter(([K,V])=>V.type==="sse-ide").length,W=G.filter(([K,V])=>V.type==="ws-ide").length;await tf6(G,of6(),async([K,V])=>{try{if(ONA(K)){A({client:{name:K,type:"disabled",config:V},tools:[],commands:[]});return}let D=await XAA(K,V,{totalServers:Z,stdioCount:Y,sseCount:J,httpCount:I,sseIdeCount:X,wsIdeCount:W});if(D.type!=="connected"){A({client:D,tools:[],commands:[]});return}let H=!!D.capabilities?.resources,[F,C,$]=await Promise.all([StA(D),EwB(D),H?VwB(D):Promise.resolve([])]),O=[];if(H&&!B)B=!0,O.push(_b,Tb);A({client:D,tools:[...F,...O],commands:C,resources:$.length>0?$:void 0})}catch(E){nZ(K,`Error fetching tools/commands/resources: ${E instanceof Error?E.message:String(E)}`),A({client:{name:K,type:"failed",config:V},tools:[],commands:[]})}})}async function DwB(A,Q){switch(A.type){case"text":return[{type:"text",text:A.text}];case"image":{let B=Buffer.from(String(A.data),"base64"),G=await ys(B,void 0,A.mimeType);return[{type:"image",source:{data:G.base64,media_type:G.mediaType,type:"base64"}}]}case"resource":{let B=A.resource,G=`[Resource from ${Q} at ${B.uri}] `;if("text"in B)return[{type:"text",text:`${G}${B.text}`}];else if("blob"in B)if(af6.has(B.mimeType??"")){let Y=Buffer.from(B.blob,"base64"),J=await ys(Y,void 0,B.mimeType),I=[];if(G)I.push({type:"text",text:G});return I.push({type:"image",source:{data:J.base64,media_type:J.mediaType,type:"base64"}}),I}else return[{type:"text",text:`${G}Base64 data (${B.mimeType||"unknown type"}) ${B.blob}`}];return[]}case"resource_link":{let B=A,G=`[Resource link: ${B.name}] ${B.uri}`;if(B.description)G+=` (${B.description})`;return[{type:"text",text:G}]}default:return[]}}function PtA(A,Q=2){if(A===null)return"null";if(Array.isArray(A)){if(A.length===0)return"[]";return`[${PtA(A[0],Q-1)}]`}if(typeof A==="object"){if(Q<=0)return"{...}";let G=Object.entries(A).slice(0,10).map(([Y,J])=>`${Y}: ${PtA(J,Q-1)}`),Z=Object.keys(A).length>10?", ...":"";return`{${G.join(", ")}${Z}}`}return typeof A}async function Ri1(A,Q,B){if(A&&typeof A==="object"){if("toolResult"in A)return{content:String(A.toolResult),type:"toolResult"};if("structuredContent"in A&&A.structuredContent!==void 0)return{content:JSON.stringify(A.structuredContent),type:"structuredContent",schema:PtA(A.structuredContent)};if("content"in A&&Array.isArray(A.content)){let Z=(await Promise.all(A.content.map((Y)=>DwB(Y,B)))).flat();return{content:Z,type:"contentArray",schema:PtA(Z)}}}let G=`Unexpected response format from tool ${Q}`;throw nZ(B,G),Error(G)}async function ef6(A,Q,B){let{content:G}=await Ri1(A,Q,B);if(B!=="ide")return await lEB(G);return G}async function HwB({client:{client:A,name:Q},tool:B,args:G,meta:Z,signal:Y}){let J=Date.now(),I;try{p0(Q,`Calling MCP tool: ${B}`),I=setInterval(()=>{let V=Date.now()-J,D=`${Math.floor(V/1000)}s`;p0(Q,`Tool '${B}' still running (${D} elapsed)`)},30000);let X=await A.callTool({name:B,arguments:G,_meta:Z},q_,{signal:Y,timeout:KAA()});if("isError"in X&&X.isError){let V="Unknown error";if("content"in X&&Array.isArray(X.content)&&X.content.length>0){let E=X.content[0];if(E&&typeof E==="object"&&"text"in E)V=E.text}else if("error"in X)V=String(X.error);throw nZ(Q,V),Error(V)}let W=Date.now()-J,K=W<1000?`${W}ms`:W<60000?`${Math.floor(W/1000)}s`:`${Math.floor(W/60000)}m ${Math.floor(W%60000/1000)}s`;return p0(Q,`Tool '${B}' completed successfully in ${K}`),await ef6(X,B,Q)}catch(X){if(I!==void 0)clearInterval(I);let W=Date.now()-J;if(X instanceof Error&&X.name!=="AbortError")p0(Q,`Tool '${B}' failed after ${Math.floor(W/1000)}s: ${X.message}`);if(!(X instanceof Error)||X.name!=="AbortError")throw X}finally{if(I!==void 0)clearInterval(I)}}function Ab6(A){if(A.message.content[0]?.type!=="tool_use")return;return A.message.content[0].id}async function FwB(A,Q){let B=[],G=[],Z=await Promise.allSettled(Object.entries(A).map(async([Y,J])=>{let I=new Li1(Y,Q),X=new FrA({name:"claude-code",version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION??"unknown"},{capabilities:{}});try{await X.connect(I);let W=X.getServerCapabilities(),K={type:"connected",name:Y,capabilities:W||{},client:X,config:{...J,scope:"dynamic"},cleanup:async()=>{await X.close()}},V=[];if(W?.tools){let E=await StA(K);V.push(...E)}return{client:K,tools:V}}catch(W){return nZ(Y,`Failed to connect SDK MCP server: ${W}`),{client:{type:"failed",name:Y,config:{...J,scope:"user"}},tools:[]}}}));for(let Y of Z)if(Y.status==="fulfilled")B.push(Y.value.client),G.push(...Y.value.tools);return{clients:B,tools:G}}var af6,rf6,XAA,StA,VwB,EwB,xtA;var R_=q(()=>{p2();PFA();eVB();QEB();UEB();wEB();KV();_kQ();g1();rD();_0();RJ();u0();fW();irA();arA();_J();nEB();v3A();Md();NZ();vs();QDB();rrA();srA();WsA();cw();IwB();SwA();pE();r7A();Mi1();af6=new Set(["image/jpeg","image/png","image/gif","image/webp"]);rf6=["mcp__ide__executeCode","mcp__ide__getDiagnostics"];XAA=Z0(async(A,Q,B)=>{let G=Date.now();try{let Z,Y=fe();if(Q.type==="sse"){let L=new he(A,Q),_=await TtA(A,Q),T={authProvider:L,requestInit:{headers:{"User-Agent":tr(),..._},signal:AbortSignal.timeout(60000)}};if(Object.keys(_).length>0)T.eventSourceInit={fetch:async(x,b)=>{let v={},m=await L.tokens();if(m)v.Authorization=`Bearer ${m.access_token}`;let u=k3A();return fetch(x,{...b,...u,headers:{"User-Agent":tr(),...v,...b?.headers,..._,Accept:"text/event-stream"}})}};Z=new krA(new URL(Q.url),T),p0(A,"SSE transport initialized, awaiting connection")}else if(Q.type==="sse-ide"){p0(A,`Setting up SSE-IDE transport to ${Q.url}`);let L=k3A(),_=L.dispatcher?{eventSourceInit:{fetch:async(T,x)=>{return fetch(T,{...x,...L,headers:{"User-Agent":tr(),...x?.headers}})}}}:{};Z=new krA(new URL(Q.url),Object.keys(_).length>0?_:void 0)}else if(Q.type==="ws-ide"){let L=zR1(),_={headers:{"User-Agent":tr(),...Q.authToken&&{"X-Claude-Code-Ide-Authorization":Q.authToken}},agent:ZHA(Q.url),...L||{}},T=new jFA.default(Q.url,["mcp"],Object.keys(_).length>0?_:void 0);Z=new orA(T)}else if(Q.type==="ws"){p0(A,`Initializing WebSocket transport to ${Q.url}`);let L=await TtA(A,Q),_=zR1(),T={headers:{"User-Agent":tr(),...Y&&{Authorization:`Bearer ${Y}`},...L},agent:ZHA(Q.url),..._||{}};p0(A,`WebSocket transport options: ${JSON.stringify({url:Q.url,headers:T.headers,hasSessionAuth:!!Y})}`);let x=new jFA.default(Q.url,["mcp"],Object.keys(T).length>0?T:void 0);Z=new orA(x)}else if(Q.type==="http"){p0(A,`Initializing HTTP transport to ${Q.url}`),p0(A,`Node version: ${process.version}, Platform: ${process.platform}`),p0(A,`Environment: ${JSON.stringify({NODE_OPTIONS:process.env.NODE_OPTIONS||"not set",UV_THREADPOOL_SIZE:process.env.UV_THREADPOOL_SIZE||"default",HTTP_PROXY:process.env.HTTP_PROXY||"not set",HTTPS_PROXY:process.env.HTTPS_PROXY||"not set",NO_PROXY:process.env.NO_PROXY||"not set"})}`);let L=new he(A,Q),_=await TtA(A,Q),T=k3A();p0(A,`Proxy options: ${T.dispatcher?"custom dispatcher":"default"}`);let x={authProvider:L,requestInit:{...T,headers:{"User-Agent":tr(),...Y&&{Authorization:`Bearer ${Y}`},..._},signal:AbortSignal.timeout(60000)}};p0(A,`HTTP transport options: ${JSON.stringify({url:Q.url,headers:x.requestInit?.headers,hasAuthProvider:!!L,timeoutMs:60000})}`),Z=new lc1(new URL(Q.url),x),p0(A,"HTTP transport created successfully")}else if(Q.type==="sdk")throw Error("SDK servers should be handled in print.ts");else{let L=process.env.CLAUDE_CODE_SHELL_PREFIX||Q.command,_=process.env.CLAUDE_CODE_SHELL_PREFIX?[[Q.command,...Q.args].join(" ")]:Q.args;Z=new qc1({command:L,args:_,env:{...process.env,...Q.env},stderr:"pipe"})}let J;if(Q.type==="stdio"||!Q.type){let L=Z;if(L.stderr)J=(_)=>{let T=_.toString().trim();if(T)nZ(A,`Server stderr: ${T}`)},L.stderr.on("data",J)}let I=new FrA({name:"claude-code",version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION??"unknown"},{capabilities:{roots:{},...{}}});if(Q.type==="http")p0(A,"Client created, setting up request handler");if(I.setRequestHandler(ad1,async()=>{return p0(A,"Received ListRoots request from server"),{roots:[{uri:`file://${cQ()}`}]}}),p0(A,`Starting connection with timeout of ${jtA()}ms`),Q.type==="http"){p0(A,`Testing basic HTTP connectivity to ${Q.url}`);try{let L=new URL(Q.url);if(p0(A,`Parsed URL: host=${L.hostname}, port=${L.port||"default"}, protocol=${L.protocol}`),L.hostname==="127.0.0.1"||L.hostname==="localhost")p0(A,`Using loopback address: ${L.hostname}`)}catch(L){p0(A,`Failed to parse URL: ${L}`)}}let X=I.connect(Z),W=new Promise((L,_)=>{let T=setTimeout(()=>{let x=Date.now()-G;p0(A,`Connection timeout triggered after ${x}ms (limit: ${jtA()}ms)`),_(Error(`Connection to MCP server "${A}" timed out after ${jtA()}ms`))},jtA());X.then(()=>{clearTimeout(T)},(x)=>{clearTimeout(T)})});try{await Promise.race([X,W]);let L=Date.now()-G;p0(A,`Successfully connected to ${Q.type} server in ${L}ms`)}catch(L){let _=Date.now()-G;if(Q.type==="sse"&&L instanceof Error){if(p0(A,`SSE Connection failed after ${_}ms: ${JSON.stringify({url:Q.url,error:L.message,errorType:L.constructor.name,stack:L.stack})}`),nZ(A,L),L instanceof KH)return s("tengu_mcp_server_needs_auth",{}),p0(A,"Authentication required for SSE server"),{name:A,type:"needs-auth",config:Q}}else if(Q.type==="http"&&L instanceof Error){let T=L;if(p0(A,`HTTP Connection failed after ${_}ms: ${L.message} (code: ${T.code||"none"}, errno: ${T.errno||"none"})`),nZ(A,L),L instanceof KH)return s("tengu_mcp_server_needs_auth",{}),p0(A,"Authentication required for HTTP server"),{name:A,type:"needs-auth",config:Q}}else if(Q.type==="sse-ide"||Q.type==="ws-ide")s("tengu_mcp_ide_server_connection_failed",{});throw L}let K=I.getServerCapabilities(),V=I.getServerVersion(),E=I.getInstructions();if(p0(A,`Connection established with capabilities: ${JSON.stringify({hasTools:!!K?.tools,hasPrompts:!!K?.prompts,hasResources:!!K?.resources,serverVersion:V||"unknown"})}`),Q.type==="sse-ide"||Q.type==="ws-ide"){s("tengu_mcp_ide_server_connection_succeeded",{serverVersion:V});try{vEB(I)}catch(L){nZ(A,`Failed to send ide_connected notification: ${L}`)}}let D=Date.now(),H=!1,F=I.onerror,C=I.onclose;I.onerror=(L)=>{let _=Date.now()-D;H=!0;let T=Q.type||"stdio";if(p0(A,`${T.toUpperCase()} connection dropped after ${Math.floor(_/1000)}s uptime`),L.message)if(L.message.includes("ECONNRESET"))p0(A,"Connection reset - server may have crashed or restarted");else if(L.message.includes("ETIMEDOUT"))p0(A,"Connection timeout - network issue or server unresponsive");else if(L.message.includes("ECONNREFUSED"))p0(A,"Connection refused - server may be down");else if(L.message.includes("EPIPE"))p0(A,"Broken pipe - server closed connection unexpectedly");else if(L.message.includes("EHOSTUNREACH"))p0(A,"Host unreachable - network connectivity issue");else if(L.message.includes("ESRCH"))p0(A,"Process not found - stdio server process terminated");else if(L.message.includes("spawn"))p0(A,"Failed to spawn process - check command and permissions");else p0(A,`Connection error: ${L.message}`);if(F)F(L)},I.onclose=()=>{let L=Date.now()-D,_=Q.type??"unknown";if(p0(A,`${_.toUpperCase()} connection closed after ${Math.floor(L/1000)}s (${H?"with errors":"cleanly"})`),C)C()};let $=async()=>{if(J&&(Q.type==="stdio"||!Q.type))Z.stderr?.off("data",J);if(Q.type==="stdio")try{let _=Z.pid;if(_){p0(A,"Sending SIGINT to MCP server process");try{process.kill(_,"SIGINT")}catch(T){p0(A,`Error sending SIGINT: ${T}`);return}await new Promise(async(T)=>{let x=!1,b=setInterval(()=>{try{process.kill(_,0)}catch{if(!x)x=!0,clearInterval(b),clearTimeout(v),p0(A,"MCP server process exited cleanly"),T()}},50),v=setTimeout(()=>{if(!x)x=!0,clearInterval(b),p0(A,"Cleanup timeout reached, stopping process monitoring"),T()},600);try{if(await new Promise((m)=>setTimeout(m,100)),!x){try{process.kill(_,0),p0(A,"SIGINT failed, sending SIGTERM to MCP server process");try{process.kill(_,"SIGTERM")}catch(m){p0(A,`Error sending SIGTERM: ${m}`),x=!0,clearInterval(b),clearTimeout(v),T();return}}catch{x=!0,clearInterval(b),clearTimeout(v),T();return}if(await new Promise((m)=>setTimeout(m,400)),!x)try{process.kill(_,0),p0(A,"SIGTERM failed, sending SIGKILL to MCP server process");try{process.kill(_,"SIGKILL")}catch(m){p0(A,`Error sending SIGKILL: ${m}`)}}catch{x=!0,clearInterval(b),clearTimeout(v),T()}}if(!x)x=!0,clearInterval(b),clearTimeout(v),T()}catch{if(!x)x=!0,clearInterval(b),clearTimeout(v),T()}})}}catch(L){p0(A,`Error terminating process: ${L}`)}try{await I.close()}catch(L){p0(A,`Error closing client: ${L}`)}},O=O8($),M=async()=>{O?.(),await $()};return s("tengu_mcp_server_connection_succeeded",{}),{name:A,client:I,type:"connected",capabilities:K??{},serverInfo:V,instructions:E,config:Q,cleanup:M}}catch(Z){s("tengu_mcp_server_connection_failed",{totalServers:B?.totalServers||1,stdioCount:B?.stdioCount||(Q.type==="stdio"?1:0),sseCount:B?.sseCount||(Q.type==="sse"?1:0),httpCount:B?.httpCount||(Q.type==="http"?1:0),sseIdeCount:B?.sseIdeCount||(Q.type==="sse-ide"?1:0),wsIdeCount:B?.wsIdeCount||(Q.type==="ws-ide"?1:0),transportType:Q.type});let Y=Date.now()-(G||0);return p0(A,`Connection failed after ${Y}ms: ${Z instanceof Error?Z.message:String(Z)}`),nZ(A,`Connection failed: ${Z instanceof Error?Z.message:String(Z)}`),{name:A,type:"failed",config:Q}}},KwB);StA=Z0(async(A)=>{if(A.type!=="connected")return[];try{if(!A.capabilities?.tools)return[];let Q=await A.client.request({method:"tools/list"},NwA);return fp(Q.tools).map((G)=>({...ADB,name:`mcp__${i5(A.name)}__${i5(G.name)}`,originalMcpToolName:G.name,isMcp:!0,async description(){return G.description??""},async prompt(){return G.description??""},isConcurrencySafe(){return G.annotations?.readOnlyHint??!1},isReadOnly(){return G.annotations?.readOnlyHint??!1},isDestructive(){return G.annotations?.destructiveHint??!1},isOpenWorld(){return G.annotations?.openWorldHint??!1},inputJSONSchema:G.inputSchema,async call(Z,Y,J,I){let X=Ab6(I),W=X?{"claudecode/toolUseId":X}:{};return{data:await HwB({client:A,tool:G.name,args:Z,meta:W,signal:Y.abortController.signal})}},userFacingName(){let Z=G.annotations?.title||G.name;return`${A.name} - ${Z} (MCP)`},...Op1(A.name)?WwB(G.name):{}})).filter(sf6)}catch(Q){return nZ(A.name,`Failed to fetch tools: ${Q instanceof Error?Q.message:String(Q)}`),[]}}),VwB=Z0(async(A)=>{if(A.type!=="connected")return[];try{if(!A.capabilities?.resources)return[];let Q=await A.client.request({method:"resources/list"},xe);if(!Q.resources)return[];return Q.resources.map((B)=>({...B,server:A.name}))}catch(Q){return nZ(A.name,`Failed to fetch resources: ${Q instanceof Error?Q.message:String(Q)}`),[]}}),EwB=Z0(async(A)=>{if(A.type!=="connected")return[];let Q=A;try{if(!A.capabilities?.prompts)return[];let B=await A.client.request({method:"prompts/list"},wwA);if(!B.prompts)return[];return fp(B.prompts).map((Z)=>{let Y=Object.values(Z.arguments??{}).map((J)=>J.name);return{type:"prompt",name:"mcp__"+i5(Q.name)+"__"+Z.name,description:Z.description??"",hasUserSpecifiedDescription:!!Z.description,isEnabled:()=>!0,isHidden:!1,isMcp:!0,progressMessage:"running",userFacingName(){let J=Z.title||Z.name;return`${Q.name}:${J} (MCP)`},argNames:Y,source:"mcp",async getPromptForCommand(J){let I=J.split(" ");try{let X=await Q.client.getPrompt({name:Z.name,arguments:RkQ(Y,I)});return(await Promise.all(X.messages.map((K)=>DwB(K.content,A.name)))).flat()}catch(X){throw nZ(A.name,`Error running command '${Z.name}': ${X instanceof Error?X.message:String(X)}`),X}}}})}catch(B){return nZ(A.name,`Failed to fetch commands: ${B instanceof Error?B.message:String(B)}`),[]}});xtA=Z0(async(A)=>{return new Promise((Q)=>{let B=0,G=0;if(B=Object.keys(A).length,B===0){Q({clients:[],tools:[],commands:[]});return}let Z=[],Y=[],J=[];Oi1((I)=>{if(Z.push(I.client),Y.push(...I.tools),J.push(...I.commands),G++,G>=B){let X=J.reduce((W,K)=>{let V=K.name.length+(K.description??"").length+(K.argumentHint??"").length;return W+V},0);s("tengu_mcp_tools_commands_loaded",{tools_count:Y.length,commands_count:J.length,commands_metadata_length:X}),Q({clients:Z,tools:Y,commands:J})}},A).catch((I)=>{nZ("prefetchAllMcpResources",`Failed to get MCP resources: ${I instanceof Error?I.message:String(I)}`),Q({clients:[],tools:[],commands:[]})})})})});class f_{static instance;baseline=new Map;initialized=!1;mcpClient;lastProcessedTimestamps=new Map;rightFileDiagnosticsState=new Map;static getInstance(){if(!f_.instance)f_.instance=new f_;return f_.instance}initialize(A){if(this.initialized)return;this.mcpClient=A,this.initialized=!0}async shutdown(){this.initialized=!1,this.baseline.clear()}reset(){this.baseline.clear(),this.rightFileDiagnosticsState.clear()}normalizeFileUri(A){let Q=["file://","_claude_fs_right:","_claude_fs_left:"];for(let B of Q)if(A.startsWith(B))return A.slice(B.length);return A}async ensureFileOpened(A){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return;try{await Rb("openFile",{filePath:A,preview:!1,startText:"",endText:"",selectToEndOfLine:!1,makeFrontmost:!1},this.mcpClient)}catch(Q){r(Q)}}async beforeFileEdited(A){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return;let Q=Date.now();try{let B=await Rb("getDiagnostics",{uri:`file://${A}`},this.mcpClient),G=this.parseDiagnosticResult(B)[0];if(G){if(A!==this.normalizeFileUri(G.uri)){r(new CwB(`Diagnostics file path mismatch: expected ${A}, got ${G.uri})`));return}this.baseline.set(A,G.diagnostics),this.lastProcessedTimestamps.set(A,Q)}else this.baseline.set(A,[]),this.lastProcessedTimestamps.set(A,Q)}catch(B){}}async getNewDiagnostics(){if(!this.initialized||!this.mcpClient||this.mcpClient.type!=="connected")return[];let A=[];try{let Z=await Rb("getDiagnostics",{},this.mcpClient);A=this.parseDiagnosticResult(Z)}catch(Z){return[]}let Q=A.filter((Z)=>this.baseline.has(this.normalizeFileUri(Z.uri))).filter((Z)=>Z.uri.startsWith("file://")),B=new Map;A.filter((Z)=>this.baseline.has(this.normalizeFileUri(Z.uri))).filter((Z)=>Z.uri.startsWith("_claude_fs_right:")).forEach((Z)=>{B.set(this.normalizeFileUri(Z.uri),Z)});let G=[];for(let Z of Q){let Y=this.normalizeFileUri(Z.uri),J=this.baseline.get(Y)||[],I=B.get(Y),X=Z;if(I){let K=this.rightFileDiagnosticsState.get(Y);if(!K||!this.areDiagnosticArraysEqual(K,I.diagnostics))X=I;this.rightFileDiagnosticsState.set(Y,I.diagnostics)}let W=X.diagnostics.filter((K)=>!J.some((V)=>this.areDiagnosticsEqual(K,V)));if(W.length>0)G.push({uri:Z.uri,diagnostics:W});this.baseline.set(Y,X.diagnostics)}return G}parseDiagnosticResult(A){if(Array.isArray(A)){let Q=A.find((B)=>B.type==="text");if(Q&&"text"in Q)return JSON.parse(Q.text)}return[]}areDiagnosticsEqual(A,Q){return A.message===Q.message&&A.severity===Q.severity&&A.source===Q.source&&A.code===Q.code&&A.range.start.line===Q.range.start.line&&A.range.start.character===Q.range.start.character&&A.range.end.line===Q.range.end.line&&A.range.end.character===Q.range.end.character}areDiagnosticArraysEqual(A,Q){if(A.length!==Q.length)return!1;return A.every((B)=>Q.some((G)=>this.areDiagnosticsEqual(B,G)))&&Q.every((B)=>A.some((G)=>this.areDiagnosticsEqual(G,B)))}isLinterDiagnostic(A){let Q=["eslint","eslint-plugin","tslint","prettier","stylelint","jshint","standardjs","xo","rome","biome","deno-lint","rubocop","pylint","flake8","black","ruff","clippy","rustfmt","golangci-lint","gofmt","swiftlint","detekt","ktlint","checkstyle","pmd","sonarqube","sonarjs"];if(!A.source)return!1;let B=A.source.toLowerCase();return Q.some((G)=>B.includes(G))}async handleQueryStart(A){if(!this.initialized){let Q=VU(A);if(Q)this.initialize(Q)}else this.reset()}static formatDiagnosticsSummary(A){return A.map((Q)=>{let B=Q.uri.split("/").pop()||Q.uri,G=Q.diagnostics.map((Z)=>{return`  ${f_.getSeveritySymbol(Z.severity)} [Line ${Z.range.start.line+1}:${Z.range.start.character+1}] ${Z.message}${Z.code?` [${Z.code}]`:""}${Z.source?` (${Z.source})`:""}`}).join(`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n 'VERSION:\"2\\.0\\.67\"' bundles/ClaudeAgentSDKCode/cli.js | head -5"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 42ms:[0m
[2m189:${Z}`;break;case"retry":if(MFQ(Z))Q[G]=Z;break;case"id":if(OFQ(Z))Q[G]=Z;break;case"event":if(Z.length>0)Q[G]=Z;break}}processEvent(A){if(A.retry&&MFQ(A.retry))this.state.reconnectionTime=parseInt(A.retry,10);if(A.id&&OFQ(A.id))this.state.lastEventId=A.id;if(A.data!==void 0)this.push({type:A.event||"message",options:{data:A.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}_FQ.exports={EventSourceStream:RFQ}});var fFQ=w((Kt5,kFQ)=>{var{pipeline:Iz3}=qA("node:stream"),{fetching:Xz3}=dDA(),{makeRequest:Wz3}=N3A(),{webidl:ck}=LE(),{EventSourceStream:Kz3}=TFQ(),{parseMIMEType:Vz3}=jz(),{createFastMessageEvent:Ez3}=_3A(),{isNetworkError:jFQ}=uDA(),{delay:Dz3}=DR1(),{kEnumerableProperty:Sr}=p6(),{environmentSettingsObject:PFQ}=Qw(),SFQ=!1,xFQ=3000,QHA=0,yFQ=1,BHA=2,Hz3="anonymous",Fz3="use-credentials";class x3A extends EventTarget{#A={open:null,error:null,message:null};#Q=null;#B=!1;#Z=QHA;#G=null;#I=null;#Y;#K;constructor(A,Q={}){super();ck.util.markAsUncloneable(this);let B="EventSource constructor";if(ck.argumentLengthCheck(arguments,1,B),!SFQ)SFQ=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"});A=ck.converters.USVString(A,B,"url"),Q=ck.converters.EventSourceInitDict(Q,B,"eventSourceInitDict"),this.#Y=Q.dispatcher,this.#K={lastEventId:"",reconnectionTime:xFQ};let G=PFQ,Z;try{Z=new URL(A,G.settingsObject.baseUrl),this.#K.origin=Z.origin}catch(I){throw new DOMException(I,"SyntaxError")}this.#Q=Z.href;let Y=Hz3;if(Q.withCredentials)Y=Fz3,this.#B=!0;let J={redirect:"follow",keepalive:!0,mode:"cors",credentials:Y==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};J.client=PFQ.settingsObject,J.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],J.cache="no-store",J.initiator="other",J.urlList=[new URL(this.#Q)],this.#G=Wz3(J),this.#V()}get readyState(){return this.#Z}get url(){return this.#Q}get withCredentials(){return this.#B}#V(){if(this.#Z===BHA)return;this.#Z=QHA;let A={request:this.#G,dispatcher:this.#Y},Q=(B)=>{if(jFQ(B))this.dispatchEvent(new Event("error")),this.close();this.#X()};A.processResponseEndOfBody=Q,A.processResponse=(B)=>{if(jFQ(B))if(B.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#X();return}let G=B.headersList.get("content-type",!0),Z=G!==null?Vz3(G):"failure",Y=Z!=="failure"&&Z.essence==="text/event-stream";if(B.status!==200||Y===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#Z=yFQ,this.dispatchEvent(new Event("open")),this.#K.origin=B.urlList[B.urlList.length-1].origin;let J=new Kz3({eventSourceSettings:this.#K,push:(I)=>{this.dispatchEvent(Ez3(I.type,I.options))}});Iz3(B.body.stream,J,(I)=>{if(I?.aborted===!1)this.close(),this.dispatchEvent(new Event("error"))})},this.#I=Xz3(A)}async#X(){if(this.#Z===BHA)return;if(this.#Z=QHA,this.dispatchEvent(new Event("error")),await Dz3(this.#K.reconnectionTime),this.#Z!==QHA)return;if(this.#K.lastEventId.length)this.#G.headersList.set("last-event-id",this.#K.lastEventId,!0);this.#V()}close(){if(ck.brandCheck(this,x3A),this.#Z===BHA)return;this.#Z=BHA,this.#I.abort(),this.#G=null}get onopen(){return this.#A.open}set onopen(A){if(this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onmessage(){return this.#A.message}set onmessage(A){if(this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get onerror(){return this.#A.error}set onerror(A){if(this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}}var vFQ={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:QHA,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:yFQ,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:BHA,writable:!1}};Object.defineProperties(x3A,vFQ);Object.defineProperties(x3A.prototype,vFQ);Object.defineProperties(x3A.prototype,{close:Sr,onerror:Sr,onmessage:Sr,onopen:Sr,readyState:Sr,url:Sr,withCredentials:Sr});ck.converters.EventSourceInitDict=ck.dictionaryConverter([{key:"withCredentials",converter:ck.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:ck.converters.any}]);kFQ.exports={EventSource:x3A,defaultReconnectionTime:xFQ}});function GHA(A){return(Q,B,G)=>{if(typeof B==="function")G=B,B=null;if(!Q||typeof Q!=="string"&&typeof Q!=="object"&&!(Q instanceof URL))throw new ygA("invalid url");if(B!=null&&typeof B!=="object")throw new ygA("invalid opts");if(B&&B.path!=null){if(typeof B.path!=="string")throw new ygA("invalid opts.path");let J=B.path;if(!B.path.startsWith("/"))J=`/${J}`;Q=new URL(vgA.parseOrigin(Q).origin+J)}else{if(!B)B=typeof Q==="object"?Q:{};Q=vgA.parseURL(Q)}let{agent:Z,dispatcher:Y=wz3()}=B;if(Z)throw new ygA("unsupported opts.agent. Did you mean opts.client?");return A.call(Y,{...B,origin:Q.origin,path:Q.search?`${Q.pathname}${Q.search}`:Q.pathname,method:B.method||(B.body?"PUT":"GET")},G)}}var Vt5,Cz3,Et5,Dt5,zz3,Ht5,Uz3,Ft5,$z3,vgA,ygA,y3A,Ct5,zt5,Ut5,$t5,wt5,Nt5,wz3,Nz3,qt5,Lt5,Mt5,HR1,FR1,Mz3,Oz3,kgA,Ot5,Rz3,_z3,Tz3,jz3,Pz3,Sz3,Rt5,_t5,qz3,Lz3,xz3,Tt5,jt5,Pt5,St5,xt5,yt5,vt5,kt5,ft5,yz3,vz3,kz3,fz3,bz3,hz3,bt5;var CR1=q(()=>{Vt5=MDA(),Cz3=GDA(),Et5=W3A(),Dt5=$KQ(),zz3=K3A(),Ht5=IO1(),Uz3=gKQ(),Ft5=iKQ(),$z3=Q7(),vgA=p6(),{InvalidArgumentError:ygA}=$z3,y3A=gVQ(),Ct5=YDA(),zt5=xO1(),Ut5=MEQ(),$t5=vO1(),wt5=NO1(),Nt5=chA(),{getGlobalDispatcher:wz3,setGlobalDispatcher:Nz3}=thA(),qt5=ehA(),Lt5=yhA(),Mt5=vhA();Object.assign(Cz3.prototype,y3A);HR1=zz3,FR1=Uz3,Mz3={redirect:SEQ(),retry:yEQ(),dump:fEQ(),dns:mEQ()},Oz3={parseHeaders:vgA.parseHeaders,headerNameToString:vgA.headerNameToString};kgA=Nz3;Ot5=dDA().fetch;Rz3=Or().Headers,_z3=uDA().Response,Tz3=N3A().Request,jz3=VDA().FormData,Pz3=globalThis.File??qA("node:buffer").File,Sz3=GHQ().FileReader;({setGlobalOrigin:Rt5,getGlobalOrigin:_t5}=UM1()),{CacheStorage:qz3}=EHQ(),{kConstruct:Lz3}=$gA();xz3=new qz3(Lz3);({deleteCookie:Tt5,getCookies:jt5,getSetCookies:Pt5,setCookie:St5}=MHQ()),{parseMIMEType:xt5,serializeAMimeType:yt5}=jz(),{CloseEvent:vt5,ErrorEvent:kt5,MessageEvent:ft5}=_3A();yz3=qFQ().WebSocket,vz3=GHA(y3A.request),kz3=GHA(y3A.stream),fz3=GHA(y3A.pipeline),bz3=GHA(y3A.connect),hz3=GHA(y3A.upgrade);({EventSource:bt5}=fFQ())});import{Agent as gz3}from"https";function zR1(){let A=OR();if(!A)return;return{cert:A.cert,key:A.key,passphrase:A.passphrase}}function UR1(){let A=OR();if(!A)return{};let Q={cert:A.cert,key:A.key,passphrase:A.passphrase},B=new HR1({connect:Q,pipelining:1});return f("mTLS: Created undici agent with custom certificates"),{dispatcher:B}}function gFQ(){if(!OR())return;if(process.env.NODE_EXTRA_CA_CERTS)f("NODE_EXTRA_CA_CERTS detected - Node.js will automatically append to built-in CAs")}var OR,hFQ;var v3A=q(()=>{p2();CR1();Q0();YQ();OR=Z0(()=>{let A={};if(process.env.CLAUDE_CODE_CLIENT_CERT)try{A.cert=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_CERT,{encoding:"utf8"}),f("mTLS: Loaded client certificate from CLAUDE_CODE_CLIENT_CERT")}catch(Q){f(`mTLS: Failed to load client certificate: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY)try{A.key=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_KEY,{encoding:"utf8"}),f("mTLS: Loaded client key from CLAUDE_CODE_CLIENT_KEY")}catch(Q){f(`mTLS: Failed to load client key: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE)A.passphrase=process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE,f("mTLS: Using client key passphrase");if(Object.keys(A).length===0)return;return A}),hFQ=Z0(()=>{let A=OR();if(!A)return;let Q={...A,keepAlive:!0};return f("mTLS: Creating HTTPS agent with custom certificates"),new gz3(Q)})});function uz3(A){switch(A.family){case 0:case 4:case 6:return A.family;case"IPv6":return 6;case"IPv4":case void 0:return 4;default:throw Error(`Unsupported address family: ${A.family}`)}}function Ld(){return process.env.https_proxy||process.env.HTTPS_PROXY||process.env.http_proxy||process.env.HTTP_PROXY}function mz3(){return process.env.no_proxy||process.env.NO_PROXY}function fgA(A){let Q=mz3();if(!Q)return!1;if(Q==="*")return!0;try{let B=new URL(A),G=B.hostname.toLowerCase(),Z=B.port||(B.protocol==="https:"?"443":"80"),Y=`${G}:${Z}`;return Q.split(/[,\s]+/).filter(Boolean).some((I)=>{if(I=I.toLowerCase().trim(),I.includes(":"))return Y===I;if(I.startsWith(".")){let X=I;return G===I.substring(1)||G.endsWith(X)}return G===I})}catch{return!1}}function dFQ(A){let Q=OR(),B={...Q&&{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}};if(C0(process.env.CLAUDE_CODE_PROXY_RESOLVES_HOSTS))B.lookup=(G,Z,Y)=>{Y(null,G,uz3(Z))};return new $R1.HttpsProxyAgent(A,B)}function ZHA(A){let Q=Ld();if(!Q)return;if(fgA(A))return;return dFQ(Q)}function k3A(){let A=Ld(),Q=UR1();if(A)return{dispatcher:cFQ(A)};return Q}function pFQ(){let A=Ld(),Q=hFQ();if(A){FQ.defaults.proxy=!1;let B=dFQ(A);FQ.interceptors.request.use((G)=>{if(G.url&&fgA(G.url))if(Q)G.httpsAgent=Q,G.httpAgent=Q;else delete G.httpsAgent,delete G.httpAgent;else G.httpsAgent=B,G.httpAgent=B;return G}),kgA(cFQ(A))}else if(Q){FQ.defaults.httpsAgent=Q;let B=UR1();if(B.dispatcher)kgA(B.dispatcher)}}function wR1(){let A=Ld();if(!A)return{};let Q=new $R1.HttpsProxyAgent(A),B=new mFQ.NodeHttpHandler({httpAgent:Q,httpsAgent:Q});return{requestHandler:B,credentials:uFQ.defaultProvider({clientConfig:{requestHandler:B}})}}var uFQ,mFQ,$R1,cFQ;var Md=q(()=>{m8();p2();CR1();v3A();sQ();uFQ=o(io(),1),mFQ=o(Lq(),1),$R1=o(QDA(),1);cFQ=Z0((A)=>{let Q=OR(),B={httpProxy:A,httpsProxy:A,noProxy:process.env.NO_PROXY||process.env.no_proxy};if(Q)B.connect={cert:Q.cert,key:Q.key,passphrase:Q.passphrase};return new FR1(B)})});function lP(A,Q){return A.find((B)=>B.includes(Q))??null}async function nFQ(){let Q={region:ka(),...wR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await xr();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new f3A.BedrockClient(Q)}async function aFQ(){let Q={region:ka(),...wR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await xr();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new lFQ.BedrockRuntimeClient(Q)}function oFQ(A){return A.startsWith("anthropic.")}var f3A,lFQ,iFQ,bgA;var hgA=q(()=>{p2();sQ();g1();Md();V2();f3A=o(h5Q(),1),lFQ=o(tbA(),1),iFQ=Z0(async function(){let A=await nFQ(),Q=[],B;try{do{let G=new f3A.ListInferenceProfilesCommand({...B&&{nextToken:B},typeEquals:"SYSTEM_DEFINED"}),Z=await A.send(G);if(Z.inferenceProfileSummaries)Q.push(...Z.inferenceProfileSummaries);B=Z.nextToken}while(B);return Q.filter((G)=>G.inferenceProfileId?.includes("anthropic")).map((G)=>G.inferenceProfileId).filter(Boolean)}catch(G){throw r(G),G}});bgA=Z0(async function(A){try{let Q=await nFQ(),B=new f3A.GetInferenceProfileCommand({inferenceProfileIdentifier:A}),G=await Q.send(B);if(!G.models||G.models.length===0)return null;let Z=G.models[0];if(!Z?.modelArn)return null;let Y=Z.modelArn.lastIndexOf("/");return Y>=0?Z.modelArn.substring(Y+1):Z.modelArn}catch(Q){return r(Q),null}})});function rFQ(A){if(_3()==="foundry")return;let Q=A.toLowerCase();if(Q.includes("claude-sonnet-4-5")&&Q.includes("[1m]"))return"Sonnet 4.5 (with 1M context)";if(Q.includes("claude-sonnet-4-5"))return"Sonnet 4.5";if(Q.includes("claude-sonnet-4")&&Q.includes("[1m]"))return"Sonnet 4 (with 1M context)";if(Q.includes("claude-sonnet-4"))return"Sonnet 4";if(Q.includes("claude-opus-4-5"))return"Opus 4.5";if(Q.includes("claude-opus-4-1"))return"Opus 4.1";if(Q.includes("claude-opus-4"))return"Opus 4";if(Q.includes("claude-3-7-sonnet"))return"Claude 3.7 Sonnet";if(Q.includes("claude-3-5-sonnet"))return"Claude 3.5 Sonnet";if(Q.includes("claude-haiku-4-5"))return"Haiku 4.5";if(Q.includes("claude-3-5-haiku"))return"Claude 3.5 Haiku";return}var YHA,JHA,IHA,XHA,yr,NR1,WHA,KHA,vr;var b3A=q(()=>{hW();YHA={firstParty:"claude-3-7-sonnet-20250219",bedrock:"us.anthropic.claude-3-7-sonnet-20250219-v1:0",vertex:"claude-3-7-sonnet@20250219",foundry:"claude-3-7-sonnet"},JHA={firstParty:"claude-3-5-sonnet-20241022",bedrock:"anthropic.claude-3-5-sonnet-20241022-v2:0",vertex:"claude-3-5-sonnet-v2@20241022",foundry:"claude-3-5-sonnet"},IHA={firstParty:"claude-3-5-haiku-20241022",bedrock:"us.anthropic.claude-3-5-haiku-20241022-v1:0",vertex:"claude-3-5-haiku@20241022",foundry:"claude-3-5-haiku"},XHA={firstParty:"claude-haiku-4-5-20251001",bedrock:"us.anthropic.claude-haiku-4-5-20251001-v1:0",vertex:"claude-haiku-4-5@20251001",foundry:"claude-haiku-4-5"},yr={firstParty:"claude-sonnet-4-20250514",bedrock:"us.anthropic.claude-sonnet-4-20250514-v1:0",vertex:"claude-sonnet-4@20250514",foundry:"claude-sonnet-4"},NR1={firstParty:"claude-sonnet-4-5-20250929",bedrock:"us.anthropic.claude-sonnet-4-5-20250929-v1:0",vertex:"claude-sonnet-4-5@20250929",foundry:"claude-sonnet-4-5"},WHA={firstParty:"claude-opus-4-20250514",bedrock:"us.anthropic.claude-opus-4-20250514-v1:0",vertex:"claude-opus-4@20250514",foundry:"claude-opus-4"},KHA={firstParty:"claude-opus-4-1-20250805",bedrock:"us.anthropic.claude-opus-4-1-20250805-v1:0",vertex:"claude-opus-4-1@20250805",foundry:"claude-opus-4-1"},vr={firstParty:"claude-opus-4-5-20251101",bedrock:"us.anthropic.claude-opus-4-5-20251101-v1:0",vertex:"claude-opus-4-5@20251101",foundry:"claude-opus-4-5"}});function iP(A){let Q=[],B=!1;async function G(){if(B)return;if(Q.length===0)return;B=!0;while(Q.length>0){let{args:Z,resolve:Y,reject:J,context:I}=Q.shift();try{let X=await A.apply(I,Z);Y(X)}catch(X){J(X)}}if(B=!1,Q.length>0)G()}return function(...Z){return new Promise((Y,J)=>{Q.push({args:Z,resolve:Y,reject:J,context:this}),G()})}}function ggA(A){return{haiku35:IHA[A],haiku45:XHA[A],sonnet35:JHA[A],sonnet37:YHA[A],sonnet40:yr[A],sonnet45:NR1[A],opus40:WHA[A],opus41:KHA[A],opus45:vr[A]}}async function dz3(){let A;try{A=await iFQ()}catch(K){return r(K),ggA("bedrock")}if(!A?.length)return ggA("bedrock");let Q=lP(A,"claude-3-5-haiku-20241022"),B=lP(A,"claude-haiku-4-5-20251001"),G=lP(A,"claude-3-5-sonnet-20241022"),Z=lP(A,"claude-3-7-sonnet-20250219"),Y=lP(A,"claude-sonnet-4-20250514"),J=lP(A,"claude-sonnet-4-5-20250929"),I=lP(A,"claude-opus-4-20250514"),X=lP(A,"claude-opus-4-1-20250805"),W=lP(A,"claude-opus-4-5-20251101");return{haiku35:Q||IHA.bedrock,haiku45:B||XHA.bedrock,sonnet35:G||JHA.bedrock,sonnet37:Z||YHA.bedrock,sonnet40:Y||yr.bedrock,sonnet45:J||NR1.bedrock,opus40:I||WHA.bedrock,opus41:X||KHA.bedrock,opus45:W||vr.bedrock}}function pz3(){if(qPA()!==null)return;if(_3()!=="bedrock"){LG1(ggA(_3()));return}cz3()}function bY(){let A=qPA();if(A===null)return pz3(),ggA(_3());return A}var cz3;var qR1=q(()=>{u0();g1();hgA();b3A();hW();cz3=iP(async()=>{if(qPA()!==null)return;try{let A=await dz3();LG1(A)}catch(A){r(A)}})});function sFQ(){if(process.platform==="darwin"){let A=Nm();pG(`security delete-generic-password -a $USER -s "${A}"`)}}function Ww(A){return A.slice(-20)}var VHA=q(()=>{oKA();pSA()});class nD{static instance=null;status={isAuthenticating:!1,output:[]};listeners=new Set;static getInstance(){if(!nD.instance)nD.instance=new nD;return nD.instance}getStatus(){return{...this.status,output:[...this.status.output]}}startAuthentication(){this.status={isAuthenticating:!0,output:[]},this.notifyListeners()}addOutput(A){this.status.output.push(A),this.notifyListeners()}setError(A){this.status.error=A,this.notifyListeners()}endAuthentication(A){if(A)this.status={isAuthenticating:!1,output:[]};else this.status.isAuthenticating=!1;this.notifyListeners()}subscribe(A){return this.listeners.add(A),()=>{this.listeners.delete(A)}}notifyListeners(){this.listeners.forEach((A)=>A(this.getStatus()))}static reset(){if(nD.instance)nD.instance.listeners.clear(),nD.instance=null}}import{exec as lz3}from"child_process";function kz(){let A=C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY),B=(CQ()||{}).apiKeyHelper,G=process.env.ANTHROPIC_AUTH_TOKEN||B||process.env.CLAUDE_CODE_API_KEY_FILE_DESCRIPTOR,{source:Z}=aD({skipRetrievingKeyFromApiKeyHelper:!0});return!(A||G||(Z==="ANTHROPIC_API_KEY"||Z==="apiKeyHelper")&&!C0(process.env.CLAUDE_CODE_REMOTE))}function Od(){if(process.env.ANTHROPIC_AUTH_TOKEN)return{source:"ANTHROPIC_AUTH_TOKEN",hasToken:!0};if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{source:"CLAUDE_CODE_OAUTH_TOKEN",hasToken:!0};if(SK1())return{source:"CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR",hasToken:!0};if(EHA())return{source:"apiKeyHelper",hasToken:!0};let B=r3();if(Qk(B?.scopes)&&B?.accessToken)return{source:"claude.ai",hasToken:!0};return{source:"none",hasToken:!1}}function m$(){let{key:A}=aD();return A}function eFQ(){let{key:A,source:Q}=aD({skipRetrievingKeyFromApiKeyHelper:!0});return A!==null&&Q!=="none"}function aD(A={}){if(DK0()&&process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};if(C0(!1)){let G=xK1();if(G)return{key:G,source:"ANTHROPIC_API_KEY"};if(!process.env.ANTHROPIC_API_KEY&&!process.env.CLAUDE_CODE_OAUTH_TOKEN&&!process.env.CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR)throw Error("ANTHROPIC_API_KEY or CLAUDE_CODE_OAUTH_TOKEN env var is required");if(process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};return{key:null,source:"none"}}if(process.env.ANTHROPIC_API_KEY&&c1().customApiKeyResponses?.approved?.includes(Ww(process.env.ANTHROPIC_API_KEY)))return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};let Q=xK1();if(Q)return{key:Q,source:"ANTHROPIC_API_KEY"};if(A.skipRetrievingKeyFromApiKeyHelper){if(EHA())return{key:null,source:"apiKeyHelper"}}else{let G=DHA(I4());if(G)return{key:G,source:"apiKeyHelper"}}let B=HHA();if(B)return B;return{key:null,source:"none"}}function EHA(){return(CQ()||{}).apiKeyHelper}function ACQ(){let A=EHA();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.apiKeyHelper===A||B?.apiKeyHelper===A}function LR1(){return(CQ()||{}).awsAuthRefresh}function QCQ(){let A=LR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsAuthRefresh===A||B?.awsAuthRefresh===A}function MR1(){return(CQ()||{}).awsCredentialExport}function BCQ(){let A=MR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsCredentialExport===A||B?.awsCredentialExport===A}function nz3(){let A=process.env.CLAUDE_CODE_API_KEY_HELPER_TTL_MS;if(A){let Q=parseInt(A,10);if(!Number.isNaN(Q)&&Q>=0)return Q;f(`Found CLAUDE_CODE_API_KEY_HELPER_TTL_MS env var, but it was not a valid number. Got ${A}`,{level:"error"})}return iz3}function ugA(){DHA.cache.clear()}function GCQ(A){if(EHA()){if(ACQ()){if(!tZ(!0))return}}DHA(A)}async function oz3(){let A=LR1();if(!A)return!1;if(QCQ()){if(!tZ(!0)&&!I4()){let B=Error(`Security: awsAuthRefresh executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);return Dq("awsAuthRefresh invoked before trust check",B),s("tengu_awsAuthRefresh_missing_trust",{}),!1}}try{return f("Fetching AWS caller identity for AWS auth refresh command"),await Q$1(),f("Fetched AWS caller identity, skipping AWS auth refresh command"),!1}catch{return rz3(A)}}function rz3(A){f("Running AWS auth refresh command");let Q=nD.getInstance();return Q.startAuthentication(),new Promise((B)=>{let G=lz3(A);G.stdout.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.addOutput(Y),f(Y,{level:"debug"})}),G.stderr.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.setError(Y),f(Y,{level:"error"})}),G.on("close",(Z)=>{if(Z===0)f("AWS auth refresh completed successfully"),Q.endAuthentication(!0),B(!0);else{let Y=pA.red("Error running awsAuthRefresh (in settings or ~/.claude.json):");console.error(Y),Q.endAuthentication(!1),B(!1)}})})}async function sz3(){let A=MR1();if(!A)return null;if(BCQ()){if(!tZ(!0)&&!I4()){let B=Error(`Security: awsCredentialExport executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);return Dq("awsCredentialExport invoked before trust check",B),s("tengu_awsCredentialExport_missing_trust",{}),null}}try{return f("Fetching AWS caller identity for credential export command"),await Q$1(),f("Fetched AWS caller identity, skipping AWS credential export command"),null}catch{try{f("Running AWS credential export command");let Q=pG(A)?.toString().trim();if(!Q)throw Error("awsCredentialExport did not return a valid value");let B=JSON.parse(Q);if(!D4Q(B))throw Error("awsCredentialExport did not return valid AWS STS output structure");return f("AWS credentials retrieved from awsCredentialExport"),{accessKeyId:B.Credentials.AccessKeyId,secretAccessKey:B.Credentials.SecretAccessKey,sessionToken:B.Credentials.SessionToken}}catch(Q){let B=pA.red("Error getting AWS credentials from awsCredentialExport (in settings or ~/.claude.json):");if(Q instanceof Error&&"stderr"in Q)console.error(B,String(Q.stderr));else if(Q instanceof Error)console.error(B,Q.message);else console.error(B,Q);return null}}}function mgA(){xr.cache.clear()}function ZCQ(){let A=LR1(),Q=MR1();if(!A&&!Q)return;if(QCQ()||BCQ()){if(!tZ(!0)&&!I4())return}xr(),bY()}function tz3(A){return/^[a-zA-Z0-9-_]+$/.test(A)}function Fu0(A){if(!tz3(A))throw Error("Invalid API key format. API key must contain only alphanumeric characters, dashes, and underscores.");JCQ();let Q=!1;if(process.platform==="darwin")try{let G=Nm(),Z=aKA(),Y=Buffer.from(A,"utf-8").toString("hex"),J=`add-generic-password -U -a "${Z}" -s "${G}" -X "${Y}"
190:`;pG("security -i",{input:J,stdio:["pipe","pipe","pipe"]}),s("tengu_api_key_saved_to_keychain",{}),Q=!0}catch(G){r(G),s("tengu_api_key_keychain_error",{error:G.message}),s("tengu_api_key_saved_to_config",{})}else s("tengu_api_key_saved_to_config",{});let B=Ww(A);i0((G)=>{let Z=G.customApiKeyResponses?.approved??[];return{...G,primaryApiKey:Q?G.primaryApiKey:A,customApiKeyResponses:{...G.customApiKeyResponses,approved:Z.includes(B)?Z:[...Z,B],rejected:G.customApiKeyResponses?.rejected??[]}}}),HHA.cache.clear?.()}function YCQ(){JCQ(),i0((A)=>({...A,primaryApiKey:void 0})),HHA.cache.clear?.()}function JCQ(){try{sFQ()}catch(A){r(A)}}function FHA(A){if(!Qk(A.scopes))return s("tengu_oauth_tokens_not_claude_ai",{}),{success:!0};if(!A.refreshToken||!A.expiresAt)return s("tengu_oauth_tokens_inference_only",{}),{success:!0};let Q=u$(),B=Q.name;try{let G=Q.read()||{};G.claudeAiOauth={accessToken:A.accessToken,refreshToken:A.refreshToken,expiresAt:A.expiresAt,scopes:A.scopes,subscriptionType:A.subscriptionType,rateLimitTier:A.rateLimitTier};let Z=Q.update(G);if(Z.success)s("tengu_oauth_tokens_saved",{storageBackend:B});else s("tengu_oauth_tokens_save_failed",{storageBackend:B});return r3.cache?.clear?.(),oyA(),Z}catch(G){return r(G),s("tengu_oauth_tokens_save_exception",{storageBackend:B,error:G.message}),{success:!1,warning:"Failed to save OAuth tokens"}}}async function pk(A=0){let B=r3();if(!B?.refreshToken||!qm(B.expiresAt))return!1;if(!Qk(B.scopes))return!1;if(r3.cache?.clear?.(),B=r3(),!B?.refreshToken||!qm(B.expiresAt))return!1;let G=uQ();jA().mkdirSync(G);let Y;try{Y=await tFQ.lock(G)}catch(J){if(J.code==="ELOCKED"){if(A<5)return s("tengu_oauth_token_refresh_lock_retry",{retryCount:A+1}),await new Promise((I)=>setTimeout(I,1000+Math.random()*1000)),pk(A+1);return s("tengu_oauth_token_refresh_lock_retry_limit_reached",{maxRetries:5}),!1}return r(J),s("tengu_oauth_token_refresh_lock_error",{error:J.message}),!1}try{if(r3.cache?.clear?.(),B=r3(),!B?.refreshToken||!qm(B.expiresAt))return s("tengu_oauth_token_refresh_race_resolved",{}),!1;let J=await Vu0(B.refreshToken);return FHA(J),r3.cache?.clear?.(),!0}catch(J){return r(J instanceof Error?J:Error(String(J))),!1}finally{await Y()}}function LB(){if(!kz())return!1;return Qk(r3()?.scopes)}function ICQ(){if(C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!1;if(LB())return!1;return!0}function j8(){return kz()?c1().oauthAccount:void 0}function YL(){let A=c3();return A==="max"||A==="enterprise"||A==="team"||A==="pro"||A===null}function c3(){if(wu0())return $u0();if(!kz())return null;let A=r3();if(!A)return null;return A.subscriptionType??null}function Rd(){if(!kz())return null;let A=r3();if(!A)return null;return A.rateLimitTier??null}function OR1(){switch(c3()){case"enterprise":return"Claude Enterprise";case"team":return"Claude Team";case"max":return"Claude Max";case"pro":return"Claude Pro";default:return"Claude API"}}function nP(){return!!(C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY))}function XCQ(){return(CQ()||{}).otelHeadersHelper}function CHA(){let A=XCQ();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.otelHeadersHelper===A||B?.otelHeadersHelper===A}function WCQ(){let A=XCQ();if(!A)return{};if(CHA()){if(!tZ(!0))return{}}try{let Q=pG(A)?.toString().trim();if(!Q)throw Error("otelHeadersHelper did not return a valid value");let B=JSON.parse(Q);if(typeof B!=="object"||B===null||Array.isArray(B))throw Error("otelHeadersHelper must return a JSON object with string key-value pairs");for(let[G,Z]of Object.entries(B))if(typeof Z!=="string")throw Error(`otelHeadersHelper returned non-string value for key "${G}": ${typeof Z}`);return B}catch(Q){throw r(Error(`Error getting OpenTelemetry headers from otelHeadersHelper (in settings): ${Q instanceof Error?Q.message:String(Q)}`)),Q}}function ez3(A){return A==="max"||A==="pro"}function dgA(){let A=c3();return LB()&&A!==null&&ez3(A)}function cgA(){if(_3()!=="firstParty")return;let{source:Q}=Od(),B={};if(LB())B.subscription=OR1();else B.tokenSource=Q;let{key:G,source:Z}=aD();if(G)B.apiKeySource=Z;if(Q==="claude.ai"||Z==="/login managed key"){let J=j8()?.organizationName;if(J)B.organization=J}let Y=j8()?.emailAddress;if((Q==="claude.ai"||Z==="/login managed key")&&Y)B.email=Y;return B}var tFQ,iz3=300000,DHA,az3=3600000,xr,HHA,r3;var V2=q(()=>{vQ();gB();Q3();p2();byA();g1();Q0();o2();uyA();Wu0();qq();pyA();Bk();YQ();sQ();oKA();u0();B$1();_0();hW();qR1();VHA();tFQ=o($m(),1);DHA=LK1((A)=>{let Q=EHA();if(!Q)return null;if(ACQ()){if(!tZ(!0)&&!A){let G=Error(`Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.FEEDBACK_CHANNEL}.`);Dq("apiKeyHelper invoked before trust check",G),s("tengu_apiKeyHelper_missing_trust8",{})}}try{let B=pG(Q)?.toString().trim();if(!B)throw Error("apiKeyHelper did not return a valid value");return B}catch(B){let G=pA.red("Error getting API key from apiKeyHelper (in settings or ~/.claude.json):");if(B instanceof Error&&"stderr"in B)console.error(G,String(B.stderr));else if(B instanceof Error)console.error(G,B.message);else console.error(G,B);return" "}},nz3());xr=LK1(async()=>{let A=await oz3(),Q=await sz3();if(A||Q)await H4Q();return Q},az3);HHA=Z0(()=>{if(process.platform==="darwin"){let Q=Nm();try{let B=pG(`security find-generic-password -a $USER -w -s "${Q}"`);if(B)return{key:B,source:"/login managed key"}}catch(B){r(B)}}let A=c1();if(!A.primaryApiKey)return null;return{key:A.primaryApiKey,source:"/login managed key"}});r3=Z0(()=>{if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{accessToken:process.env.CLAUDE_CODE_OAUTH_TOKEN,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};let A=SK1();if(A)return{accessToken:A,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};try{let G=u$().read()?.claudeAiOauth;if(!G?.accessToken)return null;return G}catch(Q){return r(Q),null}})});import{join as zHA}from"path";function ECQ(){return(process.argv[1]||"").includes("/.claude/local/node_modules/")}async function AU3(){try{if(!jA().existsSync(_d))jA().mkdirSync(_d);if(!jA().existsSync(KCQ)){let Q={name:"claude-local",version:"0.0.1",private:!0};jA().writeFileSync(KCQ,JSON.stringify(Q,null,2),{encoding:"utf8",flush:!1})}let A=zHA(_d,"claude");if(!jA().existsSync(A)){let Q=`#!/bin/bash
191:exec "${_d}/node_modules/.bin/claude" "$@"`;jA().writeFileSync(A,Q,{encoding:"utf8",flush:!1}),await EQ("chmod",["+x",A])}return!0}catch(A){return r(A instanceof Error?A:Error(String(A))),!1}}async function UHA(A="latest"){try{if(!await AU3())return"install_failed";let Q=await j6("npm",["install",`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.PACKAGE_URL}@${A}`],{cwd:_d,maxBuffer:1e6});if(Q.code!==0)return r(Error(`Failed to install Claude CLI package: ${Q.stderr}`)),Q.code===190?"in_progress":"install_failed";return i0((B)=>({...B,installMethod:"local"})),"success"}catch(Q){return r(Q instanceof Error?Q:Error(String(Q))),"install_failed"}}function Td(){return jA().existsSync(zHA(_d,"node_modules",".bin","claude"))}function h3A(){let A=process.env.SHELL||"";if(A.includes("zsh"))return"zsh";if(A.includes("bash"))return"bash";if(A.includes("fish"))return"fish";return"unknown"}var _d,KCQ,VCQ;var kr=q(()=>{Q3();g1();vQ();YQ();sQ();_d=zHA(uQ(),"local"),KCQ=zHA(_d,"package.json"),VCQ=zHA(_d,"claude")});var $HA=w((ie5,DCQ)=>{var QU3=Number.MAX_SAFE_INTEGER||9007199254740991,BU3=["major","premajor","minor","preminor","patch","prepatch","prerelease"];DCQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:QU3,RELEASE_TYPES:BU3,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var wHA=w((ne5,HCQ)=>{var GU3=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};HCQ.exports=GU3});var g3A=w((aP,FCQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:RR1,MAX_SAFE_BUILD_LENGTH:ZU3,MAX_LENGTH:YU3}=$HA(),JU3=wHA();aP=FCQ.exports={};var IU3=aP.re=[],XU3=aP.safeRe=[],$2=aP.src=[],WU3=aP.safeSrc=[],w2=aP.t={},KU3=0,_R1="[a-zA-Z0-9-]",VU3=[["\\s",1],["\\d",YU3],[_R1,ZU3]],EU3=(A)=>{for(let[Q,B]of VU3)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},T3=(A,Q,B)=>{let G=EU3(Q),Z=KU3++;JU3(A,Z,Q),w2[A]=Z,$2[Z]=Q,WU3[Z]=G,IU3[Z]=new RegExp(Q,B?"g":void 0),XU3[Z]=new RegExp(G,B?"g":void 0)};T3("NUMERICIDENTIFIER","0|[1-9]\\d*");T3("NUMERICIDENTIFIERLOOSE","\\d+");T3("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_R1}*`);T3("MAINVERSION",`(${$2[w2.NUMERICIDENTIFIER]})\\.(${$2[w2.NUMERICIDENTIFIER]})\\.(${$2[w2.NUMERICIDENTIFIER]})`);T3("MAINVERSIONLOOSE",`(${$2[w2.NUMERICIDENTIFIERLOOSE]})\\.(${$2[w2.NUMERICIDENTIFIERLOOSE]})\\.(${$2[w2.NUMERICIDENTIFIERLOOSE]})`);T3("PRERELEASEIDENTIFIER",`(?:${$2[w2.NONNUMERICIDENTIFIER]}|${$2[w2.NUMERICIDENTIFIER]})`);T3("PRERELEASEIDENTIFIERLOOSE",`(?:${$2[w2.NONNUMERICIDENTIFIER]}|${$2[w2.NUMERICIDENTIFIERLOOSE]})`);T3("PRERELEASE",`(?:-(${$2[w2.PRERELEASEIDENTIFIER]}(?:\\.${$2[w2.PRERELEASEIDENTIFIER]})*))`);T3("PRERELEASELOOSE",`(?:-?(${$2[w2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${$2[w2.PRERELEASEIDENTIFIERLOOSE]})*))`);T3("BUILDIDENTIFIER",`${_R1}+`);T3("BUILD",`(?:\\+(${$2[w2.BUILDIDENTIFIER]}(?:\\.${$2[w2.BUILDIDENTIFIER]})*))`);T3("FULLPLAIN",`v?${$2[w2.MAINVERSION]}${$2[w2.PRERELEASE]}?${$2[w2.BUILD]}?`);T3("FULL",`^${$2[w2.FULLPLAIN]}$`);T3("LOOSEPLAIN",`[v=\\s]*${$2[w2.MAINVERSIONLOOSE]}${$2[w2.PRERELEASELOOSE]}?${$2[w2.BUILD]}?`);T3("LOOSE",`^${$2[w2.LOOSEPLAIN]}$`);T3("GTLT","((?:<|>)?=?)");T3("XRANGEIDENTIFIERLOOSE",`${$2[w2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);T3("XRANGEIDENTIFIER",`${$2[w2.NUMERICIDENTIFIER]}|x|X|\\*`);T3("XRANGEPLAIN",`[v=\\s]*(${$2[w2.XRANGEIDENTIFIER]})(?:\\.(${$2[w2.XRANGEIDENTIFIER]})(?:\\.(${$2[w2.XRANGEIDENTIFIER]})(?:${$2[w2.PRERELEASE]})?${$2[w2.BUILD]}?)?)?`);T3("XRANGEPLAINLOOSE",`[v=\\s]*(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$2[w2.XRANGEIDENTIFIERLOOSE]})(?:${$2[w2.PRERELEASELOOSE]})?${$2[w2.BUILD]}?)?)?`);T3("XRANGE",`^${$2[w2.GTLT]}\\s*${$2[w2.XRANGEPLAIN]}$`);T3("XRANGELOOSE",`^${$2[w2.GTLT]}\\s*${$2[w2.XRANGEPLAINLOOSE]}$`);T3("COERCEPLAIN",`(^|[^\\d])(\\d{1,${RR1}})(?:\\.(\\d{1,${RR1}}))?(?:\\.(\\d{1,${RR1}}))?`);T3("COERCE",`${$2[w2.COERCEPLAIN]}(?:$|[^\\d])`);T3("COERCEFULL",$2[w2.COERCEPLAIN]+`(?:${$2[w2.PRERELEASE]})?(?:${$2[w2.BUILD]})?(?:$|[^\\d])`);T3("COERCERTL",$2[w2.COERCE],!0);T3("COERCERTLFULL",$2[w2.COERCEFULL],!0);T3("LONETILDE","(?:~>?)");T3("TILDETRIM",`(\\s*)${$2[w2.LONETILDE]}\\s+`,!0);aP.tildeTrimReplace="$1~";T3("TILDE",`^${$2[w2.LONETILDE]}${$2[w2.XRANGEPLAIN]}$`);T3("TILDELOOSE",`^${$2[w2.LONETILDE]}${$2[w2.XRANGEPLAINLOOSE]}$`);T3("LONECARET","(?:\\^)");T3("CARETTRIM",`(\\s*)${$2[w2.LONECARET]}\\s+`,!0);aP.caretTrimReplace="$1^";T3("CARET",`^${$2[w2.LONECARET]}${$2[w2.XRANGEPLAIN]}$`);T3("CARETLOOSE",`^${$2[w2.LONECARET]}${$2[w2.XRANGEPLAINLOOSE]}$`);T3("COMPARATORLOOSE",`^${$2[w2.GTLT]}\\s*(${$2[w2.LOOSEPLAIN]})$|^$`);T3("COMPARATOR",`^${$2[w2.GTLT]}\\s*(${$2[w2.FULLPLAIN]})$|^$`);T3("COMPARATORTRIM",`(\\s*)${$2[w2.GTLT]}\\s*(${$2[w2.LOOSEPLAIN]}|${$2[w2.XRANGEPLAIN]})`,!0);aP.comparatorTrimReplace="$1$2$3";T3("HYPHENRANGE",`^\\s*(${$2[w2.XRANGEPLAIN]})\\s+-\\s+(${$2[w2.XRANGEPLAIN]})\\s*$`);T3("HYPHENRANGELOOSE",`^\\s*(${$2[w2.XRANGEPLAINLOOSE]})\\s+-\\s+(${$2[w2.XRANGEPLAINLOOSE]})\\s*$`);T3("STAR","(<|>)?=?\\s*\\*");T3("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");T3("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pgA=w((ae5,CCQ)=>{var DU3=Object.freeze({loose:!0}),HU3=Object.freeze({}),FU3=(A)=>{if(!A)return HU3;if(typeof A!=="object")return DU3;return A};CCQ.exports=FU3});var TR1=w((oe5,$CQ)=>{var zCQ=/^[0-9]+$/,UCQ=(A,Q)=>{let B=zCQ.test(A),G=zCQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},CU3=(A,Q)=>UCQ(Q,A);$CQ.exports={compareIdentifiers:UCQ,rcompareIdentifiers:CU3}});var oD=w((re5,NCQ)=>{var lgA=wHA(),{MAX_LENGTH:wCQ,MAX_SAFE_INTEGER:igA}=$HA(),{safeRe:ngA,t:agA}=g3A(),zU3=pgA(),{compareIdentifiers:u3A}=TR1();class RR{constructor(A,Q){if(Q=zU3(Q),A instanceof RR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>wCQ)throw TypeError(`version is longer than ${wCQ} characters`);lgA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?ngA[agA.LOOSE]:ngA[agA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>igA||this.major<0)throw TypeError("Invalid major version");if(this.minor>igA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>igA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<igA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(lgA("SemVer.compare",this.version,this.options,A),!(A instanceof RR)){if(typeof A==="string"&&A===this.version)return 0;A=new RR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof RR))A=new RR(A,this.options);return u3A(this.major,A.major)||u3A(this.minor,A.minor)||u3A(this.patch,A.patch)}comparePre(A){if(!(A instanceof RR))A=new RR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(lgA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return u3A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof RR))A=new RR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(lgA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return u3A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=`-${Q}`.match(this.options.loose?ngA[agA.PRERELEASELOOSE]:ngA[agA.PRERELEASE]);if(!G||G[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(u3A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}NCQ.exports=RR});var fr=w((se5,LCQ)=>{var qCQ=oD(),UU3=(A,Q,B=!1)=>{if(A instanceof qCQ)return A;try{return new qCQ(A,Q)}catch(G){if(!B)return null;throw G}};LCQ.exports=UU3});var OCQ=w((te5,MCQ)=>{var $U3=fr(),wU3=(A,Q)=>{let B=$U3(A,Q);return B?B.version:null};MCQ.exports=wU3});var _CQ=w((ee5,RCQ)=>{var NU3=fr(),qU3=(A,Q)=>{let B=NU3(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};RCQ.exports=qU3});var PCQ=w((AA7,jCQ)=>{var TCQ=oD(),LU3=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new TCQ(A instanceof TCQ?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};jCQ.exports=LU3});var yCQ=w((QA7,xCQ)=>{var SCQ=fr(),MU3=(A,Q)=>{let B=SCQ(A,null,!0),G=SCQ(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};xCQ.exports=MU3});var kCQ=w((BA7,vCQ)=>{var OU3=oD(),RU3=(A,Q)=>new OU3(A,Q).major;vCQ.exports=RU3});var bCQ=w((GA7,fCQ)=>{var _U3=oD(),TU3=(A,Q)=>new _U3(A,Q).minor;fCQ.exports=TU3});var gCQ=w((ZA7,hCQ)=>{var jU3=oD(),PU3=(A,Q)=>new jU3(A,Q).patch;hCQ.exports=PU3});var mCQ=w((YA7,uCQ)=>{var SU3=fr(),xU3=(A,Q)=>{let B=SU3(A,Q);return B&&B.prerelease.length?B.prerelease:null};uCQ.exports=xU3});var JL=w((JA7,cCQ)=>{var dCQ=oD(),yU3=(A,Q,B)=>new dCQ(A,B).compare(new dCQ(Q,B));cCQ.exports=yU3});var lCQ=w((IA7,pCQ)=>{var vU3=JL(),kU3=(A,Q,B)=>vU3(Q,A,B);pCQ.exports=kU3});var nCQ=w((XA7,iCQ)=>{var fU3=JL(),bU3=(A,Q)=>fU3(A,Q,!0);iCQ.exports=bU3});var ogA=w((WA7,oCQ)=>{var aCQ=oD(),hU3=(A,Q,B)=>{let G=new aCQ(A,B),Z=new aCQ(Q,B);return G.compare(Z)||G.compareBuild(Z)};oCQ.exports=hU3});var sCQ=w((KA7,rCQ)=>{var gU3=ogA(),uU3=(A,Q)=>A.sort((B,G)=>gU3(B,G,Q));rCQ.exports=uU3});var eCQ=w((VA7,tCQ)=>{var mU3=ogA(),dU3=(A,Q)=>A.sort((B,G)=>mU3(G,B,Q));tCQ.exports=dU3});var NHA=w((EA7,AzQ)=>{var cU3=JL(),pU3=(A,Q,B)=>cU3(A,Q,B)>0;AzQ.exports=pU3});var rgA=w((DA7,QzQ)=>{var lU3=JL(),iU3=(A,Q,B)=>lU3(A,Q,B)<0;QzQ.exports=iU3});var jR1=w((HA7,BzQ)=>{var nU3=JL(),aU3=(A,Q,B)=>nU3(A,Q,B)===0;BzQ.exports=aU3});var PR1=w((FA7,GzQ)=>{var oU3=JL(),rU3=(A,Q,B)=>oU3(A,Q,B)!==0;GzQ.exports=rU3});var sgA=w((CA7,ZzQ)=>{var sU3=JL(),tU3=(A,Q,B)=>sU3(A,Q,B)>=0;ZzQ.exports=tU3});var tgA=w((zA7,YzQ)=>{var eU3=JL(),A$3=(A,Q,B)=>eU3(A,Q,B)<=0;YzQ.exports=A$3});var SR1=w((UA7,JzQ)=>{var Q$3=jR1(),B$3=PR1(),G$3=NHA(),Z$3=sgA(),Y$3=rgA(),J$3=tgA(),I$3=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return Q$3(A,B,G);case"!=":return B$3(A,B,G);case">":return G$3(A,B,G);case">=":return Z$3(A,B,G);case"<":return Y$3(A,B,G);case"<=":return J$3(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};JzQ.exports=I$3});var XzQ=w(($A7,IzQ)=>{var X$3=oD(),W$3=fr(),{safeRe:egA,t:AuA}=g3A(),K$3=(A,Q)=>{if(A instanceof X$3)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?egA[AuA.COERCEFULL]:egA[AuA.COERCE]);else{let X=Q.includePrerelease?egA[AuA.COERCERTLFULL]:egA[AuA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return W$3(`${G}.${Z}.${Y}${J}${I}`,Q)};IzQ.exports=K$3});var VzQ=w((wA7,KzQ)=>{class WzQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}KzQ.exports=WzQ});var IL=w((NA7,FzQ)=>{var V$3=/\s+/g;class qHA{constructor(A,Q){if(Q=D$3(Q),A instanceof qHA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new qHA(A.raw,Q);if(A instanceof xR1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(V$3," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!DzQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&w$3(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&U$3)|(this.options.loose&&$$3))+":"+A,G=EzQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?fz[OF.HYPHENRANGELOOSE]:fz[OF.HYPHENRANGE];A=A.replace(Y,P$3(this.options.includePrerelease)),eZ("hyphen replace",A),A=A.replace(fz[OF.COMPARATORTRIM],F$3),eZ("comparator trim",A),A=A.replace(fz[OF.TILDETRIM],C$3),eZ("tilde trim",A),A=A.replace(fz[OF.CARETTRIM],z$3),eZ("caret trim",A);let J=A.split(" ").map((K)=>N$3(K,this.options)).join(" ").split(/\s+/).map((K)=>j$3(K,this.options));if(Z)J=J.filter((K)=>{return eZ("loose invalid filter",K,this.options),!!K.match(fz[OF.COMPARATORLOOSE])});eZ("range list",J);let I=new Map,X=J.map((K)=>new xR1(K,this.options));for(let K of X){if(DzQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return EzQ.set(B,W),W}intersects(A,Q){if(!(A instanceof qHA))throw TypeError("a Range is required");return this.set.some((B)=>{return HzQ(B,Q)&&A.set.some((G)=>{return HzQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new H$3(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(S$3(this.set[Q],A,this.options))return!0;return!1}}FzQ.exports=qHA;var E$3=VzQ(),EzQ=new E$3,D$3=pgA(),xR1=LHA(),eZ=wHA(),H$3=oD(),{safeRe:fz,t:OF,comparatorTrimReplace:F$3,tildeTrimReplace:C$3,caretTrimReplace:z$3}=g3A(),{FLAG_INCLUDE_PRERELEASE:U$3,FLAG_LOOSE:$$3}=$HA(),DzQ=(A)=>A.value==="<0.0.0-0",w$3=(A)=>A.value==="",HzQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},N$3=(A,Q)=>{return eZ("comp",A,Q),A=M$3(A,Q),eZ("caret",A),A=q$3(A,Q),eZ("tildes",A),A=R$3(A,Q),eZ("xrange",A),A=T$3(A,Q),eZ("stars",A),A},RF=(A)=>!A||A.toLowerCase()==="x"||A==="*",q$3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>L$3(B,Q)).join(" ")},L$3=(A,Q)=>{let B=Q.loose?fz[OF.TILDELOOSE]:fz[OF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{eZ("tilde",A,G,Z,Y,J,I);let X;if(RF(Z))X="";else if(RF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(RF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)eZ("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return eZ("tilde return",X),X})},M$3=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>O$3(B,Q)).join(" ")},O$3=(A,Q)=>{eZ("caret",A,Q);let B=Q.loose?fz[OF.CARETLOOSE]:fz[OF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{eZ("caret",A,Z,Y,J,I,X);let W;if(RF(Y))W="";else if(RF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(RF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(eZ("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(eZ("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return eZ("caret return",W),W})},R$3=(A,Q)=>{return eZ("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>_$3(B,Q)).join(" ")},_$3=(A,Q)=>{A=A.trim();let B=Q.loose?fz[OF.XRANGELOOSE]:fz[OF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{eZ("xRange",A,G,Z,Y,J,I,X);let W=RF(Y),K=W||RF(J),V=K||RF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return eZ("xRange return",G),G})},T$3=(A,Q)=>{return eZ("replaceStars",A,Q),A.trim().replace(fz[OF.STAR],"")},j$3=(A,Q)=>{return eZ("replaceGTE0",A,Q),A.trim().replace(fz[Q.includePrerelease?OF.GTE0PRE:OF.GTE0],"")},P$3=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(RF(G))B="";else if(RF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(RF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(RF(W))X="";else if(RF(K))X=`<${+W+1}.0.0-0`;else if(RF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},S$3=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(eZ(A[G].semver),A[G].semver===xR1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var LHA=w((qA7,NzQ)=>{var MHA=Symbol("SemVer ANY");class QuA{static get ANY(){return MHA}constructor(A,Q){if(Q=CzQ(Q),A instanceof QuA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),vR1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===MHA)this.value="";else this.value=this.operator+this.semver.version;vR1("comp",this)}parse(A){let Q=this.options.loose?zzQ[UzQ.COMPARATORLOOSE]:zzQ[UzQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=MHA;else this.semver=new $zQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(vR1("Comparator.test",A,this.options.loose),this.semver===MHA||A===MHA)return!0;if(typeof A==="string")try{A=new $zQ(A,this.options)}catch(Q){return!1}return yR1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof QuA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new wzQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new wzQ(this.value,Q).test(A.semver)}if(Q=CzQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(yR1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(yR1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}NzQ.exports=QuA;var CzQ=pgA(),{safeRe:zzQ,t:UzQ}=g3A(),yR1=SR1(),vR1=wHA(),$zQ=oD(),wzQ=IL()});var OHA=w((LA7,qzQ)=>{var x$3=IL(),y$3=(A,Q,B)=>{try{Q=new x$3(Q,B)}catch(G){return!1}return Q.test(A)};qzQ.exports=y$3});var MzQ=w((MA7,LzQ)=>{var v$3=IL(),k$3=(A,Q)=>new v$3(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));LzQ.exports=k$3});var RzQ=w((OA7,OzQ)=>{var f$3=oD(),b$3=IL(),h$3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new b$3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new f$3(G,B)}}),G};OzQ.exports=h$3});var TzQ=w((RA7,_zQ)=>{var g$3=oD(),u$3=IL(),m$3=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new u$3(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new g$3(G,B)}}),G};_zQ.exports=m$3});var SzQ=w((_A7,PzQ)=>{var kR1=oD(),d$3=IL(),jzQ=NHA(),c$3=(A,Q)=>{A=new d$3(A,Q);let B=new kR1("0.0.0");if(A.test(B))return B;if(B=new kR1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new kR1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||jzQ(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||jzQ(B,Y)))B=Y}if(B&&A.test(B))return B;return null};PzQ.exports=c$3});var yzQ=w((TA7,xzQ)=>{var p$3=IL(),l$3=(A,Q)=>{try{return new p$3(A,Q).range||"*"}catch(B){return null}};xzQ.exports=l$3});var BuA=w((jA7,bzQ)=>{var i$3=oD(),fzQ=LHA(),{ANY:n$3}=fzQ,a$3=IL(),o$3=OHA(),vzQ=NHA(),kzQ=rgA(),r$3=tgA(),s$3=sgA(),t$3=(A,Q,B,G)=>{A=new i$3(A,G),Q=new a$3(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=vzQ,Y=r$3,J=kzQ,I=">",X=">=";break;case"<":Z=kzQ,Y=s$3,J=vzQ,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o$3(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===n$3)D=new fzQ(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};bzQ.exports=t$3});var gzQ=w((PA7,hzQ)=>{var e$3=BuA(),Aw3=(A,Q,B)=>e$3(A,Q,">",B);hzQ.exports=Aw3});var mzQ=w((SA7,uzQ)=>{var Qw3=BuA(),Bw3=(A,Q,B)=>Qw3(A,Q,"<",B);uzQ.exports=Bw3});var pzQ=w((xA7,czQ)=>{var dzQ=IL(),Gw3=(A,Q,B)=>{return A=new dzQ(A,B),Q=new dzQ(Q,B),A.intersects(Q,B)};czQ.exports=Gw3});var izQ=w((yA7,lzQ)=>{var Zw3=OHA(),Yw3=JL();lzQ.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>Yw3(K,V,B));for(let K of J)if(Zw3(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var tzQ=w((vA7,szQ)=>{var nzQ=IL(),bR1=LHA(),{ANY:fR1}=bR1,RHA=OHA(),hR1=JL(),Jw3=(A,Q,B={})=>{if(A===Q)return!0;A=new nzQ(A,B),Q=new nzQ(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=Xw3(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},Iw3=[new bR1(">=0.0.0-0")],azQ=[new bR1(">=0.0.0")],Xw3=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===fR1)if(Q.length===1&&Q[0].semver===fR1)return!0;else if(B.includePrerelease)A=Iw3;else A=azQ;if(Q.length===1&&Q[0].semver===fR1)if(B.includePrerelease)return!0;else Q=azQ;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=ozQ(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=rzQ(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=hR1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!RHA(D,String(Z),B))return null;if(Y&&!RHA(D,String(Y),B))return null;for(let H of Q)if(!RHA(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=ozQ(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!RHA(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=rzQ(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!RHA(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},ozQ=(A,Q,B)=>{if(!A)return Q;let G=hR1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},rzQ=(A,Q,B)=>{if(!A)return Q;let G=hR1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};szQ.exports=Jw3});var _R=w((kA7,QUQ)=>{var gR1=g3A(),ezQ=$HA(),Ww3=oD(),AUQ=TR1(),Kw3=fr(),Vw3=OCQ(),Ew3=_CQ(),Dw3=PCQ(),Hw3=yCQ(),Fw3=kCQ(),Cw3=bCQ(),zw3=gCQ(),Uw3=mCQ(),$w3=JL(),ww3=lCQ(),Nw3=nCQ(),qw3=ogA(),Lw3=sCQ(),Mw3=eCQ(),Ow3=NHA(),Rw3=rgA(),_w3=jR1(),Tw3=PR1(),jw3=sgA(),Pw3=tgA(),Sw3=SR1(),xw3=XzQ(),yw3=LHA(),vw3=IL(),kw3=OHA(),fw3=MzQ(),bw3=RzQ(),hw3=TzQ(),gw3=SzQ(),uw3=yzQ(),mw3=BuA(),dw3=gzQ(),cw3=mzQ(),pw3=pzQ(),lw3=izQ(),iw3=tzQ();QUQ.exports={parse:Kw3,valid:Vw3,clean:Ew3,inc:Dw3,diff:Hw3,major:Fw3,minor:Cw3,patch:zw3,prerelease:Uw3,compare:$w3,rcompare:ww3,compareLoose:Nw3,compareBuild:qw3,sort:Lw3,rsort:Mw3,gt:Ow3,lt:Rw3,eq:_w3,neq:Tw3,gte:jw3,lte:Pw3,cmp:Sw3,coerce:xw3,Comparator:yw3,Range:vw3,satisfies:kw3,toComparators:fw3,maxSatisfying:bw3,minSatisfying:hw3,minVersion:gw3,validRange:uw3,outside:mw3,gtr:dw3,ltr:cw3,intersects:pw3,simplifyRange:lw3,subset:iw3,SemVer:Ww3,re:gR1.re,src:gR1.src,tokens:gR1.t,SEMVER_SPEC_VERSION:ezQ.SEMVER_SPEC_VERSION,RELEASE_TYPES:ezQ.RELEASE_TYPES,compareIdentifiers:AUQ.compareIdentifiers,rcompareIdentifiers:AUQ.rcompareIdentifiers}});function iX(){return C0(process.env.CLAUDE_CODE_USE_BEDROCK)||C0(process.env.CLAUDE_CODE_USE_VERTEX)||C0(process.env.CLAUDE_CODE_USE_FOUNDRY)||!!process.env.DISABLE_TELEMETRY||!!process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC}var br=q(()=>{sQ()});var ZUQ=w((BUQ)=>{Object.defineProperty(BUQ,"__esModule",{value:!0});BUQ._globalThis=void 0;BUQ._globalThis=typeof globalThis==="object"?globalThis:global});var YUQ=w((hr)=>{var nw3=hr&&hr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),aw3=hr&&hr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))nw3(Q,A,B)};Object.defineProperty(hr,"__esModule",{value:!0});aw3(ZUQ(),hr)});var JUQ=w((gr)=>{var ow3=gr&&gr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),rw3=gr&&gr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))ow3(Q,A,B)};Object.defineProperty(gr,"__esModule",{value:!0});rw3(YUQ(),gr)});var uR1=w((IUQ)=>{Object.defineProperty(IUQ,"__esModule",{value:!0});IUQ.VERSION=void 0;IUQ.VERSION="1.9.0"});var DUQ=w((VUQ)=>{Object.defineProperty(VUQ,"__esModule",{value:!0});VUQ.isCompatible=VUQ._makeCompatibilityCheck=void 0;var sw3=uR1(),WUQ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function KUQ(A){let Q=new Set([A]),B=new Set,G=A.match(WUQ);if(!G)return()=>!1;let Z={major:+G[1],minor:+G[2],patch:+G[3],prerelease:G[4]};if(Z.prerelease!=null)return function(X){return X===A};function Y(I){return B.add(I),!1}function J(I){return Q.add(I),!0}return function(X){if(Q.has(X))return!0;if(B.has(X))return!1;let W=X.match(WUQ);if(!W)return Y(X);let K={major:+W[1],minor:+W[2],patch:+W[3],prerelease:W[4]};if(K.prerelease!=null)return Y(X);if(Z.major!==K.major)return Y(X);if(Z.major===0){if(Z.minor===K.minor&&Z.patch<=K.patch)return J(X);return Y(X)}if(Z.minor<=K.minor)return J(X);return Y(X)}}VUQ._makeCompatibilityCheck=KUQ;VUQ.isCompatible=KUQ(sw3.VERSION)});var ur=w((HUQ)=>{Object.defineProperty(HUQ,"__esModule",{value:!0});HUQ.unregisterGlobal=HUQ.getGlobal=HUQ.registerGlobal=void 0;var ew3=JUQ(),m3A=uR1(),AN3=DUQ(),QN3=m3A.VERSION.split(".")[0],_HA=Symbol.for(`opentelemetry.js.api.${QN3}`),THA=ew3._globalThis;function BN3(A,Q,B,G=!1){var Z;let Y=THA[_HA]=(Z=THA[_HA])!==null&&Z!==void 0?Z:{version:m3A.VERSION};if(!G&&Y[A]){let J=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${A}`);return B.error(J.stack||J.message),!1}if(Y.version!==m3A.VERSION){let J=Error(`@opentelemetry/api: Registration of version v${Y.version} for ${A} does not match previously registered API v${m3A.VERSION}`);return B.error(J.stack||J.message),!1}return Y[A]=Q,B.debug(`@opentelemetry/api: Registered a global for ${A} v${m3A.VERSION}.`),!0}HUQ.registerGlobal=BN3;function GN3(A){var Q,B;let G=(Q=THA[_HA])===null||Q===void 0?void 0:Q.version;if(!G||!(0,AN3.isCompatible)(G))return;return(B=THA[_HA])===null||B===void 0?void 0:B[A]}HUQ.getGlobal=GN3;function ZN3(A,Q){Q.debug(`@opentelemetry/api: Unregistering a global for ${A} v${m3A.VERSION}.`);let B=THA[_HA];if(B)delete B[A]}HUQ.unregisterGlobal=ZN3});var $UQ=w((zUQ)=>{Object.defineProperty(zUQ,"__esModule",{value:!0});zUQ.DiagComponentLogger=void 0;var IN3=ur();class CUQ{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return jHA("debug",this._namespace,A)}error(...A){return jHA("error",this._namespace,A)}info(...A){return jHA("info",this._namespace,A)}warn(...A){return jHA("warn",this._namespace,A)}verbose(...A){return jHA("verbose",this._namespace,A)}}zUQ.DiagComponentLogger=CUQ;function jHA(A,Q,B){let G=(0,IN3.getGlobal)("diag");if(!G)return;return B.unshift(Q),G[A](...B)}});var GuA=w((wUQ)=>{Object.defineProperty(wUQ,"__esModule",{value:!0});wUQ.DiagLogLevel=void 0;var XN3;(function(A){A[A.NONE=0]="NONE",A[A.ERROR=30]="ERROR",A[A.WARN=50]="WARN",A[A.INFO=60]="INFO",A[A.DEBUG=70]="DEBUG",A[A.VERBOSE=80]="VERBOSE",A[A.ALL=9999]="ALL"})(XN3=wUQ.DiagLogLevel||(wUQ.DiagLogLevel={}))});var LUQ=w((NUQ)=>{Object.defineProperty(NUQ,"__esModule",{value:!0});NUQ.createLogLevelDiagLogger=void 0;var lk=GuA();function WN3(A,Q){if(A<lk.DiagLogLevel.NONE)A=lk.DiagLogLevel.NONE;else if(A>lk.DiagLogLevel.ALL)A=lk.DiagLogLevel.ALL;Q=Q||{};function B(G,Z){let Y=Q[G];if(typeof Y==="function"&&A>=Z)return Y.bind(Q);return function(){}}return{error:B("error",lk.DiagLogLevel.ERROR),warn:B("warn",lk.DiagLogLevel.WARN),info:B("info",lk.DiagLogLevel.INFO),debug:B("debug",lk.DiagLogLevel.DEBUG),verbose:B("verbose",lk.DiagLogLevel.VERBOSE)}}NUQ.createLogLevelDiagLogger=WN3});var mr=w((OUQ)=>{Object.defineProperty(OUQ,"__esModule",{value:!0});OUQ.DiagAPI=void 0;var KN3=$UQ(),VN3=LUQ(),MUQ=GuA(),ZuA=ur(),EN3="diag";class dR1{constructor(){function A(G){return function(...Z){let Y=(0,ZuA.getGlobal)("diag");if(!Y)return;return Y[G](...Z)}}let Q=this,B=(G,Z={logLevel:MUQ.DiagLogLevel.INFO})=>{var Y,J,I;if(G===Q){let K=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return Q.error((Y=K.stack)!==null&&Y!==void 0?Y:K.message),!1}if(typeof Z==="number")Z={logLevel:Z};let X=(0,ZuA.getGlobal)("diag"),W=(0,VN3.createLogLevelDiagLogger)((J=Z.logLevel)!==null&&J!==void 0?J:MUQ.DiagLogLevel.INFO,G);if(X&&!Z.suppressOverrideMessage){let K=(I=Error().stack)!==null&&I!==void 0?I:"<failed to generate stacktrace>";X.warn(`Current logger will be overwritten from ${K}`),W.warn(`Current logger will overwrite one already registered from ${K}`)}return(0,ZuA.registerGlobal)("diag",W,Q,!0)};Q.setLogger=B,Q.disable=()=>{(0,ZuA.unregisterGlobal)(EN3,Q)},Q.createComponentLogger=(G)=>{return new KN3.DiagComponentLogger(G)},Q.verbose=A("verbose"),Q.debug=A("debug"),Q.info=A("info"),Q.warn=A("warn"),Q.error=A("error")}static instance(){if(!this._instance)this._instance=new dR1;return this._instance}}OUQ.DiagAPI=dR1});var jUQ=w((_UQ)=>{Object.defineProperty(_UQ,"__esModule",{value:!0});_UQ.BaggageImpl=void 0;class d3A{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let Q=this._entries.get(A);if(!Q)return;return Object.assign({},Q)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,Q])=>[A,Q])}setEntry(A,Q){let B=new d3A(this._entries);return B._entries.set(A,Q),B}removeEntry(A){let Q=new d3A(this._entries);return Q._entries.delete(A),Q}removeEntries(...A){let Q=new d3A(this._entries);for(let B of A)Q._entries.delete(B);return Q}clear(){return new d3A}}_UQ.BaggageImpl=d3A});var xUQ=w((PUQ)=>{Object.defineProperty(PUQ,"__esModule",{value:!0});PUQ.baggageEntryMetadataSymbol=void 0;PUQ.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var cR1=w((yUQ)=>{Object.defineProperty(yUQ,"__esModule",{value:!0});yUQ.baggageEntryMetadataFromString=yUQ.createBaggage=void 0;var DN3=mr(),HN3=jUQ(),FN3=xUQ(),CN3=DN3.DiagAPI.instance();function zN3(A={}){return new HN3.BaggageImpl(new Map(Object.entries(A)))}yUQ.createBaggage=zN3;function UN3(A){if(typeof A!=="string")CN3.error(`Cannot create baggage metadata from unknown type: ${typeof A}`),A="";return{__TYPE__:FN3.baggageEntryMetadataSymbol,toString(){return A}}}yUQ.baggageEntryMetadataFromString=UN3});var PHA=w((kUQ)=>{Object.defineProperty(kUQ,"__esModule",{value:!0});kUQ.ROOT_CONTEXT=kUQ.createContextKey=void 0;function wN3(A){return Symbol.for(A)}kUQ.createContextKey=wN3;class YuA{constructor(A){let Q=this;Q._currentContext=A?new Map(A):new Map,Q.getValue=(B)=>Q._currentContext.get(B),Q.setValue=(B,G)=>{let Z=new YuA(Q._currentContext);return Z._currentContext.set(B,G),Z},Q.deleteValue=(B)=>{let G=new YuA(Q._currentContext);return G._currentContext.delete(B),G}}}kUQ.ROOT_CONTEXT=new YuA});var uUQ=w((hUQ)=>{Object.defineProperty(hUQ,"__esModule",{value:!0});hUQ.DiagConsoleLogger=void 0;var pR1=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class bUQ{constructor(){function A(Q){return function(...B){if(console){let G=console[Q];if(typeof G!=="function")G=console.log;if(typeof G==="function")return G.apply(console,B)}}}for(let Q=0;Q<pR1.length;Q++)this[pR1[Q].n]=A(pR1[Q].c)}}hUQ.DiagConsoleLogger=bUQ});var eR1=w((mUQ)=>{Object.defineProperty(mUQ,"__esModule",{value:!0});mUQ.createNoopMeter=mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=mUQ.NOOP_OBSERVABLE_GAUGE_METRIC=mUQ.NOOP_OBSERVABLE_COUNTER_METRIC=mUQ.NOOP_UP_DOWN_COUNTER_METRIC=mUQ.NOOP_HISTOGRAM_METRIC=mUQ.NOOP_GAUGE_METRIC=mUQ.NOOP_COUNTER_METRIC=mUQ.NOOP_METER=mUQ.NoopObservableUpDownCounterMetric=mUQ.NoopObservableGaugeMetric=mUQ.NoopObservableCounterMetric=mUQ.NoopObservableMetric=mUQ.NoopHistogramMetric=mUQ.NoopGaugeMetric=mUQ.NoopUpDownCounterMetric=mUQ.NoopCounterMetric=mUQ.NoopMetric=mUQ.NoopMeter=void 0;class lR1{constructor(){}createGauge(A,Q){return mUQ.NOOP_GAUGE_METRIC}createHistogram(A,Q){return mUQ.NOOP_HISTOGRAM_METRIC}createCounter(A,Q){return mUQ.NOOP_COUNTER_METRIC}createUpDownCounter(A,Q){return mUQ.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,Q){return mUQ.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,Q){return mUQ.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,Q){return mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,Q){}removeBatchObservableCallback(A){}}mUQ.NoopMeter=lR1;class c3A{}mUQ.NoopMetric=c3A;class iR1 extends c3A{add(A,Q){}}mUQ.NoopCounterMetric=iR1;class nR1 extends c3A{add(A,Q){}}mUQ.NoopUpDownCounterMetric=nR1;class aR1 extends c3A{record(A,Q){}}mUQ.NoopGaugeMetric=aR1;class oR1 extends c3A{record(A,Q){}}mUQ.NoopHistogramMetric=oR1;class SHA{addCallback(A){}removeCallback(A){}}mUQ.NoopObservableMetric=SHA;class rR1 extends SHA{}mUQ.NoopObservableCounterMetric=rR1;class sR1 extends SHA{}mUQ.NoopObservableGaugeMetric=sR1;class tR1 extends SHA{}mUQ.NoopObservableUpDownCounterMetric=tR1;mUQ.NOOP_METER=new lR1;mUQ.NOOP_COUNTER_METRIC=new iR1;mUQ.NOOP_GAUGE_METRIC=new aR1;mUQ.NOOP_HISTOGRAM_METRIC=new oR1;mUQ.NOOP_UP_DOWN_COUNTER_METRIC=new nR1;mUQ.NOOP_OBSERVABLE_COUNTER_METRIC=new rR1;mUQ.NOOP_OBSERVABLE_GAUGE_METRIC=new sR1;mUQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new tR1;function qN3(){return mUQ.NOOP_METER}mUQ.createNoopMeter=qN3});var tUQ=w((sUQ)=>{Object.defineProperty(sUQ,"__esModule",{value:!0});sUQ.ValueType=void 0;var yN3;(function(A){A[A.INT=0]="INT",A[A.DOUBLE=1]="DOUBLE"})(yN3=sUQ.ValueType||(sUQ.ValueType={}))});var Q_1=w((eUQ)=>{Object.defineProperty(eUQ,"__esModule",{value:!0});eUQ.defaultTextMapSetter=eUQ.defaultTextMapGetter=void 0;eUQ.defaultTextMapGetter={get(A,Q){if(A==null)return;return A[Q]},keys(A){if(A==null)return[];return Object.keys(A)}};eUQ.defaultTextMapSetter={set(A,Q,B){if(A==null)return;A[Q]=B}}});var Z$Q=w((B$Q)=>{Object.defineProperty(B$Q,"__esModule",{value:!0});B$Q.NoopContextManager=void 0;var kN3=PHA();class Q$Q{active(){return kN3.ROOT_CONTEXT}with(A,Q,B,...G){return Q.call(B,...G)}bind(A,Q){return Q}enable(){return this}disable(){return this}}B$Q.NoopContextManager=Q$Q});var xHA=w((J$Q)=>{Object.defineProperty(J$Q,"__esModule",{value:!0});J$Q.ContextAPI=void 0;var fN3=Z$Q(),B_1=ur(),Y$Q=mr(),G_1="context",bN3=new fN3.NoopContextManager;class Z_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new Z_1;return this._instance}setGlobalContextManager(A){return(0,B_1.registerGlobal)(G_1,A,Y$Q.DiagAPI.instance())}active(){return this._getContextManager().active()}with(A,Q,B,...G){return this._getContextManager().with(A,Q,B,...G)}bind(A,Q){return this._getContextManager().bind(A,Q)}_getContextManager(){return(0,B_1.getGlobal)(G_1)||bN3}disable(){this._getContextManager().disable(),(0,B_1.unregisterGlobal)(G_1,Y$Q.DiagAPI.instance())}}J$Q.ContextAPI=Z_1});var J_1=w((X$Q)=>{Object.defineProperty(X$Q,"__esModule",{value:!0});X$Q.TraceFlags=void 0;var hN3;(function(A){A[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED"})(hN3=X$Q.TraceFlags||(X$Q.TraceFlags={}))});var JuA=w((W$Q)=>{Object.defineProperty(W$Q,"__esModule",{value:!0});W$Q.INVALID_SPAN_CONTEXT=W$Q.INVALID_TRACEID=W$Q.INVALID_SPANID=void 0;var gN3=J_1();W$Q.INVALID_SPANID="0000000000000000";W$Q.INVALID_TRACEID="00000000000000000000000000000000";W$Q.INVALID_SPAN_CONTEXT={traceId:W$Q.INVALID_TRACEID,spanId:W$Q.INVALID_SPANID,traceFlags:gN3.TraceFlags.NONE}});var IuA=w((H$Q)=>{Object.defineProperty(H$Q,"__esModule",{value:!0});H$Q.NonRecordingSpan=void 0;var uN3=JuA();class D$Q{constructor(A=uN3.INVALID_SPAN_CONTEXT){this._spanContext=A}spanContext(){return this._spanContext}setAttribute(A,Q){return this}setAttributes(A){return this}addEvent(A,Q){return this}addLink(A){return this}addLinks(A){return this}setStatus(A){return this}updateName(A){return this}end(A){}isRecording(){return!1}recordException(A,Q){}}H$Q.NonRecordingSpan=D$Q});var W_1=w((z$Q)=>{Object.defineProperty(z$Q,"__esModule",{value:!0});z$Q.getSpanContext=z$Q.setSpanContext=z$Q.deleteSpan=z$Q.setSpan=z$Q.getActiveSpan=z$Q.getSpan=void 0;var mN3=PHA(),dN3=IuA(),cN3=xHA(),I_1=(0,mN3.createContextKey)("OpenTelemetry Context Key SPAN");function X_1(A){return A.getValue(I_1)||void 0}z$Q.getSpan=X_1;function pN3(){return X_1(cN3.ContextAPI.getInstance().active())}z$Q.getActiveSpan=pN3;function C$Q(A,Q){return A.setValue(I_1,Q)}z$Q.setSpan=C$Q;function lN3(A){return A.deleteValue(I_1)}z$Q.deleteSpan=lN3;function iN3(A,Q){return C$Q(A,new dN3.NonRecordingSpan(Q))}z$Q.setSpanContext=iN3;function nN3(A){var Q;return(Q=X_1(A))===null||Q===void 0?void 0:Q.spanContext()}z$Q.getSpanContext=nN3});var XuA=w((q$Q)=>{Object.defineProperty(q$Q,"__esModule",{value:!0});q$Q.wrapSpanContext=q$Q.isSpanContextValid=q$Q.isValidSpanId=q$Q.isValidTraceId=void 0;var $$Q=JuA(),eN3=IuA(),Aq3=/^([0-9a-f]{32})$/i,Qq3=/^[0-9a-f]{16}$/i;function w$Q(A){return Aq3.test(A)&&A!==$$Q.INVALID_TRACEID}q$Q.isValidTraceId=w$Q;function N$Q(A){return Qq3.test(A)&&A!==$$Q.INVALID_SPANID}q$Q.isValidSpanId=N$Q;function Bq3(A){return w$Q(A.traceId)&&N$Q(A.spanId)}q$Q.isSpanContextValid=Bq3;function Gq3(A){return new eN3.NonRecordingSpan(A)}q$Q.wrapSpanContext=Gq3});var E_1=w((R$Q)=>{Object.defineProperty(R$Q,"__esModule",{value:!0});R$Q.NoopTracer=void 0;var Iq3=xHA(),M$Q=W_1(),K_1=IuA(),Xq3=XuA(),V_1=Iq3.ContextAPI.getInstance();class O$Q{startSpan(A,Q,B=V_1.active()){if(Boolean(Q===null||Q===void 0?void 0:Q.root))return new K_1.NonRecordingSpan;let Z=B&&(0,M$Q.getSpanContext)(B);if(Wq3(Z)&&(0,Xq3.isSpanContextValid)(Z))return new K_1.NonRecordingSpan(Z);else return new K_1.NonRecordingSpan}startActiveSpan(A,Q,B,G){let Z,Y,J;if(arguments.length<2)return;else if(arguments.length===2)J=Q;else if(arguments.length===3)Z=Q,J=B;else Z=Q,Y=B,J=G;let I=Y!==null&&Y!==void 0?Y:V_1.active(),X=this.startSpan(A,Z,I),W=(0,M$Q.setSpan)(I,X);return V_1.with(W,J,void 0,X)}}R$Q.NoopTracer=O$Q;function Wq3(A){return typeof A==="object"&&typeof A.spanId==="string"&&typeof A.traceId==="string"&&typeof A.traceFlags==="number"}});var D_1=w((j$Q)=>{Object.defineProperty(j$Q,"__esModule",{value:!0});j$Q.ProxyTracer=void 0;var Kq3=E_1(),Vq3=new Kq3.NoopTracer;class T$Q{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}startSpan(A,Q,B){return this._getTracer().startSpan(A,Q,B)}startActiveSpan(A,Q,B,G){let Z=this._getTracer();return Reflect.apply(Z.startActiveSpan,Z,arguments)}_getTracer(){if(this._delegate)return this._delegate;let A=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!A)return Vq3;return this._delegate=A,this._delegate}}j$Q.ProxyTracer=T$Q});var v$Q=w((x$Q)=>{Object.defineProperty(x$Q,"__esModule",{value:!0});x$Q.NoopTracerProvider=void 0;var Eq3=E_1();class S$Q{getTracer(A,Q,B){return new Eq3.NoopTracer}}x$Q.NoopTracerProvider=S$Q});var H_1=w((f$Q)=>{Object.defineProperty(f$Q,"__esModule",{value:!0});f$Q.ProxyTracerProvider=void 0;var Dq3=D_1(),Hq3=v$Q(),Fq3=new Hq3.NoopTracerProvider;class k$Q{getTracer(A,Q,B){var G;return(G=this.getDelegateTracer(A,Q,B))!==null&&G!==void 0?G:new Dq3.ProxyTracer(this,A,Q,B)}getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:Fq3}setDelegate(A){this._delegate=A}getDelegateTracer(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getTracer(A,Q,B)}}f$Q.ProxyTracerProvider=k$Q});var g$Q=w((h$Q)=>{Object.defineProperty(h$Q,"__esModule",{value:!0});h$Q.SamplingDecision=void 0;var Cq3;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Cq3=h$Q.SamplingDecision||(h$Q.SamplingDecision={}))});var m$Q=w((u$Q)=>{Object.defineProperty(u$Q,"__esModule",{value:!0});u$Q.SpanKind=void 0;var zq3;(function(A){A[A.INTERNAL=0]="INTERNAL",A[A.SERVER=1]="SERVER",A[A.CLIENT=2]="CLIENT",A[A.PRODUCER=3]="PRODUCER",A[A.CONSUMER=4]="CONSUMER"})(zq3=u$Q.SpanKind||(u$Q.SpanKind={}))});var c$Q=w((d$Q)=>{Object.defineProperty(d$Q,"__esModule",{value:!0});d$Q.SpanStatusCode=void 0;var Uq3;(function(A){A[A.UNSET=0]="UNSET",A[A.OK=1]="OK",A[A.ERROR=2]="ERROR"})(Uq3=d$Q.SpanStatusCode||(d$Q.SpanStatusCode={}))});var i$Q=w((p$Q)=>{Object.defineProperty(p$Q,"__esModule",{value:!0});p$Q.validateValue=p$Q.validateKey=void 0;var U_1="[_0-9a-z-*/]",$q3=`[a-z]${U_1}{0,255}`,wq3=`[a-z0-9]${U_1}{0,240}@[a-z]${U_1}{0,13}`,Nq3=new RegExp(`^(?:${$q3}|${wq3})$`),qq3=/^[ -~]{0,255}[!-~]$/,Lq3=/,|=/;function Mq3(A){return Nq3.test(A)}p$Q.validateKey=Mq3;function Oq3(A){return qq3.test(A)&&!Lq3.test(A)}p$Q.validateValue=Oq3});var e$Q=w((s$Q)=>{Object.defineProperty(s$Q,"__esModule",{value:!0});s$Q.TraceStateImpl=void 0;var n$Q=i$Q(),a$Q=32,_q3=512,o$Q=",",r$Q="=";class $_1{constructor(A){if(this._internalState=new Map,A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+r$Q+this.get(Q)),A},[]).join(o$Q)}_parse(A){if(A.length>_q3)return;if(this._internalState=A.split(o$Q).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(r$Q);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,n$Q.validateKey)(Y)&&(0,n$Q.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>a$Q)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,a$Q))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new $_1;return A._internalState=new Map(this._internalState),A}}s$Q.TraceStateImpl=$_1});var BwQ=w((AwQ)=>{Object.defineProperty(AwQ,"__esModule",{value:!0});AwQ.createTraceState=void 0;var Tq3=e$Q();function jq3(A){return new Tq3.TraceStateImpl(A)}AwQ.createTraceState=jq3});var YwQ=w((GwQ)=>{Object.defineProperty(GwQ,"__esModule",{value:!0});GwQ.context=void 0;var Pq3=xHA();GwQ.context=Pq3.ContextAPI.getInstance()});var XwQ=w((JwQ)=>{Object.defineProperty(JwQ,"__esModule",{value:!0});JwQ.diag=void 0;var Sq3=mr();JwQ.diag=Sq3.DiagAPI.instance()});var VwQ=w((WwQ)=>{Object.defineProperty(WwQ,"__esModule",{value:!0});WwQ.NOOP_METER_PROVIDER=WwQ.NoopMeterProvider=void 0;var xq3=eR1();class w_1{getMeter(A,Q,B){return xq3.NOOP_METER}}WwQ.NoopMeterProvider=w_1;WwQ.NOOP_METER_PROVIDER=new w_1});var FwQ=w((DwQ)=>{Object.defineProperty(DwQ,"__esModule",{value:!0});DwQ.MetricsAPI=void 0;var vq3=VwQ(),N_1=ur(),EwQ=mr(),q_1="metrics";class L_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new L_1;return this._instance}setGlobalMeterProvider(A){return(0,N_1.registerGlobal)(q_1,A,EwQ.DiagAPI.instance())}getMeterProvider(){return(0,N_1.getGlobal)(q_1)||vq3.NOOP_METER_PROVIDER}getMeter(A,Q,B){return this.getMeterProvider().getMeter(A,Q,B)}disable(){(0,N_1.unregisterGlobal)(q_1,EwQ.DiagAPI.instance())}}DwQ.MetricsAPI=L_1});var UwQ=w((CwQ)=>{Object.defineProperty(CwQ,"__esModule",{value:!0});CwQ.metrics=void 0;var kq3=FwQ();CwQ.metrics=kq3.MetricsAPI.getInstance()});var qwQ=w((wwQ)=>{Object.defineProperty(wwQ,"__esModule",{value:!0});wwQ.NoopTextMapPropagator=void 0;class $wQ{inject(A,Q){}extract(A,Q){return A}fields(){return[]}}wwQ.NoopTextMapPropagator=$wQ});var RwQ=w((MwQ)=>{Object.defineProperty(MwQ,"__esModule",{value:!0});MwQ.deleteBaggage=MwQ.setBaggage=MwQ.getActiveBaggage=MwQ.getBaggage=void 0;var fq3=xHA(),bq3=PHA(),M_1=(0,bq3.createContextKey)("OpenTelemetry Baggage Key");function LwQ(A){return A.getValue(M_1)||void 0}MwQ.getBaggage=LwQ;function hq3(){return LwQ(fq3.ContextAPI.getInstance().active())}MwQ.getActiveBaggage=hq3;function gq3(A,Q){return A.setValue(M_1,Q)}MwQ.setBaggage=gq3;function uq3(A){return A.deleteValue(M_1)}MwQ.deleteBaggage=uq3});var SwQ=w((jwQ)=>{Object.defineProperty(jwQ,"__esModule",{value:!0});jwQ.PropagationAPI=void 0;var O_1=ur(),pq3=qwQ(),_wQ=Q_1(),WuA=RwQ(),lq3=cR1(),TwQ=mr(),R_1="propagation",iq3=new pq3.NoopTextMapPropagator;class __1{constructor(){this.createBaggage=lq3.createBaggage,this.getBaggage=WuA.getBaggage,this.getActiveBaggage=WuA.getActiveBaggage,this.setBaggage=WuA.setBaggage,this.deleteBaggage=WuA.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new __1;return this._instance}setGlobalPropagator(A){return(0,O_1.registerGlobal)(R_1,A,TwQ.DiagAPI.instance())}inject(A,Q,B=_wQ.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,Q,B)}extract(A,Q,B=_wQ.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,Q,B)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,O_1.unregisterGlobal)(R_1,TwQ.DiagAPI.instance())}_getGlobalPropagator(){return(0,O_1.getGlobal)(R_1)||iq3}}jwQ.PropagationAPI=__1});var vwQ=w((xwQ)=>{Object.defineProperty(xwQ,"__esModule",{value:!0});xwQ.propagation=void 0;var nq3=SwQ();xwQ.propagation=nq3.PropagationAPI.getInstance()});var uwQ=w((hwQ)=>{Object.defineProperty(hwQ,"__esModule",{value:!0});hwQ.TraceAPI=void 0;var T_1=ur(),kwQ=H_1(),fwQ=XuA(),p3A=W_1(),bwQ=mr(),j_1="trace";class P_1{constructor(){this._proxyTracerProvider=new kwQ.ProxyTracerProvider,this.wrapSpanContext=fwQ.wrapSpanContext,this.isSpanContextValid=fwQ.isSpanContextValid,this.deleteSpan=p3A.deleteSpan,this.getSpan=p3A.getSpan,this.getActiveSpan=p3A.getActiveSpan,this.getSpanContext=p3A.getSpanContext,this.setSpan=p3A.setSpan,this.setSpanContext=p3A.setSpanContext}static getInstance(){if(!this._instance)this._instance=new P_1;return this._instance}setGlobalTracerProvider(A){let Q=(0,T_1.registerGlobal)(j_1,this._proxyTracerProvider,bwQ.DiagAPI.instance());if(Q)this._proxyTracerProvider.setDelegate(A);return Q}getTracerProvider(){return(0,T_1.getGlobal)(j_1)||this._proxyTracerProvider}getTracer(A,Q){return this.getTracerProvider().getTracer(A,Q)}disable(){(0,T_1.unregisterGlobal)(j_1,bwQ.DiagAPI.instance()),this._proxyTracerProvider=new kwQ.ProxyTracerProvider}}hwQ.TraceAPI=P_1});var cwQ=w((mwQ)=>{Object.defineProperty(mwQ,"__esModule",{value:!0});mwQ.trace=void 0;var aq3=uwQ();mwQ.trace=aq3.TraceAPI.getInstance()});var q9=w((n7)=>{Object.defineProperty(n7,"__esModule",{value:!0});n7.trace=n7.propagation=n7.metrics=n7.diag=n7.context=n7.INVALID_SPAN_CONTEXT=n7.INVALID_TRACEID=n7.INVALID_SPANID=n7.isValidSpanId=n7.isValidTraceId=n7.isSpanContextValid=n7.createTraceState=n7.TraceFlags=n7.SpanStatusCode=n7.SpanKind=n7.SamplingDecision=n7.ProxyTracerProvider=n7.ProxyTracer=n7.defaultTextMapSetter=n7.defaultTextMapGetter=n7.ValueType=n7.createNoopMeter=n7.DiagLogLevel=n7.DiagConsoleLogger=n7.ROOT_CONTEXT=n7.createContextKey=n7.baggageEntryMetadataFromString=void 0;var oq3=cR1();Object.defineProperty(n7,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return oq3.baggageEntryMetadataFromString}});var pwQ=PHA();Object.defineProperty(n7,"createContextKey",{enumerable:!0,get:function(){return pwQ.createContextKey}});Object.defineProperty(n7,"ROOT_CONTEXT",{enumerable:!0,get:function(){return pwQ.ROOT_CONTEXT}});var rq3=uUQ();Object.defineProperty(n7,"DiagConsoleLogger",{enumerable:!0,get:function(){return rq3.DiagConsoleLogger}});var sq3=GuA();Object.defineProperty(n7,"DiagLogLevel",{enumerable:!0,get:function(){return sq3.DiagLogLevel}});var tq3=eR1();Object.defineProperty(n7,"createNoopMeter",{enumerable:!0,get:function(){return tq3.createNoopMeter}});var eq3=tUQ();Object.defineProperty(n7,"ValueType",{enumerable:!0,get:function(){return eq3.ValueType}});var lwQ=Q_1();Object.defineProperty(n7,"defaultTextMapGetter",{enumerable:!0,get:function(){return lwQ.defaultTextMapGetter}});Object.defineProperty(n7,"defaultTextMapSetter",{enumerable:!0,get:function(){return lwQ.defaultTextMapSetter}});var AL3=D_1();Object.defineProperty(n7,"ProxyTracer",{enumerable:!0,get:function(){return AL3.ProxyTracer}});var QL3=H_1();Object.defineProperty(n7,"ProxyTracerProvider",{enumerable:!0,get:function(){return QL3.ProxyTracerProvider}});var BL3=g$Q();Object.defineProperty(n7,"SamplingDecision",{enumerable:!0,get:function(){return BL3.SamplingDecision}});var GL3=m$Q();Object.defineProperty(n7,"SpanKind",{enumerable:!0,get:function(){return GL3.SpanKind}});var ZL3=c$Q();Object.defineProperty(n7,"SpanStatusCode",{enumerable:!0,get:function(){return ZL3.SpanStatusCode}});var YL3=J_1();Object.defineProperty(n7,"TraceFlags",{enumerable:!0,get:function(){return YL3.TraceFlags}});var JL3=BwQ();Object.defineProperty(n7,"createTraceState",{enumerable:!0,get:function(){return JL3.createTraceState}});var S_1=XuA();Object.defineProperty(n7,"isSpanContextValid",{enumerable:!0,get:function(){return S_1.isSpanContextValid}});Object.defineProperty(n7,"isValidTraceId",{enumerable:!0,get:function(){return S_1.isValidTraceId}});Object.defineProperty(n7,"isValidSpanId",{enumerable:!0,get:function(){return S_1.isValidSpanId}});var x_1=JuA();Object.defineProperty(n7,"INVALID_SPANID",{enumerable:!0,get:function(){return x_1.INVALID_SPANID}});Object.defineProperty(n7,"INVALID_TRACEID",{enumerable:!0,get:function(){return x_1.INVALID_TRACEID}});Object.defineProperty(n7,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return x_1.INVALID_SPAN_CONTEXT}});var iwQ=YwQ();Object.defineProperty(n7,"context",{enumerable:!0,get:function(){return iwQ.context}});var nwQ=XwQ();Object.defineProperty(n7,"diag",{enumerable:!0,get:function(){return nwQ.diag}});var awQ=UwQ();Object.defineProperty(n7,"metrics",{enumerable:!0,get:function(){return awQ.metrics}});var owQ=vwQ();Object.defineProperty(n7,"propagation",{enumerable:!0,get:function(){return owQ.propagation}});var rwQ=cwQ();Object.defineProperty(n7,"trace",{enumerable:!0,get:function(){return rwQ.trace}});n7.default={context:iwQ.context,diag:nwQ.diag,metrics:awQ.metrics,propagation:owQ.propagation,trace:rwQ.trace}});var twQ=w((swQ)=>{Object.defineProperty(swQ,"__esModule",{value:!0});swQ.SeverityNumber=void 0;var WL3;(function(A){A[A.UNSPECIFIED=0]="UNSPECIFIED",A[A.TRACE=1]="TRACE",A[A.TRACE2=2]="TRACE2",A[A.TRACE3=3]="TRACE3",A[A.TRACE4=4]="TRACE4",A[A.DEBUG=5]="DEBUG",A[A.DEBUG2=6]="DEBUG2",A[A.DEBUG3=7]="DEBUG3",A[A.DEBUG4=8]="DEBUG4",A[A.INFO=9]="INFO",A[A.INFO2=10]="INFO2",A[A.INFO3=11]="INFO3",A[A.INFO4=12]="INFO4",A[A.WARN=13]="WARN",A[A.WARN2=14]="WARN2",A[A.WARN3=15]="WARN3",A[A.WARN4=16]="WARN4",A[A.ERROR=17]="ERROR",A[A.ERROR2=18]="ERROR2",A[A.ERROR3=19]="ERROR3",A[A.ERROR4=20]="ERROR4",A[A.FATAL=21]="FATAL",A[A.FATAL2=22]="FATAL2",A[A.FATAL3=23]="FATAL3",A[A.FATAL4=24]="FATAL4"})(WL3=swQ.SeverityNumber||(swQ.SeverityNumber={}))});var KuA=w((ewQ)=>{Object.defineProperty(ewQ,"__esModule",{value:!0});ewQ.NOOP_LOGGER=ewQ.NoopLogger=void 0;class v_1{emit(A){}}ewQ.NoopLogger=v_1;ewQ.NOOP_LOGGER=new v_1});var VuA=w((QNQ)=>{Object.defineProperty(QNQ,"__esModule",{value:!0});QNQ.NOOP_LOGGER_PROVIDER=QNQ.NoopLoggerProvider=void 0;var VL3=KuA();class k_1{getLogger(A,Q,B){return new VL3.NoopLogger}}QNQ.NoopLoggerProvider=k_1;QNQ.NOOP_LOGGER_PROVIDER=new k_1});var f_1=w((ZNQ)=>{Object.defineProperty(ZNQ,"__esModule",{value:!0});ZNQ.ProxyLogger=void 0;var DL3=KuA();class GNQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}emit(A){this._getLogger().emit(A)}_getLogger(){if(this._delegate)return this._delegate;let A=this._provider._getDelegateLogger(this.name,this.version,this.options);if(!A)return DL3.NOOP_LOGGER;return this._delegate=A,this._delegate}}ZNQ.ProxyLogger=GNQ});var b_1=w((INQ)=>{Object.defineProperty(INQ,"__esModule",{value:!0});INQ.ProxyLoggerProvider=void 0;var HL3=VuA(),FL3=f_1();class JNQ{getLogger(A,Q,B){var G;return(G=this._getDelegateLogger(A,Q,B))!==null&&G!==void 0?G:new FL3.ProxyLogger(this,A,Q,B)}_getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:HL3.NOOP_LOGGER_PROVIDER}_setDelegate(A){this._delegate=A}_getDelegateLogger(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getLogger(A,Q,B)}}INQ.ProxyLoggerProvider=JNQ});var VNQ=w((WNQ)=>{Object.defineProperty(WNQ,"__esModule",{value:!0});WNQ._globalThis=void 0;WNQ._globalThis=typeof globalThis==="object"?globalThis:global});var ENQ=w((h_1)=>{Object.defineProperty(h_1,"__esModule",{value:!0});h_1._globalThis=void 0;var CL3=VNQ();Object.defineProperty(h_1,"_globalThis",{enumerable:!0,get:function(){return CL3._globalThis}})});var DNQ=w((g_1)=>{Object.defineProperty(g_1,"__esModule",{value:!0});g_1._globalThis=void 0;var UL3=ENQ();Object.defineProperty(g_1,"_globalThis",{enumerable:!0,get:function(){return UL3._globalThis}})});var CNQ=w((HNQ)=>{Object.defineProperty(HNQ,"__esModule",{value:!0});HNQ.API_BACKWARDS_COMPATIBILITY_VERSION=HNQ.makeGetter=HNQ._global=HNQ.GLOBAL_LOGS_API_KEY=void 0;var wL3=DNQ();HNQ.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");HNQ._global=wL3._globalThis;function NL3(A,Q,B){return(G)=>G===A?Q:B}HNQ.makeGetter=NL3;HNQ.API_BACKWARDS_COMPATIBILITY_VERSION=1});var wNQ=w((UNQ)=>{Object.defineProperty(UNQ,"__esModule",{value:!0});UNQ.LogsAPI=void 0;var XL=CNQ(),OL3=VuA(),zNQ=b_1();class u_1{constructor(){this._proxyLoggerProvider=new zNQ.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new u_1;return this._instance}setGlobalLoggerProvider(A){if(XL._global[XL.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return XL._global[XL.GLOBAL_LOGS_API_KEY]=(0,XL.makeGetter)(XL.API_BACKWARDS_COMPATIBILITY_VERSION,A,OL3.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider._setDelegate(A),A}getLoggerProvider(){var A,Q;return(Q=(A=XL._global[XL.GLOBAL_LOGS_API_KEY])===null||A===void 0?void 0:A.call(XL._global,XL.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Q!==void 0?Q:this._proxyLoggerProvider}getLogger(A,Q,B){return this.getLoggerProvider().getLogger(A,Q,B)}disable(){delete XL._global[XL.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new zNQ.ProxyLoggerProvider}}UNQ.LogsAPI=u_1});var m_1=w((ik)=>{Object.defineProperty(ik,"__esModule",{value:!0});ik.logs=ik.ProxyLoggerProvider=ik.ProxyLogger=ik.NoopLoggerProvider=ik.NOOP_LOGGER_PROVIDER=ik.NoopLogger=ik.NOOP_LOGGER=ik.SeverityNumber=void 0;var RL3=twQ();Object.defineProperty(ik,"SeverityNumber",{enumerable:!0,get:function(){return RL3.SeverityNumber}});var NNQ=KuA();Object.defineProperty(ik,"NOOP_LOGGER",{enumerable:!0,get:function(){return NNQ.NOOP_LOGGER}});Object.defineProperty(ik,"NoopLogger",{enumerable:!0,get:function(){return NNQ.NoopLogger}});var qNQ=VuA();Object.defineProperty(ik,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return qNQ.NOOP_LOGGER_PROVIDER}});Object.defineProperty(ik,"NoopLoggerProvider",{enumerable:!0,get:function(){return qNQ.NoopLoggerProvider}});var _L3=f_1();Object.defineProperty(ik,"ProxyLogger",{enumerable:!0,get:function(){return _L3.ProxyLogger}});var TL3=b_1();Object.defineProperty(ik,"ProxyLoggerProvider",{enumerable:!0,get:function(){return TL3.ProxyLoggerProvider}});var jL3=wNQ();ik.logs=jL3.LogsAPI.getInstance()});var yHA=w((MNQ)=>{Object.defineProperty(MNQ,"__esModule",{value:!0});MNQ.isTracingSuppressed=MNQ.unsuppressTracing=MNQ.suppressTracing=void 0;var PL3=q9(),d_1=(0,PL3.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function SL3(A){return A.setValue(d_1,!0)}MNQ.suppressTracing=SL3;function xL3(A){return A.deleteValue(d_1)}MNQ.unsuppressTracing=xL3;function yL3(A){return A.getValue(d_1)===!0}MNQ.isTracingSuppressed=yL3});var c_1=w((RNQ)=>{Object.defineProperty(RNQ,"__esModule",{value:!0});RNQ.BAGGAGE_MAX_TOTAL_LENGTH=RNQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=RNQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=RNQ.BAGGAGE_HEADER=RNQ.BAGGAGE_ITEMS_SEPARATOR=RNQ.BAGGAGE_PROPERTIES_SEPARATOR=RNQ.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;RNQ.BAGGAGE_KEY_PAIR_SEPARATOR="=";RNQ.BAGGAGE_PROPERTIES_SEPARATOR=";";RNQ.BAGGAGE_ITEMS_SEPARATOR=",";RNQ.BAGGAGE_HEADER="baggage";RNQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;RNQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;RNQ.BAGGAGE_MAX_TOTAL_LENGTH=8192});var p_1=w((jNQ)=>{Object.defineProperty(jNQ,"__esModule",{value:!0});jNQ.parseKeyPairsIntoRecord=jNQ.parsePairKeyValue=jNQ.getKeyPairs=jNQ.serializeKeyPairs=void 0;var dL3=q9(),dr=c_1();function cL3(A){return A.reduce((Q,B)=>{let G=`${Q}${Q!==""?dr.BAGGAGE_ITEMS_SEPARATOR:""}${B}`;return G.length>dr.BAGGAGE_MAX_TOTAL_LENGTH?Q:G},"")}jNQ.serializeKeyPairs=cL3;function pL3(A){return A.getAllEntries().map(([Q,B])=>{let G=`${encodeURIComponent(Q)}=${encodeURIComponent(B.value)}`;if(B.metadata!==void 0)G+=dr.BAGGAGE_PROPERTIES_SEPARATOR+B.metadata.toString();return G})}jNQ.getKeyPairs=pL3;function TNQ(A){let Q=A.split(dr.BAGGAGE_PROPERTIES_SEPARATOR);if(Q.length<=0)return;let B=Q.shift();if(!B)return;let G=B.indexOf(dr.BAGGAGE_KEY_PAIR_SEPARATOR);if(G<=0)return;let Z=decodeURIComponent(B.substring(0,G).trim()),Y=decodeURIComponent(B.substring(G+1).trim()),J;if(Q.length>0)J=(0,dL3.baggageEntryMetadataFromString)(Q.join(dr.BAGGAGE_PROPERTIES_SEPARATOR));return{key:Z,value:Y,metadata:J}}jNQ.parsePairKeyValue=TNQ;function lL3(A){let Q={};if(typeof A==="string"&&A.length>0)A.split(dr.BAGGAGE_ITEMS_SEPARATOR).forEach((B)=>{let G=TNQ(B);if(G!==void 0&&G.value.length>0)Q[G.key]=G.value});return Q}jNQ.parseKeyPairsIntoRecord=lL3});var vNQ=w((xNQ)=>{Object.defineProperty(xNQ,"__esModule",{value:!0});xNQ.W3CBaggagePropagator=void 0;var l_1=q9(),oL3=yHA(),cr=c_1(),i_1=p_1();class SNQ{inject(A,Q,B){let G=l_1.propagation.getBaggage(A);if(!G||(0,oL3.isTracingSuppressed)(A))return;let Z=(0,i_1.getKeyPairs)(G).filter((J)=>{return J.length<=cr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,cr.BAGGAGE_MAX_NAME_VALUE_PAIRS),Y=(0,i_1.serializeKeyPairs)(Z);if(Y.length>0)B.set(Q,cr.BAGGAGE_HEADER,Y)}extract(A,Q,B){let G=B.get(Q,cr.BAGGAGE_HEADER),Z=Array.isArray(G)?G.join(cr.BAGGAGE_ITEMS_SEPARATOR):G;if(!Z)return A;let Y={};if(Z.length===0)return A;if(Z.split(cr.BAGGAGE_ITEMS_SEPARATOR).forEach((I)=>{let X=(0,i_1.parsePairKeyValue)(I);if(X){let W={value:X.value};if(X.metadata)W.metadata=X.metadata;Y[X.key]=W}}),Object.entries(Y).length===0)return A;return l_1.propagation.setBaggage(A,l_1.propagation.createBaggage(Y))}fields(){return[cr.BAGGAGE_HEADER]}}xNQ.W3CBaggagePropagator=SNQ});var hNQ=w((fNQ)=>{Object.defineProperty(fNQ,"__esModule",{value:!0});fNQ.AnchoredClock=void 0;class kNQ{_monotonicClock;_epochMillis;_performanceMillis;constructor(A,Q){this._monotonicClock=Q,this._epochMillis=A.now(),this._performanceMillis=Q.now()}now(){let A=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+A}}fNQ.AnchoredClock=kNQ});var lNQ=w((cNQ)=>{Object.defineProperty(cNQ,"__esModule",{value:!0});cNQ.isAttributeValue=cNQ.isAttributeKey=cNQ.sanitizeAttributes=void 0;var gNQ=q9();function rL3(A){let Q={};if(typeof A!=="object"||A==null)return Q;for(let[B,G]of Object.entries(A)){if(!uNQ(B)){gNQ.diag.warn(`Invalid attribute key: ${B}`);continue}if(!mNQ(G)){gNQ.diag.warn(`Invalid attribute value set for key: ${B}`);continue}if(Array.isArray(G))Q[B]=G.slice();else Q[B]=G}return Q}cNQ.sanitizeAttributes=rL3;function uNQ(A){return typeof A==="string"&&A.length>0}cNQ.isAttributeKey=uNQ;function mNQ(A){if(A==null)return!0;if(Array.isArray(A))return sL3(A);return dNQ(A)}cNQ.isAttributeValue=mNQ;function sL3(A){let Q;for(let B of A){if(B==null)continue;if(!Q){if(dNQ(B)){Q=typeof B;continue}return!1}if(typeof B===Q)continue;return!1}return!0}function dNQ(A){switch(typeof A){case"number":case"boolean":case"string":return!0}return!1}});var n_1=w((iNQ)=>{Object.defineProperty(iNQ,"__esModule",{value:!0});iNQ.loggingErrorHandler=void 0;var AM3=q9();function QM3(){return(A)=>{AM3.diag.error(BM3(A))}}iNQ.loggingErrorHandler=QM3;function BM3(A){if(typeof A==="string")return A;else return JSON.stringify(GM3(A))}function GM3(A){let Q={},B=A;while(B!==null)Object.getOwnPropertyNames(B).forEach((G)=>{if(Q[G])return;let Z=B[G];if(Z)Q[G]=String(Z)}),B=Object.getPrototypeOf(B);return Q}});var sNQ=w((oNQ)=>{Object.defineProperty(oNQ,"__esModule",{value:!0});oNQ.globalErrorHandler=oNQ.setGlobalErrorHandler=void 0;var ZM3=n_1(),aNQ=(0,ZM3.loggingErrorHandler)();function YM3(A){aNQ=A}oNQ.setGlobalErrorHandler=YM3;function JM3(A){try{aNQ(A)}catch{}}oNQ.globalErrorHandler=JM3});var GqQ=w((QqQ)=>{Object.defineProperty(QqQ,"__esModule",{value:!0});QqQ.getStringListFromEnv=QqQ.getBooleanFromEnv=QqQ.getStringFromEnv=QqQ.getNumberFromEnv=void 0;var tNQ=q9(),eNQ=qA("util");function XM3(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;let B=Number(Q);if(isNaN(B)){tNQ.diag.warn(`Unknown value ${(0,eNQ.inspect)(Q)} for ${A}, expected a number, using defaults`);return}return B}QqQ.getNumberFromEnv=XM3;function AqQ(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;return Q}QqQ.getStringFromEnv=AqQ;function WM3(A){let Q=process.env[A]?.trim().toLowerCase();if(Q==null||Q==="")return!1;if(Q==="true")return!0;else if(Q==="false")return!1;else return tNQ.diag.warn(`Unknown value ${(0,eNQ.inspect)(Q)} for ${A}, expected 'true' or 'false', falling back to 'false' (default)`),!1}QqQ.getBooleanFromEnv=WM3;function KM3(A){return AqQ(A)?.split(",").map((Q)=>Q.trim()).filter((Q)=>Q!=="")}QqQ.getStringListFromEnv=KM3});var JqQ=w((ZqQ)=>{Object.defineProperty(ZqQ,"__esModule",{value:!0});ZqQ._globalThis=void 0;ZqQ._globalThis=typeof globalThis==="object"?globalThis:global});var WqQ=w((IqQ)=>{Object.defineProperty(IqQ,"__esModule",{value:!0});IqQ.otperformance=void 0;var HM3=qA("perf_hooks");IqQ.otperformance=HM3.performance});var EqQ=w((KqQ)=>{Object.defineProperty(KqQ,"__esModule",{value:!0});KqQ.VERSION=void 0;KqQ.VERSION="2.1.0"});var a_1=w((DqQ)=>{Object.defineProperty(DqQ,"__esModule",{value:!0});DqQ.createConstMap=void 0;function FM3(A){let Q={},B=A.length;for(let G=0;G<B;G++){let Z=A[G];if(Z)Q[String(Z).toUpperCase().replace(/[-.]/g,"_")]=Z}return Q}DqQ.createConstMap=FM3});var V_Q=w((Z_Q)=>{Object.defineProperty(Z_Q,"__esModule",{value:!0});Z_Q.SEMATTRS_NET_HOST_CARRIER_ICC=Z_Q.SEMATTRS_NET_HOST_CARRIER_MNC=Z_Q.SEMATTRS_NET_HOST_CARRIER_MCC=Z_Q.SEMATTRS_NET_HOST_CARRIER_NAME=Z_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=Z_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=Z_Q.SEMATTRS_NET_HOST_NAME=Z_Q.SEMATTRS_NET_HOST_PORT=Z_Q.SEMATTRS_NET_HOST_IP=Z_Q.SEMATTRS_NET_PEER_NAME=Z_Q.SEMATTRS_NET_PEER_PORT=Z_Q.SEMATTRS_NET_PEER_IP=Z_Q.SEMATTRS_NET_TRANSPORT=Z_Q.SEMATTRS_FAAS_INVOKED_REGION=Z_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=Z_Q.SEMATTRS_FAAS_INVOKED_NAME=Z_Q.SEMATTRS_FAAS_COLDSTART=Z_Q.SEMATTRS_FAAS_CRON=Z_Q.SEMATTRS_FAAS_TIME=Z_Q.SEMATTRS_FAAS_DOCUMENT_NAME=Z_Q.SEMATTRS_FAAS_DOCUMENT_TIME=Z_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=Z_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=Z_Q.SEMATTRS_FAAS_EXECUTION=Z_Q.SEMATTRS_FAAS_TRIGGER=Z_Q.SEMATTRS_EXCEPTION_ESCAPED=Z_Q.SEMATTRS_EXCEPTION_STACKTRACE=Z_Q.SEMATTRS_EXCEPTION_MESSAGE=Z_Q.SEMATTRS_EXCEPTION_TYPE=Z_Q.SEMATTRS_DB_SQL_TABLE=Z_Q.SEMATTRS_DB_MONGODB_COLLECTION=Z_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=Z_Q.SEMATTRS_DB_HBASE_NAMESPACE=Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=Z_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=Z_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=Z_Q.SEMATTRS_DB_CASSANDRA_TABLE=Z_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=Z_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=Z_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=Z_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=Z_Q.SEMATTRS_DB_OPERATION=Z_Q.SEMATTRS_DB_STATEMENT=Z_Q.SEMATTRS_DB_NAME=Z_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=Z_Q.SEMATTRS_DB_USER=Z_Q.SEMATTRS_DB_CONNECTION_STRING=Z_Q.SEMATTRS_DB_SYSTEM=Z_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;Z_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=Z_Q.SEMATTRS_MESSAGING_DESTINATION=Z_Q.SEMATTRS_MESSAGING_SYSTEM=Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=Z_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=Z_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=Z_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=Z_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=Z_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=Z_Q.SEMATTRS_AWS_DYNAMODB_SELECT=Z_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=Z_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=Z_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=Z_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=Z_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=Z_Q.SEMATTRS_HTTP_CLIENT_IP=Z_Q.SEMATTRS_HTTP_ROUTE=Z_Q.SEMATTRS_HTTP_SERVER_NAME=Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=Z_Q.SEMATTRS_HTTP_USER_AGENT=Z_Q.SEMATTRS_HTTP_FLAVOR=Z_Q.SEMATTRS_HTTP_STATUS_CODE=Z_Q.SEMATTRS_HTTP_SCHEME=Z_Q.SEMATTRS_HTTP_HOST=Z_Q.SEMATTRS_HTTP_TARGET=Z_Q.SEMATTRS_HTTP_URL=Z_Q.SEMATTRS_HTTP_METHOD=Z_Q.SEMATTRS_CODE_LINENO=Z_Q.SEMATTRS_CODE_FILEPATH=Z_Q.SEMATTRS_CODE_NAMESPACE=Z_Q.SEMATTRS_CODE_FUNCTION=Z_Q.SEMATTRS_THREAD_NAME=Z_Q.SEMATTRS_THREAD_ID=Z_Q.SEMATTRS_ENDUSER_SCOPE=Z_Q.SEMATTRS_ENDUSER_ROLE=Z_Q.SEMATTRS_ENDUSER_ID=Z_Q.SEMATTRS_PEER_SERVICE=void 0;Z_Q.DBSYSTEMVALUES_FILEMAKER=Z_Q.DBSYSTEMVALUES_DERBY=Z_Q.DBSYSTEMVALUES_FIREBIRD=Z_Q.DBSYSTEMVALUES_ADABAS=Z_Q.DBSYSTEMVALUES_CACHE=Z_Q.DBSYSTEMVALUES_EDB=Z_Q.DBSYSTEMVALUES_FIRSTSQL=Z_Q.DBSYSTEMVALUES_INGRES=Z_Q.DBSYSTEMVALUES_HANADB=Z_Q.DBSYSTEMVALUES_MAXDB=Z_Q.DBSYSTEMVALUES_PROGRESS=Z_Q.DBSYSTEMVALUES_HSQLDB=Z_Q.DBSYSTEMVALUES_CLOUDSCAPE=Z_Q.DBSYSTEMVALUES_HIVE=Z_Q.DBSYSTEMVALUES_REDSHIFT=Z_Q.DBSYSTEMVALUES_POSTGRESQL=Z_Q.DBSYSTEMVALUES_DB2=Z_Q.DBSYSTEMVALUES_ORACLE=Z_Q.DBSYSTEMVALUES_MYSQL=Z_Q.DBSYSTEMVALUES_MSSQL=Z_Q.DBSYSTEMVALUES_OTHER_SQL=Z_Q.SemanticAttributes=Z_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=Z_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=Z_Q.SEMATTRS_MESSAGE_ID=Z_Q.SEMATTRS_MESSAGE_TYPE=Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=Z_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=Z_Q.SEMATTRS_RPC_JSONRPC_VERSION=Z_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=Z_Q.SEMATTRS_RPC_METHOD=Z_Q.SEMATTRS_RPC_SERVICE=Z_Q.SEMATTRS_RPC_SYSTEM=Z_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=Z_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=Z_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=Z_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=Z_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=Z_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=Z_Q.SEMATTRS_MESSAGING_CONSUMER_ID=Z_Q.SEMATTRS_MESSAGING_OPERATION=Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=Z_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=Z_Q.SEMATTRS_MESSAGING_MESSAGE_ID=Z_Q.SEMATTRS_MESSAGING_URL=Z_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=Z_Q.SEMATTRS_MESSAGING_PROTOCOL=Z_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;Z_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=Z_Q.FaasDocumentOperationValues=Z_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=Z_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=Z_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=Z_Q.FaasTriggerValues=Z_Q.FAASTRIGGERVALUES_OTHER=Z_Q.FAASTRIGGERVALUES_TIMER=Z_Q.FAASTRIGGERVALUES_PUBSUB=Z_Q.FAASTRIGGERVALUES_HTTP=Z_Q.FAASTRIGGERVALUES_DATASOURCE=Z_Q.DbCassandraConsistencyLevelValues=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=Z_Q.DbSystemValues=Z_Q.DBSYSTEMVALUES_COCKROACHDB=Z_Q.DBSYSTEMVALUES_MEMCACHED=Z_Q.DBSYSTEMVALUES_ELASTICSEARCH=Z_Q.DBSYSTEMVALUES_GEODE=Z_Q.DBSYSTEMVALUES_NEO4J=Z_Q.DBSYSTEMVALUES_DYNAMODB=Z_Q.DBSYSTEMVALUES_COSMOSDB=Z_Q.DBSYSTEMVALUES_COUCHDB=Z_Q.DBSYSTEMVALUES_COUCHBASE=Z_Q.DBSYSTEMVALUES_REDIS=Z_Q.DBSYSTEMVALUES_MONGODB=Z_Q.DBSYSTEMVALUES_HBASE=Z_Q.DBSYSTEMVALUES_CASSANDRA=Z_Q.DBSYSTEMVALUES_COLDFUSION=Z_Q.DBSYSTEMVALUES_H2=Z_Q.DBSYSTEMVALUES_VERTICA=Z_Q.DBSYSTEMVALUES_TERADATA=Z_Q.DBSYSTEMVALUES_SYBASE=Z_Q.DBSYSTEMVALUES_SQLITE=Z_Q.DBSYSTEMVALUES_POINTBASE=Z_Q.DBSYSTEMVALUES_PERVASIVE=Z_Q.DBSYSTEMVALUES_NETEZZA=Z_Q.DBSYSTEMVALUES_MARIADB=Z_Q.DBSYSTEMVALUES_INTERBASE=Z_Q.DBSYSTEMVALUES_INSTANTDB=Z_Q.DBSYSTEMVALUES_INFORMIX=void 0;Z_Q.MESSAGINGOPERATIONVALUES_RECEIVE=Z_Q.MessagingDestinationKindValues=Z_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=Z_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=Z_Q.HttpFlavorValues=Z_Q.HTTPFLAVORVALUES_QUIC=Z_Q.HTTPFLAVORVALUES_SPDY=Z_Q.HTTPFLAVORVALUES_HTTP_2_0=Z_Q.HTTPFLAVORVALUES_HTTP_1_1=Z_Q.HTTPFLAVORVALUES_HTTP_1_0=Z_Q.NetHostConnectionSubtypeValues=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=Z_Q.NetHostConnectionTypeValues=Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=Z_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=Z_Q.NetTransportValues=Z_Q.NETTRANSPORTVALUES_OTHER=Z_Q.NETTRANSPORTVALUES_INPROC=Z_Q.NETTRANSPORTVALUES_PIPE=Z_Q.NETTRANSPORTVALUES_UNIX=Z_Q.NETTRANSPORTVALUES_IP=Z_Q.NETTRANSPORTVALUES_IP_UDP=Z_Q.NETTRANSPORTVALUES_IP_TCP=Z_Q.FaasInvokedProviderValues=Z_Q.FAASINVOKEDPROVIDERVALUES_GCP=Z_Q.FAASINVOKEDPROVIDERVALUES_AZURE=Z_Q.FAASINVOKEDPROVIDERVALUES_AWS=void 0;Z_Q.MessageTypeValues=Z_Q.MESSAGETYPEVALUES_RECEIVED=Z_Q.MESSAGETYPEVALUES_SENT=Z_Q.RpcGrpcStatusCodeValues=Z_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=Z_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=Z_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=Z_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=Z_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=Z_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=Z_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=Z_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=Z_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=Z_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=Z_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=Z_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=Z_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=Z_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=Z_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=Z_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=Z_Q.RPCGRPCSTATUSCODEVALUES_OK=Z_Q.MessagingOperationValues=Z_Q.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var WL=a_1(),FqQ="aws.lambda.invoked_arn",CqQ="db.system",zqQ="db.connection_string",UqQ="db.user",$qQ="db.jdbc.driver_classname",wqQ="db.name",NqQ="db.statement",qqQ="db.operation",LqQ="db.mssql.instance_name",MqQ="db.cassandra.keyspace",OqQ="db.cassandra.page_size",RqQ="db.cassandra.consistency_level",_qQ="db.cassandra.table",TqQ="db.cassandra.idempotence",jqQ="db.cassandra.speculative_execution_count",PqQ="db.cassandra.coordinator.id",SqQ="db.cassandra.coordinator.dc",xqQ="db.hbase.namespace",yqQ="db.redis.database_index",vqQ="db.mongodb.collection",kqQ="db.sql.table",fqQ="exception.type",bqQ="exception.message",hqQ="exception.stacktrace",gqQ="exception.escaped",uqQ="faas.trigger",mqQ="faas.execution",dqQ="faas.document.collection",cqQ="faas.document.operation",pqQ="faas.document.time",lqQ="faas.document.name",iqQ="faas.time",nqQ="faas.cron",aqQ="faas.coldstart",oqQ="faas.invoked_name",rqQ="faas.invoked_provider",sqQ="faas.invoked_region",tqQ="net.transport",eqQ="net.peer.ip",ALQ="net.peer.port",QLQ="net.peer.name",BLQ="net.host.ip",GLQ="net.host.port",ZLQ="net.host.name",YLQ="net.host.connection.type",JLQ="net.host.connection.subtype",ILQ="net.host.carrier.name",XLQ="net.host.carrier.mcc",WLQ="net.host.carrier.mnc",KLQ="net.host.carrier.icc",VLQ="peer.service",ELQ="enduser.id",DLQ="enduser.role",HLQ="enduser.scope",FLQ="thread.id",CLQ="thread.name",zLQ="code.function",ULQ="code.namespace",$LQ="code.filepath",wLQ="code.lineno",NLQ="http.method",qLQ="http.url",LLQ="http.target",MLQ="http.host",OLQ="http.scheme",RLQ="http.status_code",_LQ="http.flavor",TLQ="http.user_agent",jLQ="http.request_content_length",PLQ="http.request_content_length_uncompressed",SLQ="http.response_content_length",xLQ="http.response_content_length_uncompressed",yLQ="http.server_name",vLQ="http.route",kLQ="http.client_ip",fLQ="aws.dynamodb.table_names",bLQ="aws.dynamodb.consumed_capacity",hLQ="aws.dynamodb.item_collection_metrics",gLQ="aws.dynamodb.provisioned_read_capacity",uLQ="aws.dynamodb.provisioned_write_capacity",mLQ="aws.dynamodb.consistent_read",dLQ="aws.dynamodb.projection",cLQ="aws.dynamodb.limit",pLQ="aws.dynamodb.attributes_to_get",lLQ="aws.dynamodb.index_name",iLQ="aws.dynamodb.select",nLQ="aws.dynamodb.global_secondary_indexes",aLQ="aws.dynamodb.local_secondary_indexes",oLQ="aws.dynamodb.exclusive_start_table",rLQ="aws.dynamodb.table_count",sLQ="aws.dynamodb.scan_forward",tLQ="aws.dynamodb.segment",eLQ="aws.dynamodb.total_segments",AMQ="aws.dynamodb.count",QMQ="aws.dynamodb.scanned_count",BMQ="aws.dynamodb.attribute_definitions",GMQ="aws.dynamodb.global_secondary_index_updates",ZMQ="messaging.system",YMQ="messaging.destination",JMQ="messaging.destination_kind",IMQ="messaging.temp_destination",XMQ="messaging.protocol",WMQ="messaging.protocol_version",KMQ="messaging.url",VMQ="messaging.message_id",EMQ="messaging.conversation_id",DMQ="messaging.message_payload_size_bytes",HMQ="messaging.message_payload_compressed_size_bytes",FMQ="messaging.operation",CMQ="messaging.consumer_id",zMQ="messaging.rabbitmq.routing_key",UMQ="messaging.kafka.message_key",$MQ="messaging.kafka.consumer_group",wMQ="messaging.kafka.client_id",NMQ="messaging.kafka.partition",qMQ="messaging.kafka.tombstone",LMQ="rpc.system",MMQ="rpc.service",OMQ="rpc.method",RMQ="rpc.grpc.status_code",_MQ="rpc.jsonrpc.version",TMQ="rpc.jsonrpc.request_id",jMQ="rpc.jsonrpc.error_code",PMQ="rpc.jsonrpc.error_message",SMQ="message.type",xMQ="message.id",yMQ="message.compressed_size",vMQ="message.uncompressed_size";Z_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=FqQ;Z_Q.SEMATTRS_DB_SYSTEM=CqQ;Z_Q.SEMATTRS_DB_CONNECTION_STRING=zqQ;Z_Q.SEMATTRS_DB_USER=UqQ;Z_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=$qQ;Z_Q.SEMATTRS_DB_NAME=wqQ;Z_Q.SEMATTRS_DB_STATEMENT=NqQ;Z_Q.SEMATTRS_DB_OPERATION=qqQ;Z_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=LqQ;Z_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=MqQ;Z_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=OqQ;Z_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=RqQ;Z_Q.SEMATTRS_DB_CASSANDRA_TABLE=_qQ;Z_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=TqQ;Z_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=jqQ;Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=PqQ;Z_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=SqQ;Z_Q.SEMATTRS_DB_HBASE_NAMESPACE=xqQ;Z_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=yqQ;Z_Q.SEMATTRS_DB_MONGODB_COLLECTION=vqQ;Z_Q.SEMATTRS_DB_SQL_TABLE=kqQ;Z_Q.SEMATTRS_EXCEPTION_TYPE=fqQ;Z_Q.SEMATTRS_EXCEPTION_MESSAGE=bqQ;Z_Q.SEMATTRS_EXCEPTION_STACKTRACE=hqQ;Z_Q.SEMATTRS_EXCEPTION_ESCAPED=gqQ;Z_Q.SEMATTRS_FAAS_TRIGGER=uqQ;Z_Q.SEMATTRS_FAAS_EXECUTION=mqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=dqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=cqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_TIME=pqQ;Z_Q.SEMATTRS_FAAS_DOCUMENT_NAME=lqQ;Z_Q.SEMATTRS_FAAS_TIME=iqQ;Z_Q.SEMATTRS_FAAS_CRON=nqQ;Z_Q.SEMATTRS_FAAS_COLDSTART=aqQ;Z_Q.SEMATTRS_FAAS_INVOKED_NAME=oqQ;Z_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=rqQ;Z_Q.SEMATTRS_FAAS_INVOKED_REGION=sqQ;Z_Q.SEMATTRS_NET_TRANSPORT=tqQ;Z_Q.SEMATTRS_NET_PEER_IP=eqQ;Z_Q.SEMATTRS_NET_PEER_PORT=ALQ;Z_Q.SEMATTRS_NET_PEER_NAME=QLQ;Z_Q.SEMATTRS_NET_HOST_IP=BLQ;Z_Q.SEMATTRS_NET_HOST_PORT=GLQ;Z_Q.SEMATTRS_NET_HOST_NAME=ZLQ;Z_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=YLQ;Z_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=JLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_NAME=ILQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_MCC=XLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_MNC=WLQ;Z_Q.SEMATTRS_NET_HOST_CARRIER_ICC=KLQ;Z_Q.SEMATTRS_PEER_SERVICE=VLQ;Z_Q.SEMATTRS_ENDUSER_ID=ELQ;Z_Q.SEMATTRS_ENDUSER_ROLE=DLQ;Z_Q.SEMATTRS_ENDUSER_SCOPE=HLQ;Z_Q.SEMATTRS_THREAD_ID=FLQ;Z_Q.SEMATTRS_THREAD_NAME=CLQ;Z_Q.SEMATTRS_CODE_FUNCTION=zLQ;Z_Q.SEMATTRS_CODE_NAMESPACE=ULQ;Z_Q.SEMATTRS_CODE_FILEPATH=$LQ;Z_Q.SEMATTRS_CODE_LINENO=wLQ;Z_Q.SEMATTRS_HTTP_METHOD=NLQ;Z_Q.SEMATTRS_HTTP_URL=qLQ;Z_Q.SEMATTRS_HTTP_TARGET=LLQ;Z_Q.SEMATTRS_HTTP_HOST=MLQ;Z_Q.SEMATTRS_HTTP_SCHEME=OLQ;Z_Q.SEMATTRS_HTTP_STATUS_CODE=RLQ;Z_Q.SEMATTRS_HTTP_FLAVOR=_LQ;Z_Q.SEMATTRS_HTTP_USER_AGENT=TLQ;Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=jLQ;Z_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=PLQ;Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=SLQ;Z_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=xLQ;Z_Q.SEMATTRS_HTTP_SERVER_NAME=yLQ;Z_Q.SEMATTRS_HTTP_ROUTE=vLQ;Z_Q.SEMATTRS_HTTP_CLIENT_IP=kLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=fLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=bLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=hLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=gLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=uLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=mLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=dLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=cLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=pLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=lLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SELECT=iLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=nLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=aLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=oLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=rLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=sLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=tLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=eLQ;Z_Q.SEMATTRS_AWS_DYNAMODB_COUNT=AMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=QMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=BMQ;Z_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=GMQ;Z_Q.SEMATTRS_MESSAGING_SYSTEM=ZMQ;Z_Q.SEMATTRS_MESSAGING_DESTINATION=YMQ;Z_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=JMQ;Z_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=IMQ;Z_Q.SEMATTRS_MESSAGING_PROTOCOL=XMQ;Z_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=WMQ;Z_Q.SEMATTRS_MESSAGING_URL=KMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_ID=VMQ;Z_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=EMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=DMQ;Z_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=HMQ;Z_Q.SEMATTRS_MESSAGING_OPERATION=FMQ;Z_Q.SEMATTRS_MESSAGING_CONSUMER_ID=CMQ;Z_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=zMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=UMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=$MQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=wMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=NMQ;Z_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=qMQ;Z_Q.SEMATTRS_RPC_SYSTEM=LMQ;Z_Q.SEMATTRS_RPC_SERVICE=MMQ;Z_Q.SEMATTRS_RPC_METHOD=OMQ;Z_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=RMQ;Z_Q.SEMATTRS_RPC_JSONRPC_VERSION=_MQ;Z_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=TMQ;Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=jMQ;Z_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=PMQ;Z_Q.SEMATTRS_MESSAGE_TYPE=SMQ;Z_Q.SEMATTRS_MESSAGE_ID=xMQ;Z_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=yMQ;Z_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=vMQ;Z_Q.SemanticAttributes=(0,WL.createConstMap)([FqQ,CqQ,zqQ,UqQ,$qQ,wqQ,NqQ,qqQ,LqQ,MqQ,OqQ,RqQ,_qQ,TqQ,jqQ,PqQ,SqQ,xqQ,yqQ,vqQ,kqQ,fqQ,bqQ,hqQ,gqQ,uqQ,mqQ,dqQ,cqQ,pqQ,lqQ,iqQ,nqQ,aqQ,oqQ,rqQ,sqQ,tqQ,eqQ,ALQ,QLQ,BLQ,GLQ,ZLQ,YLQ,JLQ,ILQ,XLQ,WLQ,KLQ,VLQ,ELQ,DLQ,HLQ,FLQ,CLQ,zLQ,ULQ,$LQ,wLQ,NLQ,qLQ,LLQ,MLQ,OLQ,RLQ,_LQ,TLQ,jLQ,PLQ,SLQ,xLQ,yLQ,vLQ,kLQ,fLQ,bLQ,hLQ,gLQ,uLQ,mLQ,dLQ,cLQ,pLQ,lLQ,iLQ,nLQ,aLQ,oLQ,rLQ,sLQ,tLQ,eLQ,AMQ,QMQ,BMQ,GMQ,ZMQ,YMQ,JMQ,IMQ,XMQ,WMQ,KMQ,VMQ,EMQ,DMQ,HMQ,FMQ,CMQ,zMQ,UMQ,$MQ,wMQ,NMQ,qMQ,LMQ,MMQ,OMQ,RMQ,_MQ,TMQ,jMQ,PMQ,SMQ,xMQ,yMQ,vMQ]);var kMQ="other_sql",fMQ="mssql",bMQ="mysql",hMQ="oracle",gMQ="db2",uMQ="postgresql",mMQ="redshift",dMQ="hive",cMQ="cloudscape",pMQ="hsqldb",lMQ="progress",iMQ="maxdb",nMQ="hanadb",aMQ="ingres",oMQ="firstsql",rMQ="edb",sMQ="cache",tMQ="adabas",eMQ="firebird",AOQ="derby",QOQ="filemaker",BOQ="informix",GOQ="instantdb",ZOQ="interbase",YOQ="mariadb",JOQ="netezza",IOQ="pervasive",XOQ="pointbase",WOQ="sqlite",KOQ="sybase",VOQ="teradata",EOQ="vertica",DOQ="h2",HOQ="coldfusion",FOQ="cassandra",COQ="hbase",zOQ="mongodb",UOQ="redis",$OQ="couchbase",wOQ="couchdb",NOQ="cosmosdb",qOQ="dynamodb",LOQ="neo4j",MOQ="geode",OOQ="elasticsearch",ROQ="memcached",_OQ="cockroachdb";Z_Q.DBSYSTEMVALUES_OTHER_SQL=kMQ;Z_Q.DBSYSTEMVALUES_MSSQL=fMQ;Z_Q.DBSYSTEMVALUES_MYSQL=bMQ;Z_Q.DBSYSTEMVALUES_ORACLE=hMQ;Z_Q.DBSYSTEMVALUES_DB2=gMQ;Z_Q.DBSYSTEMVALUES_POSTGRESQL=uMQ;Z_Q.DBSYSTEMVALUES_REDSHIFT=mMQ;Z_Q.DBSYSTEMVALUES_HIVE=dMQ;Z_Q.DBSYSTEMVALUES_CLOUDSCAPE=cMQ;Z_Q.DBSYSTEMVALUES_HSQLDB=pMQ;Z_Q.DBSYSTEMVALUES_PROGRESS=lMQ;Z_Q.DBSYSTEMVALUES_MAXDB=iMQ;Z_Q.DBSYSTEMVALUES_HANADB=nMQ;Z_Q.DBSYSTEMVALUES_INGRES=aMQ;Z_Q.DBSYSTEMVALUES_FIRSTSQL=oMQ;Z_Q.DBSYSTEMVALUES_EDB=rMQ;Z_Q.DBSYSTEMVALUES_CACHE=sMQ;Z_Q.DBSYSTEMVALUES_ADABAS=tMQ;Z_Q.DBSYSTEMVALUES_FIREBIRD=eMQ;Z_Q.DBSYSTEMVALUES_DERBY=AOQ;Z_Q.DBSYSTEMVALUES_FILEMAKER=QOQ;Z_Q.DBSYSTEMVALUES_INFORMIX=BOQ;Z_Q.DBSYSTEMVALUES_INSTANTDB=GOQ;Z_Q.DBSYSTEMVALUES_INTERBASE=ZOQ;Z_Q.DBSYSTEMVALUES_MARIADB=YOQ;Z_Q.DBSYSTEMVALUES_NETEZZA=JOQ;Z_Q.DBSYSTEMVALUES_PERVASIVE=IOQ;Z_Q.DBSYSTEMVALUES_POINTBASE=XOQ;Z_Q.DBSYSTEMVALUES_SQLITE=WOQ;Z_Q.DBSYSTEMVALUES_SYBASE=KOQ;Z_Q.DBSYSTEMVALUES_TERADATA=VOQ;Z_Q.DBSYSTEMVALUES_VERTICA=EOQ;Z_Q.DBSYSTEMVALUES_H2=DOQ;Z_Q.DBSYSTEMVALUES_COLDFUSION=HOQ;Z_Q.DBSYSTEMVALUES_CASSANDRA=FOQ;Z_Q.DBSYSTEMVALUES_HBASE=COQ;Z_Q.DBSYSTEMVALUES_MONGODB=zOQ;Z_Q.DBSYSTEMVALUES_REDIS=UOQ;Z_Q.DBSYSTEMVALUES_COUCHBASE=$OQ;Z_Q.DBSYSTEMVALUES_COUCHDB=wOQ;Z_Q.DBSYSTEMVALUES_COSMOSDB=NOQ;Z_Q.DBSYSTEMVALUES_DYNAMODB=qOQ;Z_Q.DBSYSTEMVALUES_NEO4J=LOQ;Z_Q.DBSYSTEMVALUES_GEODE=MOQ;Z_Q.DBSYSTEMVALUES_ELASTICSEARCH=OOQ;Z_Q.DBSYSTEMVALUES_MEMCACHED=ROQ;Z_Q.DBSYSTEMVALUES_COCKROACHDB=_OQ;Z_Q.DbSystemValues=(0,WL.createConstMap)([kMQ,fMQ,bMQ,hMQ,gMQ,uMQ,mMQ,dMQ,cMQ,pMQ,lMQ,iMQ,nMQ,aMQ,oMQ,rMQ,sMQ,tMQ,eMQ,AOQ,QOQ,BOQ,GOQ,ZOQ,YOQ,JOQ,IOQ,XOQ,WOQ,KOQ,VOQ,EOQ,DOQ,HOQ,FOQ,COQ,zOQ,UOQ,$OQ,wOQ,NOQ,qOQ,LOQ,MOQ,OOQ,ROQ,_OQ]);var TOQ="all",jOQ="each_quorum",POQ="quorum",SOQ="local_quorum",xOQ="one",yOQ="two",vOQ="three",kOQ="local_one",fOQ="any",bOQ="serial",hOQ="local_serial";Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=TOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=jOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=POQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=SOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=xOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=yOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=vOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=kOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=fOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=bOQ;Z_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=hOQ;Z_Q.DbCassandraConsistencyLevelValues=(0,WL.createConstMap)([TOQ,jOQ,POQ,SOQ,xOQ,yOQ,vOQ,kOQ,fOQ,bOQ,hOQ]);var gOQ="datasource",uOQ="http",mOQ="pubsub",dOQ="timer",cOQ="other";Z_Q.FAASTRIGGERVALUES_DATASOURCE=gOQ;Z_Q.FAASTRIGGERVALUES_HTTP=uOQ;Z_Q.FAASTRIGGERVALUES_PUBSUB=mOQ;Z_Q.FAASTRIGGERVALUES_TIMER=dOQ;Z_Q.FAASTRIGGERVALUES_OTHER=cOQ;Z_Q.FaasTriggerValues=(0,WL.createConstMap)([gOQ,uOQ,mOQ,dOQ,cOQ]);var pOQ="insert",lOQ="edit",iOQ="delete";Z_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=pOQ;Z_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=lOQ;Z_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=iOQ;Z_Q.FaasDocumentOperationValues=(0,WL.createConstMap)([pOQ,lOQ,iOQ]);var nOQ="alibaba_cloud",aOQ="aws",oOQ="azure",rOQ="gcp";Z_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=nOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_AWS=aOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_AZURE=oOQ;Z_Q.FAASINVOKEDPROVIDERVALUES_GCP=rOQ;Z_Q.FaasInvokedProviderValues=(0,WL.createConstMap)([nOQ,aOQ,oOQ,rOQ]);var sOQ="ip_tcp",tOQ="ip_udp",eOQ="ip",ARQ="unix",QRQ="pipe",BRQ="inproc",GRQ="other";Z_Q.NETTRANSPORTVALUES_IP_TCP=sOQ;Z_Q.NETTRANSPORTVALUES_IP_UDP=tOQ;Z_Q.NETTRANSPORTVALUES_IP=eOQ;Z_Q.NETTRANSPORTVALUES_UNIX=ARQ;Z_Q.NETTRANSPORTVALUES_PIPE=QRQ;Z_Q.NETTRANSPORTVALUES_INPROC=BRQ;Z_Q.NETTRANSPORTVALUES_OTHER=GRQ;Z_Q.NetTransportValues=(0,WL.createConstMap)([sOQ,tOQ,eOQ,ARQ,QRQ,BRQ,GRQ]);var ZRQ="wifi",YRQ="wired",JRQ="cell",IRQ="unavailable",XRQ="unknown";Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=ZRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=YRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=JRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=IRQ;Z_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=XRQ;Z_Q.NetHostConnectionTypeValues=(0,WL.createConstMap)([ZRQ,YRQ,JRQ,IRQ,XRQ]);var WRQ="gprs",KRQ="edge",VRQ="umts",ERQ="cdma",DRQ="evdo_0",HRQ="evdo_a",FRQ="cdma2000_1xrtt",CRQ="hsdpa",zRQ="hsupa",URQ="hspa",$RQ="iden",wRQ="evdo_b",NRQ="lte",qRQ="ehrpd",LRQ="hspap",MRQ="gsm",ORQ="td_scdma",RRQ="iwlan",_RQ="nr",TRQ="nrnsa",jRQ="lte_ca";Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=WRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=KRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=VRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=ERQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=DRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=HRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=FRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=CRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=zRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=URQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=$RQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=wRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=NRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=qRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=LRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=MRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=ORQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=RRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=_RQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=TRQ;Z_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=jRQ;Z_Q.NetHostConnectionSubtypeValues=(0,WL.createConstMap)([WRQ,KRQ,VRQ,ERQ,DRQ,HRQ,FRQ,CRQ,zRQ,URQ,$RQ,wRQ,NRQ,qRQ,LRQ,MRQ,ORQ,RRQ,_RQ,TRQ,jRQ]);var PRQ="1.0",SRQ="1.1",xRQ="2.0",yRQ="SPDY",vRQ="QUIC";Z_Q.HTTPFLAVORVALUES_HTTP_1_0=PRQ;Z_Q.HTTPFLAVORVALUES_HTTP_1_1=SRQ;Z_Q.HTTPFLAVORVALUES_HTTP_2_0=xRQ;Z_Q.HTTPFLAVORVALUES_SPDY=yRQ;Z_Q.HTTPFLAVORVALUES_QUIC=vRQ;Z_Q.HttpFlavorValues={HTTP_1_0:PRQ,HTTP_1_1:SRQ,HTTP_2_0:xRQ,SPDY:yRQ,QUIC:vRQ};var kRQ="queue",fRQ="topic";Z_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=kRQ;Z_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=fRQ;Z_Q.MessagingDestinationKindValues=(0,WL.createConstMap)([kRQ,fRQ]);var bRQ="receive",hRQ="process";Z_Q.MESSAGINGOPERATIONVALUES_RECEIVE=bRQ;Z_Q.MESSAGINGOPERATIONVALUES_PROCESS=hRQ;Z_Q.MessagingOperationValues=(0,WL.createConstMap)([bRQ,hRQ]);var gRQ=0,uRQ=1,mRQ=2,dRQ=3,cRQ=4,pRQ=5,lRQ=6,iRQ=7,nRQ=8,aRQ=9,oRQ=10,rRQ=11,sRQ=12,tRQ=13,eRQ=14,A_Q=15,Q_Q=16;Z_Q.RPCGRPCSTATUSCODEVALUES_OK=gRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=uRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=mRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=dRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=cRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=pRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=lRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=iRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=nRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=aRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=oRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=rRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=sRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=tRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=eRQ;Z_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=A_Q;Z_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=Q_Q;Z_Q.RpcGrpcStatusCodeValues={OK:gRQ,CANCELLED:uRQ,UNKNOWN:mRQ,INVALID_ARGUMENT:dRQ,DEADLINE_EXCEEDED:cRQ,NOT_FOUND:pRQ,ALREADY_EXISTS:lRQ,PERMISSION_DENIED:iRQ,RESOURCE_EXHAUSTED:nRQ,FAILED_PRECONDITION:aRQ,ABORTED:oRQ,OUT_OF_RANGE:rRQ,UNIMPLEMENTED:sRQ,INTERNAL:tRQ,UNAVAILABLE:eRQ,DATA_LOSS:A_Q,UNAUTHENTICATED:Q_Q};var B_Q="SENT",G_Q="RECEIVED";Z_Q.MESSAGETYPEVALUES_SENT=B_Q;Z_Q.MESSAGETYPEVALUES_RECEIVED=G_Q;Z_Q.MessageTypeValues=(0,WL.createConstMap)([B_Q,G_Q])});var E_Q=w((pr)=>{var Dj3=pr&&pr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Hj3=pr&&pr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Dj3(Q,A,B)};Object.defineProperty(pr,"__esModule",{value:!0});Hj3(V_Q(),pr)});var mjQ=w((bjQ)=>{Object.defineProperty(bjQ,"__esModule",{value:!0});bjQ.SEMRESATTRS_K8S_STATEFULSET_NAME=bjQ.SEMRESATTRS_K8S_STATEFULSET_UID=bjQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=bjQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=bjQ.SEMRESATTRS_K8S_REPLICASET_NAME=bjQ.SEMRESATTRS_K8S_REPLICASET_UID=bjQ.SEMRESATTRS_K8S_CONTAINER_NAME=bjQ.SEMRESATTRS_K8S_POD_NAME=bjQ.SEMRESATTRS_K8S_POD_UID=bjQ.SEMRESATTRS_K8S_NAMESPACE_NAME=bjQ.SEMRESATTRS_K8S_NODE_UID=bjQ.SEMRESATTRS_K8S_NODE_NAME=bjQ.SEMRESATTRS_K8S_CLUSTER_NAME=bjQ.SEMRESATTRS_HOST_IMAGE_VERSION=bjQ.SEMRESATTRS_HOST_IMAGE_ID=bjQ.SEMRESATTRS_HOST_IMAGE_NAME=bjQ.SEMRESATTRS_HOST_ARCH=bjQ.SEMRESATTRS_HOST_TYPE=bjQ.SEMRESATTRS_HOST_NAME=bjQ.SEMRESATTRS_HOST_ID=bjQ.SEMRESATTRS_FAAS_MAX_MEMORY=bjQ.SEMRESATTRS_FAAS_INSTANCE=bjQ.SEMRESATTRS_FAAS_VERSION=bjQ.SEMRESATTRS_FAAS_ID=bjQ.SEMRESATTRS_FAAS_NAME=bjQ.SEMRESATTRS_DEVICE_MODEL_NAME=bjQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=bjQ.SEMRESATTRS_DEVICE_ID=bjQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=bjQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=bjQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=bjQ.SEMRESATTRS_CONTAINER_RUNTIME=bjQ.SEMRESATTRS_CONTAINER_ID=bjQ.SEMRESATTRS_CONTAINER_NAME=bjQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=bjQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=bjQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=bjQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=bjQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=bjQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=bjQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=bjQ.SEMRESATTRS_AWS_ECS_TASK_ARN=bjQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=bjQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=bjQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=bjQ.SEMRESATTRS_CLOUD_PLATFORM=bjQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=bjQ.SEMRESATTRS_CLOUD_REGION=bjQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=bjQ.SEMRESATTRS_CLOUD_PROVIDER=void 0;bjQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=bjQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=bjQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=bjQ.CLOUDPLATFORMVALUES_AZURE_AKS=bjQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=bjQ.CLOUDPLATFORMVALUES_AZURE_VM=bjQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=bjQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=bjQ.CLOUDPLATFORMVALUES_AWS_EKS=bjQ.CLOUDPLATFORMVALUES_AWS_ECS=bjQ.CLOUDPLATFORMVALUES_AWS_EC2=bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=bjQ.CloudProviderValues=bjQ.CLOUDPROVIDERVALUES_GCP=bjQ.CLOUDPROVIDERVALUES_AZURE=bjQ.CLOUDPROVIDERVALUES_AWS=bjQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=bjQ.SemanticResourceAttributes=bjQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=bjQ.SEMRESATTRS_WEBENGINE_VERSION=bjQ.SEMRESATTRS_WEBENGINE_NAME=bjQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=bjQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=bjQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=bjQ.SEMRESATTRS_TELEMETRY_SDK_NAME=bjQ.SEMRESATTRS_SERVICE_VERSION=bjQ.SEMRESATTRS_SERVICE_INSTANCE_ID=bjQ.SEMRESATTRS_SERVICE_NAMESPACE=bjQ.SEMRESATTRS_SERVICE_NAME=bjQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=bjQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=bjQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=bjQ.SEMRESATTRS_PROCESS_OWNER=bjQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=bjQ.SEMRESATTRS_PROCESS_COMMAND_LINE=bjQ.SEMRESATTRS_PROCESS_COMMAND=bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=bjQ.SEMRESATTRS_PROCESS_PID=bjQ.SEMRESATTRS_OS_VERSION=bjQ.SEMRESATTRS_OS_NAME=bjQ.SEMRESATTRS_OS_DESCRIPTION=bjQ.SEMRESATTRS_OS_TYPE=bjQ.SEMRESATTRS_K8S_CRONJOB_NAME=bjQ.SEMRESATTRS_K8S_CRONJOB_UID=bjQ.SEMRESATTRS_K8S_JOB_NAME=bjQ.SEMRESATTRS_K8S_JOB_UID=bjQ.SEMRESATTRS_K8S_DAEMONSET_NAME=bjQ.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;bjQ.TelemetrySdkLanguageValues=bjQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=bjQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=bjQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=bjQ.TELEMETRYSDKLANGUAGEVALUES_PHP=bjQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=bjQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=bjQ.TELEMETRYSDKLANGUAGEVALUES_GO=bjQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=bjQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=bjQ.TELEMETRYSDKLANGUAGEVALUES_CPP=bjQ.OsTypeValues=bjQ.OSTYPEVALUES_Z_OS=bjQ.OSTYPEVALUES_SOLARIS=bjQ.OSTYPEVALUES_AIX=bjQ.OSTYPEVALUES_HPUX=bjQ.OSTYPEVALUES_DRAGONFLYBSD=bjQ.OSTYPEVALUES_OPENBSD=bjQ.OSTYPEVALUES_NETBSD=bjQ.OSTYPEVALUES_FREEBSD=bjQ.OSTYPEVALUES_DARWIN=bjQ.OSTYPEVALUES_LINUX=bjQ.OSTYPEVALUES_WINDOWS=bjQ.HostArchValues=bjQ.HOSTARCHVALUES_X86=bjQ.HOSTARCHVALUES_PPC64=bjQ.HOSTARCHVALUES_PPC32=bjQ.HOSTARCHVALUES_IA64=bjQ.HOSTARCHVALUES_ARM64=bjQ.HOSTARCHVALUES_ARM32=bjQ.HOSTARCHVALUES_AMD64=bjQ.AwsEcsLaunchtypeValues=bjQ.AWSECSLAUNCHTYPEVALUES_FARGATE=bjQ.AWSECSLAUNCHTYPEVALUES_EC2=bjQ.CloudPlatformValues=bjQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=bjQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var lr=a_1(),D_Q="cloud.provider",H_Q="cloud.account.id",F_Q="cloud.region",C_Q="cloud.availability_zone",z_Q="cloud.platform",U_Q="aws.ecs.container.arn",$_Q="aws.ecs.cluster.arn",w_Q="aws.ecs.launchtype",N_Q="aws.ecs.task.arn",q_Q="aws.ecs.task.family",L_Q="aws.ecs.task.revision",M_Q="aws.eks.cluster.arn",O_Q="aws.log.group.names",R_Q="aws.log.group.arns",__Q="aws.log.stream.names",T_Q="aws.log.stream.arns",j_Q="container.name",P_Q="container.id",S_Q="container.runtime",x_Q="container.image.name",y_Q="container.image.tag",v_Q="deployment.environment",k_Q="device.id",f_Q="device.model.identifier",b_Q="device.model.name",h_Q="faas.name",g_Q="faas.id",u_Q="faas.version",m_Q="faas.instance",d_Q="faas.max_memory",c_Q="host.id",p_Q="host.name",l_Q="host.type",i_Q="host.arch",n_Q="host.image.name",a_Q="host.image.id",o_Q="host.image.version",r_Q="k8s.cluster.name",s_Q="k8s.node.name",t_Q="k8s.node.uid",e_Q="k8s.namespace.name",ATQ="k8s.pod.uid",QTQ="k8s.pod.name",BTQ="k8s.container.name",GTQ="k8s.replicaset.uid",ZTQ="k8s.replicaset.name",YTQ="k8s.deployment.uid",JTQ="k8s.deployment.name",ITQ="k8s.statefulset.uid",XTQ="k8s.statefulset.name",WTQ="k8s.daemonset.uid",KTQ="k8s.daemonset.name",VTQ="k8s.job.uid",ETQ="k8s.job.name",DTQ="k8s.cronjob.uid",HTQ="k8s.cronjob.name",FTQ="os.type",CTQ="os.description",zTQ="os.name",UTQ="os.version",$TQ="process.pid",wTQ="process.executable.name",NTQ="process.executable.path",qTQ="process.command",LTQ="process.command_line",MTQ="process.command_args",OTQ="process.owner",RTQ="process.runtime.name",_TQ="process.runtime.version",TTQ="process.runtime.description",jTQ="service.name",PTQ="service.namespace",STQ="service.instance.id",xTQ="service.version",yTQ="telemetry.sdk.name",vTQ="telemetry.sdk.language",kTQ="telemetry.sdk.version",fTQ="telemetry.auto.version",bTQ="webengine.name",hTQ="webengine.version",gTQ="webengine.description";bjQ.SEMRESATTRS_CLOUD_PROVIDER=D_Q;bjQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=H_Q;bjQ.SEMRESATTRS_CLOUD_REGION=F_Q;bjQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=C_Q;bjQ.SEMRESATTRS_CLOUD_PLATFORM=z_Q;bjQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=U_Q;bjQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=$_Q;bjQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=w_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_ARN=N_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=q_Q;bjQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=L_Q;bjQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=M_Q;bjQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=O_Q;bjQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=R_Q;bjQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=__Q;bjQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=T_Q;bjQ.SEMRESATTRS_CONTAINER_NAME=j_Q;bjQ.SEMRESATTRS_CONTAINER_ID=P_Q;bjQ.SEMRESATTRS_CONTAINER_RUNTIME=S_Q;bjQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=x_Q;bjQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=y_Q;bjQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=v_Q;bjQ.SEMRESATTRS_DEVICE_ID=k_Q;bjQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=f_Q;bjQ.SEMRESATTRS_DEVICE_MODEL_NAME=b_Q;bjQ.SEMRESATTRS_FAAS_NAME=h_Q;bjQ.SEMRESATTRS_FAAS_ID=g_Q;bjQ.SEMRESATTRS_FAAS_VERSION=u_Q;bjQ.SEMRESATTRS_FAAS_INSTANCE=m_Q;bjQ.SEMRESATTRS_FAAS_MAX_MEMORY=d_Q;bjQ.SEMRESATTRS_HOST_ID=c_Q;bjQ.SEMRESATTRS_HOST_NAME=p_Q;bjQ.SEMRESATTRS_HOST_TYPE=l_Q;bjQ.SEMRESATTRS_HOST_ARCH=i_Q;bjQ.SEMRESATTRS_HOST_IMAGE_NAME=n_Q;bjQ.SEMRESATTRS_HOST_IMAGE_ID=a_Q;bjQ.SEMRESATTRS_HOST_IMAGE_VERSION=o_Q;bjQ.SEMRESATTRS_K8S_CLUSTER_NAME=r_Q;bjQ.SEMRESATTRS_K8S_NODE_NAME=s_Q;bjQ.SEMRESATTRS_K8S_NODE_UID=t_Q;bjQ.SEMRESATTRS_K8S_NAMESPACE_NAME=e_Q;bjQ.SEMRESATTRS_K8S_POD_UID=ATQ;bjQ.SEMRESATTRS_K8S_POD_NAME=QTQ;bjQ.SEMRESATTRS_K8S_CONTAINER_NAME=BTQ;bjQ.SEMRESATTRS_K8S_REPLICASET_UID=GTQ;bjQ.SEMRESATTRS_K8S_REPLICASET_NAME=ZTQ;bjQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=YTQ;bjQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=JTQ;bjQ.SEMRESATTRS_K8S_STATEFULSET_UID=ITQ;bjQ.SEMRESATTRS_K8S_STATEFULSET_NAME=XTQ;bjQ.SEMRESATTRS_K8S_DAEMONSET_UID=WTQ;bjQ.SEMRESATTRS_K8S_DAEMONSET_NAME=KTQ;bjQ.SEMRESATTRS_K8S_JOB_UID=VTQ;bjQ.SEMRESATTRS_K8S_JOB_NAME=ETQ;bjQ.SEMRESATTRS_K8S_CRONJOB_UID=DTQ;bjQ.SEMRESATTRS_K8S_CRONJOB_NAME=HTQ;bjQ.SEMRESATTRS_OS_TYPE=FTQ;bjQ.SEMRESATTRS_OS_DESCRIPTION=CTQ;bjQ.SEMRESATTRS_OS_NAME=zTQ;bjQ.SEMRESATTRS_OS_VERSION=UTQ;bjQ.SEMRESATTRS_PROCESS_PID=$TQ;bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=wTQ;bjQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=NTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND=qTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND_LINE=LTQ;bjQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=MTQ;bjQ.SEMRESATTRS_PROCESS_OWNER=OTQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=RTQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=_TQ;bjQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=TTQ;bjQ.SEMRESATTRS_SERVICE_NAME=jTQ;bjQ.SEMRESATTRS_SERVICE_NAMESPACE=PTQ;bjQ.SEMRESATTRS_SERVICE_INSTANCE_ID=STQ;bjQ.SEMRESATTRS_SERVICE_VERSION=xTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_NAME=yTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=vTQ;bjQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=kTQ;bjQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=fTQ;bjQ.SEMRESATTRS_WEBENGINE_NAME=bTQ;bjQ.SEMRESATTRS_WEBENGINE_VERSION=hTQ;bjQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=gTQ;bjQ.SemanticResourceAttributes=(0,lr.createConstMap)([D_Q,H_Q,F_Q,C_Q,z_Q,U_Q,$_Q,w_Q,N_Q,q_Q,L_Q,M_Q,O_Q,R_Q,__Q,T_Q,j_Q,P_Q,S_Q,x_Q,y_Q,v_Q,k_Q,f_Q,b_Q,h_Q,g_Q,u_Q,m_Q,d_Q,c_Q,p_Q,l_Q,i_Q,n_Q,a_Q,o_Q,r_Q,s_Q,t_Q,e_Q,ATQ,QTQ,BTQ,GTQ,ZTQ,YTQ,JTQ,ITQ,XTQ,WTQ,KTQ,VTQ,ETQ,DTQ,HTQ,FTQ,CTQ,zTQ,UTQ,$TQ,wTQ,NTQ,qTQ,LTQ,MTQ,OTQ,RTQ,_TQ,TTQ,jTQ,PTQ,STQ,xTQ,yTQ,vTQ,kTQ,fTQ,bTQ,hTQ,gTQ]);var uTQ="alibaba_cloud",mTQ="aws",dTQ="azure",cTQ="gcp";bjQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=uTQ;bjQ.CLOUDPROVIDERVALUES_AWS=mTQ;bjQ.CLOUDPROVIDERVALUES_AZURE=dTQ;bjQ.CLOUDPROVIDERVALUES_GCP=cTQ;bjQ.CloudProviderValues=(0,lr.createConstMap)([uTQ,mTQ,dTQ,cTQ]);var pTQ="alibaba_cloud_ecs",lTQ="alibaba_cloud_fc",iTQ="aws_ec2",nTQ="aws_ecs",aTQ="aws_eks",oTQ="aws_lambda",rTQ="aws_elastic_beanstalk",sTQ="azure_vm",tTQ="azure_container_instances",eTQ="azure_aks",AjQ="azure_functions",QjQ="azure_app_service",BjQ="gcp_compute_engine",GjQ="gcp_cloud_run",ZjQ="gcp_kubernetes_engine",YjQ="gcp_cloud_functions",JjQ="gcp_app_engine";bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=pTQ;bjQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=lTQ;bjQ.CLOUDPLATFORMVALUES_AWS_EC2=iTQ;bjQ.CLOUDPLATFORMVALUES_AWS_ECS=nTQ;bjQ.CLOUDPLATFORMVALUES_AWS_EKS=aTQ;bjQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=oTQ;bjQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=rTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_VM=sTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=tTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_AKS=eTQ;bjQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=AjQ;bjQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=QjQ;bjQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=BjQ;bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=GjQ;bjQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=ZjQ;bjQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=YjQ;bjQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=JjQ;bjQ.CloudPlatformValues=(0,lr.createConstMap)([pTQ,lTQ,iTQ,nTQ,aTQ,oTQ,rTQ,sTQ,tTQ,eTQ,AjQ,QjQ,BjQ,GjQ,ZjQ,YjQ,JjQ]);var IjQ="ec2",XjQ="fargate";bjQ.AWSECSLAUNCHTYPEVALUES_EC2=IjQ;bjQ.AWSECSLAUNCHTYPEVALUES_FARGATE=XjQ;bjQ.AwsEcsLaunchtypeValues=(0,lr.createConstMap)([IjQ,XjQ]);var WjQ="amd64",KjQ="arm32",VjQ="arm64",EjQ="ia64",DjQ="ppc32",HjQ="ppc64",FjQ="x86";bjQ.HOSTARCHVALUES_AMD64=WjQ;bjQ.HOSTARCHVALUES_ARM32=KjQ;bjQ.HOSTARCHVALUES_ARM64=VjQ;bjQ.HOSTARCHVALUES_IA64=EjQ;bjQ.HOSTARCHVALUES_PPC32=DjQ;bjQ.HOSTARCHVALUES_PPC64=HjQ;bjQ.HOSTARCHVALUES_X86=FjQ;bjQ.HostArchValues=(0,lr.createConstMap)([WjQ,KjQ,VjQ,EjQ,DjQ,HjQ,FjQ]);var CjQ="windows",zjQ="linux",UjQ="darwin",$jQ="freebsd",wjQ="netbsd",NjQ="openbsd",qjQ="dragonflybsd",LjQ="hpux",MjQ="aix",OjQ="solaris",RjQ="z_os";bjQ.OSTYPEVALUES_WINDOWS=CjQ;bjQ.OSTYPEVALUES_LINUX=zjQ;bjQ.OSTYPEVALUES_DARWIN=UjQ;bjQ.OSTYPEVALUES_FREEBSD=$jQ;bjQ.OSTYPEVALUES_NETBSD=wjQ;bjQ.OSTYPEVALUES_OPENBSD=NjQ;bjQ.OSTYPEVALUES_DRAGONFLYBSD=qjQ;bjQ.OSTYPEVALUES_HPUX=LjQ;bjQ.OSTYPEVALUES_AIX=MjQ;bjQ.OSTYPEVALUES_SOLARIS=OjQ;bjQ.OSTYPEVALUES_Z_OS=RjQ;bjQ.OsTypeValues=(0,lr.createConstMap)([CjQ,zjQ,UjQ,$jQ,wjQ,NjQ,qjQ,LjQ,MjQ,OjQ,RjQ]);var _jQ="cpp",TjQ="dotnet",jjQ="erlang",PjQ="go",SjQ="java",xjQ="nodejs",yjQ="php",vjQ="python",kjQ="ruby",fjQ="webjs";bjQ.TELEMETRYSDKLANGUAGEVALUES_CPP=_jQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=TjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=jjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_GO=PjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=SjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=xjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_PHP=yjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=vjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=kjQ;bjQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=fjQ;bjQ.TelemetrySdkLanguageValues=(0,lr.createConstMap)([_jQ,TjQ,jjQ,PjQ,SjQ,xjQ,yjQ,vjQ,kjQ,fjQ])});var djQ=w((ir)=>{var cS3=ir&&ir.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),pS3=ir&&ir.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))cS3(Q,A,B)};Object.defineProperty(ir,"__esModule",{value:!0});pS3(mjQ(),ir)});var njQ=w((cjQ)=>{Object.defineProperty(cjQ,"__esModule",{value:!0});cjQ.ATTR_EXCEPTION_TYPE=cjQ.ATTR_EXCEPTION_STACKTRACE=cjQ.ATTR_EXCEPTION_MESSAGE=cjQ.ATTR_EXCEPTION_ESCAPED=cjQ.ERROR_TYPE_VALUE_OTHER=cjQ.ATTR_ERROR_TYPE=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=cjQ.ATTR_DOTNET_GC_HEAP_GENERATION=cjQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL=cjQ.DB_SYSTEM_NAME_VALUE_MYSQL=cjQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=cjQ.DB_SYSTEM_NAME_VALUE_MARIADB=cjQ.ATTR_DB_SYSTEM_NAME=cjQ.ATTR_DB_STORED_PROCEDURE_NAME=cjQ.ATTR_DB_RESPONSE_STATUS_CODE=cjQ.ATTR_DB_QUERY_TEXT=cjQ.ATTR_DB_QUERY_SUMMARY=cjQ.ATTR_DB_OPERATION_NAME=cjQ.ATTR_DB_OPERATION_BATCH_SIZE=cjQ.ATTR_DB_NAMESPACE=cjQ.ATTR_DB_COLLECTION_NAME=cjQ.ATTR_CODE_STACKTRACE=cjQ.ATTR_CODE_LINE_NUMBER=cjQ.ATTR_CODE_FUNCTION_NAME=cjQ.ATTR_CODE_FILE_PATH=cjQ.ATTR_CODE_COLUMN_NUMBER=cjQ.ATTR_CLIENT_PORT=cjQ.ATTR_CLIENT_ADDRESS=cjQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=cjQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=cjQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=cjQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=cjQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=cjQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;cjQ.OTEL_STATUS_CODE_VALUE_ERROR=cjQ.ATTR_OTEL_STATUS_CODE=cjQ.ATTR_OTEL_SCOPE_VERSION=cjQ.ATTR_OTEL_SCOPE_NAME=cjQ.NETWORK_TYPE_VALUE_IPV6=cjQ.NETWORK_TYPE_VALUE_IPV4=cjQ.ATTR_NETWORK_TYPE=cjQ.NETWORK_TRANSPORT_VALUE_UNIX=cjQ.NETWORK_TRANSPORT_VALUE_UDP=cjQ.NETWORK_TRANSPORT_VALUE_TCP=cjQ.NETWORK_TRANSPORT_VALUE_QUIC=cjQ.NETWORK_TRANSPORT_VALUE_PIPE=cjQ.ATTR_NETWORK_TRANSPORT=cjQ.ATTR_NETWORK_PROTOCOL_VERSION=cjQ.ATTR_NETWORK_PROTOCOL_NAME=cjQ.ATTR_NETWORK_PEER_PORT=cjQ.ATTR_NETWORK_PEER_ADDRESS=cjQ.ATTR_NETWORK_LOCAL_PORT=cjQ.ATTR_NETWORK_LOCAL_ADDRESS=cjQ.JVM_THREAD_STATE_VALUE_WAITING=cjQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING=cjQ.JVM_THREAD_STATE_VALUE_TERMINATED=cjQ.JVM_THREAD_STATE_VALUE_RUNNABLE=cjQ.JVM_THREAD_STATE_VALUE_NEW=cjQ.JVM_THREAD_STATE_VALUE_BLOCKED=cjQ.ATTR_JVM_THREAD_STATE=cjQ.ATTR_JVM_THREAD_DAEMON=cjQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP=cjQ.JVM_MEMORY_TYPE_VALUE_HEAP=cjQ.ATTR_JVM_MEMORY_TYPE=cjQ.ATTR_JVM_MEMORY_POOL_NAME=cjQ.ATTR_JVM_GC_NAME=cjQ.ATTR_JVM_GC_ACTION=cjQ.ATTR_HTTP_ROUTE=cjQ.ATTR_HTTP_RESPONSE_STATUS_CODE=cjQ.ATTR_HTTP_RESPONSE_HEADER=cjQ.ATTR_HTTP_REQUEST_RESEND_COUNT=cjQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=cjQ.HTTP_REQUEST_METHOD_VALUE_TRACE=cjQ.HTTP_REQUEST_METHOD_VALUE_PUT=cjQ.HTTP_REQUEST_METHOD_VALUE_POST=cjQ.HTTP_REQUEST_METHOD_VALUE_PATCH=cjQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS=cjQ.HTTP_REQUEST_METHOD_VALUE_HEAD=cjQ.HTTP_REQUEST_METHOD_VALUE_GET=cjQ.HTTP_REQUEST_METHOD_VALUE_DELETE=cjQ.HTTP_REQUEST_METHOD_VALUE_CONNECT=cjQ.HTTP_REQUEST_METHOD_VALUE_OTHER=cjQ.ATTR_HTTP_REQUEST_METHOD=cjQ.ATTR_HTTP_REQUEST_HEADER=void 0;cjQ.ATTR_USER_AGENT_ORIGINAL=cjQ.ATTR_URL_SCHEME=cjQ.ATTR_URL_QUERY=cjQ.ATTR_URL_PATH=cjQ.ATTR_URL_FULL=cjQ.ATTR_URL_FRAGMENT=cjQ.ATTR_TELEMETRY_SDK_VERSION=cjQ.ATTR_TELEMETRY_SDK_NAME=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=cjQ.ATTR_TELEMETRY_SDK_LANGUAGE=cjQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=cjQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=cjQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=cjQ.ATTR_SIGNALR_TRANSPORT=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=cjQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=cjQ.ATTR_SIGNALR_CONNECTION_STATUS=cjQ.ATTR_SERVICE_VERSION=cjQ.ATTR_SERVICE_NAME=cjQ.ATTR_SERVER_PORT=cjQ.ATTR_SERVER_ADDRESS=cjQ.ATTR_OTEL_STATUS_DESCRIPTION=cjQ.OTEL_STATUS_CODE_VALUE_OK=void 0;cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";cjQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";cjQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";cjQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";cjQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";cjQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";cjQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";cjQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";cjQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";cjQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";cjQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated";cjQ.ATTR_CLIENT_ADDRESS="client.address";cjQ.ATTR_CLIENT_PORT="client.port";cjQ.ATTR_CODE_COLUMN_NUMBER="code.column.number";cjQ.ATTR_CODE_FILE_PATH="code.file.path";cjQ.ATTR_CODE_FUNCTION_NAME="code.function.name";cjQ.ATTR_CODE_LINE_NUMBER="code.line.number";cjQ.ATTR_CODE_STACKTRACE="code.stacktrace";cjQ.ATTR_DB_COLLECTION_NAME="db.collection.name";cjQ.ATTR_DB_NAMESPACE="db.namespace";cjQ.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";cjQ.ATTR_DB_OPERATION_NAME="db.operation.name";cjQ.ATTR_DB_QUERY_SUMMARY="db.query.summary";cjQ.ATTR_DB_QUERY_TEXT="db.query.text";cjQ.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";cjQ.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";cjQ.ATTR_DB_SYSTEM_NAME="db.system.name";cjQ.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";cjQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";cjQ.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";cjQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";cjQ.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";cjQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";cjQ.ATTR_ERROR_TYPE="error.type";cjQ.ERROR_TYPE_VALUE_OTHER="_OTHER";cjQ.ATTR_EXCEPTION_ESCAPED="exception.escaped";cjQ.ATTR_EXCEPTION_MESSAGE="exception.message";cjQ.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";cjQ.ATTR_EXCEPTION_TYPE="exception.type";var lS3=(A)=>`http.request.header.${A}`;cjQ.ATTR_HTTP_REQUEST_HEADER=lS3;cjQ.ATTR_HTTP_REQUEST_METHOD="http.request.method";cjQ.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";cjQ.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";cjQ.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";cjQ.HTTP_REQUEST_METHOD_VALUE_GET="GET";cjQ.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";cjQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";cjQ.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";cjQ.HTTP_REQUEST_METHOD_VALUE_POST="POST";cjQ.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";cjQ.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";cjQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";cjQ.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var iS3=(A)=>`http.response.header.${A}`;cjQ.ATTR_HTTP_RESPONSE_HEADER=iS3;cjQ.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";cjQ.ATTR_HTTP_ROUTE="http.route";cjQ.ATTR_JVM_GC_ACTION="jvm.gc.action";cjQ.ATTR_JVM_GC_NAME="jvm.gc.name";cjQ.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";cjQ.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";cjQ.JVM_MEMORY_TYPE_VALUE_HEAP="heap";cjQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";cjQ.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";cjQ.ATTR_JVM_THREAD_STATE="jvm.thread.state";cjQ.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";cjQ.JVM_THREAD_STATE_VALUE_NEW="new";cjQ.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";cjQ.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";cjQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";cjQ.JVM_THREAD_STATE_VALUE_WAITING="waiting";cjQ.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";cjQ.ATTR_NETWORK_LOCAL_PORT="network.local.port";cjQ.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";cjQ.ATTR_NETWORK_PEER_PORT="network.peer.port";cjQ.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";cjQ.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";cjQ.ATTR_NETWORK_TRANSPORT="network.transport";cjQ.NETWORK_TRANSPORT_VALUE_PIPE="pipe";cjQ.NETWORK_TRANSPORT_VALUE_QUIC="quic";cjQ.NETWORK_TRANSPORT_VALUE_TCP="tcp";cjQ.NETWORK_TRANSPORT_VALUE_UDP="udp";cjQ.NETWORK_TRANSPORT_VALUE_UNIX="unix";cjQ.ATTR_NETWORK_TYPE="network.type";cjQ.NETWORK_TYPE_VALUE_IPV4="ipv4";cjQ.NETWORK_TYPE_VALUE_IPV6="ipv6";cjQ.ATTR_OTEL_SCOPE_NAME="otel.scope.name";cjQ.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";cjQ.ATTR_OTEL_STATUS_CODE="otel.status_code";cjQ.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";cjQ.OTEL_STATUS_CODE_VALUE_OK="OK";cjQ.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";cjQ.ATTR_SERVER_ADDRESS="server.address";cjQ.ATTR_SERVER_PORT="server.port";cjQ.ATTR_SERVICE_NAME="service.name";cjQ.ATTR_SERVICE_VERSION="service.version";cjQ.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";cjQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";cjQ.ATTR_SIGNALR_TRANSPORT="signalr.transport";cjQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";cjQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";cjQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";cjQ.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";cjQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";cjQ.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";cjQ.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";cjQ.ATTR_URL_FRAGMENT="url.fragment";cjQ.ATTR_URL_FULL="url.full";cjQ.ATTR_URL_PATH="url.path";cjQ.ATTR_URL_QUERY="url.query";cjQ.ATTR_URL_SCHEME="url.scheme";cjQ.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var sjQ=w((ajQ)=>{Object.defineProperty(ajQ,"__esModule",{value:!0});ajQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=ajQ.METRIC_KESTREL_UPGRADED_CONNECTIONS=ajQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=ajQ.METRIC_KESTREL_REJECTED_CONNECTIONS=ajQ.METRIC_KESTREL_QUEUED_REQUESTS=ajQ.METRIC_KESTREL_QUEUED_CONNECTIONS=ajQ.METRIC_KESTREL_CONNECTION_DURATION=ajQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=ajQ.METRIC_KESTREL_ACTIVE_CONNECTIONS=ajQ.METRIC_JVM_THREAD_COUNT=ajQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=ajQ.METRIC_JVM_MEMORY_USED=ajQ.METRIC_JVM_MEMORY_LIMIT=ajQ.METRIC_JVM_MEMORY_COMMITTED=ajQ.METRIC_JVM_GC_DURATION=ajQ.METRIC_JVM_CPU_TIME=ajQ.METRIC_JVM_CPU_RECENT_UTILIZATION=ajQ.METRIC_JVM_CPU_COUNT=ajQ.METRIC_JVM_CLASS_UNLOADED=ajQ.METRIC_JVM_CLASS_LOADED=ajQ.METRIC_JVM_CLASS_COUNT=ajQ.METRIC_HTTP_SERVER_REQUEST_DURATION=ajQ.METRIC_HTTP_CLIENT_REQUEST_DURATION=ajQ.METRIC_DOTNET_TIMER_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=ajQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=ajQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=ajQ.METRIC_DOTNET_PROCESS_CPU_TIME=ajQ.METRIC_DOTNET_PROCESS_CPU_COUNT=ajQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=ajQ.METRIC_DOTNET_JIT_COMPILED_METHODS=ajQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=ajQ.METRIC_DOTNET_JIT_COMPILATION_TIME=ajQ.METRIC_DOTNET_GC_PAUSE_TIME=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=ajQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=ajQ.METRIC_DOTNET_GC_COLLECTIONS=ajQ.METRIC_DOTNET_EXCEPTIONS=ajQ.METRIC_DOTNET_ASSEMBLY_COUNT=ajQ.METRIC_DB_CLIENT_OPERATION_DURATION=ajQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=ajQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=ajQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;ajQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;ajQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";ajQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";ajQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";ajQ.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";ajQ.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";ajQ.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";ajQ.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";ajQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";ajQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";ajQ.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";ajQ.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";ajQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";ajQ.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";ajQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";ajQ.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";ajQ.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";ajQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";ajQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";ajQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";ajQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";ajQ.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";ajQ.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";ajQ.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";ajQ.METRIC_JVM_CLASS_COUNT="jvm.class.count";ajQ.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";ajQ.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";ajQ.METRIC_JVM_CPU_COUNT="jvm.cpu.count";ajQ.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";ajQ.METRIC_JVM_CPU_TIME="jvm.cpu.time";ajQ.METRIC_JVM_GC_DURATION="jvm.gc.duration";ajQ.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";ajQ.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";ajQ.METRIC_JVM_MEMORY_USED="jvm.memory.used";ajQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";ajQ.METRIC_JVM_THREAD_COUNT="jvm.thread.count";ajQ.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";ajQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";ajQ.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";ajQ.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";ajQ.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";ajQ.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";ajQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";ajQ.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";ajQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";ajQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var APQ=w((tjQ)=>{Object.defineProperty(tjQ,"__esModule",{value:!0});tjQ.EVENT_EXCEPTION=void 0;tjQ.EVENT_EXCEPTION="exception"});var nr=w((TR)=>{var Ek3=TR&&TR.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),vHA=TR&&TR.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Ek3(Q,A,B)};Object.defineProperty(TR,"__esModule",{value:!0});vHA(E_Q(),TR);vHA(djQ(),TR);vHA(njQ(),TR);vHA(sjQ(),TR);vHA(APQ(),TR)});var GPQ=w((QPQ)=>{Object.defineProperty(QPQ,"__esModule",{value:!0});QPQ.ATTR_PROCESS_RUNTIME_NAME=void 0;QPQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var JPQ=w((ZPQ)=>{Object.defineProperty(ZPQ,"__esModule",{value:!0});ZPQ.SDK_INFO=void 0;var Dk3=EqQ(),EuA=nr(),Hk3=GPQ();ZPQ.SDK_INFO={[EuA.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Hk3.ATTR_PROCESS_RUNTIME_NAME]:"node",[EuA.ATTR_TELEMETRY_SDK_LANGUAGE]:EuA.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[EuA.ATTR_TELEMETRY_SDK_VERSION]:Dk3.VERSION}});var WPQ=w((IPQ)=>{Object.defineProperty(IPQ,"__esModule",{value:!0});IPQ.unrefTimer=void 0;function Fk3(A){A.unref()}IPQ.unrefTimer=Fk3});var KPQ=w((oP)=>{Object.defineProperty(oP,"__esModule",{value:!0});oP.unrefTimer=oP.SDK_INFO=oP.otperformance=oP._globalThis=oP.getStringListFromEnv=oP.getNumberFromEnv=oP.getBooleanFromEnv=oP.getStringFromEnv=void 0;var DuA=GqQ();Object.defineProperty(oP,"getStringFromEnv",{enumerable:!0,get:function(){return DuA.getStringFromEnv}});Object.defineProperty(oP,"getBooleanFromEnv",{enumerable:!0,get:function(){return DuA.getBooleanFromEnv}});Object.defineProperty(oP,"getNumberFromEnv",{enumerable:!0,get:function(){return DuA.getNumberFromEnv}});Object.defineProperty(oP,"getStringListFromEnv",{enumerable:!0,get:function(){return DuA.getStringListFromEnv}});var Ck3=JqQ();Object.defineProperty(oP,"_globalThis",{enumerable:!0,get:function(){return Ck3._globalThis}});var zk3=WqQ();Object.defineProperty(oP,"otperformance",{enumerable:!0,get:function(){return zk3.otperformance}});var Uk3=JPQ();Object.defineProperty(oP,"SDK_INFO",{enumerable:!0,get:function(){return Uk3.SDK_INFO}});var $k3=WPQ();Object.defineProperty(oP,"unrefTimer",{enumerable:!0,get:function(){return $k3.unrefTimer}})});var o_1=w((rP)=>{Object.defineProperty(rP,"__esModule",{value:!0});rP.getStringListFromEnv=rP.getNumberFromEnv=rP.getStringFromEnv=rP.getBooleanFromEnv=rP.unrefTimer=rP.otperformance=rP._globalThis=rP.SDK_INFO=void 0;var jd=KPQ();Object.defineProperty(rP,"SDK_INFO",{enumerable:!0,get:function(){return jd.SDK_INFO}});Object.defineProperty(rP,"_globalThis",{enumerable:!0,get:function(){return jd._globalThis}});Object.defineProperty(rP,"otperformance",{enumerable:!0,get:function(){return jd.otperformance}});Object.defineProperty(rP,"unrefTimer",{enumerable:!0,get:function(){return jd.unrefTimer}});Object.defineProperty(rP,"getBooleanFromEnv",{enumerable:!0,get:function(){return jd.getBooleanFromEnv}});Object.defineProperty(rP,"getStringFromEnv",{enumerable:!0,get:function(){return jd.getStringFromEnv}});Object.defineProperty(rP,"getNumberFromEnv",{enumerable:!0,get:function(){return jd.getNumberFromEnv}});Object.defineProperty(rP,"getStringListFromEnv",{enumerable:!0,get:function(){return jd.getStringListFromEnv}})});var CPQ=w((HPQ)=>{Object.defineProperty(HPQ,"__esModule",{value:!0});HPQ.addHrTimes=HPQ.isTimeInput=HPQ.isTimeInputHrTime=HPQ.hrTimeToMicroseconds=HPQ.hrTimeToMilliseconds=HPQ.hrTimeToNanoseconds=HPQ.hrTimeToTimeStamp=HPQ.hrTimeDuration=HPQ.timeInputToHrTime=HPQ.hrTime=HPQ.getTimeOrigin=HPQ.millisToHrTime=void 0;var r_1=o_1(),VPQ=9,qk3=6,Lk3=Math.pow(10,qk3),HuA=Math.pow(10,VPQ);function kHA(A){let Q=A/1000,B=Math.trunc(Q),G=Math.round(A%1000*Lk3);return[B,G]}HPQ.millisToHrTime=kHA;function s_1(){let A=r_1.otperformance.timeOrigin;if(typeof A!=="number"){let Q=r_1.otperformance;A=Q.timing&&Q.timing.fetchStart}return A}HPQ.getTimeOrigin=s_1;function EPQ(A){let Q=kHA(s_1()),B=kHA(typeof A==="number"?A:r_1.otperformance.now());return DPQ(Q,B)}HPQ.hrTime=EPQ;function Mk3(A){if(t_1(A))return A;else if(typeof A==="number")if(A<s_1())return EPQ(A);else return kHA(A);else if(A instanceof Date)return kHA(A.getTime());else throw TypeError("Invalid input type")}HPQ.timeInputToHrTime=Mk3;function Ok3(A,Q){let B=Q[0]-A[0],G=Q[1]-A[1];if(G<0)B-=1,G+=HuA;return[B,G]}HPQ.hrTimeDuration=Ok3;function Rk3(A){let Q=VPQ,B=`${"0".repeat(Q)}${A[1]}Z`,G=B.substring(B.length-Q-1);return new Date(A[0]*1000).toISOString().replace("000Z",G)}HPQ.hrTimeToTimeStamp=Rk3;function _k3(A){return A[0]*HuA+A[1]}HPQ.hrTimeToNanoseconds=_k3;function Tk3(A){return A[0]*1000+A[1]/1e6}HPQ.hrTimeToMilliseconds=Tk3;function jk3(A){return A[0]*1e6+A[1]/1000}HPQ.hrTimeToMicroseconds=jk3;function t_1(A){return Array.isArray(A)&&A.length===2&&typeof A[0]==="number"&&typeof A[1]==="number"}HPQ.isTimeInputHrTime=t_1;function Pk3(A){return t_1(A)||typeof A==="number"||A instanceof Date}HPQ.isTimeInput=Pk3;function DPQ(A,Q){let B=[A[0]+Q[0],A[1]+Q[1]];if(B[1]>=HuA)B[1]-=HuA,B[0]+=1;return B}HPQ.addHrTimes=DPQ});var UPQ=w((zPQ)=>{Object.defineProperty(zPQ,"__esModule",{value:!0});zPQ.ExportResultCode=void 0;var dk3;(function(A){A[A.SUCCESS=0]="SUCCESS",A[A.FAILED=1]="FAILED"})(dk3=zPQ.ExportResultCode||(zPQ.ExportResultCode={}))});var LPQ=w((NPQ)=>{Object.defineProperty(NPQ,"__esModule",{value:!0});NPQ.CompositePropagator=void 0;var $PQ=q9();class wPQ{_propagators;_fields;constructor(A={}){this._propagators=A.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Q)=>typeof Q.fields==="function"?Q.fields():[]).reduce((Q,B)=>Q.concat(B),[])))}inject(A,Q,B){for(let G of this._propagators)try{G.inject(A,Q,B)}catch(Z){$PQ.diag.warn(`Failed to inject with ${G.constructor.name}. Err: ${Z.message}`)}}extract(A,Q,B){return this._propagators.reduce((G,Z)=>{try{return Z.extract(G,Q,B)}catch(Y){$PQ.diag.warn(`Failed to extract with ${Z.constructor.name}. Err: ${Y.message}`)}return G},A)}fields(){return this._fields.slice()}}NPQ.CompositePropagator=wPQ});var RPQ=w((MPQ)=>{Object.defineProperty(MPQ,"__esModule",{value:!0});MPQ.validateValue=MPQ.validateKey=void 0;var AT1="[_0-9a-z-*/]",ck3=`[a-z]${AT1}{0,255}`,pk3=`[a-z0-9]${AT1}{0,240}@[a-z]${AT1}{0,13}`,lk3=new RegExp(`^(?:${ck3}|${pk3})$`),ik3=/^[ -~]{0,255}[!-~]$/,nk3=/,|=/;function ak3(A){return lk3.test(A)}MPQ.validateKey=ak3;function ok3(A){return ik3.test(A)&&!nk3.test(A)}MPQ.validateValue=ok3});var BT1=w((SPQ)=>{Object.defineProperty(SPQ,"__esModule",{value:!0});SPQ.TraceState=void 0;var _PQ=RPQ(),TPQ=32,sk3=512,jPQ=",",PPQ="=";class QT1{_internalState=new Map;constructor(A){if(A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+PPQ+this.get(Q)),A},[]).join(jPQ)}_parse(A){if(A.length>sk3)return;if(this._internalState=A.split(jPQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(PPQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,_PQ.validateKey)(Y)&&(0,_PQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>TPQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TPQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new QT1;return A._internalState=new Map(this._internalState),A}}SPQ.TraceState=QT1});var bPQ=w((kPQ)=>{Object.defineProperty(kPQ,"__esModule",{value:!0});kPQ.W3CTraceContextPropagator=kPQ.parseTraceParent=kPQ.TRACE_STATE_HEADER=kPQ.TRACE_PARENT_HEADER=void 0;var FuA=q9(),tk3=yHA(),ek3=BT1();kPQ.TRACE_PARENT_HEADER="traceparent";kPQ.TRACE_STATE_HEADER="tracestate";var Af3="00",Qf3="(?!ff)[\\da-f]{2}",Bf3="(?![0]{32})[\\da-f]{32}",Gf3="(?![0]{16})[\\da-f]{16}",Zf3="[\\da-f]{2}",Yf3=new RegExp(`^\\s?(${Qf3})-(${Bf3})-(${Gf3})-(${Zf3})(-.*)?\\s?$`);function yPQ(A){let Q=Yf3.exec(A);if(!Q)return null;if(Q[1]==="00"&&Q[5])return null;return{traceId:Q[2],spanId:Q[3],traceFlags:parseInt(Q[4],16)}}kPQ.parseTraceParent=yPQ;class vPQ{inject(A,Q,B){let G=FuA.trace.getSpanContext(A);if(!G||(0,tk3.isTracingSuppressed)(A)||!(0,FuA.isSpanContextValid)(G))return;let Z=`${Af3}-${G.traceId}-${G.spanId}-0${Number(G.traceFlags||FuA.TraceFlags.NONE).toString(16)}`;if(B.set(Q,kPQ.TRACE_PARENT_HEADER,Z),G.traceState)B.set(Q,kPQ.TRACE_STATE_HEADER,G.traceState.serialize())}extract(A,Q,B){let G=B.get(Q,kPQ.TRACE_PARENT_HEADER);if(!G)return A;let Z=Array.isArray(G)?G[0]:G;if(typeof Z!=="string")return A;let Y=yPQ(Z);if(!Y)return A;Y.isRemote=!0;let J=B.get(Q,kPQ.TRACE_STATE_HEADER);if(J){let I=Array.isArray(J)?J.join(","):J;Y.traceState=new ek3.TraceState(typeof I==="string"?I:void 0)}return FuA.trace.setSpanContext(A,Y)}fields(){return[kPQ.TRACE_PARENT_HEADER,kPQ.TRACE_STATE_HEADER]}}kPQ.W3CTraceContextPropagator=vPQ});var mPQ=w((gPQ)=>{Object.defineProperty(gPQ,"__esModule",{value:!0});gPQ.getRPCMetadata=gPQ.deleteRPCMetadata=gPQ.setRPCMetadata=gPQ.RPCType=void 0;var If3=q9(),GT1=(0,If3.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Xf3;(function(A){A.HTTP="http"})(Xf3=gPQ.RPCType||(gPQ.RPCType={}));function Wf3(A,Q){return A.setValue(GT1,Q)}gPQ.setRPCMetadata=Wf3;function Kf3(A){return A.deleteValue(GT1)}gPQ.deleteRPCMetadata=Kf3;function Vf3(A){return A.getValue(GT1)}gPQ.getRPCMetadata=Vf3});var aPQ=w((iPQ)=>{Object.defineProperty(iPQ,"__esModule",{value:!0});iPQ.isPlainObject=void 0;var Hf3="[object Object]",Ff3="[object Null]",Cf3="[object Undefined]",zf3=Function.prototype,dPQ=zf3.toString,Uf3=dPQ.call(Object),$f3=Object.getPrototypeOf,cPQ=Object.prototype,pPQ=cPQ.hasOwnProperty,ar=Symbol?Symbol.toStringTag:void 0,lPQ=cPQ.toString;function wf3(A){if(!Nf3(A)||qf3(A)!==Hf3)return!1;let Q=$f3(A);if(Q===null)return!0;let B=pPQ.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&dPQ.call(B)===Uf3}iPQ.isPlainObject=wf3;function Nf3(A){return A!=null&&typeof A=="object"}function qf3(A){if(A==null)return A===void 0?Cf3:Ff3;return ar&&ar in Object(A)?Lf3(A):Mf3(A)}function Lf3(A){let Q=pPQ.call(A,ar),B=A[ar],G=!1;try{A[ar]=void 0,G=!0}catch{}let Z=lPQ.call(A);if(G)if(Q)A[ar]=B;else delete A[ar];return Z}function Mf3(A){return lPQ.call(A)}});var QSQ=w((ePQ)=>{Object.defineProperty(ePQ,"__esModule",{value:!0});ePQ.merge=void 0;var oPQ=aPQ(),Of3=20;function Rf3(...A){let Q=A.shift(),B=new WeakMap;while(A.length>0)Q=sPQ(Q,A.shift(),0,B);return Q}ePQ.merge=Rf3;function ZT1(A){if($uA(A))return A.slice();return A}function sPQ(A,Q,B=0,G){let Z;if(B>Of3)return;if(B++,UuA(A)||UuA(Q)||tPQ(Q))Z=ZT1(Q);else if($uA(A)){if(Z=A.slice(),$uA(Q))for(let Y=0,J=Q.length;Y<J;Y++)Z.push(ZT1(Q[Y]));else if(fHA(Q)){let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J];Z[X]=ZT1(Q[X])}}}else if(fHA(A))if(fHA(Q)){if(!_f3(A,Q))return Q;Z=Object.assign({},A);let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J],W=Q[X];if(UuA(W))if(typeof W>"u")delete Z[X];else Z[X]=W;else{let K=Z[X],V=W;if(rPQ(A,X,G)||rPQ(Q,X,G))delete Z[X];else{if(fHA(K)&&fHA(V)){let E=G.get(K)||[],D=G.get(V)||[];E.push({obj:A,key:X}),D.push({obj:Q,key:X}),G.set(K,E),G.set(V,D)}Z[X]=sPQ(Z[X],W,B,G)}}}}else Z=Q;return Z}function rPQ(A,Q,B){let G=B.get(A[Q])||[];for(let Z=0,Y=G.length;Z<Y;Z++){let J=G[Z];if(J.key===Q&&J.obj===A)return!0}return!1}function $uA(A){return Array.isArray(A)}function tPQ(A){return typeof A==="function"}function fHA(A){return!UuA(A)&&!$uA(A)&&!tPQ(A)&&typeof A==="object"}function UuA(A){return typeof A==="string"||typeof A==="number"||typeof A==="boolean"||typeof A>"u"||A instanceof Date||A instanceof RegExp||A===null}function _f3(A,Q){if(!(0,oPQ.isPlainObject)(A)||!(0,oPQ.isPlainObject)(Q))return!1;return!0}});var ZSQ=w((BSQ)=>{Object.defineProperty(BSQ,"__esModule",{value:!0});BSQ.callWithTimeout=BSQ.TimeoutError=void 0;class wuA extends Error{constructor(A){super(A);Object.setPrototypeOf(this,wuA.prototype)}}BSQ.TimeoutError=wuA;function Tf3(A,Q){let B,G=new Promise(function(Y,J){B=setTimeout(function(){J(new wuA("Operation timed out."))},Q)});return Promise.race([A,G]).then((Z)=>{return clearTimeout(B),Z},(Z)=>{throw clearTimeout(B),Z})}BSQ.callWithTimeout=Tf3});var XSQ=w((JSQ)=>{Object.defineProperty(JSQ,"__esModule",{value:!0});JSQ.isUrlIgnored=JSQ.urlMatches=void 0;function YSQ(A,Q){if(typeof Q==="string")return A===Q;else return!!A.match(Q)}JSQ.urlMatches=YSQ;function Pf3(A,Q){if(!Q)return!1;for(let B of Q)if(YSQ(A,B))return!0;return!1}JSQ.isUrlIgnored=Pf3});var ESQ=w((KSQ)=>{Object.defineProperty(KSQ,"__esModule",{value:!0});KSQ.Deferred=void 0;class WSQ{_promise;_resolve;_reject;constructor(){this._promise=new Promise((A,Q)=>{this._resolve=A,this._reject=Q})}get promise(){return this._promise}resolve(A){this._resolve(A)}reject(A){this._reject(A)}}KSQ.Deferred=WSQ});var CSQ=w((HSQ)=>{Object.defineProperty(HSQ,"__esModule",{value:!0});HSQ.BindOnceFuture=void 0;var xf3=ESQ();class DSQ{_callback;_that;_isCalled=!1;_deferred=new xf3.Deferred;constructor(A,Q){this._callback=A,this._that=Q}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...A){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...A)).then((Q)=>this._deferred.resolve(Q),(Q)=>this._deferred.reject(Q))}catch(Q){this._deferred.reject(Q)}}return this._deferred.promise}}HSQ.BindOnceFuture=DSQ});var wSQ=w((USQ)=>{Object.defineProperty(USQ,"__esModule",{value:!0});USQ.diagLogLevelFromString=void 0;var nk=q9(),zSQ={ALL:nk.DiagLogLevel.ALL,VERBOSE:nk.DiagLogLevel.VERBOSE,DEBUG:nk.DiagLogLevel.DEBUG,INFO:nk.DiagLogLevel.INFO,WARN:nk.DiagLogLevel.WARN,ERROR:nk.DiagLogLevel.ERROR,NONE:nk.DiagLogLevel.NONE};function yf3(A){if(A==null)return;let Q=zSQ[A.toUpperCase()];if(Q==null)return nk.diag.warn(`Unknown log level "${A}", expected one of ${Object.keys(zSQ)}, using default`),nk.DiagLogLevel.INFO;return Q}USQ.diagLogLevelFromString=yf3});var MSQ=w((qSQ)=>{Object.defineProperty(qSQ,"__esModule",{value:!0});qSQ._export=void 0;var NSQ=q9(),vf3=yHA();function kf3(A,Q){return new Promise((B)=>{NSQ.context.with((0,vf3.suppressTracing)(NSQ.context.active()),()=>{A.export(Q,(G)=>{B(G)})})})}qSQ._export=kf3});var J8=w((W4)=>{Object.defineProperty(W4,"__esModule",{value:!0});W4.internal=W4.diagLogLevelFromString=W4.BindOnceFuture=W4.urlMatches=W4.isUrlIgnored=W4.callWithTimeout=W4.TimeoutError=W4.merge=W4.TraceState=W4.unsuppressTracing=W4.suppressTracing=W4.isTracingSuppressed=W4.setRPCMetadata=W4.getRPCMetadata=W4.deleteRPCMetadata=W4.RPCType=W4.parseTraceParent=W4.W3CTraceContextPropagator=W4.TRACE_STATE_HEADER=W4.TRACE_PARENT_HEADER=W4.CompositePropagator=W4.unrefTimer=W4.otperformance=W4.getStringListFromEnv=W4.getNumberFromEnv=W4.getBooleanFromEnv=W4.getStringFromEnv=W4._globalThis=W4.SDK_INFO=W4.parseKeyPairsIntoRecord=W4.ExportResultCode=W4.timeInputToHrTime=W4.millisToHrTime=W4.isTimeInputHrTime=W4.isTimeInput=W4.hrTimeToTimeStamp=W4.hrTimeToNanoseconds=W4.hrTimeToMilliseconds=W4.hrTimeToMicroseconds=W4.hrTimeDuration=W4.hrTime=W4.getTimeOrigin=W4.addHrTimes=W4.loggingErrorHandler=W4.setGlobalErrorHandler=W4.globalErrorHandler=W4.sanitizeAttributes=W4.isAttributeValue=W4.AnchoredClock=W4.W3CBaggagePropagator=void 0;var ff3=vNQ();Object.defineProperty(W4,"W3CBaggagePropagator",{enumerable:!0,get:function(){return ff3.W3CBaggagePropagator}});var bf3=hNQ();Object.defineProperty(W4,"AnchoredClock",{enumerable:!0,get:function(){return bf3.AnchoredClock}});var OSQ=lNQ();Object.defineProperty(W4,"isAttributeValue",{enumerable:!0,get:function(){return OSQ.isAttributeValue}});Object.defineProperty(W4,"sanitizeAttributes",{enumerable:!0,get:function(){return OSQ.sanitizeAttributes}});var RSQ=sNQ();Object.defineProperty(W4,"globalErrorHandler",{enumerable:!0,get:function(){return RSQ.globalErrorHandler}});Object.defineProperty(W4,"setGlobalErrorHandler",{enumerable:!0,get:function(){return RSQ.setGlobalErrorHandler}});var hf3=n_1();Object.defineProperty(W4,"loggingErrorHandler",{enumerable:!0,get:function(){return hf3.loggingErrorHandler}});var KL=CPQ();Object.defineProperty(W4,"addHrTimes",{enumerable:!0,get:function(){return KL.addHrTimes}});Object.defineProperty(W4,"getTimeOrigin",{enumerable:!0,get:function(){return KL.getTimeOrigin}});Object.defineProperty(W4,"hrTime",{enumerable:!0,get:function(){return KL.hrTime}});Object.defineProperty(W4,"hrTimeDuration",{enumerable:!0,get:function(){return KL.hrTimeDuration}});Object.defineProperty(W4,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return KL.hrTimeToMicroseconds}});Object.defineProperty(W4,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return KL.hrTimeToMilliseconds}});Object.defineProperty(W4,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return KL.hrTimeToNanoseconds}});Object.defineProperty(W4,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return KL.hrTimeToTimeStamp}});Object.defineProperty(W4,"isTimeInput",{enumerable:!0,get:function(){return KL.isTimeInput}});Object.defineProperty(W4,"isTimeInputHrTime",{enumerable:!0,get:function(){return KL.isTimeInputHrTime}});Object.defineProperty(W4,"millisToHrTime",{enumerable:!0,get:function(){return KL.millisToHrTime}});Object.defineProperty(W4,"timeInputToHrTime",{enumerable:!0,get:function(){return KL.timeInputToHrTime}});var gf3=UPQ();Object.defineProperty(W4,"ExportResultCode",{enumerable:!0,get:function(){return gf3.ExportResultCode}});var uf3=p_1();Object.defineProperty(W4,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return uf3.parseKeyPairsIntoRecord}});var Pd=o_1();Object.defineProperty(W4,"SDK_INFO",{enumerable:!0,get:function(){return Pd.SDK_INFO}});Object.defineProperty(W4,"_globalThis",{enumerable:!0,get:function(){return Pd._globalThis}});Object.defineProperty(W4,"getStringFromEnv",{enumerable:!0,get:function(){return Pd.getStringFromEnv}});Object.defineProperty(W4,"getBooleanFromEnv",{enumerable:!0,get:function(){return Pd.getBooleanFromEnv}});Object.defineProperty(W4,"getNumberFromEnv",{enumerable:!0,get:function(){return Pd.getNumberFromEnv}});Object.defineProperty(W4,"getStringListFromEnv",{enumerable:!0,get:function(){return Pd.getStringListFromEnv}});Object.defineProperty(W4,"otperformance",{enumerable:!0,get:function(){return Pd.otperformance}});Object.defineProperty(W4,"unrefTimer",{enumerable:!0,get:function(){return Pd.unrefTimer}});var mf3=LPQ();Object.defineProperty(W4,"CompositePropagator",{enumerable:!0,get:function(){return mf3.CompositePropagator}});var NuA=bPQ();Object.defineProperty(W4,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_PARENT_HEADER}});Object.defineProperty(W4,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_STATE_HEADER}});Object.defineProperty(W4,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return NuA.W3CTraceContextPropagator}});Object.defineProperty(W4,"parseTraceParent",{enumerable:!0,get:function(){return NuA.parseTraceParent}});var quA=mPQ();Object.defineProperty(W4,"RPCType",{enumerable:!0,get:function(){return quA.RPCType}});Object.defineProperty(W4,"deleteRPCMetadata",{enumerable:!0,get:function(){return quA.deleteRPCMetadata}});Object.defineProperty(W4,"getRPCMetadata",{enumerable:!0,get:function(){return quA.getRPCMetadata}});Object.defineProperty(W4,"setRPCMetadata",{enumerable:!0,get:function(){return quA.setRPCMetadata}});var YT1=yHA();Object.defineProperty(W4,"isTracingSuppressed",{enumerable:!0,get:function(){return YT1.isTracingSuppressed}});Object.defineProperty(W4,"suppressTracing",{enumerable:!0,get:function(){return YT1.suppressTracing}});Object.defineProperty(W4,"unsuppressTracing",{enumerable:!0,get:function(){return YT1.unsuppressTracing}});var df3=BT1();Object.defineProperty(W4,"TraceState",{enumerable:!0,get:function(){return df3.TraceState}});var cf3=QSQ();Object.defineProperty(W4,"merge",{enumerable:!0,get:function(){return cf3.merge}});var _SQ=ZSQ();Object.defineProperty(W4,"TimeoutError",{enumerable:!0,get:function(){return _SQ.TimeoutError}});Object.defineProperty(W4,"callWithTimeout",{enumerable:!0,get:function(){return _SQ.callWithTimeout}});var TSQ=XSQ();Object.defineProperty(W4,"isUrlIgnored",{enumerable:!0,get:function(){return TSQ.isUrlIgnored}});Object.defineProperty(W4,"urlMatches",{enumerable:!0,get:function(){return TSQ.urlMatches}});var pf3=CSQ();Object.defineProperty(W4,"BindOnceFuture",{enumerable:!0,get:function(){return pf3.BindOnceFuture}});var lf3=wSQ();Object.defineProperty(W4,"diagLogLevelFromString",{enumerable:!0,get:function(){return lf3.diagLogLevelFromString}});var if3=MSQ();W4.internal={_export:if3._export}});var xSQ=w((PSQ)=>{Object.defineProperty(PSQ,"__esModule",{value:!0});PSQ.defaultServiceName=void 0;function nf3(){return`unknown_service:${process.argv0}`}PSQ.defaultServiceName=nf3});var ySQ=w((JT1)=>{Object.defineProperty(JT1,"__esModule",{value:!0});JT1.defaultServiceName=void 0;var af3=xSQ();Object.defineProperty(JT1,"defaultServiceName",{enumerable:!0,get:function(){return af3.defaultServiceName}})});var XT1=w((IT1)=>{Object.defineProperty(IT1,"__esModule",{value:!0});IT1.defaultServiceName=void 0;var rf3=ySQ();Object.defineProperty(IT1,"defaultServiceName",{enumerable:!0,get:function(){return rf3.defaultServiceName}})});var fSQ=w((vSQ)=>{Object.defineProperty(vSQ,"__esModule",{value:!0});vSQ.identity=vSQ.isPromiseLike=void 0;var tf3=(A)=>{return A!==null&&typeof A==="object"&&typeof A.then==="function"};vSQ.isPromiseLike=tf3;function ef3(A){return A}vSQ.identity=ef3});var VT1=w((hSQ)=>{Object.defineProperty(hSQ,"__esModule",{value:!0});hSQ.defaultResource=hSQ.emptyResource=hSQ.resourceFromDetectedResource=hSQ.resourceFromAttributes=void 0;var hHA=q9(),WT1=J8(),or=nr(),Qb3=XT1(),bHA=fSQ();class gHA{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(A,Q){let B=new gHA({},Q);return B._rawAttributes=bSQ(A),B._asyncAttributesPending=A.filter(([G,Z])=>(0,bHA.isPromiseLike)(Z)).length>0,B}constructor(A,Q){let B=A.attributes??{};this._rawAttributes=Object.entries(B).map(([G,Z])=>{if((0,bHA.isPromiseLike)(Z))this._asyncAttributesPending=!0;return[G,Z]}),this._rawAttributes=bSQ(this._rawAttributes),this._schemaUrl=Yb3(Q?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let A=0;A<this._rawAttributes.length;A++){let[Q,B]=this._rawAttributes[A];this._rawAttributes[A]=[Q,(0,bHA.isPromiseLike)(B)?await B:B]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)hHA.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let A={};for(let[Q,B]of this._rawAttributes){if((0,bHA.isPromiseLike)(B)){hHA.diag.debug(`Unsettled resource attribute ${Q} skipped`);continue}if(B!=null)A[Q]??=B}if(!this._asyncAttributesPending)this._memoizedAttributes=A;return A}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(A){if(A==null)return this;let Q=Jb3(this,A),B=Q?{schemaUrl:Q}:void 0;return gHA.FromAttributeList([...A.getRawAttributes(),...this.getRawAttributes()],B)}}function KT1(A,Q){return gHA.FromAttributeList(Object.entries(A),Q)}hSQ.resourceFromAttributes=KT1;function Bb3(A,Q){return new gHA(A,Q)}hSQ.resourceFromDetectedResource=Bb3;function Gb3(){return KT1({})}hSQ.emptyResource=Gb3;function Zb3(){return KT1({[or.ATTR_SERVICE_NAME]:(0,Qb3.defaultServiceName)(),[or.ATTR_TELEMETRY_SDK_LANGUAGE]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_LANGUAGE],[or.ATTR_TELEMETRY_SDK_NAME]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_NAME],[or.ATTR_TELEMETRY_SDK_VERSION]:WT1.SDK_INFO[or.ATTR_TELEMETRY_SDK_VERSION]})}hSQ.defaultResource=Zb3;function bSQ(A){return A.map(([Q,B])=>{if((0,bHA.isPromiseLike)(B))return[Q,B.catch((G)=>{hHA.diag.debug("promise rejection for resource attribute: %s - %s",Q,G);return})];return[Q,B]})}function Yb3(A){if(typeof A==="string"||A===void 0)return A;hHA.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",A);return}function Jb3(A,Q){let B=A?.schemaUrl,G=Q?.schemaUrl,Z=B===void 0||B==="",Y=G===void 0||G==="";if(Z)return G;if(Y)return B;if(B===G)return B;hHA.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',B,G);return}});var cSQ=w((mSQ)=>{Object.defineProperty(mSQ,"__esModule",{value:!0});mSQ.detectResources=void 0;var uSQ=q9(),ET1=VT1(),Kb3=(A={})=>{return(A.detectors||[]).map((B)=>{try{let G=(0,ET1.resourceFromDetectedResource)(B.detect(A));return uSQ.diag.debug(`${B.constructor.name} found resource.`,G),G}catch(G){return uSQ.diag.debug(`${B.constructor.name} failed: ${G.message}`),(0,ET1.emptyResource)()}}).reduce((B,G)=>B.merge(G),(0,ET1.emptyResource)())};mSQ.detectResources=Kb3});var aSQ=w((iSQ)=>{Object.defineProperty(iSQ,"__esModule",{value:!0});iSQ.envDetector=void 0;var Vb3=q9(),Eb3=nr(),pSQ=J8();class lSQ{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(A){let Q={},B=(0,pSQ.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),G=(0,pSQ.getStringFromEnv)("OTEL_SERVICE_NAME");if(B)try{let Z=this._parseResourceAttributes(B);Object.assign(Q,Z)}catch(Z){Vb3.diag.debug(`EnvDetector failed: ${Z.message}`)}if(G)Q[Eb3.ATTR_SERVICE_NAME]=G;return{attributes:Q}}_parseResourceAttributes(A){if(!A)return{};let Q={},B=A.split(this._COMMA_SEPARATOR,-1);for(let G of B){let Z=G.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(Z.length!==2)continue;let[Y,J]=Z;if(Y=Y.trim(),J=J.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(Y))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(J))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);Q[Y]=decodeURIComponent(J)}return Q}_isValid(A){return A.length<=this._MAX_LENGTH&&this._isBaggageOctetString(A)}_isBaggageOctetString(A){for(let Q=0;Q<A.length;Q++){let B=A.charCodeAt(Q);if(B<33||B===44||B===59||B===92||B>126)return!1}return!0}_isValidAndNotEmpty(A){return A.length>0&&this._isValid(A)}}iSQ.envDetector=new lSQ});var uHA=w((oSQ)=>{Object.defineProperty(oSQ,"__esModule",{value:!0});oSQ.ATTR_WEBENGINE_VERSION=oSQ.ATTR_WEBENGINE_NAME=oSQ.ATTR_WEBENGINE_DESCRIPTION=oSQ.ATTR_SERVICE_NAMESPACE=oSQ.ATTR_SERVICE_INSTANCE_ID=oSQ.ATTR_PROCESS_RUNTIME_VERSION=oSQ.ATTR_PROCESS_RUNTIME_NAME=oSQ.ATTR_PROCESS_RUNTIME_DESCRIPTION=oSQ.ATTR_PROCESS_PID=oSQ.ATTR_PROCESS_OWNER=oSQ.ATTR_PROCESS_EXECUTABLE_PATH=oSQ.ATTR_PROCESS_EXECUTABLE_NAME=oSQ.ATTR_PROCESS_COMMAND_ARGS=oSQ.ATTR_PROCESS_COMMAND=oSQ.ATTR_OS_VERSION=oSQ.ATTR_OS_TYPE=oSQ.ATTR_K8S_POD_NAME=oSQ.ATTR_K8S_NAMESPACE_NAME=oSQ.ATTR_K8S_DEPLOYMENT_NAME=oSQ.ATTR_K8S_CLUSTER_NAME=oSQ.ATTR_HOST_TYPE=oSQ.ATTR_HOST_NAME=oSQ.ATTR_HOST_IMAGE_VERSION=oSQ.ATTR_HOST_IMAGE_NAME=oSQ.ATTR_HOST_IMAGE_ID=oSQ.ATTR_HOST_ID=oSQ.ATTR_HOST_ARCH=oSQ.ATTR_CONTAINER_NAME=oSQ.ATTR_CONTAINER_IMAGE_TAGS=oSQ.ATTR_CONTAINER_IMAGE_NAME=oSQ.ATTR_CONTAINER_ID=oSQ.ATTR_CLOUD_REGION=oSQ.ATTR_CLOUD_PROVIDER=oSQ.ATTR_CLOUD_AVAILABILITY_ZONE=oSQ.ATTR_CLOUD_ACCOUNT_ID=void 0;oSQ.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";oSQ.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";oSQ.ATTR_CLOUD_PROVIDER="cloud.provider";oSQ.ATTR_CLOUD_REGION="cloud.region";oSQ.ATTR_CONTAINER_ID="container.id";oSQ.ATTR_CONTAINER_IMAGE_NAME="container.image.name";oSQ.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";oSQ.ATTR_CONTAINER_NAME="container.name";oSQ.ATTR_HOST_ARCH="host.arch";oSQ.ATTR_HOST_ID="host.id";oSQ.ATTR_HOST_IMAGE_ID="host.image.id";oSQ.ATTR_HOST_IMAGE_NAME="host.image.name";oSQ.ATTR_HOST_IMAGE_VERSION="host.image.version";oSQ.ATTR_HOST_NAME="host.name";oSQ.ATTR_HOST_TYPE="host.type";oSQ.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";oSQ.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";oSQ.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";oSQ.ATTR_K8S_POD_NAME="k8s.pod.name";oSQ.ATTR_OS_TYPE="os.type";oSQ.ATTR_OS_VERSION="os.version";oSQ.ATTR_PROCESS_COMMAND="process.command";oSQ.ATTR_PROCESS_COMMAND_ARGS="process.command_args";oSQ.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";oSQ.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";oSQ.ATTR_PROCESS_OWNER="process.owner";oSQ.ATTR_PROCESS_PID="process.pid";oSQ.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";oSQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";oSQ.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";oSQ.ATTR_SERVICE_INSTANCE_ID="service.instance.id";oSQ.ATTR_SERVICE_NAMESPACE="service.namespace";oSQ.ATTR_WEBENGINE_DESCRIPTION="webengine.description";oSQ.ATTR_WEBENGINE_NAME="webengine.name";oSQ.ATTR_WEBENGINE_VERSION="webengine.version"});var LuA=w((sSQ)=>{Object.defineProperty(sSQ,"__esModule",{value:!0});sSQ.execAsync=void 0;var nb3=qA("child_process"),ab3=qA("util");sSQ.execAsync=ab3.promisify(nb3.exec)});var QxQ=w((eSQ)=>{Object.defineProperty(eSQ,"__esModule",{value:!0});eSQ.getMachineId=void 0;var ob3=LuA(),rb3=q9();async function sb3(){try{let Q=(await(0,ob3.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
192:`).find((G)=>G.includes("IOPlatformUUID"));if(!Q)return;let B=Q.split('" = "');if(B.length===2)return B[1].slice(0,-1)}catch(A){rb3.diag.debug(`error reading machine id: ${A}`)}return}eSQ.getMachineId=sb3});var ZxQ=w((BxQ)=>{Object.defineProperty(BxQ,"__esModule",{value:!0});BxQ.getMachineId=void 0;var tb3=qA("fs"),eb3=q9();async function Ah3(){let A=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let Q of A)try{return(await tb3.promises.readFile(Q,{encoding:"utf8"})).trim()}catch(B){eb3.diag.debug(`error reading machine id: ${B}`)}return}BxQ.getMachineId=Ah3});var XxQ=w((JxQ)=>{Object.defineProperty(JxQ,"__esModule",{value:!0});JxQ.getMachineId=void 0;var Qh3=qA("fs"),Bh3=LuA(),YxQ=q9();async function Gh3(){try{return(await Qh3.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(A){YxQ.diag.debug(`error reading machine id: ${A}`)}try{return(await(0,Bh3.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(A){YxQ.diag.debug(`error reading machine id: ${A}`)}return}JxQ.getMachineId=Gh3});var ExQ=w((KxQ)=>{Object.defineProperty(KxQ,"__esModule",{value:!0});KxQ.getMachineId=void 0;var WxQ=qA("process"),Zh3=LuA(),Yh3=q9();async function Jh3(){let Q="%windir%\\System32\\REG.exe";if(WxQ.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in WxQ.env)Q="%windir%\\sysnative\\cmd.exe /c "+Q;try{let G=(await(0,Zh3.execAsync)(`${Q} QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`)).stdout.split("REG_SZ");if(G.length===2)return G[1].trim()}catch(B){Yh3.diag.debug(`error reading machine id: ${B}`)}return}KxQ.getMachineId=Jh3});var FxQ=w((DxQ)=>{Object.defineProperty(DxQ,"__esModule",{value:!0});DxQ.getMachineId=void 0;var Ih3=q9();async function Xh3(){Ih3.diag.debug("could not read machine-id: unsupported platform");return}DxQ.getMachineId=Xh3});var UxQ=w((CxQ)=>{Object.defineProperty(CxQ,"__esModule",{value:!0});CxQ.getMachineId=void 0;var Wh3=qA("process"),rr;async function Kh3(){if(!rr)switch(Wh3.platform){case"darwin":rr=(await Promise.resolve().then(() => o(QxQ()))).getMachineId;break;case"linux":rr=(await Promise.resolve().then(() => o(ZxQ()))).getMachineId;break;case"freebsd":rr=(await Promise.resolve().then(() => o(XxQ()))).getMachineId;break;case"win32":rr=(await Promise.resolve().then(() => o(ExQ()))).getMachineId;break;default:rr=(await Promise.resolve().then(() => o(FxQ()))).getMachineId;break}return rr()}CxQ.getMachineId=Kh3});var DT1=w(($xQ)=>{Object.defineProperty($xQ,"__esModule",{value:!0});$xQ.normalizeType=$xQ.normalizeArch=void 0;var Vh3=(A)=>{switch(A){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return A}};$xQ.normalizeArch=Vh3;var Eh3=(A)=>{switch(A){case"sunos":return"solaris";case"win32":return"windows";default:return A}};$xQ.normalizeType=Eh3});var OxQ=w((LxQ)=>{Object.defineProperty(LxQ,"__esModule",{value:!0});LxQ.hostDetector=void 0;var HT1=uHA(),NxQ=qA("os"),Hh3=UxQ(),Fh3=DT1();class qxQ{detect(A){return{attributes:{[HT1.ATTR_HOST_NAME]:(0,NxQ.hostname)(),[HT1.ATTR_HOST_ARCH]:(0,Fh3.normalizeArch)((0,NxQ.arch)()),[HT1.ATTR_HOST_ID]:(0,Hh3.getMachineId)()}}}}LxQ.hostDetector=new qxQ});var SxQ=w((jxQ)=>{Object.defineProperty(jxQ,"__esModule",{value:!0});jxQ.osDetector=void 0;var RxQ=uHA(),_xQ=qA("os"),Ch3=DT1();class TxQ{detect(A){return{attributes:{[RxQ.ATTR_OS_TYPE]:(0,Ch3.normalizeType)((0,_xQ.platform)()),[RxQ.ATTR_OS_VERSION]:(0,_xQ.release)()}}}}jxQ.osDetector=new TxQ});var kxQ=w((yxQ)=>{Object.defineProperty(yxQ,"__esModule",{value:!0});yxQ.processDetector=void 0;var zh3=q9(),ak=uHA(),Uh3=qA("os");class xxQ{detect(A){let Q={[ak.ATTR_PROCESS_PID]:process.pid,[ak.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[ak.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[ak.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[ak.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[ak.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[ak.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)Q[ak.ATTR_PROCESS_COMMAND]=process.argv[1];try{let B=Uh3.userInfo();Q[ak.ATTR_PROCESS_OWNER]=B.username}catch(B){zh3.diag.debug(`error obtaining process owner: ${B}`)}return{attributes:Q}}}yxQ.processDetector=new xxQ});var gxQ=w((bxQ)=>{Object.defineProperty(bxQ,"__esModule",{value:!0});bxQ.serviceInstanceIdDetector=void 0;var $h3=uHA(),wh3=qA("crypto");class fxQ{detect(A){return{attributes:{[$h3.ATTR_SERVICE_INSTANCE_ID]:(0,wh3.randomUUID)()}}}}bxQ.serviceInstanceIdDetector=new fxQ});var uxQ=w((l3A)=>{Object.defineProperty(l3A,"__esModule",{value:!0});l3A.serviceInstanceIdDetector=l3A.processDetector=l3A.osDetector=l3A.hostDetector=void 0;var Nh3=OxQ();Object.defineProperty(l3A,"hostDetector",{enumerable:!0,get:function(){return Nh3.hostDetector}});var qh3=SxQ();Object.defineProperty(l3A,"osDetector",{enumerable:!0,get:function(){return qh3.osDetector}});var Lh3=kxQ();Object.defineProperty(l3A,"processDetector",{enumerable:!0,get:function(){return Lh3.processDetector}});var Mh3=gxQ();Object.defineProperty(l3A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return Mh3.serviceInstanceIdDetector}})});var mxQ=w((i3A)=>{Object.defineProperty(i3A,"__esModule",{value:!0});i3A.serviceInstanceIdDetector=i3A.processDetector=i3A.osDetector=i3A.hostDetector=void 0;var MuA=uxQ();Object.defineProperty(i3A,"hostDetector",{enumerable:!0,get:function(){return MuA.hostDetector}});Object.defineProperty(i3A,"osDetector",{enumerable:!0,get:function(){return MuA.osDetector}});Object.defineProperty(i3A,"processDetector",{enumerable:!0,get:function(){return MuA.processDetector}});Object.defineProperty(i3A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return MuA.serviceInstanceIdDetector}})});var pxQ=w((dxQ)=>{Object.defineProperty(dxQ,"__esModule",{value:!0});dxQ.noopDetector=dxQ.NoopDetector=void 0;class FT1{detect(){return{attributes:{}}}}dxQ.NoopDetector=FT1;dxQ.noopDetector=new FT1});var lxQ=w((Sd)=>{Object.defineProperty(Sd,"__esModule",{value:!0});Sd.noopDetector=Sd.serviceInstanceIdDetector=Sd.processDetector=Sd.osDetector=Sd.hostDetector=Sd.envDetector=void 0;var Th3=aSQ();Object.defineProperty(Sd,"envDetector",{enumerable:!0,get:function(){return Th3.envDetector}});var OuA=mxQ();Object.defineProperty(Sd,"hostDetector",{enumerable:!0,get:function(){return OuA.hostDetector}});Object.defineProperty(Sd,"osDetector",{enumerable:!0,get:function(){return OuA.osDetector}});Object.defineProperty(Sd,"processDetector",{enumerable:!0,get:function(){return OuA.processDetector}});Object.defineProperty(Sd,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return OuA.serviceInstanceIdDetector}});var jh3=pxQ();Object.defineProperty(Sd,"noopDetector",{enumerable:!0,get:function(){return jh3.noopDetector}})});var n3A=w((VL)=>{Object.defineProperty(VL,"__esModule",{value:!0});VL.defaultServiceName=VL.emptyResource=VL.defaultResource=VL.resourceFromAttributes=VL.serviceInstanceIdDetector=VL.processDetector=VL.osDetector=VL.hostDetector=VL.envDetector=VL.detectResources=void 0;var Sh3=cSQ();Object.defineProperty(VL,"detectResources",{enumerable:!0,get:function(){return Sh3.detectResources}});var mHA=lxQ();Object.defineProperty(VL,"envDetector",{enumerable:!0,get:function(){return mHA.envDetector}});Object.defineProperty(VL,"hostDetector",{enumerable:!0,get:function(){return mHA.hostDetector}});Object.defineProperty(VL,"osDetector",{enumerable:!0,get:function(){return mHA.osDetector}});Object.defineProperty(VL,"processDetector",{enumerable:!0,get:function(){return mHA.processDetector}});Object.defineProperty(VL,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return mHA.serviceInstanceIdDetector}});var CT1=VT1();Object.defineProperty(VL,"resourceFromAttributes",{enumerable:!0,get:function(){return CT1.resourceFromAttributes}});Object.defineProperty(VL,"defaultResource",{enumerable:!0,get:function(){return CT1.defaultResource}});Object.defineProperty(VL,"emptyResource",{enumerable:!0,get:function(){return CT1.emptyResource}});var xh3=XT1();Object.defineProperty(VL,"defaultServiceName",{enumerable:!0,get:function(){return xh3.defaultServiceName}})});var oxQ=w((nxQ)=>{Object.defineProperty(nxQ,"__esModule",{value:!0});nxQ.LogRecordImpl=void 0;var sr=q9(),RuA=J8();class ixQ{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(A){if(this._isLogRecordReadonly())return;this._severityText=A}get severityText(){return this._severityText}set severityNumber(A){if(this._isLogRecordReadonly())return;this._severityNumber=A}get severityNumber(){return this._severityNumber}set body(A){if(this._isLogRecordReadonly())return;this._body=A}get body(){return this._body}get eventName(){return this._eventName}set eventName(A){if(this._isLogRecordReadonly())return;this._eventName=A}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(A,Q,B){let{timestamp:G,observedTimestamp:Z,eventName:Y,severityNumber:J,severityText:I,body:X,attributes:W={},context:K}=B,V=Date.now();if(this.hrTime=(0,RuA.timeInputToHrTime)(G??V),this.hrTimeObserved=(0,RuA.timeInputToHrTime)(Z??V),K){let E=sr.trace.getSpanContext(K);if(E&&sr.isSpanContextValid(E))this.spanContext=E}this.severityNumber=J,this.severityText=I,this.body=X,this.resource=A.resource,this.instrumentationScope=Q,this._logRecordLimits=A.logRecordLimits,this._eventName=Y,this.setAttributes(W)}setAttribute(A,Q){if(this._isLogRecordReadonly())return this;if(Q===null)return this;if(A.length===0)return sr.diag.warn(`Invalid attribute key: ${A}`),this;if(!(0,RuA.isAttributeValue)(Q)&&!(typeof Q==="object"&&!Array.isArray(Q)&&Object.keys(Q).length>0))return sr.diag.warn(`Invalid attribute value set for key: ${A}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,A)){if(this.droppedAttributesCount===1)sr.diag.warn("Dropping extra attributes.");return this}if((0,RuA.isAttributeValue)(Q))this.attributes[A]=this._truncateToSize(Q);else this.attributes[A]=Q;return this}setAttributes(A){for(let[Q,B]of Object.entries(A))this.setAttribute(Q,B);return this}setBody(A){return this.body=A,this}setEventName(A){return this.eventName=A,this}setSeverityNumber(A){return this.severityNumber=A,this}setSeverityText(A){return this.severityText=A,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(A){let Q=this._logRecordLimits.attributeValueLengthLimit;if(Q<=0)return sr.diag.warn(`Attribute value limit must be positive, got ${Q}`),A;if(typeof A==="string")return this._truncateToLimitUtil(A,Q);if(Array.isArray(A))return A.map((B)=>typeof B==="string"?this._truncateToLimitUtil(B,Q):B);return A}_truncateToLimitUtil(A,Q){if(A.length<=Q)return A;return A.substring(0,Q)}_isLogRecordReadonly(){if(this._isReadonly)sr.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}nxQ.LogRecordImpl=ixQ});var exQ=w((sxQ)=>{Object.defineProperty(sxQ,"__esModule",{value:!0});sxQ.Logger=void 0;var vh3=q9(),kh3=oxQ();class rxQ{instrumentationScope;_sharedState;constructor(A,Q){this.instrumentationScope=A,this._sharedState=Q}emit(A){let Q=A.context||vh3.context.active(),B=new kh3.LogRecordImpl(this._sharedState,this.instrumentationScope,{context:Q,...A});this._sharedState.activeProcessor.onEmit(B,Q),B._makeReadonly()}}sxQ.Logger=rxQ});var ByQ=w((AyQ)=>{Object.defineProperty(AyQ,"__esModule",{value:!0});AyQ.reconfigureLimits=AyQ.loadDefaultConfig=void 0;var a3A=J8();function fh3(){return{forceFlushTimeoutMillis:30000,logRecordLimits:{attributeValueLengthLimit:(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}AyQ.loadDefaultConfig=fh3;function bh3(A){return{attributeCountLimit:A.attributeCountLimit??(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,a3A.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:A.attributeValueLengthLimit??(0,a3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,a3A.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}AyQ.reconfigureLimits=bh3});var zT1=w((ZyQ)=>{Object.defineProperty(ZyQ,"__esModule",{value:!0});ZyQ.NoopLogRecordProcessor=void 0;class GyQ{forceFlush(){return Promise.resolve()}onEmit(A,Q){}shutdown(){return Promise.resolve()}}ZyQ.NoopLogRecordProcessor=GyQ});var WyQ=w((IyQ)=>{Object.defineProperty(IyQ,"__esModule",{value:!0});IyQ.MultiLogRecordProcessor=void 0;var gh3=J8();class JyQ{processors;forceFlushTimeoutMillis;constructor(A,Q){this.processors=A,this.forceFlushTimeoutMillis=Q}async forceFlush(){let A=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((Q)=>(0,gh3.callWithTimeout)(Q.forceFlush(),A)))}onEmit(A,Q){this.processors.forEach((B)=>B.onEmit(A,Q))}async shutdown(){await Promise.all(this.processors.map((A)=>A.shutdown()))}}IyQ.MultiLogRecordProcessor=JyQ});var DyQ=w((VyQ)=>{Object.defineProperty(VyQ,"__esModule",{value:!0});VyQ.LoggerProviderSharedState=void 0;var uh3=zT1(),mh3=WyQ();class KyQ{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(A,Q,B,G){if(this.resource=A,this.forceFlushTimeoutMillis=Q,this.logRecordLimits=B,this.processors=G,G.length>0)this.registeredLogRecordProcessors=G,this.activeProcessor=new mh3.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new uh3.NoopLogRecordProcessor}}VyQ.LoggerProviderSharedState=KyQ});var wyQ=w((zyQ)=>{Object.defineProperty(zyQ,"__esModule",{value:!0});zyQ.LoggerProvider=zyQ.DEFAULT_LOGGER_NAME=void 0;var _uA=q9(),dh3=m_1(),ch3=n3A(),HyQ=J8(),ph3=exQ(),FyQ=ByQ(),lh3=DyQ();zyQ.DEFAULT_LOGGER_NAME="unknown";class CyQ{_shutdownOnce;_sharedState;constructor(A={}){let Q=(0,HyQ.merge)({},(0,FyQ.loadDefaultConfig)(),A),B=A.resource??(0,ch3.defaultResource)();this._sharedState=new lh3.LoggerProviderSharedState(B,Q.forceFlushTimeoutMillis,(0,FyQ.reconfigureLimits)(Q.logRecordLimits),A?.processors??[]),this._shutdownOnce=new HyQ.BindOnceFuture(this._shutdown,this)}getLogger(A,Q,B){if(this._shutdownOnce.isCalled)return _uA.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),dh3.NOOP_LOGGER;if(!A)_uA.diag.warn("Logger requested without instrumentation scope name.");let G=A||zyQ.DEFAULT_LOGGER_NAME,Z=`${G}@${Q||""}:${B?.schemaUrl||""}`;if(!this._sharedState.loggers.has(Z))this._sharedState.loggers.set(Z,new ph3.Logger({name:G,version:Q,schemaUrl:B?.schemaUrl},this._sharedState));return this._sharedState.loggers.get(Z)}forceFlush(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}zyQ.LoggerProvider=CyQ});var OyQ=w((LyQ)=>{Object.defineProperty(LyQ,"__esModule",{value:!0});LyQ.ConsoleLogRecordExporter=void 0;var NyQ=J8();class qyQ{export(A,Q){this._sendLogRecords(A,Q)}shutdown(){return Promise.resolve()}_exportInfo(A){return{resource:{attributes:A.resource.attributes},instrumentationScope:A.instrumentationScope,timestamp:(0,NyQ.hrTimeToMicroseconds)(A.hrTime),traceId:A.spanContext?.traceId,spanId:A.spanContext?.spanId,traceFlags:A.spanContext?.traceFlags,severityText:A.severityText,severityNumber:A.severityNumber,body:A.body,attributes:A.attributes}}_sendLogRecords(A,Q){for(let B of A)console.dir(this._exportInfo(B),{depth:3});Q?.({code:NyQ.ExportResultCode.SUCCESS})}}LyQ.ConsoleLogRecordExporter=qyQ});var jyQ=w((_yQ)=>{Object.defineProperty(_yQ,"__esModule",{value:!0});_yQ.SimpleLogRecordProcessor=void 0;var o3A=J8();class RyQ{_exporter;_shutdownOnce;_unresolvedExports;constructor(A){this._exporter=A,this._shutdownOnce=new o3A.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(A){if(this._shutdownOnce.isCalled)return;let Q=()=>o3A.internal._export(this._exporter,[A]).then((B)=>{if(B.code!==o3A.ExportResultCode.SUCCESS)(0,o3A.globalErrorHandler)(B.error??Error(`SimpleLogRecordProcessor: log record export failed (status ${B})`))}).catch(o3A.globalErrorHandler);if(A.resource.asyncAttributesPending){let B=A.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(B),Q()},o3A.globalErrorHandler);if(B!=null)this._unresolvedExports.add(B)}else Q()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}_yQ.SimpleLogRecordProcessor=RyQ});var vyQ=w((xyQ)=>{Object.defineProperty(xyQ,"__esModule",{value:!0});xyQ.InMemoryLogRecordExporter=void 0;var PyQ=J8();class SyQ{_finishedLogRecords=[];_stopped=!1;export(A,Q){if(this._stopped)return Q({code:PyQ.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...A),Q({code:PyQ.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}xyQ.InMemoryLogRecordExporter=SyQ});var hyQ=w((fyQ)=>{Object.defineProperty(fyQ,"__esModule",{value:!0});fyQ.BatchLogRecordProcessorBase=void 0;var ih3=q9(),Kw=J8();class kyQ{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(A,Q){if(this._exporter=A,this._maxExportBatchSize=Q?.maxExportBatchSize??(0,Kw.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=Q?.maxQueueSize??(0,Kw.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=Q?.scheduledDelayMillis??(0,Kw.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=Q?.exportTimeoutMillis??(0,Kw.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new Kw.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)ih3.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(A){if(this._shutdownOnce.isCalled)return;this._addToBuffer(A)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(A){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(A),this._maybeStartTimer()}_flushAll(){return new Promise((A,Q)=>{let B=[],G=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let Z=0;Z<G;Z++)B.push(this._flushOneBatch());Promise.all(B).then(()=>{A()}).catch(Q)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise((A,Q)=>{(0,Kw.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>A()).catch(Q)})}_maybeStartTimer(){if(this._timer!==void 0)return;this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{if(this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((A)=>{(0,Kw.globalErrorHandler)(A)})},this._scheduledDelayMillis),(0,Kw.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(A){let Q=()=>Kw.internal._export(this._exporter,A).then((G)=>{if(G.code!==Kw.ExportResultCode.SUCCESS)(0,Kw.globalErrorHandler)(G.error??Error(`BatchLogRecordProcessor: log record export failed (status ${G})`))}).catch(Kw.globalErrorHandler),B=A.map((G)=>G.resource).filter((G)=>G.asyncAttributesPending);if(B.length===0)return Q();else return Promise.all(B.map((G)=>G.waitForAsyncAttributes?.())).then(Q,Kw.globalErrorHandler)}}fyQ.BatchLogRecordProcessorBase=kyQ});var dyQ=w((uyQ)=>{Object.defineProperty(uyQ,"__esModule",{value:!0});uyQ.BatchLogRecordProcessor=void 0;var nh3=hyQ();class gyQ extends nh3.BatchLogRecordProcessorBase{onShutdown(){}}uyQ.BatchLogRecordProcessor=gyQ});var cyQ=w((UT1)=>{Object.defineProperty(UT1,"__esModule",{value:!0});UT1.BatchLogRecordProcessor=void 0;var ah3=dyQ();Object.defineProperty(UT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return ah3.BatchLogRecordProcessor}})});var pyQ=w(($T1)=>{Object.defineProperty($T1,"__esModule",{value:!0});$T1.BatchLogRecordProcessor=void 0;var rh3=cyQ();Object.defineProperty($T1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return rh3.BatchLogRecordProcessor}})});var wT1=w((xd)=>{Object.defineProperty(xd,"__esModule",{value:!0});xd.BatchLogRecordProcessor=xd.InMemoryLogRecordExporter=xd.SimpleLogRecordProcessor=xd.ConsoleLogRecordExporter=xd.NoopLogRecordProcessor=xd.LoggerProvider=void 0;var th3=wyQ();Object.defineProperty(xd,"LoggerProvider",{enumerable:!0,get:function(){return th3.LoggerProvider}});var eh3=zT1();Object.defineProperty(xd,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return eh3.NoopLogRecordProcessor}});var Ag3=OyQ();Object.defineProperty(xd,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return Ag3.ConsoleLogRecordExporter}});var Qg3=jyQ();Object.defineProperty(xd,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return Qg3.SimpleLogRecordProcessor}});var Bg3=vyQ();Object.defineProperty(xd,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return Bg3.InMemoryLogRecordExporter}});var Gg3=pyQ();Object.defineProperty(xd,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Gg3.BatchLogRecordProcessor}})});function yd(){let A=process.env.CLAUDE_AGENT_SDK_VERSION?`, agent-sdk/${process.env.CLAUDE_AGENT_SDK_VERSION}`:"";return`claude-cli/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION} (external, ${process.env.CLAUDE_CODE_ENTRYPOINT}${A})`}function tr(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}`}function gI(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION}`}function AY(){if(LB()){let Q=r3();if(!Q?.accessToken)return{headers:{},error:"No OAuth token available"};return{headers:{Authorization:`Bearer ${Q.accessToken}`,"anthropic-beta":Fm}}}let A=m$();if(!A)return{headers:{},error:"No API key available"};return{headers:{"x-api-key":A}}}var rD=q(()=>{V2();nJ()});function TuA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").ParentProcessId"`:`ps -o ppid= -p ${Q}`,G=pG(B,{timeout:1000});return G?G.trim():null}catch{return null}}function juA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").CommandLine"`:`ps -o command= -p ${Q}`,G=pG(B,{timeout:1000});return G?G.trim():null}catch{return null}}var PuA=q(()=>{Q3()});function Kg3(){if(process.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"){if(QQ.platform!=="darwin")return Wg3()||"pycharm"}return QQ.terminal}var Yg3,Jg3=()=>{return process.platform==="linux"&&process.env.CLAUDE_CODE_BUBBLEWRAP==="1"},Ig3,Xg3,Wg3,bz;var er=q(()=>{Q3();PuA();p2();YQ();Q0();R8();Yg3=Z0(async()=>{let{code:A}=await EQ("test",["-f","/.dockerenv"]);if(A!==0)return!1;return process.platform==="linux"}),Ig3=Z0(()=>{if(process.platform!=="linux")return!1;let A=jA();try{if(A.existsSync("/lib/libc.musl-x86_64.so.1")||A.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let Q=pG("ldd /bin/ls 2>/dev/null");return Q!==null&&Q.includes("musl")}catch{return f("musl detection failed, assuming glibc"),!1}}),Xg3=["pycharm","intellij","webstorm","phpstorm","rubymine","clion","goland","rider","datagrip","appcode","dataspell","aqua","gateway","fleet","jetbrains","androidstudio"],Wg3=Z0(()=>{if(process.platform==="darwin")return null;try{let Q=process.pid.toString();for(let B=0;B<10;B++){let G=juA(Q);if(G){let Y=G.toLowerCase();for(let J of Xg3)if(Y.includes(J))return J}let Z=TuA(Q);if(!Z||Z==="0"||Z===Q)break;Q=Z}}catch{}return null});bz={...QQ,terminal:Kg3(),getIsDocker:Yg3,getIsBubblewrapSandbox:Jg3,isMuslEnvironment:Ig3}});function I5(A,Q,B=!1){let G=A;if(B){let Z=A.indexOf(`
200:`);qT1()};return process.on("exit",A),()=>{process.off("exit",A)}},[])}function Eg3(A,Q){return Math.round(A*Q)/Q}function xuA(A,Q,B){bW0(A,Q,B),aW0()?.add(A,{model:B}),NWA()?.add(Q.input_tokens,{type:"input",model:B}),NWA()?.add(Q.output_tokens,{type:"output",model:B}),NWA()?.add(Q.cache_read_input_tokens??0,{type:"cacheRead",model:B}),NWA()?.add(Q.cache_creation_input_tokens??0,{type:"cacheCreation",model:B})}var iyQ;var EL=q(()=>{o2();d2();vQ();u0();u0();u0();iyQ=o(KA(),1)});function Dg3(A,Q){return Q.input_tokens/1e6*A.inputTokens+Q.output_tokens/1e6*A.outputTokens+(Q.cache_read_input_tokens??0)/1e6*A.promptCacheReadTokens+(Q.cache_creation_input_tokens??0)/1e6*A.promptCacheWriteTokens+(Q.server_tool_use?.web_search_requests??0)*A.webSearchRequests}function Hg3(A){return A.input_tokens+(A.cache_read_input_tokens??0)+(A.cache_creation_input_tokens??0)}function Fg3(A,Q){let B=Vw(A),G=ayQ[B];if(G===Qs&&Hg3(Q)>200000)return MT1;if(!G)return s("tengu_unknown_model_cost",{model:A,shortName:B}),NG1(),ayQ[Vw(ryQ)];return G}function fuA(A,Q){let B=Fg3(A,Q);return Dg3(B,Q)}function oyQ(A){if(Number.isInteger(A))return`$${A}`;return`$${A.toFixed(2)}`}function vd(A){return`${oyQ(A.inputTokens)}/${oyQ(A.outputTokens)} per Mtok`}var Qs,vuA,kuA,MT1,OT1,RT1,ayQ;var buA=q(()=>{EL();_0();b3A();d2();Qs={inputTokens:3,outputTokens:15,promptCacheWriteTokens:3.75,promptCacheReadTokens:0.3,webSearchRequests:0.01},vuA={inputTokens:15,outputTokens:75,promptCacheWriteTokens:18.75,promptCacheReadTokens:1.5,webSearchRequests:0.01},kuA={inputTokens:5,outputTokens:25,promptCacheWriteTokens:6.25,promptCacheReadTokens:0.5,webSearchRequests:0.01},MT1={inputTokens:6,outputTokens:22.5,promptCacheWriteTokens:7.5,promptCacheReadTokens:0.6,webSearchRequests:0.01},OT1={inputTokens:0.8,outputTokens:4,promptCacheWriteTokens:1,promptCacheReadTokens:0.08,webSearchRequests:0.01},RT1={inputTokens:1,outputTokens:5,promptCacheWriteTokens:1.25,promptCacheReadTokens:0.1,webSearchRequests:0.01},ayQ={[Vw(IHA.firstParty)]:OT1,[Vw(XHA.firstParty)]:RT1,[Vw(JHA.firstParty)]:Qs,[Vw(YHA.firstParty)]:Qs,[Vw(yr.firstParty)]:Qs,[Vw(WHA.firstParty)]:vuA,[Vw(KHA.firstParty)]:vuA,[Vw(vr.firstParty)]:kuA,...{}}});async function zg3(){let A=j8()?.organizationUuid;if(!A)throw Error("No organization ID available");let Q=AY();if(Q.error)throw Error(`Auth error: ${Q.error}`);let B={"Content-Type":"application/json","User-Agent":gI(),...Q.headers};try{let G=`https://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await FQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return r(G),{hasAccess:!1,hasError:!0}}}async function $g3(){try{return await Ug3()}catch(A){return f("Sonnet-1M access check failed, defaulting to no access"),{hasAccess:!1,hasError:!0}}}function kd(){let A=j8()?.organizationUuid;if(!A)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!1};let Q=c1(),B=(LB()?Q.s1mAccessCache:Q.s1mNonSubscriberAccessCache)?.[A],G=Date.now();if(!B)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!0};let{hasAccess:Z,hasAccessNotAsDefault:Y,timestamp:J}=B,I=G-J>wg3;return{hasAccess:Z||(Y??!1),wasPartOfDefaultRollout:Z,needsRefresh:I}}async function syQ(){let{needsRefresh:A}=kd();if(A)Ng3()}async function Ng3(){let A=j8()?.organizationUuid;if(!A)return;if(!LB()){let Q=await myA();if(!Q)return;let{uuid:B,rate_limit_tier:G}=Q.organization,Z={hasAccess:G==="auto_prepaid_tier_3"||G==="manual_tier_3",timestamp:Date.now()};i0((Y)=>({...Y,s1mNonSubscriberAccessCache:{...Y.s1mNonSubscriberAccessCache,[B]:Z}}));return}try{let{hasAccess:Q,hasAccessNotAsDefault:B}=await $g3(),G={hasAccess:Q,hasAccessNotAsDefault:B,timestamp:Date.now()};i0((Z)=>({...Z,s1mAccessCache:{...Z.s1mAccessCache,[A]:G}}))}catch(Q){f("Failed to fetch and cache Sonnet-1M access"),r(Q)}}var Cg3=3600000,Ug3,wg3=3600000;var huA=q(()=>{m8();byA();rD();Q0();g1();vQ();V2();rKA();Ug3=fyA(zg3,Cg3)});function qg3(){}var ok;var _T1=q(()=>{ok=qg3});function Lg3(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}var tyQ;var eyQ=q(()=>{tyQ=Lg3});function Mg3(A){return A!==A}var AvQ;var QvQ=q(()=>{AvQ=Mg3});function Og3(A,Q,B){var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}var BvQ;var GvQ=q(()=>{BvQ=Og3});function Rg3(A,Q,B){return Q===Q?BvQ(A,Q,B):tyQ(A,AvQ,B)}var ZvQ;var YvQ=q(()=>{eyQ();QvQ();GvQ();ZvQ=Rg3});function _g3(A,Q){var B=A==null?0:A.length;return!!B&&ZvQ(A,Q,0)>-1}var JvQ;var IvQ=q(()=>{YvQ();JvQ=_g3});function Tg3(A){return C7(A)||hv(A)||!!(XvQ&&A&&A[XvQ])}var XvQ,WvQ;var KvQ=q(()=>{Sa();EWA();HF();XvQ=fK?fK.isConcatSpreadable:void 0;WvQ=Tg3});function VvQ(A,Q,B,G,Z){var Y=-1,J=A.length;B||(B=WvQ),Z||(Z=[]);while(++Y<J){var I=A[Y];if(Q>0&&B(I))if(Q>1)VvQ(I,Q-1,B,G,Z);else KBA(Z,I);else if(!G)Z[Z.length]=I}return Z}var EvQ;var DvQ=q(()=>{gjA();KvQ();EvQ=VvQ});function jg3(A){var Q=A==null?0:A.length;return Q?EvQ(A,1):[]}var HvQ;var FvQ=q(()=>{DvQ();HvQ=jg3});function Pg3(A){return mPA(uPA(A,void 0,HvQ),A+"")}var CvQ;var zvQ=q(()=>{FvQ();lG1();iG1();CvQ=Pg3});function Sg3(A,Q,B){var G=-1,Z=A.length;if(Q<0)Q=-Q>Z?0:Z+Q;if(B=B>Z?Z:B,B<0)B+=Z;Z=Q>B?0:B-Q>>>0,Q>>>=0;var Y=Array(Z);while(++G<Z)Y[G]=A[G+Q];return Y}var guA;var TT1=q(()=>{guA=Sg3});function xg3(A,Q,B){var G=A.length;return B=B===void 0?G:B,!Q&&B>=G?A:guA(A,Q,B)}var UvQ;var $vQ=q(()=>{TT1();UvQ=xg3});function mg3(A){return ug3.test(A)}var yg3="\\ud800-\\udfff",vg3="\\u0300-\\u036f",kg3="\\ufe20-\\ufe2f",fg3="\\u20d0-\\u20ff",bg3,hg3="\\ufe0e\\ufe0f",gg3="\\u200d",ug3,uuA;var jT1=q(()=>{bg3=vg3+kg3+fg3,ug3=RegExp("["+gg3+yg3+bg3+hg3+"]");uuA=mg3});function dg3(A){return A.split("")}var wvQ;var NvQ=q(()=>{wvQ=dg3});function Qu3(A){return A.match(Au3)||[]}var qvQ="\\ud800-\\udfff",cg3="\\u0300-\\u036f",pg3="\\ufe20-\\ufe2f",lg3="\\u20d0-\\u20ff",ig3,ng3="\\ufe0e\\ufe0f",ag3,PT1,ST1="\\ud83c[\\udffb-\\udfff]",og3,LvQ,MvQ="(?:\\ud83c[\\udde6-\\uddff]){2}",OvQ="[\\ud800-\\udbff][\\udc00-\\udfff]",rg3="\\u200d",RvQ,_vQ,sg3,tg3,eg3,Au3,TvQ;var jvQ=q(()=>{ig3=cg3+pg3+lg3,ag3="["+qvQ+"]",PT1="["+ig3+"]",og3="(?:"+PT1+"|"+ST1+")",LvQ="[^"+qvQ+"]",RvQ=og3+"?",_vQ="["+ng3+"]?",sg3="(?:"+rg3+"(?:"+[LvQ,MvQ,OvQ].join("|")+")"+_vQ+RvQ+")*",tg3=_vQ+RvQ+sg3,eg3="(?:"+[LvQ+PT1+"?",PT1,MvQ,OvQ,ag3].join("|")+")",Au3=RegExp(ST1+"(?="+ST1+")|"+eg3+tg3,"g");TvQ=Qu3});function Bu3(A){return uuA(A)?TvQ(A):wvQ(A)}var PvQ;var SvQ=q(()=>{NvQ();jT1();jvQ();PvQ=Bu3});function Gu3(A){return function(Q){Q=NBA(Q);var B=uuA(Q)?PvQ(Q):void 0,G=B?B[0]:Q.charAt(0),Z=B?UvQ(B,1).join(""):Q.slice(1);return G[A]()+Z}}var xvQ;var yvQ=q(()=>{$vQ();jT1();SvQ();VPA();xvQ=Gu3});var Zu3,vvQ;var kvQ=q(()=>{yvQ();Zu3=xvQ("toUpperCase"),vvQ=Zu3});function Yu3(A){return vvQ(NBA(A).toLowerCase())}var lHA;var xT1=q(()=>{VPA();kvQ();lHA=Yu3});function Ju3(A,Q,B,G){var Z=-1,Y=A==null?0:A.length;while(++Z<Y){var J=A[Z];Q(G,J,B(J),A)}return G}var fvQ;var bvQ=q(()=>{fvQ=Ju3});function Iu3(A,Q){return A&&SPA(A,Q,Wq)}var muA;var yT1=q(()=>{gG1();fa();muA=Iu3});function Xu3(A,Q){return function(B,G){if(B==null)return B;if(!yj(B))return A(B,G);var Z=B.length,Y=Q?Z:-1,J=Object(B);while(Q?Y--:++Y<Z)if(G(J[Y],Y,J)===!1)break;return B}}var hvQ;var gvQ=q(()=>{CBA();hvQ=Xu3});var Wu3,duA;var vT1=q(()=>{yT1();gvQ();Wu3=hvQ(muA),duA=Wu3});function Ku3(A,Q,B,G){return duA(A,function(Z,Y,J){Q(G,Z,B(Z),J)}),G}var uvQ;var mvQ=q(()=>{vT1();uvQ=Ku3});function Vu3(A,Q){return function(B,G){var Z=C7(B)?fvQ:uvQ,Y=Q?Q():{};return Z(B,A,kj(G,2),Y)}}var dvQ;var cvQ=q(()=>{bvQ();mvQ();OBA();HF();dvQ=Vu3});function Eu3(A,Q,B){var G=-1,Z=A==null?0:A.length;while(++G<Z)if(B(Q,A[G]))return!0;return!1}var pvQ;var lvQ=q(()=>{pvQ=Eu3});function Du3(A){var Q=A==null?0:A.length;return Q?A[Q-1]:void 0}var _F;var s3A=q(()=>{_F=Du3});function Hu3(A,Q){var B=[];return duA(A,function(G,Z,Y){if(Q(G,Z,Y))B.push(G)}),B}var ivQ;var nvQ=q(()=>{vT1();ivQ=Hu3});function Fu3(A,Q){return wBA(Q,function(B){return A[B]})}var avQ;var ovQ=q(()=>{KPA();avQ=Fu3});function Cu3(A){return A==null?[]:avQ(A,Wq(A))}var rvQ;var svQ=q(()=>{ovQ();fa();rvQ=Cu3});function zu3(A,Q){return Q.length<2?A:LBA(A,guA(Q,0,-1))}var tvQ;var evQ=q(()=>{EPA();TT1();tvQ=zu3});function Uu3(A,Q){return zBA(A,Q)}var kT1;var AkQ=q(()=>{YPA();kT1=Uu3});function $u3(A,Q){var B={};return Q=kj(Q,3),muA(A,function(G,Z,Y){vu(B,Z,Q(G,Z,Y))}),B}var Bs;var cuA=q(()=>{OWA();yT1();OBA();Bs=$u3});function Nu3(A){if(typeof A!="function")throw TypeError(wu3);return function(){var Q=arguments;switch(Q.length){case 0:return!A.call(this);case 1:return!A.call(this,Q[0]);case 2:return!A.call(this,Q[0],Q[1]);case 3:return!A.call(this,Q[0],Q[1],Q[2])}return!A.apply(this,Q)}}var wu3="Expected a function",QkQ;var BkQ=q(()=>{QkQ=Nu3});function qu3(A,Q){return Q=vj(Q,A),A=tvQ(A,Q),A==null||delete A[Kq(_F(Q))]}var GkQ;var ZkQ=q(()=>{qBA();s3A();evQ();ha();GkQ=qu3});function Lu3(A){return hBA(A)?void 0:A}var YkQ;var JkQ=q(()=>{gPA();YkQ=Lu3});var Mu3=1,Ou3=2,Ru3=4,_u3,IkQ;var XkQ=q(()=>{KPA();rW1();ZkQ();qBA();ca();JkQ();zvQ();oW1();_u3=CvQ(function(A,Q){var B={};if(A==null)return B;var G=!1;if(Q=wBA(Q,function(Y){return Y=vj(Y,A),G||(G=Y.length>1),Y}),Hq(A,zyA(A),B),G)B=$yA(B,Mu3|Ou3|Ru3,YkQ);var Z=Q.length;while(Z--)GkQ(B,Q[Z]);return B}),IkQ=_u3});function Tu3(A,Q,B,G){if(!EJ(A))return A;Q=vj(Q,A);var Z=-1,Y=Q.length,J=Y-1,I=A;while(I!=null&&++Z<Y){var X=Kq(Q[Z]),W=B;if(X==="__proto__"||X==="constructor"||X==="prototype")return A;if(Z!=J){var K=I[X];if(W=G?G(K,X,I):void 0,W===void 0)W=EJ(K)?K:Pu(Q[Z+1])?[]:{}}ku(I,X,W),I=I[X]}return A}var WkQ;var KkQ=q(()=>{jWA();qBA();HWA();Xq();ha();WkQ=Tu3});var ju3,VkQ;var EkQ=q(()=>{cvQ();ju3=dvQ(function(A,Q,B){A[B?0:1].push(Q)},function(){return[[],[]]}),VkQ=ju3});function xu3(A,Q){return A+Pu3(Su3()*(Q-A+1))}var Pu3,Su3,DkQ;var HkQ=q(()=>{Pu3=Math.floor,Su3=Math.random;DkQ=xu3});function yu3(A,Q){var B=C7(A)?mjA:ivQ;return B(A,QkQ(kj(Q,3)))}var fT1;var FkQ=q(()=>{XG1();nvQ();OBA();HF();BkQ();fT1=yu3});function vu3(A){var Q=A.length;return Q?A[DkQ(0,Q-1)]:void 0}var puA;var bT1=q(()=>{HkQ();puA=vu3});function ku3(A){return puA(rvQ(A))}var CkQ;var zkQ=q(()=>{bT1();svQ();CkQ=ku3});function fu3(A){var Q=C7(A)?puA:CkQ;return Q(A)}var Gs;var luA=q(()=>{bT1();zkQ();HF();Gs=fu3});function bu3(A,Q,B,G){return G=typeof G=="function"?G:void 0,A==null?A:WkQ(A,Q,B,G)}var UkQ;var $kQ=q(()=>{KkQ();UkQ=bu3});var hu3=1/0,gu3,wkQ;var NkQ=q(()=>{FG1();_T1();hjA();gu3=!(Su&&1/WBA(new Su([,-0]))[1]==hu3)?ok:function(A){return new Su(A)},wkQ=gu3});function mu3(A,Q,B){var G=-1,Z=JvQ,Y=A.length,J=!0,I=[],X=I;if(B)J=!1,Z=pvQ;else if(Y>=uu3){var W=Q?null:wkQ(A);if(W)return WBA(W);J=!1,Z=fjA,X=new kjA}else X=Q?[]:I;A:while(++G<Y){var K=A[G],V=Q?Q(K):K;if(K=B||K!==0?K:0,J&&V===V){var E=X.length;while(E--)if(X[E]===V)continue A;if(Q)X.push(V);I.push(K)}else if(!Z(X,V,B)){if(X!==I)X.push(V);I.push(K)}}return I}var uu3=200,qkQ;var LkQ=q(()=>{BG1();IvQ();lvQ();GG1();NkQ();hjA();qkQ=mu3});function du3(A,Q){return A&&A.length?qkQ(A,kj(Q,2)):[]}var t3A;var iuA=q(()=>{OBA();LkQ();t3A=du3});function cu3(A,Q,B){var G=-1,Z=A.length,Y=Q.length,J={};while(++G<Z){var I=G<Y?Q[G]:void 0;B(J,A[G],I)}return J}var MkQ;var OkQ=q(()=>{MkQ=cu3});function pu3(A,Q){return MkQ(A||[],Q||[],ku)}var RkQ;var _kQ=q(()=>{jWA();OkQ();RkQ=pu3});var e3A=q(()=>{wyA();p2()});function PkQ(){return jkQ}function hT1(A){let Q=2166136261,B=A.length;for(let G=0;G<B;G++)Q^=A.charCodeAt(G),Q+=(Q<<1)+(Q<<4)+(Q<<7)+(Q<<8)+(Q<<24);return Q>>>0}function iHA(A,Q,B){if(B===2)return hT1(hT1(A+Q)+"")%1e4/1e4;if(B===1)return hT1(Q+A)%1000/1000;return null}function lu3(A){if(A<=0)return[];return Array(A).fill(1/A)}function nuA(A,Q){return A>=Q[0]&&A<Q[1]}function SkQ(A,Q){let B=iHA("__"+Q[0],A,1);if(B===null)return!1;return B>=Q[1]&&B<Q[2]}function xkQ(A,Q){for(let B=0;B<Q.length;B++)if(nuA(A,Q[B]))return B;return-1}function uT1(A){try{let Q=A.replace(/([^\\])\//g,"$1\\/");return new RegExp(Q)}catch(Q){console.error(Q);return}}function auA(A,Q){if(!Q.length)return!1;let B=!1,G=!1;for(let Z=0;Z<Q.length;Z++){let Y=au3(A,Q[Z].type,Q[Z].pattern);if(Q[Z].include===!1){if(Y)return!1}else if(B=!0,Y)G=!0}return G||!B}function iu3(A,Q,B){try{let G=Q.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");if(B)G="\\/?"+G.replace(/(^\/|\/$)/g,"")+"\\/?";return new RegExp("^"+G+"$","i").test(A)}catch(G){return!1}}function nu3(A,Q){try{let B=new URL(Q.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),G=[[A.host,B.host,!1],[A.pathname,B.pathname,!0]];if(B.hash)G.push([A.hash,B.hash,!1]);return B.searchParams.forEach((Z,Y)=>{G.push([A.searchParams.get(Y)||"",Z,!1])}),!G.some((Z)=>!iu3(Z[0],Z[1],Z[2]))}catch(B){return!1}}function au3(A,Q,B){try{let G=new URL(A,"https://_");if(Q==="regex"){let Z=uT1(B);if(!Z)return!1;return Z.test(G.href)||Z.test(G.href.substring(G.origin.length))}else if(Q==="simple")return nu3(G,B);return!1}catch(G){return!1}}function ykQ(A,Q,B){if(Q=Q===void 0?1:Q,Q<0)Q=0;else if(Q>1)Q=1;let G=lu3(A);if(B=B||G,B.length!==A)B=G;let Z=B.reduce((J,I)=>I+J,0);if(Z<0.99||Z>1.01)B=G;let Y=0;return B.map((J)=>{let I=Y;return Y+=J,[I,I+Q*J]})}function vkQ(A,Q,B){if(!Q)return null;let G=Q.split("?")[1];if(!G)return null;let Z=G.replace(/#.*/,"").split("&").map((Y)=>Y.split("=",2)).filter((Y)=>{let[J]=Y;return J===A}).map((Y)=>{let[,J]=Y;return parseInt(J)});if(Z.length>0&&Z[0]>=0&&Z[0]<B)return Z[0];return null}function kkQ(A){try{return A()}catch(Q){return console.error(Q),!1}}async function Zs(A,Q,B){if(Q=Q||"",B=B||globalThis.crypto&&globalThis.crypto.subtle||jkQ.SubtleCrypto,!B)throw Error("No SubtleCrypto implementation found");try{let G=await B.importKey("raw",gT1(Q),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[Z,Y]=A.split("."),J=await B.decrypt({name:"AES-CBC",iv:gT1(Z)},G,gT1(Y));return new TextDecoder().decode(J)}catch(G){throw Error("Failed to decrypt")}}function nHA(A){if(typeof A==="string")return A;return JSON.stringify(A)}function Ew(A){if(typeof A==="number")A=A+"";if(!A||typeof A!=="string")A="0";let Q=A.replace(/(^v|\+.*$)/g,"").split(/[-.]/);if(Q.length===3)Q.push("~");return Q.map((B)=>B.match(/^[0-9]+$/)?B.padStart(5," "):B).join("-")}function fkQ(){let A;try{A="1.6.1"}catch(Q){A=""}return A}function bkQ(A,Q){let B,G;try{B=new URL(A),G=new URL(Q)}catch(Z){return console.error(`Unable to merge query strings: ${Z}`),Q}return B.searchParams.forEach((Z,Y)=>{if(G.searchParams.has(Y))return;G.searchParams.set(Y,Z)}),G.toString()}function TkQ(A){return typeof A==="object"&&A!==null}function ouA(A){if(A.urlPatterns&&A.variations.some((Q)=>TkQ(Q)&&("urlRedirect"in Q)))return"redirect";else if(A.variations.some((Q)=>TkQ(Q)&&(Q.domMutations||("js"in Q)||("css"in Q))))return"visual";return"unknown"}async function ruA(A,Q){return new Promise((B)=>{let G=!1,Z,Y=(J)=>{if(G)return;G=!0,Z&&clearTimeout(Z),B(J||null)};if(Q)Z=setTimeout(()=>Y(),Q);A.then((J)=>Y(J)).catch(()=>Y())})}var jkQ,gT1=(A)=>Uint8Array.from(atob(A),(Q)=>Q.charCodeAt(0));var aHA=q(()=>{jkQ={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource}});function ukQ(A){if(Object.assign(sD,A),!sD.backgroundSync)Bm3()}async function mkQ(A){let{instance:Q,timeout:B,skipCache:G,allowStale:Z,backgroundSync:Y}=A;if(!Y)sD.backgroundSync=!1;return tu3({instance:Q,allowStale:Z,timeout:B,skipCache:G})}function ou3(A){let Q=oHA(A),B=Q6A.get(Q)||new Set;B.add(A),Q6A.set(Q,B)}function dkQ(A){Q6A.forEach((Q)=>Q.delete(A))}function ru3(){B6A.forEach((A)=>{if(!A)return;A.state="idle",pT1(A)})}function su3(){B6A.forEach((A)=>{if(!A)return;if(A.state!=="idle")return;lT1(A)})}async function gkQ(){try{if(!sP.localStorage)return;await sP.localStorage.setItem(sD.cacheKey,JSON.stringify(Array.from(rk.entries())))}catch(A){}}async function tu3(A){let{instance:Q,allowStale:B,timeout:G,skipCache:Z}=A,Y=oHA(Q),J=dT1(Q),I=new Date,X=new Date(I.getTime()-sD.maxAge+sD.staleTTL);await eu3();let W=!sD.disableCache&&!Z?rk.get(J):void 0;if(W&&(B||W.staleAt>I)&&W.staleAt>X){if(W.sse)G6A.add(Y);if(W.staleAt<I)mT1(Q);else cT1(Q);return{data:W.data,success:!0,source:"cache"}}else return await ruA(mT1(Q),G)||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}function oHA(A){let[Q,B]=A.getApiInfo();return`${Q}||${B}`}function dT1(A){let Q=oHA(A);if(!("isRemoteEval"in A)||!A.isRemoteEval())return Q;let B=A.getAttributes(),G=A.getCacheKeyAttributes()||Object.keys(A.getAttributes()),Z={};G.forEach((I)=>{Z[I]=B[I]});let Y=A.getForcedVariations(),J=A.getUrl();return`${Q}||${JSON.stringify({ca:Z,fv:Y,url:J})}`}async function eu3(){if(hkQ)return;hkQ=!0;try{if(sP.localStorage){let A=await sP.localStorage.getItem(sD.cacheKey);if(!sD.disableCache&&A){let Q=JSON.parse(A);if(Q&&Array.isArray(Q))Q.forEach((B)=>{let[G,Z]=B;rk.set(G,{...Z,staleAt:new Date(Z.staleAt)})});ckQ()}}}catch(A){}if(!sD.disableIdleStreams){let A=A6A.startIdleListener();if(A)A6A.stopIdleListener=A}}function ckQ(){let A=Array.from(rk.entries()).map((B)=>{let[G,Z]=B;return{key:G,staleAt:Z.staleAt.getTime()}}).sort((B,G)=>B.staleAt-G.staleAt),Q=Math.min(Math.max(0,rk.size-sD.maxEntries),rk.size);for(let B=0;B<Q;B++)rk.delete(A[B].key)}function pkQ(A,Q,B){let G=B.dateUpdated||"",Z=new Date(Date.now()+sD.staleTTL),Y=!sD.disableCache?rk.get(Q):void 0;if(Y&&G&&Y.version===G){Y.staleAt=Z,gkQ();return}if(!sD.disableCache)rk.set(Q,{data:B,version:G,staleAt:Z,sse:G6A.has(A)}),ckQ();gkQ();let J=Q6A.get(A);J&&J.forEach((I)=>Am3(I,B))}async function Am3(A,Q){await A.setPayload(Q||A.getPayload())}async function mT1(A){let{apiHost:Q,apiRequestHeaders:B}=A.getApiHosts(),G=A.getClientKey(),Z="isRemoteEval"in A&&A.isRemoteEval(),Y=oHA(A),J=dT1(A),I=suA.get(J);if(!I)I=(Z?A6A.fetchRemoteEvalCall({host:Q,clientKey:G,payload:{attributes:A.getAttributes(),forcedVariations:A.getForcedVariations(),forcedFeatures:Array.from(A.getForcedFeatures().entries()),url:A.getUrl()},headers:B}):A6A.fetchFeaturesCall({host:Q,clientKey:G,headers:B})).then((W)=>{if(!W.ok)throw Error(`HTTP error: ${W.status}`);if(W.headers.get("x-sse-support")==="enabled")G6A.add(Y);return W.json()}).then((W)=>{return pkQ(Y,J,W),cT1(A),suA.delete(J),{data:W,success:!0,source:"network"}}).catch((W)=>{return suA.delete(J),{data:null,source:"error",success:!1,error:W}}),suA.set(J,I);return I}function cT1(A){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=oHA(A),G=dT1(A),{streamingHost:Z,streamingHostRequestHeaders:Y}=A.getApiHosts(),J=A.getClientKey();if(Q)G6A.add(B);if(sD.backgroundSync&&G6A.has(B)&&sP.EventSource){if(B6A.has(B))return;let I={src:null,host:Z,clientKey:J,headers:Y,cb:(X)=>{try{if(X.type==="features-updated"){let W=Q6A.get(B);W&&W.forEach((K)=>{mT1(K)})}else if(X.type==="features"){let W=JSON.parse(X.data);pkQ(B,G,W)}I.errors=0}catch(W){lkQ(I)}},errors:0,state:"active"};B6A.set(B,I),lT1(I)}}function lkQ(A){if(A.state==="idle")return;if(A.errors++,A.errors>3||A.src&&A.src.readyState===2){let Q=Math.pow(3,A.errors-3)*(1000+Math.random()*1000);pT1(A),setTimeout(()=>{if(["idle","active"].includes(A.state))return;lT1(A)},Math.min(Q,300000))}}function pT1(A){if(!A.src)return;if(A.src.onopen=null,A.src.onerror=null,A.src.close(),A.src=null,A.state==="active")A.state="disabled"}function lT1(A){A.src=A6A.eventSourceCall({host:A.host,clientKey:A.clientKey,headers:A.headers}),A.state="active",A.src.addEventListener("features",A.cb),A.src.addEventListener("features-updated",A.cb),A.src.onerror=()=>lkQ(A),A.src.onopen=()=>{A.errors=0}}function Qm3(A,Q){pT1(A),B6A.delete(Q)}function Bm3(){G6A.clear(),B6A.forEach(Qm3),Q6A.clear(),A6A.stopIdleListener()}function tuA(A,Q){if(Q.streaming){if(!A.getClientKey())throw Error("Must specify clientKey to enable streaming");if(Q.payload)cT1(A,!0);ou3(A)}}var sD,sP,A6A,Q6A,hkQ=!1,rk,suA,B6A,G6A;var ikQ=q(()=>{aHA();sD={staleTTL:60000,maxAge:14400000,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:20000,disableCache:!1},sP=PkQ(),A6A={fetchFeaturesCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;return sP.fetch(`${Q}/api/features/${B}`,{headers:G})},fetchRemoteEvalCall:(A)=>{let{host:Q,clientKey:B,payload:G,headers:Z}=A,Y={method:"POST",headers:{"Content-Type":"application/json",...Z},body:JSON.stringify(G)};return sP.fetch(`${Q}/api/eval/${B}`,Y)},eventSourceCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;if(G)return new sP.EventSource(`${Q}/sub/${B}`,{headers:G});return new sP.EventSource(`${Q}/sub/${B}`)},startIdleListener:()=>{let A;if(!(typeof window<"u"&&typeof document<"u"))return;let B=()=>{if(document.visibilityState==="visible")window.clearTimeout(A),su3();else if(document.visibilityState==="hidden")A=window.setTimeout(ru3,sD.idleStreamInterval)};return document.addEventListener("visibilitychange",B),()=>document.removeEventListener("visibilitychange",B)},stopIdleListener:()=>{}};try{if(globalThis.localStorage)sP.localStorage=globalThis.localStorage}catch(A){}Q6A=new Map,rk=new Map,suA=new Map,B6A=new Map,G6A=new Set});var ZfQ=w((GfQ)=>{Object.defineProperty(GfQ,"__esModule",{value:!0});var rkQ=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,aT1={revert:function(){}},BmA=new Map,nT1=new Set;function GmA(A){var Q=BmA.get(A);return Q||BmA.set(A,Q={element:A,attributes:{}}),Q}function ZmA(A,Q,B,G,Z){var Y=B(A),J={isDirty:!1,originalValue:Y,virtualValue:Y,mutations:[],el:A,_positionTimeout:null,observer:new MutationObserver(function(){if(Q!=="position"||!J._positionTimeout){Q==="position"&&(J._positionTimeout=setTimeout(function(){J._positionTimeout=null},1000));var I=B(A);Q==="position"&&I.parentNode===J.virtualValue.parentNode&&I.insertBeforeNode===J.virtualValue.insertBeforeNode||I!==J.virtualValue&&(J.originalValue=I,Z(J))}}),mutationRunner:Z,setValue:G,getCurrentValue:B};return Q==="position"&&A.parentNode?J.observer.observe(A.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):J.observer.observe(A,function(I){return I==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[I]}}(Q)),J}function YmA(A,Q){var B=Q.getCurrentValue(Q.el);Q.virtualValue=A,A&&typeof A!="string"?B&&A.parentNode===B.parentNode&&A.insertBeforeNode===B.insertBeforeNode||(Q.isDirty=!0,nkQ()):A!==B&&(Q.isDirty=!0,nkQ())}function Gm3(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(function(B){return euA||(euA=document.createElement("div")),euA.innerHTML=B,euA.innerHTML}(Q),A)}function Zm3(A){var Q=new Set(A.originalValue.split(/\s+/).filter(Boolean));A.mutations.forEach(function(B){return B.mutate(Q)}),YmA(Array.from(Q).filter(Boolean).join(" "),A)}function Ym3(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(Q,A)}function Jm3(A){var Q=A.originalValue;A.mutations.forEach(function(B){var G=function(Z){var Y=Z.insertBeforeSelector,J=document.querySelector(Z.parentSelector);if(!J)return null;var I=Y?document.querySelector(Y):null;return Y&&!I?null:{parentNode:J,insertBeforeNode:I}}(B.mutate());Q=G||Q}),YmA(Q,A)}var Im3=function(A){return A.innerHTML},Xm3=function(A,Q){return A.innerHTML=Q};function skQ(A){var Q=GmA(A);return Q.html||(Q.html=ZmA(A,"html",Im3,Xm3,Gm3)),Q.html}var Wm3=function(A){return{parentNode:A.parentElement,insertBeforeNode:A.nextElementSibling}},Km3=function(A,Q){Q.insertBeforeNode&&!Q.parentNode.contains(Q.insertBeforeNode)||Q.parentNode.insertBefore(A,Q.insertBeforeNode)};function tkQ(A){var Q=GmA(A);return Q.position||(Q.position=ZmA(A,"position",Wm3,Km3,Jm3)),Q.position}var euA,sHA,Vm3=function(A,Q){return Q?A.className=Q:A.removeAttribute("class")},Em3=function(A){return A.className};function ekQ(A){var Q=GmA(A);return Q.classes||(Q.classes=ZmA(A,"class",Em3,Vm3,Zm3)),Q.classes}function AfQ(A,Q){var B,G=GmA(A);return G.attributes[Q]||(G.attributes[Q]=ZmA(A,Q,(B=Q,function(Z){var Y;return(Y=Z.getAttribute(B))!=null?Y:null}),function(Z){return function(Y,J){return J!==null?Y.setAttribute(Z,J):Y.removeAttribute(Z)}}(Q),Ym3)),G.attributes[Q]}function AmA(A,Q,B){if(B.isDirty){B.isDirty=!1;var G=B.virtualValue;B.mutations.length||function(Z,Y){var J,I,X=BmA.get(Z);if(X)if(Y==="html")(J=X.html)==null||(I=J.observer)==null||I.disconnect(),delete X.html;else if(Y==="class"){var W,K;(W=X.classes)==null||(K=W.observer)==null||K.disconnect(),delete X.classes}else if(Y==="position"){var V,E;(V=X.position)==null||(E=V.observer)==null||E.disconnect(),delete X.position}else{var D,H,F;(D=X.attributes)==null||(H=D[Y])==null||(F=H.observer)==null||F.disconnect(),delete X.attributes[Y]}}(A,Q),B.setValue(A,G)}}function Dm3(A,Q){A.html&&AmA(Q,"html",A.html),A.classes&&AmA(Q,"class",A.classes),A.position&&AmA(Q,"position",A.position),Object.keys(A.attributes).forEach(function(B){AmA(Q,B,A.attributes[B])})}function nkQ(){BmA.forEach(Dm3)}function QfQ(A){if(A.kind!=="position"||A.elements.size!==1){var Q=new Set(A.elements);document.querySelectorAll(A.selector).forEach(function(B){Q.has(B)||(A.elements.add(B),function(G,Z){var Y=null;G.kind==="html"?Y=skQ(Z):G.kind==="class"?Y=ekQ(Z):G.kind==="attribute"?Y=AfQ(Z,G.attribute):G.kind==="position"&&(Y=tkQ(Z)),Y&&(Y.mutations.push(G),Y.mutationRunner(Y))}(A,B))})}}function akQ(){nT1.forEach(QfQ)}function BfQ(){typeof document<"u"&&(sHA||(sHA=new MutationObserver(function(){akQ()})),akQ(),sHA.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}function JmA(A){return typeof document>"u"?aT1:(nT1.add(A),QfQ(A),{revert:function(){var Q;(Q=A).elements.forEach(function(B){return function(G,Z){var Y=null;if(G.kind==="html"?Y=skQ(Z):G.kind==="class"?Y=ekQ(Z):G.kind==="attribute"?Y=AfQ(Z,G.attribute):G.kind==="position"&&(Y=tkQ(Z)),Y){var J=Y.mutations.indexOf(G);J!==-1&&Y.mutations.splice(J,1),Y.mutationRunner(Y)}}(Q,B)}),Q.elements.clear(),nT1.delete(Q)}})}function iT1(A,Q){return JmA({kind:"html",elements:new Set,mutate:Q,selector:A})}function okQ(A,Q){return JmA({kind:"position",elements:new Set,mutate:Q,selector:A})}function rHA(A,Q){return JmA({kind:"class",elements:new Set,mutate:Q,selector:A})}function QmA(A,Q,B){return rkQ.test(Q)?Q==="class"||Q==="className"?rHA(A,function(G){var Z=B(Array.from(G).join(" "));G.clear(),Z&&Z.split(/\s+/g).filter(Boolean).forEach(function(Y){return G.add(Y)})}):JmA({kind:"attribute",attribute:Q,elements:new Set,mutate:B,selector:A}):aT1}BfQ();var Hm3={html:iT1,classes:rHA,attribute:QmA,position:okQ,declarative:function(A){var{selector:Q,action:B,value:G,attribute:Z,parentSelector:Y,insertBeforeSelector:J}=A;if(Z==="html"){if(B==="append")return iT1(Q,function(I){return I+(G!=null?G:"")});if(B==="set")return iT1(Q,function(){return G!=null?G:""})}else if(Z==="class"){if(B==="append")return rHA(Q,function(I){G&&I.add(G)});if(B==="remove")return rHA(Q,function(I){G&&I.delete(G)});if(B==="set")return rHA(Q,function(I){I.clear(),G&&I.add(G)})}else if(Z==="position"){if(B==="set"&&Y)return okQ(Q,function(){return{insertBeforeSelector:J,parentSelector:Y}})}else{if(B==="append")return QmA(Q,Z,function(I){return I!==null?I+(G!=null?G:""):G!=null?G:""});if(B==="set")return QmA(Q,Z,function(){return G!=null?G:""});if(B==="remove")return QmA(Q,Z,function(){return null})}return aT1}};GfQ.connectGlobalObserver=BfQ,GfQ.default=Hm3,GfQ.disconnectGlobalObserver=function(){sHA&&sHA.disconnect()},GfQ.validAttributeName=rkQ});function fd(A,Q,B){B=B||{};for(let[G,Z]of Object.entries(Q))switch(G){case"$or":if(!YfQ(A,Z,B))return!1;break;case"$nor":if(YfQ(A,Z,B))return!1;break;case"$and":if(!wm3(A,Z,B))return!1;break;case"$not":if(fd(A,Z,B))return!1;break;default:if(!tHA(Z,Fm3(A,G),B))return!1}return!0}function Fm3(A,Q){let B=Q.split("."),G=A;for(let Z=0;Z<B.length;Z++)if(G&&typeof G==="object"&&B[Z]in G)G=G[B[Z]];else return null;return G}function Cm3(A){if(!oT1[A])oT1[A]=new RegExp(A.replace(/([^\\])\//g,"$1\\/"));return oT1[A]}function tHA(A,Q,B){if(typeof A==="string")return Q+""===A;if(typeof A==="number")return Q*1===A;if(typeof A==="boolean")return Q!==null&&!!Q===A;if(A===null)return Q===null;if(Array.isArray(A)||!JfQ(A))return JSON.stringify(Q)===JSON.stringify(A);for(let G in A)if(!$m3(G,Q,A[G],B))return!1;return!0}function JfQ(A){let Q=Object.keys(A);return Q.length>0&&Q.filter((B)=>B[0]==="$").length===Q.length}function zm3(A){if(A===null)return"null";if(Array.isArray(A))return"array";let Q=typeof A;if(["string","number","boolean","object","undefined"].includes(Q))return Q;return"unknown"}function Um3(A,Q,B){if(!Array.isArray(A))return!1;let G=JfQ(Q)?(Z)=>tHA(Q,Z,B):(Z)=>fd(Z,Q,B);for(let Z=0;Z<A.length;Z++)if(A[Z]&&G(A[Z]))return!0;return!1}function ImA(A,Q){if(Array.isArray(A))return A.some((B)=>Q.includes(B));return Q.includes(A)}function $m3(A,Q,B,G){switch(A){case"$veq":return Ew(Q)===Ew(B);case"$vne":return Ew(Q)!==Ew(B);case"$vgt":return Ew(Q)>Ew(B);case"$vgte":return Ew(Q)>=Ew(B);case"$vlt":return Ew(Q)<Ew(B);case"$vlte":return Ew(Q)<=Ew(B);case"$eq":return Q===B;case"$ne":return Q!==B;case"$lt":return Q<B;case"$lte":return Q<=B;case"$gt":return Q>B;case"$gte":return Q>=B;case"$exists":return B?Q!=null:Q==null;case"$in":if(!Array.isArray(B))return!1;return ImA(Q,B);case"$inGroup":return ImA(Q,G[B]||[]);case"$notInGroup":return!ImA(Q,G[B]||[]);case"$nin":if(!Array.isArray(B))return!1;return!ImA(Q,B);case"$not":return!tHA(B,Q,G);case"$size":if(!Array.isArray(Q))return!1;return tHA(B,Q.length,G);case"$elemMatch":return Um3(Q,B,G);case"$all":if(!Array.isArray(Q))return!1;for(let Z=0;Z<B.length;Z++){let Y=!1;for(let J=0;J<Q.length;J++)if(tHA(B[Z],Q[J],G)){Y=!0;break}if(!Y)return!1}return!0;case"$regex":try{return Cm3(B).test(Q)}catch(Z){return!1}case"$type":return zm3(Q)===B;default:return console.error("Unknown operator: "+A),!1}}function YfQ(A,Q,B){if(!Q.length)return!0;for(let G=0;G<Q.length;G++)if(fd(A,Q[G],B))return!0;return!1}function wm3(A,Q,B){for(let G=0;G<Q.length;G++)if(!fd(A,Q[G],B))return!1;return!0}var oT1;var IfQ=q(()=>{aHA();oT1={}});function Lm3(A){let Q=new Map;if(A.global.forcedFeatureValues)A.global.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));if(A.user.forcedFeatureValues)A.user.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));return Q}function Mm3(A){if(A.global.forcedVariations&&A.user.forcedVariations)return{...A.global.forcedVariations,...A.user.forcedVariations};else if(A.global.forcedVariations)return A.global.forcedVariations;else if(A.user.forcedVariations)return A.user.forcedVariations;else return{}}async function Z6A(A){try{await A()}catch(Q){}}function XfQ(A,Q,B){if(A.user.trackedExperiments){let Z=KmA(Q,B);if(A.user.trackedExperiments.has(Z))return[];A.user.trackedExperiments.add(Z)}if(A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({experiment:Q,result:B,timestamp:Date.now().toString(),logType:"experiment"});let G=[];if(A.global.trackingCallback){let Z=A.global.trackingCallback;G.push(Z6A(()=>Z(Q,B,A.user)))}if(A.user.trackingCallback){let Z=A.user.trackingCallback;G.push(Z6A(()=>Z(Q,B)))}if(A.global.eventLogger){let Z=A.global.eventLogger;G.push(Z6A(()=>Z(qm3,{experimentId:Q.key,variationId:B.key,hashAttribute:B.hashAttribute,hashValue:B.hashValue},A.user)))}return G}function Om3(A,Q,B){if(A.user.trackedFeatureUsage){let G=JSON.stringify(B.value);if(A.user.trackedFeatureUsage[Q]===G)return;if(A.user.trackedFeatureUsage[Q]=G,A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({featureKey:Q,result:B,timestamp:Date.now().toString(),logType:"feature"})}if(A.global.onFeatureUsage){let G=A.global.onFeatureUsage;Z6A(()=>G(Q,B,A.user))}if(A.user.onFeatureUsage){let G=A.user.onFeatureUsage;Z6A(()=>G(Q,B))}if(A.global.eventLogger){let G=A.global.eventLogger;Z6A(()=>G(Nm3,{feature:Q,source:B.source,value:B.value,ruleId:B.source==="defaultValue"?"$default":B.ruleId||"",variationId:B.experimentResult?B.experimentResult.key:""},A.user))}}function XmA(A,Q){if(Q.stack.evaluatedFeatures.has(A))return bd(Q,A,null,"cyclicPrerequisite");Q.stack.evaluatedFeatures.add(A),Q.stack.id=A;let B=Lm3(Q);if(B.has(A))return bd(Q,A,B.get(A),"override");if(!Q.global.features||!Q.global.features[A])return bd(Q,A,null,"unknownFeature");let G=Q.global.features[A];if(G.rules){let Z=new Set(Q.stack.evaluatedFeatures);A:for(let Y of G.rules){if(Y.parentConditions)for(let X of Y.parentConditions){Q.stack.evaluatedFeatures=new Set(Z);let W=XmA(X.id,Q);if(W.source==="cyclicPrerequisite")return bd(Q,A,null,"cyclicPrerequisite");let K={value:W.value};if(!fd(K,X.condition||{})){if(X.gate)return bd(Q,A,null,"prerequisite");continue A}}if(Y.filters&&VfQ(Y.filters,Q))continue;if("force"in Y){if(Y.condition&&!KfQ(Y.condition,Q))continue;if(!Rm3(Q,Y.seed||A,Y.hashAttribute,Q.user.saveStickyBucketAssignmentDoc&&!Y.disableStickyBucketing?Y.fallbackAttribute:void 0,Y.range,Y.coverage,Y.hashVersion))continue;if(Y.tracks)Y.tracks.forEach((X)=>{if(!XfQ(Q,X.experiment,X.result).length&&Q.global.saveDeferredTrack)Q.global.saveDeferredTrack({experiment:X.experiment,result:X.result})});return bd(Q,A,Y.force,"force",Y.id)}if(!Y.variations)continue;let J={variations:Y.variations,key:Y.key||A};if("coverage"in Y)J.coverage=Y.coverage;if(Y.weights)J.weights=Y.weights;if(Y.hashAttribute)J.hashAttribute=Y.hashAttribute;if(Y.fallbackAttribute)J.fallbackAttribute=Y.fallbackAttribute;if(Y.disableStickyBucketing)J.disableStickyBucketing=Y.disableStickyBucketing;if(Y.bucketVersion!==void 0)J.bucketVersion=Y.bucketVersion;if(Y.minBucketVersion!==void 0)J.minBucketVersion=Y.minBucketVersion;if(Y.namespace)J.namespace=Y.namespace;if(Y.meta)J.meta=Y.meta;if(Y.ranges)J.ranges=Y.ranges;if(Y.name)J.name=Y.name;if(Y.phase)J.phase=Y.phase;if(Y.seed)J.seed=Y.seed;if(Y.hashVersion)J.hashVersion=Y.hashVersion;if(Y.filters)J.filters=Y.filters;if(Y.condition)J.condition=Y.condition;let{result:I}=WmA(J,A,Q);if(Q.global.onExperimentEval&&Q.global.onExperimentEval(J,I),I.inExperiment&&!I.passthrough)return bd(Q,A,I.value,"experiment",Y.id,J,I)}}return bd(Q,A,G.defaultValue===void 0?null:G.defaultValue,"defaultValue")}function WmA(A,Q,B){let G=A.key,Z=A.variations.length;if(Z<2)return{result:hY(B,A,-1,!1,Q)};if(B.global.enabled===!1||B.user.enabled===!1)return{result:hY(B,A,-1,!1,Q)};if(A=_m3(A,B),A.urlPatterns&&!auA(B.user.url||"",A.urlPatterns))return{result:hY(B,A,-1,!1,Q)};let Y=vkQ(G,B.user.url||"",Z);if(Y!==null)return{result:hY(B,A,Y,!1,Q)};let J=Mm3(B);if(G in J){let C=J[G];return{result:hY(B,A,C,!1,Q)}}if(A.status==="draft"||A.active===!1)return{result:hY(B,A,-1,!1,Q)};let{hashAttribute:I,hashValue:X}=Ys(B,A.hashAttribute,B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing?A.fallbackAttribute:void 0);if(!X)return{result:hY(B,A,-1,!1,Q)};let W=-1,K=!1,V=!1;if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{variation:C,versionIsBlocked:$}=Pm3({ctx:B,expKey:A.key,expBucketVersion:A.bucketVersion,expHashAttribute:A.hashAttribute,expFallbackAttribute:A.fallbackAttribute,expMinBucketVersion:A.minBucketVersion,expMeta:A.meta});K=C>=0,W=C,V=!!$}if(!K){if(A.filters){if(VfQ(A.filters,B))return{result:hY(B,A,-1,!1,Q)}}else if(A.namespace&&!SkQ(X,A.namespace))return{result:hY(B,A,-1,!1,Q)};if(A.include&&!kkQ(A.include))return{result:hY(B,A,-1,!1,Q)};if(A.condition&&!KfQ(A.condition,B))return{result:hY(B,A,-1,!1,Q)};if(A.parentConditions){let C=new Set(B.stack.evaluatedFeatures);for(let $ of A.parentConditions){B.stack.evaluatedFeatures=new Set(C);let O=XmA($.id,B);if(O.source==="cyclicPrerequisite")return{result:hY(B,A,-1,!1,Q)};let M={value:O.value};if(!fd(M,$.condition||{}))return{result:hY(B,A,-1,!1,Q)}}}if(A.groups&&!jm3(A.groups,B))return{result:hY(B,A,-1,!1,Q)}}if(A.url&&!Tm3(A.url,B))return{result:hY(B,A,-1,!1,Q)};let E=iHA(A.seed||G,X,A.hashVersion||1);if(E===null)return{result:hY(B,A,-1,!1,Q)};if(!K){let C=A.ranges||ykQ(Z,A.coverage===void 0?1:A.coverage,A.weights);W=xkQ(E,C)}if(V)return{result:hY(B,A,-1,!1,Q,void 0,!0)};if(W<0)return{result:hY(B,A,-1,!1,Q)};if("force"in A)return{result:hY(B,A,A.force===void 0?-1:A.force,!1,Q)};if(B.global.qaMode||B.user.qaMode)return{result:hY(B,A,-1,!1,Q)};if(A.status==="stopped")return{result:hY(B,A,-1,!1,Q)};let D=hY(B,A,W,!0,Q,E,K);if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{changed:C,key:$,doc:O}=xm3(B,I,nHA(X),{[rT1(A.key,A.bucketVersion)]:D.key});if(C)B.user.stickyBucketAssignmentDocs=B.user.stickyBucketAssignmentDocs||{},B.user.stickyBucketAssignmentDocs[$]=O,B.user.saveStickyBucketAssignmentDoc(O)}let H=XfQ(B,A,D);if(H.length===0&&B.global.saveDeferredTrack)B.global.saveDeferredTrack({experiment:A,result:D});let F=!H.length?void 0:H.length===1?H[0]:Promise.all(H).then(()=>{});return"changeId"in A&&A.changeId&&B.global.recordChangeId&&B.global.recordChangeId(A.changeId),{result:D,trackingCall:F}}function bd(A,Q,B,G,Z,Y,J){let I={value:B,on:!!B,off:!B,source:G,ruleId:Z||""};if(Y)I.experiment=Y;if(J)I.experimentResult=J;if(G!=="override")Om3(A,Q,I);return I}function WfQ(A){return{...A.user.attributes,...A.user.attributeOverrides}}function KfQ(A,Q){return fd(WfQ(Q),A,Q.global.savedGroups||{})}function VfQ(A,Q){return A.some((B)=>{let{hashValue:G}=Ys(Q,B.attribute);if(!G)return!0;let Z=iHA(B.seed,G,B.hashVersion||2);if(Z===null)return!0;return!B.ranges.some((Y)=>nuA(Z,Y))})}function Rm3(A,Q,B,G,Z,Y,J){if(!Z&&Y===void 0)return!0;if(!Z&&Y===0)return!1;let{hashValue:I}=Ys(A,B,G);if(!I)return!1;let X=iHA(Q,I,J||1);if(X===null)return!1;return Z?nuA(X,Z):Y!==void 0?X<=Y:!0}function hY(A,Q,B,G,Z,Y,J){let I=!0;if(B<0||B>=Q.variations.length)B=0,I=!1;let{hashAttribute:X,hashValue:W}=Ys(A,Q.hashAttribute,A.user.saveStickyBucketAssignmentDoc&&!Q.disableStickyBucketing?Q.fallbackAttribute:void 0),K=Q.meta?Q.meta[B]:{},V={key:K.key||""+B,featureId:Z,inExperiment:I,hashUsed:G,variationId:B,value:Q.variations[B],hashAttribute:X,hashValue:W,stickyBucketUsed:!!J};if(K.name)V.name=K.name;if(Y!==void 0)V.bucket=Y;if(K.passthrough)V.passthrough=K.passthrough;return V}function _m3(A,Q){let B=A.key,G=Q.global.overrides;if(G&&G[B]){if(A=Object.assign({},A,G[B]),typeof A.url==="string")A.url=uT1(A.url)}return A}function Ys(A,Q,B){let G=Q||"id",Z="",Y=WfQ(A);if(Y[G])Z=Y[G];if(!Z&&B){if(Y[B])Z=Y[B];if(Z)G=B}return{hashAttribute:G,hashValue:Z}}function Tm3(A,Q){let B=Q.user.url;if(!B)return!1;let G=B.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");if(A.test(B))return!0;if(A.test(G))return!0;return!1}function jm3(A,Q){let B=Q.global.groups||{};for(let G=0;G<A.length;G++)if(B[A[G]])return!0;return!1}function Pm3(A){let{ctx:Q,expKey:B,expBucketVersion:G,expHashAttribute:Z,expFallbackAttribute:Y,expMinBucketVersion:J,expMeta:I}=A;G=G||0,J=J||0,Z=Z||"id",I=I||[];let X=rT1(B,G),W=Sm3(Q,Z,Y);if(J>0)for(let E=0;E<=J;E++){let D=rT1(B,E);if(W[D]!==void 0)return{variation:-1,versionIsBlocked:!0}}let K=W[X];if(K===void 0)return{variation:-1};let V=I.findIndex((E)=>E.key===K);if(V<0)return{variation:-1};return{variation:V}}function rT1(A,Q){return Q=Q||0,`${A}__${Q}`}function sT1(A,Q){return`${A}||${Q}`}function Sm3(A,Q,B){if(!A.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:G,hashValue:Z}=Ys(A,Q),Y=sT1(G,nHA(Z)),{hashAttribute:J,hashValue:I}=Ys(A,B),X=I?sT1(J,nHA(I)):null,W={};if(X&&A.user.stickyBucketAssignmentDocs[X])Object.assign(W,A.user.stickyBucketAssignmentDocs[X].assignments||{});if(A.user.stickyBucketAssignmentDocs[Y])Object.assign(W,A.user.stickyBucketAssignmentDocs[Y].assignments||{});return W}function xm3(A,Q,B,G){let Z=sT1(Q,B),Y=A.user.stickyBucketAssignmentDocs&&A.user.stickyBucketAssignmentDocs[Z]?A.user.stickyBucketAssignmentDocs[Z].assignments||{}:{},J={...Y,...G},I=JSON.stringify(Y)!==JSON.stringify(J);return{key:Z,doc:{attributeName:Q,attributeValue:B,assignments:J},changed:I}}function ym3(A,Q){let B=new Set,G=Q&&Q.features?Q.features:A.global.features||{},Z=Q&&Q.experiments?Q.experiments:A.global.experiments||[];return Object.keys(G).forEach((Y)=>{let J=G[Y];if(J.rules){for(let I of J.rules)if(I.variations){if(B.add(I.hashAttribute||"id"),I.fallbackAttribute)B.add(I.fallbackAttribute)}}}),Z.map((Y)=>{if(B.add(Y.hashAttribute||"id"),Y.fallbackAttribute)B.add(Y.fallbackAttribute)}),Array.from(B)}async function EfQ(A,Q,B){let G=tT1(A,B);return Q.getAllAssignments(G)}function tT1(A,Q){let B={};return ym3(A,Q).forEach((Z)=>{let{hashValue:Y}=Ys(A,Z);B[Z]=nHA(Y)}),B}async function DfQ(A,Q,B){if(A={...A},A.encryptedFeatures){try{A.features=JSON.parse(await Zs(A.encryptedFeatures,Q,B))}catch(G){console.error(G)}delete A.encryptedFeatures}if(A.encryptedExperiments){try{A.experiments=JSON.parse(await Zs(A.encryptedExperiments,Q,B))}catch(G){console.error(G)}delete A.encryptedExperiments}if(A.encryptedSavedGroups){try{A.savedGroups=JSON.parse(await Zs(A.encryptedSavedGroups,Q,B))}catch(G){console.error(G)}delete A.encryptedSavedGroups}return A}function HfQ(A){let Q=A.apiHost||"https://cdn.growthbook.io";return{apiHost:Q.replace(/\/*$/,""),streamingHost:(A.streamingHost||Q).replace(/\/*$/,""),apiRequestHeaders:A.apiHostRequestHeaders,streamingHostRequestHeaders:A.streamingHostRequestHeaders}}function KmA(A,Q){return Q.hashAttribute+Q.hashValue+A.key+Q.variationId}var Nm3="Feature Evaluated",qm3="Experiment Viewed";var FfQ=q(()=>{IfQ();aHA()});class VmA{constructor(A){if(A=A||{},this.version=vm3,this._options=this.context=A,this._renderer=A.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!A.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!A.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),A.remoteEval){if(A.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!A.clientKey)throw Error("Missing clientKey");let Q=!1;try{Q=!!new URL(A.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(B){}if(Q)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(A.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(A.stickyBucketService){let Q=A.stickyBucketService;this._saveStickyBucketAssignmentDoc=(B)=>{return Q.saveAssignments(B)}}if(A.plugins)for(let Q of A.plugins)Q(this);if(A.features)this.ready=!0;if(Y6A&&A.enableDevMode)window._growthbook=this,document.dispatchEvent(new Event("gbloaded"));if(A.experiments)this.ready=!0,this._updateAllAutoExperiments();if(this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let Q in this._options.stickyBucketAssignmentDocs){let B=this._options.stickyBucketAssignmentDocs[Q];if(B)this._options.stickyBucketService.saveAssignments(B).catch(()=>{})}if(this.ready)this.refreshStickyBuckets(this.getPayload())}async setPayload(A){this._payload=A;let Q=await DfQ(A,this._options.decryptionKey);if(this._decryptedPayload=Q,await this.refreshStickyBuckets(Q),Q.features)this._options.features=Q.features;if(Q.savedGroups)this._options.savedGroups=Q.savedGroups;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();this.ready=!0,this._render()}initSync(A){this._initialized=!0;let Q=A.payload;if(Q.encryptedExperiments||Q.encryptedFeatures)throw Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,Q);if(this._payload=Q,this._decryptedPayload=Q,Q.features)this._options.features=Q.features;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();return this.ready=!0,tuA(this,A),this}async init(A){if(this._initialized=!0,A=A||{},A.cacheSettings)ukQ(A.cacheSettings);if(A.payload)return await this.setPayload(A.payload),tuA(this,A),{success:!0,source:"init"};else{let{data:Q,...B}=await this._refresh({...A,allowStale:!0});return tuA(this,A),await this.setPayload(Q||{}),B}}async loadFeatures(A){A=A||{},await this.init({skipCache:A.skipCache,timeout:A.timeout,streaming:(this._options.backgroundSync??!0)&&(A.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(A){let Q=await this._refresh({...A||{},allowStale:!1});if(Q.data)await this.setPayload(Q.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return HfQ(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(A){let{timeout:Q,skipCache:B,allowStale:G,streaming:Z}=A;if(!this._options.clientKey)throw Error("Missing clientKey");return mkQ({instance:this,timeout:Q,skipCache:B||this._options.disableCache,allowStale:G,backgroundSync:Z??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(A){console.error("Failed to render",A)}}setFeatures(A){this._options.features=A,this.ready=!0,this._render()}async setEncryptedFeatures(A,Q,B){let G=await Zs(A,Q||this._options.decryptionKey,B);this.setFeatures(JSON.parse(G))}setExperiments(A){this._options.experiments=A,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(A,Q,B){let G=await Zs(A,Q||this._options.decryptionKey,B);this.setExperiments(JSON.parse(G))}async setAttributes(A){if(this._options.attributes=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(A){return this.setAttributes({...this._options.attributes,...A})}async setAttributeOverrides(A){if(this._options.attributeOverrides=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(A){if(this._options.forcedVariations=A||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(A){this._options.forcedFeatureValues=A,this._render()}async setURL(A){if(A===this._options.url)return;if(this._options.url=A,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(A){return this._subscriptions.add(A),()=>{this._subscriptions.delete(A)}}async _refreshForRemoteEval(){if(!this._options.remoteEval)return;if(!this._initialized)return;let A=await this._refresh({allowStale:!1});if(A.data)await this.setPayload(A.data)}getAllResults(){return new Map(this._assigned)}onDestroy(A){this._destroyCallbacks.push(A)}isDestroyed(){return!!this._destroyed}destroy(){if(this._destroyed=!0,this._destroyCallbacks.forEach((A)=>{try{A()}catch(Q){console.error(Q)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,dkQ(this),this.logs=[],Y6A&&window._growthbook===this)delete window._growthbook;this._activeAutoExperiments.forEach((A)=>{A.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(A){this._renderer=A}forceVariation(A,Q){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[A]=Q,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(A){let{result:Q}=WmA(A,null,this._getEvalContext());return this._fireSubscriptions(A,Q),Q}triggerExperiment(A){if(this._triggeredExpKeys.add(A),!this._options.experiments)return null;return this._options.experiments.filter((B)=>B.key===A).map((B)=>{return this._runAutoExperiment(B)}).filter((B)=>B!==null)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(A,Q){let B=this._activeAutoExperiments.get(A);if(A.manual&&!this._triggeredExpKeys.has(A.key)&&!B)return null;let G=this._isAutoExperimentBlockedByContext(A),Z,Y;if(G)Z=hY(this._getEvalContext(),A,-1,!1,"");else({result:Z,trackingCall:Y}=WmA(A,null,this._getEvalContext())),this._fireSubscriptions(A,Z);let J=JSON.stringify(Z.value);if(!Q&&Z.inExperiment&&B&&B.valueHash===J)return Z;if(B)this._undoActiveAutoExperiment(A);if(Z.inExperiment){let I=ouA(A);if(I==="redirect"&&Z.value.urlRedirect&&A.urlPatterns){let X=A.persistQueryString?bkQ(this._getContextUrl(),Z.value.urlRedirect):Z.value.urlRedirect;if(auA(X,A.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:A.key}),Z;this._redirectedUrl=X;let{navigate:W,delay:K}=this._getNavigateFunction();if(W)if(Y6A)Promise.all([...Y?[ruA(Y,this._options.maxNavigateDelay??1000)]:[],new Promise((V)=>window.setTimeout(V,this._options.navigateDelay??K))]).then(()=>{try{W(X)}catch(V){console.error(V)}});else try{W(X)}catch(V){console.error(V)}}else if(I==="visual"){let X=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(Z.value):this._applyDOMChanges(Z.value);if(X)this._activeAutoExperiments.set(A,{undo:X,valueHash:J})}}return Z}_undoActiveAutoExperiment(A){let Q=this._activeAutoExperiments.get(A);if(Q)Q.undo(),this._activeAutoExperiments.delete(A)}_updateAllAutoExperiments(A){if(!this._autoExperimentsAllowed)return;let Q=this._options.experiments||[],B=new Set(Q);this._activeAutoExperiments.forEach((G,Z)=>{if(!B.has(Z))G.undo(),this._activeAutoExperiments.delete(Z)});for(let G of Q){let Z=this._runAutoExperiment(G,A);if(Z!==null&&Z!==void 0&&Z.inExperiment&&ouA(G)==="redirect")break}}_fireSubscriptions(A,Q){let B=A.key,G=this._assigned.get(B);if(!G||G.result.inExperiment!==Q.inExperiment||G.result.variationId!==Q.variationId)this._assigned.set(B,{experiment:A,result:Q}),this._subscriptions.forEach((Z)=>{try{Z(A,Q)}catch(Y){console.error(Y)}})}_recordChangedId(A){this._completedChangeIds.add(A)}isOn(A){return this.evalFeature(A).on}isOff(A){return this.evalFeature(A).off}getFeatureValue(A,Q){let B=this.evalFeature(A).value;return B===null?Q:B}feature(A){return this.evalFeature(A)}evalFeature(A){return XmA(A,this._getEvalContext())}log(A,Q){if(!this.debug)return;if(this._options.log)this._options.log(A,Q);else console.log(A,Q)}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(A){this._deferredTrackingCalls=new Map(A.filter((Q)=>Q&&Q.experiment&&Q.result).map((Q)=>{return[KmA(Q.experiment,Q.result),Q]}))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let A=[];this._deferredTrackingCalls.forEach((Q)=>{if(!Q||!Q.experiment||!Q.result)console.error("Invalid deferred tracking call",{call:Q});else A.push(this._options.trackingCallback(Q.experiment,Q.result))}),this._deferredTrackingCalls.clear(),await Promise.all(A)}setTrackingCallback(A){this._options.trackingCallback=A,this.fireDeferredTrackingCalls()}setEventLogger(A){this._options.eventLogger=A}async logEvent(A,Q){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode)this.logs.push({eventName:A,properties:Q,timestamp:Date.now().toString(),logType:"event"});if(this._options.eventLogger)try{await this._options.eventLogger(A,Q||{},this._getUserContext())}catch(B){console.error(B)}else console.error("No event logger configured")}_saveDeferredTrack(A){this._deferredTrackingCalls.set(KmA(A.experiment,A.result),A)}_getContextUrl(){return this._options.url||(Y6A?window.location.href:"")}_isAutoExperimentBlockedByContext(A){let Q=ouA(A);if(Q==="visual"){if(this._options.disableVisualExperiments)return!0;if(this._options.disableJsInjection){if(A.variations.some((B)=>B.js))return!0}}else if(Q==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{let B=new URL(this._getContextUrl());for(let G of A.variations){if(!G||!G.urlRedirect)continue;let Z=new URL(G.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments){if(Z.protocol!==B.protocol)return!0;if(Z.host!==B.host)return!0}}}catch(B){return this.log("Error parsing current or redirect URL",{id:A.key,error:B}),!0}}else return!0;if(A.changeId&&(this._options.blockedChangeIds||[]).includes(A.changeId))return!0;return!1}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){if(this._options.navigate)return{navigate:this._options.navigate,delay:0};else if(Y6A)return{navigate:(A)=>{window.location.replace(A)},delay:100};return{navigate:null,delay:0}}_applyDOMChanges(A){if(!Y6A)return;let Q=[];if(A.css){let B=document.createElement("style");B.innerHTML=A.css,document.head.appendChild(B),Q.push(()=>B.remove())}if(A.js){let B=document.createElement("script");if(B.innerHTML=A.js,this._options.jsInjectionNonce)B.nonce=this._options.jsInjectionNonce;document.head.appendChild(B),Q.push(()=>B.remove())}if(A.domMutations)A.domMutations.forEach((B)=>{Q.push(CfQ.default.declarative(B).revert)});return()=>{Q.forEach((B)=>B())}}async refreshStickyBuckets(A){if(this._options.stickyBucketService){let Q=this._getEvalContext(),B=await EfQ(Q,this._options.stickyBucketService,A);this._options.stickyBucketAssignmentDocs=B}}generateStickyBucketAssignmentDocsSync(A,Q){if(!("getAllAssignmentsSync"in A)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let B=this._getEvalContext(),G=tT1(B,Q);return A.getAllAssignmentsSync(G)}inDevMode(){return!!this._options.enableDevMode}}var CfQ,Y6A,vm3;var zfQ=q(()=>{aHA();ikQ();FfQ();CfQ=o(ZfQ(),1),Y6A=typeof window<"u"&&typeof document<"u",vm3=fkQ()});var UfQ=q(()=>{zfQ()});function Aj1(A){let Q=HmA.get(A);if(Q)LfQ({experimentId:Q.experimentId,variationId:Q.variationId,userAttributes:$fQ(),experimentMetadata:{feature_id:A}})}function X6A(){return AFA()}function $fQ(){let A=MfQ();return{id:A.deviceId,sessionId:A.sessionId,deviceID:A.deviceId,...A.organizationUuid&&{organizationUUID:A.organizationUuid},...A.accountUuid&&{accountUUID:A.accountUuid},...A.userType&&{userType:A.userType},...A.subscriptionType&&{subscriptionType:A.subscriptionType},...A.firstTokenTime&&{firstTokenTime:A.firstTokenTime},...A.email&&{email:A.email},...A.appVersion&&{appVersion:A.appVersion},...A.githubActionsMetadata&&{githubActionsMetadata:A.githubActionsMetadata}}}async function km3(A,Q,B){if(!X6A())return Q;let G=await Js();if(!G)return Q;let Z=G.getFeatureValue(A,Q);if(B)Aj1(A);return Z}function eHA(A,Q){if(!X6A())return Q;if(fm3(A,Q),HmA.has(A))Aj1(A);else DmA.add(A);try{let B=c1().cachedGrowthBookFeatures?.[A];return B!==void 0?B:Q}catch{return Q}}async function fm3(A,Q){let B=await km3(A,Q,!1);if(c1().cachedGrowthBookFeatures?.[A]===B)return;i0((Z)=>({...Z,cachedGrowthBookFeatures:{...Z.cachedGrowthBookFeatures??{},[A]:B}}))}function wfQ(){if(!X6A())return;try{Qj1(),Js()}catch(A){r(A instanceof Error?A:Error(`GrowthBook: Force refresh failed: ${A}`))}}function Qj1(){qfQ(),sk?.destroy(),sk=null,eT1=!1,HmA.clear(),DmA.clear(),EmA.cache?.clear?.(),Js.cache?.clear?.()}async function hm3(){if(!X6A())return;try{let A=await Js();if(!A)return;await A.refreshFeatures();let Q=c1().cachedGrowthBookFeatures;if(Q){let B={...Q},G=!1;for(let Z of Object.keys(Q)){let Y=A.getFeatureValue(Z,void 0);if(Y!==void 0&&Y!==Q[Z])B[Z]=Y,G=!0}if(G)i0((Z)=>({...Z,cachedGrowthBookFeatures:B}))}}catch(A){r(A instanceof Error?A:Error(`GrowthBook: Light refresh failed: ${A}`))}}function NfQ(){if(!X6A())return;if(J6A)clearInterval(J6A);if(J6A=setInterval(()=>{hm3()},bm3),!I6A)I6A=()=>{qfQ()},process.on("beforeExit",I6A)}function qfQ(){if(J6A)clearInterval(J6A),J6A=null;if(I6A)process.removeListener("beforeExit",I6A),I6A=null}var sk=null,eT1=!1,HmA,DmA,EmA,Js,bm3=21600000,J6A=null,I6A=null;var Is=q(()=>{e3A();UfQ();tk();Q0();g1();QFA();vQ();rD();u0();HmA=new Map,DmA=new Set;EmA=Z0(()=>{if(!X6A())return null;let A=$fQ(),Q="https://api.anthropic.com/",G=tZ(!0)||I4()?AY():{headers:{},error:"trust not established"};eT1=!G.error,sk=new VmA({apiHost:Q,clientKey:Hh0,attributes:A,remoteEval:!0,cacheKeyAttributes:["id"],...G.error?{}:{apiHostRequestHeaders:G.headers},...{}});let Y=sk.init({timeout:5000}).then(async(J)=>{let I=sk?.getPayload();if(I?.features){let X={};for(let[W,K]of Object.entries(I.features)){let V=K;if("value"in V&&!("defaultValue"in V))X[W]={...V,defaultValue:V.value};else X[W]=V;if(V.source==="experiment"&&V.experimentResult){let{experimentResult:E,experiment:D}=V;if(D?.key&&E.variationId!==void 0)HmA.set(W,{experimentId:D.key,variationId:E.variationId})}}await sk?.setPayload({...I,features:X});for(let W of DmA)Aj1(W);DmA.clear()}}).catch((J)=>{});return process.on("beforeExit",()=>{sk?.destroy()}),process.on("exit",()=>{sk?.destroy()}),{client:sk,initialized:Y}}),Js=Z0(async()=>{let A=EmA();if(!A)return null;if(!eT1){if(tZ(!0)||I4()){if(!AY().error){if(EmA.cache?.clear?.(),Js.cache?.clear?.(),A=EmA(),!A)return null}}}return await A.initialized,A.client})});function mI(){return process.env.ANTHROPIC_SMALL_FAST_MODEL||ZFA()}function V6A(A){return A===bY().opus40||A===bY().opus41||A===bY().opus45}function FmA(A){return A.includes("opus")}function CmA(){let A,Q=qG1();if(Q!==void 0)A=Q;else{let B=CQ()||{};A=process.env.ANTHROPIC_MODEL||B.model||void 0}if(LB()&&!YL()&&A&&FmA(A))return;return A}function Ws(A={}){let Q=CmA();if(Q!==null&&Q!==void 0)return Q;let{forDisplay:B=!1}=A;return _fQ(B)}function c8(){let A=Ws();if(A!==void 0&&A!==null)return uI(A);return ek()}function hz(){if(process.env.ANTHROPIC_DEFAULT_SONNET_MODEL)return process.env.ANTHROPIC_DEFAULT_SONNET_MODEL;return bY().sonnet45}function BFA(){return c3()==="max"}function GFA(){return c3()==="team"}function RfQ(){return c3()==="pro"}function Ks(){if(process.env.ANTHROPIC_DEFAULT_OPUS_MODEL)return process.env.ANTHROPIC_DEFAULT_OPUS_MODEL;if(_3()==="firstParty")return bY().opus45;return bY().opus41}function ZFA(){if(process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL)return process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL;if(_3()==="firstParty"||_3()==="foundry")return bY().haiku45;return bY().haiku35}function zmA(){return u7("tengu_opus_default_pro_plan","opus_is_default",!1)}function Vs(A){let{permissionMode:Q,mainLoopModel:B,exceeds200kTokens:G=!1}=A;if(Ws()==="opusplan"&&Q==="plan"&&!G)return Ks();if(Ws()==="haiku"&&Q==="plan")return hz();return B}function Zj1(){if(!LB())return!1;let{hasAccess:A}=kd();if(!A)return!1;return u7("sonnet_1m_default","enabled",!1)}function _fQ(A){let Q=um3();if(Q!==null&&Q.name)return A?Q.displayName??Q.name:Q.name;if(Zj1())return"sonnet[1m]";return}function UmA(A={}){let{forDisplay:Q=!1}=A,B=_fQ(Q);if(B!==void 0)return B;if(BFA()||GFA())return Ks();if(RfQ()&&zmA())return Ks();return hz()}function ek(A={}){return uI(UmA(A))}function Vw(A){if(A.includes("claude-opus-4-5"))return"claude-opus-4-5";if(A.includes("claude-opus-4-1"))return"claude-opus-4-1";if(A.includes("claude-opus-4"))return"claude-opus-4";let Q=A.match(/(claude-(\d+-\d+-)?\w+)/);if(Q&&Q[1])return Q[1];return A}async function TfQ(){try{if(c1().claudeCodeFirstTokenDate!==void 0)return;let Q=AY();if(Q.error){r(Error(`Failed to get auth headers: ${Q.error}`));return}let G=`${k9().BASE_API_URL}/api/organization/claude_code_first_token_date`,Y=(await FQ.get(G,{headers:{...Q.headers,"User-Agent":gI()}})).data?.first_token_date??null;if(Y!==null){let J=new Date(Y).getTime();if(isNaN(J)){r(Error(`Received invalid first_token_date from API: ${Y}`));return}}i0((J)=>({...J,claudeCodeFirstTokenDate:Y}))}catch(A){r(A instanceof Error?A:Error(String(A)))}}function $mA(){if(Zj1())return"Sonnet 4.5 with 1M context ¬∑ Best for everyday tasks";if(BFA()||GFA())return"Opus 4.5 ¬∑ Most capable for complex work";if(RfQ()&&zmA())return"Opus 4.5 ¬∑ Most capable for complex work";return"Sonnet 4.5 ¬∑ Best for everyday tasks"}function mm3(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return tD(uI(A))}function jfQ(A){if(A==="opusplan")return"Opus Plan";if(Jj1(A))return A.charAt(0).toUpperCase()+A.slice(1);return tD(A)}function tD(A){if(A===bY().opus45)return"Opus 4.5";if(A===bY().opus41)return"Opus 4.1";if(A===bY().opus40)return"Opus 4";if(A===bY().sonnet45+"[1m]")return"Sonnet 4.5 (1M context)";if(A===bY().sonnet45)return"Sonnet 4.5";if(A===bY().sonnet40)return"Sonnet 4";if(A===bY().sonnet40+"[1m]")return"Sonnet 4 (1M context)";if(A===bY().sonnet37)return"Sonnet 3.7";if(A===bY().sonnet35)return"Sonnet 3.5";if(A===bY().haiku45)return"Haiku 4.5";if(A===bY().haiku35)return"Haiku 3.5";return A}function PfQ(A){let Q=tD(A);if(Q===A)return"Claude";return`Claude ${Q}`}function Xs(){if(LB()){if(!YL())return{value:null,label:"Sonnet",description:Yj1.description};return{value:null,label:"Default (recommended)",description:$mA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${mm3(UmA({forDisplay:!0}))}) ¬∑ ${vd(Qs)}`}}function pm3(){return ZFA()===bY().haiku45?yfQ:cm3}function am3(){let A=_3()==="firstParty"?yfQ:null;if(LB()){if(!YL())return[Xs(),Bj1];if(BFA()||GFA()){let G=[Xs(),im3];if(kd().hasAccess)G.push(OfQ);return G.push(Bj1),G}let B=[Xs(),lm3];if(Zj1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if(kd().hasAccess)B.push(OfQ);return B.push(Bj1),B}let Q=[Xs(),xfQ()];if(_3()!=="firstParty")Q.push(dm3());if(kd().hasAccess)Q.push(SfQ);if(A)Q.push(A);return Q}function wmA(){let A=am3(),Q=null,B=CmA(),G=wPA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,nm3()];if(!LB()&&Jj1(Q))if(Q==="sonnet")A.push(Yj1);else if(Q==="sonnet[1m]")A.push(SfQ);else if(Q==="opus")A.push(xfQ());else if(Q==="haiku")A.push(pm3());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Jj1(A){return W6A.includes(A)}function uI(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Jj1(Z))switch(Z){case"opusplan":return hz()+(G?"[1m]":"");case"sonnet":return hz()+(G?"[1m]":"");case"haiku":return ZFA()+(G?"[1m]":"");case"opus":return Ks();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function DL(A){if(A===null){if(LB()&&!YL())return`Sonnet (${Yj1.description})`;else if(LB())return`Default (${$mA()})`;return`Default (${ek({forDisplay:!0})})`}let Q=uI(A);return A===Q?Q:`${A} (${Q})`}function E6A(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;if(B)return uI(B);if(!A)return uI(Gj1);if(A==="inherit")return Vs({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return uI(A)}function NmA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function vfQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(YL())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function Af(A){return A.replace(/\[1m\]/gi,"")}var W6A,gm3,ryQ,K6A,Gj1="sonnet",um3,Yj1,SfQ,xfQ=()=>{let A=_3()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} ¬∑ ${A?"Legacy":"Most capable for complex work"} ¬∑ ${vd(A?vuA:kuA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},dm3=()=>{return{value:bY().opus45,label:"Opus 4.5",description:`Opus 4.5 ¬∑ Most capable for complex work ¬∑ ${vd(kuA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},yfQ,cm3,lm3,OfQ,im3,Bj1,nm3=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var d2=q(()=>{p2();vQ();u0();V2();b3A();qR1();buA();gB();w4();tk();m8();nJ();g1();rD();huA();hW();Is();W6A=["sonnet","opus","haiku","sonnet[1m]","opusplan"],gm3=yr,ryQ=gm3.firstParty,K6A=[...W6A,"inherit"];um3=Z0(()=>{return eHA("strawberry_granite_flag","N/A"),eHA("persimmon_marble_flag","N/A"),null});Yj1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 ¬∑ Best for everyday tasks ¬∑ ${vd(Qs)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},SfQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions ¬∑ ${vd(MT1)}`,descriptionForModel:"Sonnet 4.5 with 1M context window - for long sessions with large codebases"},yfQ={value:"haiku",label:"Haiku",description:`Haiku 4.5 ¬∑ Fastest for quick answers ¬∑ ${vd(RT1)}`,descriptionForModel:"Haiku 4.5 - fastest for quick answers. Lower cost but less capable than Sonnet 4.5."},cm3={value:"haiku",label:"Haiku",description:`Haiku 3.5 for simple tasks ¬∑ ${vd(OT1)}`,descriptionForModel:"Haiku 3.5 - faster and lower cost, but less capable than Sonnet. Use for simple tasks."};lm3={value:"opus",label:"Opus",description:"Opus 4.5 ¬∑ Most capable for complex work"},OfQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:"Sonnet 4.5 with 1M context ¬∑ Uses rate limits faster"},im3={value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 ¬∑ Best for everyday tasks"},Bj1={value:"haiku",label:"Haiku",description:"Haiku 4.5 ¬∑ Fastest for quick answers"}});async function sm3(){let[A,Q]=await Promise.all([QQ.getPackageManagers(),QQ.getRuntimes()]);return{platform:QQ.platform,arch:QQ.arch,nodeVersion:QQ.nodeVersion,terminal:bz.terminal,packageManagers:A.join(","),runtimes:Q.join(","),isRunningWithBun:QQ.isRunningWithBun(),isCi:C0(!1),isClaubbit:process.env.CLAUBBIT==="true",isClaudeCodeRemote:process.env.CLAUDE_CODE_REMOTE==="true",isConductor:QQ.isConductor(),...process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE&&{remoteEnvironmentType:process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE},...process.env.CLAUDE_CODE_CONTAINER_ID&&{claudeCodeContainerId:process.env.CLAUDE_CODE_CONTAINER_ID},...process.env.CLAUDE_CODE_REMOTE_SESSION_ID&&{claudeCodeRemoteSessionId:process.env.CLAUDE_CODE_REMOTE_SESSION_ID},...process.env.CLAUDE_CODE_TAGS&&{tags:process.env.CLAUDE_CODE_TAGS},isGithubAction:process.env.GITHUB_ACTIONS==="true",isClaudeCodeAction:process.env.CLAUDE_CODE_ACTION==="1"||process.env.CLAUDE_CODE_ACTION==="true",isClaudeAiAuth:LB(),version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION,versionBase:rm3(),buildTime:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.BUILD_TIME,deploymentEnvironment:QQ.detectDeploymentEnvironment(),...process.env.GITHUB_ACTIONS==="true"&&{githubEventName:process.env.GITHUB_EVENT_NAME,githubActionsRunnerEnvironment:process.env.RUNNER_ENVIRONMENT,githubActionsRunnerOs:process.env.RUNNER_OS,githubActionRef:process.env.GITHUB_ACTION_PATH?.includes("claude-code-action/")?process.env.GITHUB_ACTION_PATH.split("claude-code-action/")[1]:void 0},...Ao()&&{wslVersion:Ao()}}}function tm3(){return}async function hd(A={}){let Q=A.model?String(A.model):c8(),B=d$(Q),G=await sm3(),Z=tm3();return{model:Q,sessionId:W0(),userType:"external",...B.length>0?{betas:B.join(",")}:{},envContext:G,...process.env.CLAUDE_CODE_ENTRYPOINT&&{entrypoint:process.env.CLAUDE_CODE_ENTRYPOINT},...process.env.CLAUDE_AGENT_SDK_VERSION&&{agentSdkVersion:process.env.CLAUDE_AGENT_SDK_VERSION},isInteractive:String(PBA()),clientType:LPA(),...Z&&{processMetrics:Z},sweBenchRunId:process.env.SWE_BENCH_RUN_ID||"",sweBenchInstanceId:process.env.SWE_BENCH_INSTANCE_ID||"",sweBenchTaskId:process.env.SWE_BENCH_TASK_ID||""}}function kfQ(A,Q={}){let B={};for(let[G,Z]of Object.entries(Q))if(Z!==void 0)B[G]=String(Z);for(let[G,Z]of Object.entries(A)){if(Z===void 0)continue;if(G==="envContext")B.env=JSON.stringify(Z);else if(G==="processMetrics")B.process=JSON.stringify(Z);else B[G]=String(Z)}return B}function ffQ(A,Q={}){let{envContext:B,processMetrics:G,...Z}=A;return{...Q,...Z,env:B,...G&&{process:G},surface:om3}}function bfQ(A,Q,B={}){let{envContext:G,processMetrics:Z,...Y}=A,J={platform:G.platform,arch:G.arch,node_version:G.nodeVersion,terminal:G.terminal||"unknown",package_managers:G.packageManagers,runtimes:G.runtimes,is_running_with_bun:G.isRunningWithBun,is_ci:G.isCi,is_claubbit:G.isClaubbit,is_claude_code_remote:G.isClaudeCodeRemote,is_conductor:G.isConductor,is_github_action:G.isGithubAction,is_claude_code_action:G.isClaudeCodeAction,is_claude_ai_auth:G.isClaudeAiAuth,version:G.version,build_time:G.buildTime,deployment_environment:G.deploymentEnvironment};if(G.remoteEnvironmentType)J.remote_environment_type=G.remoteEnvironmentType;if(G.claudeCodeContainerId)J.claude_code_container_id=G.claudeCodeContainerId;if(G.claudeCodeRemoteSessionId)J.claude_code_remote_session_id=G.claudeCodeRemoteSessionId;if(G.tags)J.tags=G.tags.split(",").map((X)=>X.trim()).filter(Boolean);if(G.githubEventName)J.github_event_name=G.githubEventName;if(G.githubActionsRunnerEnvironment)J.github_actions_runner_environment=G.githubActionsRunnerEnvironment;if(G.githubActionsRunnerOs)J.github_actions_runner_os=G.githubActionsRunnerOs;if(G.githubActionRef)J.github_action_ref=G.githubActionRef;if(G.wslVersion)J.wsl_version=G.wslVersion;if(G.versionBase)J.version_base=G.versionBase;let I={session_id:Y.sessionId,model:Y.model,user_type:Y.userType,is_interactive:Y.isInteractive==="true",client_type:Y.clientType};if(Y.betas)I.betas=Y.betas;if(Y.entrypoint)I.entrypoint=Y.entrypoint;if(Y.agentSdkVersion)I.agent_sdk_version=Y.agentSdkVersion;if(Y.sweBenchRunId)I.swe_bench_run_id=Y.sweBenchRunId;if(Y.sweBenchInstanceId)I.swe_bench_instance_id=Y.sweBenchInstanceId;if(Y.sweBenchTaskId)I.swe_bench_task_id=Y.sweBenchTaskId;if(Q.githubActionsMetadata){let X=Q.githubActionsMetadata;J.github_actions_metadata={actor_id:X.actorId,repository_id:X.repositoryId,repository_owner_id:X.repositoryOwnerId}}return{env:J,...Z&&{process:JSON.stringify(Z)},core:I,additional:B}}var om3="claude-code",rm3;var D6A=q(()=>{p2();R8();er();Bk();d2();u0();sQ();V2();Z8();rm3=Z0(()=>{let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION.match(/^\d+\.\d+\.\d+(?:-[a-z]+)?/);return A?A[0]:void 0})});function em3(){return{seconds:0,nanos:0}}function hfQ(A){return A!==null&&A!==void 0}var YFA;var Ij1=q(()=>{YFA={fromJSON(A){return{seconds:hfQ(A.seconds)?globalThis.Number(A.seconds):0,nanos:hfQ(A.nanos)?globalThis.Number(A.nanos):0}},toJSON(A){let Q={};if(A.seconds!==void 0)Q.seconds=Math.round(A.seconds);if(A.nanos!==void 0)Q.nanos=Math.round(A.nanos);return Q},create(A){return YFA.fromPartial(A??{})},fromPartial(A){let Q=em3();return Q.seconds=A.seconds??0,Q.nanos=A.nanos??0,Q}}});function Ad3(){return{account_id:0,organization_uuid:"",account_uuid:""}}function Xj1(A){return A!==null&&A!==void 0}var Qf;var Wj1=q(()=>{Qf={fromJSON(A){return{account_id:Xj1(A.account_id)?globalThis.Number(A.account_id):0,organization_uuid:Xj1(A.organization_uuid)?globalThis.String(A.organization_uuid):"",account_uuid:Xj1(A.account_uuid)?globalThis.String(A.account_uuid):""}},toJSON(A){let Q={};if(A.account_id!==void 0)Q.account_id=Math.round(A.account_id);if(A.organization_uuid!==void 0)Q.organization_uuid=A.organization_uuid;if(A.account_uuid!==void 0)Q.account_uuid=A.account_uuid;return Q},create(A){return Qf.fromPartial(A??{})},fromPartial(A){let Q=Ad3();return Q.account_id=A.account_id??0,Q.organization_uuid=A.organization_uuid??"",Q.account_uuid=A.account_uuid??"",Q}}});function Qd3(){return{actor_id:"",repository_id:"",repository_owner_id:""}}function Bd3(){return{platform:"",node_version:"",terminal:"",package_managers:"",runtimes:"",is_running_with_bun:!1,is_ci:!1,is_claubbit:!1,is_github_action:!1,is_claude_code_action:!1,is_claude_ai_auth:!1,version:"",github_event_name:"",github_actions_runner_environment:"",github_actions_runner_os:"",github_action_ref:"",wsl_version:"",github_actions_metadata:void 0,arch:"",is_claude_code_remote:!1,remote_environment_type:"",claude_code_container_id:"",claude_code_remote_session_id:"",tags:[],deployment_environment:""}}function Gd3(){return{event_name:"",client_timestamp:void 0,model:"",session_id:"",user_type:"",betas:"",env:void 0,entrypoint:"",agent_sdk_version:"",is_interactive:!1,client_type:"",process:"",additional_metadata:"",auth:void 0,server_timestamp:void 0,event_id:"",device_id:"",swe_bench_run_id:"",swe_bench_instance_id:"",swe_bench_task_id:"",email:""}}function Zd3(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function gfQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Zd3(YFA.fromJSON(A))}function h4(A){return A!==null&&A!==void 0}var qmA,LmA,MmA;var ufQ=q(()=>{Ij1();Wj1();qmA={fromJSON(A){return{actor_id:h4(A.actor_id)?globalThis.String(A.actor_id):"",repository_id:h4(A.repository_id)?globalThis.String(A.repository_id):"",repository_owner_id:h4(A.repository_owner_id)?globalThis.String(A.repository_owner_id):""}},toJSON(A){let Q={};if(A.actor_id!==void 0)Q.actor_id=A.actor_id;if(A.repository_id!==void 0)Q.repository_id=A.repository_id;if(A.repository_owner_id!==void 0)Q.repository_owner_id=A.repository_owner_id;return Q},create(A){return qmA.fromPartial(A??{})},fromPartial(A){let Q=Qd3();return Q.actor_id=A.actor_id??"",Q.repository_id=A.repository_id??"",Q.repository_owner_id=A.repository_owner_id??"",Q}};LmA={fromJSON(A){return{platform:h4(A.platform)?globalThis.String(A.platform):"",node_version:h4(A.node_version)?globalThis.String(A.node_version):"",terminal:h4(A.terminal)?globalThis.String(A.terminal):"",package_managers:h4(A.package_managers)?globalThis.String(A.package_managers):"",runtimes:h4(A.runtimes)?globalThis.String(A.runtimes):"",is_running_with_bun:h4(A.is_running_with_bun)?globalThis.Boolean(A.is_running_with_bun):!1,is_ci:h4(A.is_ci)?globalThis.Boolean(A.is_ci):!1,is_claubbit:h4(A.is_claubbit)?globalThis.Boolean(A.is_claubbit):!1,is_github_action:h4(A.is_github_action)?globalThis.Boolean(A.is_github_action):!1,is_claude_code_action:h4(A.is_claude_code_action)?globalThis.Boolean(A.is_claude_code_action):!1,is_claude_ai_auth:h4(A.is_claude_ai_auth)?globalThis.Boolean(A.is_claude_ai_auth):!1,version:h4(A.version)?globalThis.String(A.version):"",github_event_name:h4(A.github_event_name)?globalThis.String(A.github_event_name):"",github_actions_runner_environment:h4(A.github_actions_runner_environment)?globalThis.String(A.github_actions_runner_environment):"",github_actions_runner_os:h4(A.github_actions_runner_os)?globalThis.String(A.github_actions_runner_os):"",github_action_ref:h4(A.github_action_ref)?globalThis.String(A.github_action_ref):"",wsl_version:h4(A.wsl_version)?globalThis.String(A.wsl_version):"",github_actions_metadata:h4(A.github_actions_metadata)?qmA.fromJSON(A.github_actions_metadata):void 0,arch:h4(A.arch)?globalThis.String(A.arch):"",is_claude_code_remote:h4(A.is_claude_code_remote)?globalThis.Boolean(A.is_claude_code_remote):!1,remote_environment_type:h4(A.remote_environment_type)?globalThis.String(A.remote_environment_type):"",claude_code_container_id:h4(A.claude_code_container_id)?globalThis.String(A.claude_code_container_id):"",claude_code_remote_session_id:h4(A.claude_code_remote_session_id)?globalThis.String(A.claude_code_remote_session_id):"",tags:globalThis.Array.isArray(A?.tags)?A.tags.map((Q)=>globalThis.String(Q)):[],deployment_environment:h4(A.deployment_environment)?globalThis.String(A.deployment_environment):""}},toJSON(A){let Q={};if(A.platform!==void 0)Q.platform=A.platform;if(A.node_version!==void 0)Q.node_version=A.node_version;if(A.terminal!==void 0)Q.terminal=A.terminal;if(A.package_managers!==void 0)Q.package_managers=A.package_managers;if(A.runtimes!==void 0)Q.runtimes=A.runtimes;if(A.is_running_with_bun!==void 0)Q.is_running_with_bun=A.is_running_with_bun;if(A.is_ci!==void 0)Q.is_ci=A.is_ci;if(A.is_claubbit!==void 0)Q.is_claubbit=A.is_claubbit;if(A.is_github_action!==void 0)Q.is_github_action=A.is_github_action;if(A.is_claude_code_action!==void 0)Q.is_claude_code_action=A.is_claude_code_action;if(A.is_claude_ai_auth!==void 0)Q.is_claude_ai_auth=A.is_claude_ai_auth;if(A.version!==void 0)Q.version=A.version;if(A.github_event_name!==void 0)Q.github_event_name=A.github_event_name;if(A.github_actions_runner_environment!==void 0)Q.github_actions_runner_environment=A.github_actions_runner_environment;if(A.github_actions_runner_os!==void 0)Q.github_actions_runner_os=A.github_actions_runner_os;if(A.github_action_ref!==void 0)Q.github_action_ref=A.github_action_ref;if(A.wsl_version!==void 0)Q.wsl_version=A.wsl_version;if(A.github_actions_metadata!==void 0)Q.github_actions_metadata=qmA.toJSON(A.github_actions_metadata);if(A.arch!==void 0)Q.arch=A.arch;if(A.is_claude_code_remote!==void 0)Q.is_claude_code_remote=A.is_claude_code_remote;if(A.remote_environment_type!==void 0)Q.remote_environment_type=A.remote_environment_type;if(A.claude_code_container_id!==void 0)Q.claude_code_container_id=A.claude_code_container_id;if(A.claude_code_remote_session_id!==void 0)Q.claude_code_remote_session_id=A.claude_code_remote_session_id;if(A.tags?.length)Q.tags=A.tags;if(A.deployment_environment!==void 0)Q.deployment_environment=A.deployment_environment;return Q},create(A){return LmA.fromPartial(A??{})},fromPartial(A){let Q=Bd3();return Q.platform=A.platform??"",Q.node_version=A.node_version??"",Q.terminal=A.terminal??"",Q.package_managers=A.package_managers??"",Q.runtimes=A.runtimes??"",Q.is_running_with_bun=A.is_running_with_bun??!1,Q.is_ci=A.is_ci??!1,Q.is_claubbit=A.is_claubbit??!1,Q.is_github_action=A.is_github_action??!1,Q.is_claude_code_action=A.is_claude_code_action??!1,Q.is_claude_ai_auth=A.is_claude_ai_auth??!1,Q.version=A.version??"",Q.github_event_name=A.github_event_name??"",Q.github_actions_runner_environment=A.github_actions_runner_environment??"",Q.github_actions_runner_os=A.github_actions_runner_os??"",Q.github_action_ref=A.github_action_ref??"",Q.wsl_version=A.wsl_version??"",Q.github_actions_metadata=A.github_actions_metadata!==void 0&&A.github_actions_metadata!==null?qmA.fromPartial(A.github_actions_metadata):void 0,Q.arch=A.arch??"",Q.is_claude_code_remote=A.is_claude_code_remote??!1,Q.remote_environment_type=A.remote_environment_type??"",Q.claude_code_container_id=A.claude_code_container_id??"",Q.claude_code_remote_session_id=A.claude_code_remote_session_id??"",Q.tags=A.tags?.map((B)=>B)||[],Q.deployment_environment=A.deployment_environment??"",Q}};MmA={fromJSON(A){return{event_name:h4(A.event_name)?globalThis.String(A.event_name):"",client_timestamp:h4(A.client_timestamp)?gfQ(A.client_timestamp):void 0,model:h4(A.model)?globalThis.String(A.model):"",session_id:h4(A.session_id)?globalThis.String(A.session_id):"",user_type:h4(A.user_type)?globalThis.String(A.user_type):"",betas:h4(A.betas)?globalThis.String(A.betas):"",env:h4(A.env)?LmA.fromJSON(A.env):void 0,entrypoint:h4(A.entrypoint)?globalThis.String(A.entrypoint):"",agent_sdk_version:h4(A.agent_sdk_version)?globalThis.String(A.agent_sdk_version):"",is_interactive:h4(A.is_interactive)?globalThis.Boolean(A.is_interactive):!1,client_type:h4(A.client_type)?globalThis.String(A.client_type):"",process:h4(A.process)?globalThis.String(A.process):"",additional_metadata:h4(A.additional_metadata)?globalThis.String(A.additional_metadata):"",auth:h4(A.auth)?Qf.fromJSON(A.auth):void 0,server_timestamp:h4(A.server_timestamp)?gfQ(A.server_timestamp):void 0,event_id:h4(A.event_id)?globalThis.String(A.event_id):"",device_id:h4(A.device_id)?globalThis.String(A.device_id):"",swe_bench_run_id:h4(A.swe_bench_run_id)?globalThis.String(A.swe_bench_run_id):"",swe_bench_instance_id:h4(A.swe_bench_instance_id)?globalThis.String(A.swe_bench_instance_id):"",swe_bench_task_id:h4(A.swe_bench_task_id)?globalThis.String(A.swe_bench_task_id):"",email:h4(A.email)?globalThis.String(A.email):""}},toJSON(A){let Q={};if(A.event_name!==void 0)Q.event_name=A.event_name;if(A.client_timestamp!==void 0)Q.client_timestamp=A.client_timestamp.toISOString();if(A.model!==void 0)Q.model=A.model;if(A.session_id!==void 0)Q.session_id=A.session_id;if(A.user_type!==void 0)Q.user_type=A.user_type;if(A.betas!==void 0)Q.betas=A.betas;if(A.env!==void 0)Q.env=LmA.toJSON(A.env);if(A.entrypoint!==void 0)Q.entrypoint=A.entrypoint;if(A.agent_sdk_version!==void 0)Q.agent_sdk_version=A.agent_sdk_version;if(A.is_interactive!==void 0)Q.is_interactive=A.is_interactive;if(A.client_type!==void 0)Q.client_type=A.client_type;if(A.process!==void 0)Q.process=A.process;if(A.additional_metadata!==void 0)Q.additional_metadata=A.additional_metadata;if(A.auth!==void 0)Q.auth=Qf.toJSON(A.auth);if(A.server_timestamp!==void 0)Q.server_timestamp=A.server_timestamp.toISOString();if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.swe_bench_run_id!==void 0)Q.swe_bench_run_id=A.swe_bench_run_id;if(A.swe_bench_instance_id!==void 0)Q.swe_bench_instance_id=A.swe_bench_instance_id;if(A.swe_bench_task_id!==void 0)Q.swe_bench_task_id=A.swe_bench_task_id;if(A.email!==void 0)Q.email=A.email;return Q},create(A){return MmA.fromPartial(A??{})},fromPartial(A){let Q=Gd3();return Q.event_name=A.event_name??"",Q.client_timestamp=A.client_timestamp??void 0,Q.model=A.model??"",Q.session_id=A.session_id??"",Q.user_type=A.user_type??"",Q.betas=A.betas??"",Q.env=A.env!==void 0&&A.env!==null?LmA.fromPartial(A.env):void 0,Q.entrypoint=A.entrypoint??"",Q.agent_sdk_version=A.agent_sdk_version??"",Q.is_interactive=A.is_interactive??!1,Q.client_type=A.client_type??"",Q.process=A.process??"",Q.additional_metadata=A.additional_metadata??"",Q.auth=A.auth!==void 0&&A.auth!==null?Qf.fromPartial(A.auth):void 0,Q.server_timestamp=A.server_timestamp??void 0,Q.event_id=A.event_id??"",Q.device_id=A.device_id??"",Q.swe_bench_run_id=A.swe_bench_run_id??"",Q.swe_bench_instance_id=A.swe_bench_instance_id??"",Q.swe_bench_task_id=A.swe_bench_task_id??"",Q.email=A.email??"",Q}}});function Yd3(){return{event_id:"",event_timestamp:void 0,timestamp:void 0,experiment_id:"",variation_id:0,environment:"",user_attributes:"",experiment_metadata:"",device_id:"",auth:void 0,session_id:""}}function Jd3(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function mfQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Jd3(YFA.fromJSON(A))}function jR(A){return A!==null&&A!==void 0}var Kj1;var dfQ=q(()=>{Ij1();Wj1();Kj1={fromJSON(A){return{event_id:jR(A.event_id)?globalThis.String(A.event_id):"",event_timestamp:jR(A.event_timestamp)?mfQ(A.event_timestamp):void 0,timestamp:jR(A.timestamp)?mfQ(A.timestamp):void 0,experiment_id:jR(A.experiment_id)?globalThis.String(A.experiment_id):"",variation_id:jR(A.variation_id)?globalThis.Number(A.variation_id):0,environment:jR(A.environment)?globalThis.String(A.environment):"",user_attributes:jR(A.user_attributes)?globalThis.String(A.user_attributes):"",experiment_metadata:jR(A.experiment_metadata)?globalThis.String(A.experiment_metadata):"",device_id:jR(A.device_id)?globalThis.String(A.device_id):"",auth:jR(A.auth)?Qf.fromJSON(A.auth):void 0,session_id:jR(A.session_id)?globalThis.String(A.session_id):""}},toJSON(A){let Q={};if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.event_timestamp!==void 0)Q.event_timestamp=A.event_timestamp.toISOString();if(A.timestamp!==void 0)Q.timestamp=A.timestamp.toISOString();if(A.experiment_id!==void 0)Q.experiment_id=A.experiment_id;if(A.variation_id!==void 0)Q.variation_id=Math.round(A.variation_id);if(A.environment!==void 0)Q.environment=A.environment;if(A.user_attributes!==void 0)Q.user_attributes=A.user_attributes;if(A.experiment_metadata!==void 0)Q.experiment_metadata=A.experiment_metadata;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.auth!==void 0)Q.auth=Qf.toJSON(A.auth);if(A.session_id!==void 0)Q.session_id=A.session_id;return Q},create(A){return Kj1.fromPartial(A??{})},fromPartial(A){let Q=Yd3();return Q.event_id=A.event_id??"",Q.event_timestamp=A.event_timestamp??void 0,Q.timestamp=A.timestamp??void 0,Q.experiment_id=A.experiment_id??"",Q.variation_id=A.variation_id??0,Q.environment=A.environment??"",Q.user_attributes=A.user_attributes??"",Q.experiment_metadata=A.experiment_metadata??"",Q.device_id=A.device_id??"",Q.auth=A.auth!==void 0&&A.auth!==null?Qf.fromPartial(A.auth):void 0,Q.session_id=A.session_id??"",Q}}});import{randomUUID as Id3}from"crypto";import{existsSync as JFA,readFileSync as Xd3,writeFileSync as Wd3,unlinkSync as cfQ,readdirSync as Kd3,mkdirSync as Vd3}from"fs";import*as OmA from"path";function H6A(){return OmA.join(uQ(),"telemetry")}class Vj1{endpoint;timeout;maxQueuedEvents;maxBatchSize;batchDelayMs;baseBackoffDelayMs;maxBackoffDelayMs;pendingExports=[];isShutdown=!1;backoffRetryTimer=null;backoffAttempt=0;isRetrying=!1;constructor(A={}){let Q=process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com";this.endpoint=`${Q}/api/event_logging/batch`,this.timeout=A.timeout||1e4,this.maxQueuedEvents=A.maxQueuedEvents||8192,this.maxBatchSize=A.maxBatchSize||200,this.batchDelayMs=A.batchDelayMs||100,this.baseBackoffDelayMs=A.baseBackoffDelayMs||500,this.maxBackoffDelayMs=A.maxBackoffDelayMs||30000,this.retryPreviousBatches()}getQueuedEventCount(){return this.loadEventsFromCurrentBatch().length}getCurrentBatchFilePath(){return OmA.join(H6A(),`${lfQ}${W0()}.${pfQ}.json`)}loadEventsFromFile(A){try{if(!JFA(A))return[];let Q=Xd3(A,"utf8");return JSON.parse(Q)}catch{return[]}}loadEventsFromCurrentBatch(){return this.loadEventsFromFile(this.getCurrentBatchFilePath())}saveEventsToFile(A,Q){try{if(Q.length===0){if(JFA(A))cfQ(A)}else{if(!JFA(H6A()))Vd3(H6A(),{recursive:!0});Wd3(A,JSON.stringify(Q),"utf8")}}catch(B){r(B)}}deleteFile(A){try{if(JFA(A))cfQ(A)}catch(Q){r(Q)}}retryPreviousBatches(){try{if(!JFA(H6A()))return;let A=`${lfQ}${W0()}.`,Q=Kd3(H6A()).filter((B)=>B.startsWith(A)&&B.endsWith(".json")).filter((B)=>!B.includes(pfQ));for(let B of Q){let G=OmA.join(H6A(),B);this.retryFileInBackground(G)}}catch(A){r(A)}}async retryFileInBackground(A){let Q=this.loadEventsFromFile(A);if(Q.length===0){this.deleteFile(A);return}if((await this.sendEventsInBatches(Q)).length===0)this.deleteFile(A)}async export(A,Q){if(this.isShutdown){Q({code:Es.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}let B=this.doExport(A,Q);this.pendingExports.push(B),B.finally(()=>{let G=this.pendingExports.indexOf(B);if(G>-1)this.pendingExports.splice(G,1)})}async doExport(A,Q){try{let B=A.filter((Y)=>Y.instrumentationScope?.name==="com.anthropic.claude_code.events");if(B.length===0){Q({code:Es.ExportResultCode.SUCCESS});return}let G=this.transformLogsToEvents(B).events;if(G.length===0){Q({code:Es.ExportResultCode.SUCCESS});return}let Z=await this.sendEventsInBatches(G);if(Z.length>0){this.queueFailedEvents(Z),this.scheduleBackoffRetry(),Q({code:Es.ExportResultCode.FAILED,error:Error(`Failed to export ${Z.length} events`)});return}if(this.resetBackoff(),this.getQueuedEventCount()>0&&!this.isRetrying)this.retryFailedEvents();Q({code:Es.ExportResultCode.SUCCESS})}catch(B){r(B),Q({code:Es.ExportResultCode.FAILED,error:B instanceof Error?B:Error("Unknown export error")})}}async sendEventsInBatches(A){let Q=[];for(let G=0;G<A.length;G+=this.maxBatchSize)Q.push(A.slice(G,G+this.maxBatchSize));let B=[];for(let G=0;G<Q.length;G++){let Z=Q[G];try{await this.sendBatchWithRetry({events:Z})}catch{B.push(...Z)}if(G<Q.length-1&&this.batchDelayMs>0)await new Promise((Y)=>setTimeout(Y,this.batchDelayMs))}return B}queueFailedEvents(A){let Q=this.getCurrentBatchFilePath(),G=[...this.loadEventsFromFile(Q),...A],Z=G.slice(-this.maxQueuedEvents);G.length-Z.length>0,this.saveEventsToFile(Q,Z),r(Error(`1P event logging: ${A.length} events failed to export`))}scheduleBackoffRetry(){if(this.backoffRetryTimer||this.isRetrying||this.isShutdown)return;let A=this.backoffAttempt+1,Q=Math.min(this.baseBackoffDelayMs*A*A,this.maxBackoffDelayMs);this.backoffRetryTimer=setTimeout(()=>{this.backoffRetryTimer=null,this.retryFailedEvents()},Q)}async retryFailedEvents(){let A=this.getCurrentBatchFilePath();while(!this.isShutdown){let Q=this.loadEventsFromFile(A);if(Q.length===0)break;this.isRetrying=!0,this.backoffAttempt++,this.deleteFile(A);let B=await this.sendEventsInBatches(Q);if(this.isRetrying=!1,B.length>0){this.saveEventsToFile(A,B),this.scheduleBackoffRetry();return}this.resetBackoff()}}resetBackoff(){if(this.backoffAttempt=0,this.backoffRetryTimer)clearTimeout(this.backoffRetryTimer),this.backoffRetryTimer=null}async sendBatchWithRetry(A){let Q={"Content-Type":"application/json","User-Agent":gI(),"x-service-name":"claude-code"},G=!(tZ(!0)||I4());if(!G&&LB()){let I=r3();if(I&&qm(I.expiresAt))G=!0}let Z=G?{headers:{},error:"trust not established or Oauth token expired"}:AY(),Y=!Z.error,J=Y?{...Q,...Z.headers}:Q;try{let I=await FQ.post(this.endpoint,A,{timeout:this.timeout,headers:J});this.logSuccess(A.events.length,Y,I.data);return}catch(I){if(Y&&FQ.isAxiosError(I)&&I.response?.status===401){let X=await FQ.post(this.endpoint,A,{timeout:this.timeout,headers:Q});this.logSuccess(A.events.length,!1,X.data);return}throw I}}logSuccess(A,Q,B){}hrTimeToDate(A){let[Q,B]=A;return new Date(Q*1000+B/1e6)}transformLogsToEvents(A){let Q=[];for(let B of A){let G=B.attributes||{};if(G.event_type==="GrowthbookExperimentEvent"){let K=this.hrTimeToDate(B.hrTime);Q.push({event_type:"GrowthbookExperimentEvent",event_data:Kj1.toJSON({event_id:G.event_id,event_timestamp:K,timestamp:K,experiment_id:G.experiment_id,variation_id:G.variation_id,environment:G.environment,user_attributes:G.user_attributes,experiment_metadata:G.experiment_metadata,device_id:G.device_id})});continue}let Z=G.event_name||B.body||"unknown",Y=G.core_metadata,J=G.user_metadata,I=G.event_metadata||{};if(!Y){Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),session_id:W0(),additional_metadata:JSON.stringify({transform_error:"core_metadata attribute is missing"})})});continue}let X=bfQ(Y,J,I),W={...X.additional};Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),device_id:G.user_id,email:J?.email,...X.core,env:X.env,process:X.process,additional_metadata:Object.keys(W).length>0?JSON.stringify(W):void 0})})}return{events:Q}}async shutdown(){this.isShutdown=!0,this.resetBackoff(),await this.forceFlush()}async forceFlush(){await Promise.all(this.pendingExports)}}var Es,pfQ,lfQ="1p_failed_events.";var ifQ=q(()=>{m8();Q0();g1();rD();V2();qq();D6A();u0();vQ();ufQ();dfQ();sQ();Es=o(J8(),1),pfQ=Id3()});import{randomUUID as nfQ}from"crypto";function Dd3(){return rfQ(Ed3,{})}function Ej1(A){let B=Dd3()[A];if(!B)return null;let G=B.sample_rate;if(typeof G!=="number"||G<0||G>1)return null;if(G>=1)return null;if(G<=0)return 0;return Math.random()<G?G:0}async function Dj1(){if(!F6A)return;try{await F6A.shutdown()}catch{}}function AFA(){if(iX())return!1;return zG("tengu_log_1p_events")}async function Hd3(A,Q,B={}){try{let G=await hd({model:B.model}),Z={event_name:Q,event_id:nfQ(),core_metadata:G,user_metadata:Ds(!0),event_metadata:B},Y=Bf();if(Y)Z.user_id=Y;A.emit({body:Q,attributes:Z})}catch(G){}}function Hj1(A,Q={}){if(!AFA())return;if(!IFA)return;Hd3(IFA,A,Q)}function Fd3(){return"production"}function LfQ(A){if(!AFA())return;if(!IFA)return;let Q=Bf(),B={event_type:"GrowthbookExperimentEvent",event_id:nfQ(),experiment_id:A.experimentId,variation_id:A.variationId,...Q&&{device_id:Q},...A.userAttributes&&{session_id:A.userAttributes.sessionId,user_attributes:JSON.stringify(A.userAttributes)},...A.experimentMetadata&&{experiment_metadata:JSON.stringify(A.experimentMetadata)},environment:Fd3()};IFA.emit({body:"growthbook_experiment",attributes:B})}function ofQ(){if(w9("1p_event_logging_start"),!AFA())return;let Q=C6A("tengu_1p_event_batch_config",{});w9("1p_event_after_statsig_config");let B=Q.scheduledDelayMillis||parseInt(process.env.OTEL_LOGS_EXPORT_INTERVAL||Cd3.toString()),G=Q.maxExportBatchSize||zd3,Z=Q.maxQueueSize||Ud3,Y=pQ(),J={[_mA.ATTR_SERVICE_NAME]:"claude-code",[_mA.ATTR_SERVICE_VERSION]:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION};if(Y==="wsl"){let W=Ao();if(W)J["wsl.version"]=W}let I=afQ.resourceFromAttributes(J),X=new Vj1({maxQueuedEvents:Z,maxBatchSize:G});F6A=new RmA.LoggerProvider({resource:I,processors:[new RmA.BatchLogRecordProcessor(X,{scheduledDelayMillis:B,maxExportBatchSize:G,maxQueueSize:Z})]}),IFA=F6A.getLogger("com.anthropic.claude_code.events",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.67",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-11T23:56:11Z"}.VERSION),O8(async()=>{await F6A?.forceFlush()}),process.on("beforeExit",async()=>{await F6A?.forceFlush()})}var RmA,afQ,_mA,Ed3="tengu_event_sampling_config",IFA=null,F6A=null,Cd3=5000,zd3=200,Ud3=8192;var QFA=q(()=>{vQ();w4();br();ifQ();Z8();fW();D6A();Q0();da();g1();tk();RmA=o(wT1(),1),afQ=o(n3A(),1),_mA=o(nr(),1)});var BbQ=w((g87,QbQ)=>{var AbQ=qA("child_process"),sfQ=AbQ.spawn,$d3=AbQ.exec;QbQ.exports=function(A,Q,B){if(typeof Q==="function"&&B===void 0)B=Q,Q=void 0;if(A=parseInt(A),Number.isNaN(A))if(B)return B(Error("pid must be a number"));else throw Error("pid must be a number");var G={},Z={};switch(G[A]=[],Z[A]=1,process.platform){case"win32":$d3("taskkill /pid "+A+" /T /F",B);break;case"darwin":Fj1(A,G,Z,function(Y){return sfQ("pgrep",["-P",Y])},function(){tfQ(G,Q,B)});break;default:Fj1(A,G,Z,function(Y){return sfQ("ps",["-o","pid","--no-headers","--ppid",Y])},function(){tfQ(G,Q,B)});break}};function tfQ(A,Q,B){var G={};try{Object.keys(A).forEach(function(Z){if(A[Z].forEach(function(Y){if(!G[Y])efQ(Y,Q),G[Y]=1}),!G[Z])efQ(Z,Q),G[Z]=1})}catch(Z){if(B)return B(Z);else throw Z}if(B)return B()}function efQ(A,Q){try{process.kill(parseInt(A,10),Q)}catch(B){if(B.code!=="ESRCH")throw B}}function Fj1(A,Q,B,G,Z){var Y=G(A),J="";Y.stdout.on("data",function(W){var W=W.toString("ascii");J+=W});var I=function(X){if(delete B[A],X!=0){if(Object.keys(B).length==0)Z();return}J.match(/\d+/g).forEach(function(W){W=parseInt(W,10),Q[A].push(W),Q[W]=[],B[W]=1,Fj1(W,Q,B,G,Z)})};Y.on("close",I)}});class XFA{capacity;buffer;head=0;size=0;constructor(A){this.capacity=A;this.buffer=Array(A)}add(A){if(this.buffer[this.head]=A,this.head=(this.head+1)%this.capacity,this.size<this.capacity)this.size++}addAll(A){for(let Q of A)this.add(Q)}getRecent(A){let Q=[],B=this.size<this.capacity?0:this.head,G=Math.min(A,this.size);for(let Z=0;Z<G;Z++){let Y=(B+this.size-G+Z)%this.capacity;Q.push(this.buffer[Y])}return Q}toArray(){if(this.size===0)return[];let A=[],Q=this.size<this.capacity?0:this.head;for(let B=0;B<this.size;B++){let G=(Q+B)%this.capacity;A.push(this.buffer[G])}return A}clear(){this.head=0,this.size=0}length(){return this.size}}function Cj1(A,Q=",",B=67108736){let Z="";for(let Y of A){let J=Z?Q:"",I=J+Y;if(Z.length+I.length<=B)Z+=I;else{let X=B-Z.length-J.length-14;if(X>0)Z+=J+Y.slice(0,X)+"...[truncated]";else Z+="...[truncated]";return Z}}return Z}class z6A{maxSize;content="";isTruncated=!1;totalBytesReceived=0;constructor(A=67108736){this.maxSize=A}append(A){let Q=typeof A==="string"?A:A.toString();if(this.totalBytesReceived+=Q.length,this.isTruncated&&this.content.length>=this.maxSize)return;if(this.content.length+Q.length>this.maxSize){let B=this.maxSize-this.content.length;if(B>0)this.content+=Q.slice(0,B);this.isTruncated=!0}else this.content+=Q}toString(){if(!this.isTruncated)return this.content;let A=this.totalBytesReceived-this.maxSize,Q=Math.round(A/1024);return this.content+`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n 'VERSION:\"2\\.0\\.69\"' bundles/ClaudeCodeCode/cli.js | head -5"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 35ms:[0m
[2m190:${Z}`;break;case"retry":if(JCQ(Z))Q[G]=Z;break;case"id":if(ICQ(Z))Q[G]=Z;break;case"event":if(Z.length>0)Q[G]=Z;break}}processEvent(A){if(A.retry&&JCQ(A.retry))this.state.reconnectionTime=parseInt(A.retry,10);if(A.id&&ICQ(A.id))this.state.lastEventId=A.id;if(A.data!==void 0)this.push({type:A.event||"message",options:{data:A.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}WCQ.exports={EventSourceStream:XCQ}});var UCQ=w((oe5,zCQ)=>{var{pipeline:jU6}=qA("node:stream"),{fetching:PU6}=fDA(),{makeRequest:SU6}=_6A(),{webidl:Lk}=FE(),{EventSourceStream:xU6}=KCQ(),{parseMIMEType:yU6}=Uz(),{createFastMessageEvent:vU6}=y6A(),{isNetworkError:VCQ}=vDA(),{delay:kU6}=xR1(),{kEnumerableProperty:Ur}=h3(),{environmentSettingsObject:ECQ}=v$(),DCQ=!1,HCQ=3000,oDA=0,FCQ=1,rDA=2,fU6="anonymous",bU6="use-credentials";class h6A extends EventTarget{#A={open:null,error:null,message:null};#Q=null;#B=!1;#Z=oDA;#G=null;#I=null;#Y;#K;constructor(A,Q={}){super();Lk.util.markAsUncloneable(this);let B="EventSource constructor";if(Lk.argumentLengthCheck(arguments,1,B),!DCQ)DCQ=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"});A=Lk.converters.USVString(A,B,"url"),Q=Lk.converters.EventSourceInitDict(Q,B,"eventSourceInitDict"),this.#Y=Q.dispatcher,this.#K={lastEventId:"",reconnectionTime:HCQ};let G=ECQ,Z;try{Z=new URL(A,G.settingsObject.baseUrl),this.#K.origin=Z.origin}catch(I){throw new DOMException(I,"SyntaxError")}this.#Q=Z.href;let Y=fU6;if(Q.withCredentials)Y=bU6,this.#B=!0;let J={redirect:"follow",keepalive:!0,mode:"cors",credentials:Y==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};J.client=ECQ.settingsObject,J.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],J.cache="no-store",J.initiator="other",J.urlList=[new URL(this.#Q)],this.#G=SU6(J),this.#V()}get readyState(){return this.#Z}get url(){return this.#Q}get withCredentials(){return this.#B}#V(){if(this.#Z===rDA)return;this.#Z=oDA;let A={request:this.#G,dispatcher:this.#Y},Q=(B)=>{if(VCQ(B))this.dispatchEvent(new Event("error")),this.close();this.#X()};A.processResponseEndOfBody=Q,A.processResponse=(B)=>{if(VCQ(B))if(B.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#X();return}let G=B.headersList.get("content-type",!0),Z=G!==null?yU6(G):"failure",Y=Z!=="failure"&&Z.essence==="text/event-stream";if(B.status!==200||Y===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#Z=FCQ,this.dispatchEvent(new Event("open")),this.#K.origin=B.urlList[B.urlList.length-1].origin;let J=new xU6({eventSourceSettings:this.#K,push:(I)=>{this.dispatchEvent(vU6(I.type,I.options))}});jU6(B.body.stream,J,(I)=>{if(I?.aborted===!1)this.close(),this.dispatchEvent(new Event("error"))})},this.#I=PU6(A)}async#X(){if(this.#Z===rDA)return;if(this.#Z=oDA,this.dispatchEvent(new Event("error")),await kU6(this.#K.reconnectionTime),this.#Z!==oDA)return;if(this.#K.lastEventId.length)this.#G.headersList.set("last-event-id",this.#K.lastEventId,!0);this.#V()}close(){if(Lk.brandCheck(this,h6A),this.#Z===rDA)return;this.#Z=rDA,this.#I.abort(),this.#G=null}get onopen(){return this.#A.open}set onopen(A){if(this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onmessage(){return this.#A.message}set onmessage(A){if(this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get onerror(){return this.#A.error}set onerror(A){if(this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}}var CCQ={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:oDA,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:FCQ,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:rDA,writable:!1}};Object.defineProperties(h6A,CCQ);Object.defineProperties(h6A.prototype,CCQ);Object.defineProperties(h6A.prototype,{close:Ur,onerror:Ur,onmessage:Ur,onopen:Ur,readyState:Ur,url:Ur,withCredentials:Ur});Lk.converters.EventSourceInitDict=Lk.dictionaryConverter([{key:"withCredentials",converter:Lk.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:Lk.converters.any}]);zCQ.exports={EventSource:h6A,defaultReconnectionTime:HCQ}});function sDA(A){return(Q,B,G)=>{if(typeof B==="function")G=B,B=null;if(!Q||typeof Q!=="string"&&typeof Q!=="object"&&!(Q instanceof URL))throw new ygA("invalid url");if(B!=null&&typeof B!=="object")throw new ygA("invalid opts");if(B&&B.path!=null){if(typeof B.path!=="string")throw new ygA("invalid opts.path");let J=B.path;if(!B.path.startsWith("/"))J=`/${J}`;Q=new URL(vgA.parseOrigin(Q).origin+J)}else{if(!B)B=typeof Q==="object"?Q:{};Q=vgA.parseURL(Q)}let{agent:Z,dispatcher:Y=dU6()}=B;if(Z)throw new ygA("unsupported opts.agent. Did you mean opts.client?");return A.call(Y,{...B,origin:Q.origin,path:Q.search?`${Q.pathname}${Q.search}`:Q.pathname,method:B.method||(B.body?"PUT":"GET")},G)}}var re5,hU6,se5,te5,gU6,ee5,uU6,AA7,mU6,vgA,ygA,g6A,QA7,BA7,GA7,ZA7,YA7,JA7,dU6,cU6,IA7,XA7,WA7,yR1,vR1,iU6,nU6,kgA,KA7,aU6,oU6,rU6,sU6,tU6,eU6,VA7,EA7,pU6,lU6,A$6,DA7,HA7,FA7,CA7,zA7,UA7,$A7,wA7,NA7,Q$6,B$6,G$6,Z$6,Y$6,J$6,qA7;var kR1=L(()=>{re5=UDA(),hU6=sEA(),se5=F6A(),te5=QVQ(),gU6=C6A(),ee5=RO1(),uU6=NVQ(),AA7=TVQ(),mU6=r5(),vgA=h3(),{InvalidArgumentError:ygA}=mU6,g6A=NEQ(),QA7=eEA(),BA7=sO1(),GA7=JDQ(),ZA7=eO1(),YA7=uO1(),JA7=chA(),{getGlobalDispatcher:dU6,setGlobalDispatcher:cU6}=thA(),IA7=ehA(),XA7=yhA(),WA7=vhA();Object.assign(hU6.prototype,g6A);yR1=gU6,vR1=uU6,iU6={redirect:DDQ(),retry:FDQ(),dump:UDQ(),dns:LDQ()},nU6={parseHeaders:vgA.parseHeaders,headerNameToString:vgA.headerNameToString};kgA=cU6;KA7=fDA().fetch;aU6=Er().Headers,oU6=vDA().Response,rU6=_6A().Request,sU6=YDA().FormData,tU6=globalThis.File??qA("node:buffer").File,eU6=gHQ().FileReader;({setGlobalOrigin:VA7,getGlobalOrigin:EA7}=bM1()),{CacheStorage:pU6}=aHQ(),{kConstruct:lU6}=$gA();A$6=new pU6(lU6);({deleteCookie:DA7,getCookies:HA7,getSetCookies:FA7,setCookie:CA7}=JFQ()),{parseMIMEType:zA7,serializeAMimeType:UA7}=Uz(),{CloseEvent:$A7,ErrorEvent:wA7,MessageEvent:NA7}=y6A();Q$6=ZCQ().WebSocket,B$6=sDA(g6A.request),G$6=sDA(g6A.stream),Z$6=sDA(g6A.pipeline),Y$6=sDA(g6A.connect),J$6=sDA(g6A.upgrade);({EventSource:qA7}=UCQ())});import{Agent as I$6}from"https";function fR1(){let A=FR();if(!A)return;return{cert:A.cert,key:A.key,passphrase:A.passphrase}}function bR1(){let A=FR();if(!A)return{};let Q={cert:A.cert,key:A.key,passphrase:A.passphrase},B=new yR1({connect:Q,pipelining:1});return f("mTLS: Created undici agent with custom certificates"),{dispatcher:B}}function NCQ(){if(!FR())return;if(process.env.NODE_EXTRA_CA_CERTS)f("NODE_EXTRA_CA_CERTS detected - Node.js will automatically append to built-in CAs")}var FR,wCQ;var u6A=L(()=>{o2();kR1();Y0();XQ();FR=Z0(()=>{let A={};if(process.env.CLAUDE_CODE_CLIENT_CERT)try{A.cert=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_CERT,{encoding:"utf8"}),f("mTLS: Loaded client certificate from CLAUDE_CODE_CLIENT_CERT")}catch(Q){f(`mTLS: Failed to load client certificate: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY)try{A.key=jA().readFileSync(process.env.CLAUDE_CODE_CLIENT_KEY,{encoding:"utf8"}),f("mTLS: Loaded client key from CLAUDE_CODE_CLIENT_KEY")}catch(Q){f(`mTLS: Failed to load client key: ${Q}`,{level:"error"})}if(process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE)A.passphrase=process.env.CLAUDE_CODE_CLIENT_KEY_PASSPHRASE,f("mTLS: Using client key passphrase");if(Object.keys(A).length===0)return;return A}),wCQ=Z0(()=>{let A=FR();if(!A)return;let Q={...A,keepAlive:!0};return f("mTLS: Creating HTTPS agent with custom certificates"),new I$6(Q)})});function X$6(A){switch(A.family){case 0:case 4:case 6:return A.family;case"IPv6":return 6;case"IPv4":case void 0:return 4;default:throw Error(`Unsupported address family: ${A.family}`)}}function Id(){return process.env.https_proxy||process.env.HTTPS_PROXY||process.env.http_proxy||process.env.HTTP_PROXY}function W$6(){return process.env.no_proxy||process.env.NO_PROXY}function fgA(A){let Q=W$6();if(!Q)return!1;if(Q==="*")return!0;try{let B=new URL(A),G=B.hostname.toLowerCase(),Z=B.port||(B.protocol==="https:"?"443":"80"),Y=`${G}:${Z}`;return Q.split(/[,\s]+/).filter(Boolean).some((I)=>{if(I=I.toLowerCase().trim(),I.includes(":"))return Y===I;if(I.startsWith(".")){let X=I;return G===I.substring(1)||G.endsWith(X)}return G===I})}catch{return!1}}function MCQ(A){let Q=FR(),B={...Q&&{cert:Q.cert,key:Q.key,passphrase:Q.passphrase}};if(z0(process.env.CLAUDE_CODE_PROXY_RESOLVES_HOSTS))B.lookup=(G,Z,Y)=>{Y(null,G,X$6(Z))};return new hR1.HttpsProxyAgent(A,B)}function tDA(A){let Q=Id();if(!Q)return;if(fgA(A))return;return MCQ(Q)}function m6A(){let A=Id(),Q=bR1();if(A)return{dispatcher:OCQ(A)};return Q}function RCQ(){let A=Id(),Q=wCQ();if(A){wQ.defaults.proxy=!1;let B=MCQ(A);wQ.interceptors.request.use((G)=>{if(G.url&&fgA(G.url))if(Q)G.httpsAgent=Q,G.httpAgent=Q;else delete G.httpsAgent,delete G.httpAgent;else G.httpsAgent=B,G.httpAgent=B;return G}),kgA(OCQ(A))}else if(Q){wQ.defaults.httpsAgent=Q;let B=bR1();if(B.dispatcher)kgA(B.dispatcher)}}function gR1(){let A=Id();if(!A)return{};let Q=new hR1.HttpsProxyAgent(A),B=new LCQ.NodeHttpHandler({httpAgent:Q,httpsAgent:Q});return{requestHandler:B,credentials:qCQ.defaultProvider({clientConfig:{requestHandler:B}})}}var qCQ,LCQ,hR1,OCQ;var Xd=L(()=>{b8();o2();kR1();u6A();rQ();qCQ=o(xo(),1),LCQ=o(Wq(),1),hR1=o(oEA(),1);OCQ=Z0((A)=>{let Q=FR(),B={httpProxy:A,httpsProxy:A,noProxy:process.env.NO_PROXY||process.env.no_proxy};if(Q)B.connect={cert:Q.cert,key:Q.key,passphrase:Q.passphrase};return new vR1(B)})});function xP(A,Q){return A.find((B)=>B.includes(Q))??null}async function jCQ(){let Q={region:Na(),...gR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await $r();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new d6A.BedrockClient(Q)}async function PCQ(){let Q={region:Na(),...gR1()};if(!process.env.AWS_BEARER_TOKEN_BEDROCK){let B=await $r();if(B)Q.credentials={accessKeyId:B.accessKeyId,secretAccessKey:B.secretAccessKey,sessionToken:B.sessionToken}}return new _CQ.BedrockRuntimeClient(Q)}function SCQ(A){return A.startsWith("anthropic.")}var d6A,_CQ,TCQ,bgA;var hgA=L(()=>{o2();rQ();h1();Xd();F2();d6A=o(w7Q(),1),_CQ=o(tbA(),1),TCQ=Z0(async function(){let A=await jCQ(),Q=[],B;try{do{let G=new d6A.ListInferenceProfilesCommand({...B&&{nextToken:B},typeEquals:"SYSTEM_DEFINED"}),Z=await A.send(G);if(Z.inferenceProfileSummaries)Q.push(...Z.inferenceProfileSummaries);B=Z.nextToken}while(B);return Q.filter((G)=>G.inferenceProfileId?.includes("anthropic")).map((G)=>G.inferenceProfileId).filter(Boolean)}catch(G){throw s(G),G}});bgA=Z0(async function(A){try{let Q=await jCQ(),B=new d6A.GetInferenceProfileCommand({inferenceProfileIdentifier:A}),G=await Q.send(B);if(!G.models||G.models.length===0)return null;let Z=G.models[0];if(!Z?.modelArn)return null;let Y=Z.modelArn.lastIndexOf("/");return Y>=0?Z.modelArn.substring(Y+1):Z.modelArn}catch(Q){return s(Q),null}})});function xCQ(A){if(X6()==="foundry")return;let Q=A.toLowerCase();if(Q.includes("claude-sonnet-4-5")&&Q.includes("[1m]"))return"Sonnet 4.5 (with 1M context)";if(Q.includes("claude-sonnet-4-5"))return"Sonnet 4.5";if(Q.includes("claude-sonnet-4")&&Q.includes("[1m]"))return"Sonnet 4 (with 1M context)";if(Q.includes("claude-sonnet-4"))return"Sonnet 4";if(Q.includes("claude-opus-4-5"))return"Opus 4.5";if(Q.includes("claude-opus-4-1"))return"Opus 4.1";if(Q.includes("claude-opus-4"))return"Opus 4";if(Q.includes("claude-3-7-sonnet"))return"Claude 3.7 Sonnet";if(Q.includes("claude-3-5-sonnet"))return"Claude 3.5 Sonnet";if(Q.includes("claude-haiku-4-5"))return"Haiku 4.5";if(Q.includes("claude-3-5-haiku"))return"Claude 3.5 Haiku";return}var eDA,AHA,QHA,BHA,wr,uR1,GHA,ZHA,Nr;var c6A=L(()=>{hX();eDA={firstParty:"claude-3-7-sonnet-20250219",bedrock:"us.anthropic.claude-3-7-sonnet-20250219-v1:0",vertex:"claude-3-7-sonnet@20250219",foundry:"claude-3-7-sonnet"},AHA={firstParty:"claude-3-5-sonnet-20241022",bedrock:"anthropic.claude-3-5-sonnet-20241022-v2:0",vertex:"claude-3-5-sonnet-v2@20241022",foundry:"claude-3-5-sonnet"},QHA={firstParty:"claude-3-5-haiku-20241022",bedrock:"us.anthropic.claude-3-5-haiku-20241022-v1:0",vertex:"claude-3-5-haiku@20241022",foundry:"claude-3-5-haiku"},BHA={firstParty:"claude-haiku-4-5-20251001",bedrock:"us.anthropic.claude-haiku-4-5-20251001-v1:0",vertex:"claude-haiku-4-5@20251001",foundry:"claude-haiku-4-5"},wr={firstParty:"claude-sonnet-4-20250514",bedrock:"us.anthropic.claude-sonnet-4-20250514-v1:0",vertex:"claude-sonnet-4@20250514",foundry:"claude-sonnet-4"},uR1={firstParty:"claude-sonnet-4-5-20250929",bedrock:"us.anthropic.claude-sonnet-4-5-20250929-v1:0",vertex:"claude-sonnet-4-5@20250929",foundry:"claude-sonnet-4-5"},GHA={firstParty:"claude-opus-4-20250514",bedrock:"us.anthropic.claude-opus-4-20250514-v1:0",vertex:"claude-opus-4@20250514",foundry:"claude-opus-4"},ZHA={firstParty:"claude-opus-4-1-20250805",bedrock:"us.anthropic.claude-opus-4-1-20250805-v1:0",vertex:"claude-opus-4-1@20250805",foundry:"claude-opus-4-1"},Nr={firstParty:"claude-opus-4-5-20251101",bedrock:"us.anthropic.claude-opus-4-5-20251101-v1:0",vertex:"claude-opus-4-5@20251101",foundry:"claude-opus-4-5"}});function yP(A){let Q=[],B=!1;async function G(){if(B)return;if(Q.length===0)return;B=!0;while(Q.length>0){let{args:Z,resolve:Y,reject:J,context:I}=Q.shift();try{let X=await A.apply(I,Z);Y(X)}catch(X){J(X)}}if(B=!1,Q.length>0)G()}return function(...Z){return new Promise((Y,J)=>{Q.push({args:Z,resolve:Y,reject:J,context:this}),G()})}}function ggA(A){return{haiku35:QHA[A],haiku45:BHA[A],sonnet35:AHA[A],sonnet37:eDA[A],sonnet40:wr[A],sonnet45:uR1[A],opus40:GHA[A],opus41:ZHA[A],opus45:Nr[A]}}async function K$6(){let A;try{A=await TCQ()}catch(K){return s(K),ggA("bedrock")}if(!A?.length)return ggA("bedrock");let Q=xP(A,"claude-3-5-haiku-20241022"),B=xP(A,"claude-haiku-4-5-20251001"),G=xP(A,"claude-3-5-sonnet-20241022"),Z=xP(A,"claude-3-7-sonnet-20250219"),Y=xP(A,"claude-sonnet-4-20250514"),J=xP(A,"claude-sonnet-4-5-20250929"),I=xP(A,"claude-opus-4-20250514"),X=xP(A,"claude-opus-4-1-20250805"),W=xP(A,"claude-opus-4-5-20251101");return{haiku35:Q||QHA.bedrock,haiku45:B||BHA.bedrock,sonnet35:G||AHA.bedrock,sonnet37:Z||eDA.bedrock,sonnet40:Y||wr.bedrock,sonnet45:J||uR1.bedrock,opus40:I||GHA.bedrock,opus41:X||ZHA.bedrock,opus45:W||Nr.bedrock}}function E$6(){if($PA()!==null)return;if(X6()!=="bedrock"){hG1(ggA(X6()));return}V$6()}function gY(){let A=$PA();if(A===null)return E$6(),ggA(X6());return A}var V$6;var mR1=L(()=>{g0();h1();hgA();c6A();hX();V$6=yP(async()=>{if($PA()!==null)return;try{let A=await K$6();hG1(A)}catch(A){s(A)}})});function yCQ(){if(process.platform==="darwin"){let A=Ym();dG(`security delete-generic-password -a $USER -s "${A}"`)}}function d$(A){return A.slice(-20)}var YHA=L(()=>{cKA();mSA()});class dD{static instance=null;status={isAuthenticating:!1,output:[]};listeners=new Set;static getInstance(){if(!dD.instance)dD.instance=new dD;return dD.instance}getStatus(){return{...this.status,output:[...this.status.output]}}startAuthentication(){this.status={isAuthenticating:!0,output:[]},this.notifyListeners()}addOutput(A){this.status.output.push(A),this.notifyListeners()}setError(A){this.status.error=A,this.notifyListeners()}endAuthentication(A){if(A)this.status={isAuthenticating:!1,output:[]};else this.status.isAuthenticating=!1;this.notifyListeners()}subscribe(A){return this.listeners.add(A),()=>{this.listeners.delete(A)}}notifyListeners(){this.listeners.forEach((A)=>A(this.getStatus()))}static reset(){if(dD.instance)dD.instance.listeners.clear(),dD.instance=null}}import{exec as D$6}from"child_process";function Mz(){let A=z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY),B=(NQ()||{}).apiKeyHelper,G=process.env.ANTHROPIC_AUTH_TOKEN||B||process.env.CLAUDE_CODE_API_KEY_FILE_DESCRIPTOR,{source:Z}=cD({skipRetrievingKeyFromApiKeyHelper:!0});return!(A||G||(Z==="ANTHROPIC_API_KEY"||Z==="apiKeyHelper")&&!z0(process.env.CLAUDE_CODE_REMOTE))}function Wd(){if(process.env.ANTHROPIC_AUTH_TOKEN)return{source:"ANTHROPIC_AUTH_TOKEN",hasToken:!0};if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{source:"CLAUDE_CODE_OAUTH_TOKEN",hasToken:!0};if(rK1())return{source:"CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR",hasToken:!0};if(JHA())return{source:"apiKeyHelper",hasToken:!0};let B=t6();if(kv(B?.scopes)&&B?.accessToken)return{source:"claude.ai",hasToken:!0};return{source:"none",hasToken:!1}}function w$(){let{key:A}=cD();return A}function kCQ(){let{key:A,source:Q}=cD({skipRetrievingKeyFromApiKeyHelper:!0});return A!==null&&Q!=="none"}function cD(A={}){if(kK0()&&process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};if(z0(!1)){let G=sK1();if(G)return{key:G,source:"ANTHROPIC_API_KEY"};if(!process.env.ANTHROPIC_API_KEY&&!process.env.CLAUDE_CODE_OAUTH_TOKEN&&!process.env.CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR)throw Error("ANTHROPIC_API_KEY or CLAUDE_CODE_OAUTH_TOKEN env var is required");if(process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};return{key:null,source:"none"}}if(process.env.ANTHROPIC_API_KEY&&d1().customApiKeyResponses?.approved?.includes(d$(process.env.ANTHROPIC_API_KEY)))return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};let Q=sK1();if(Q)return{key:Q,source:"ANTHROPIC_API_KEY"};if(A.skipRetrievingKeyFromApiKeyHelper){if(JHA())return{key:null,source:"apiKeyHelper"}}else{let G=IHA(D4());if(G)return{key:G,source:"apiKeyHelper"}}let B=XHA();if(B)return B;return{key:null,source:"none"}}function JHA(){return(NQ()||{}).apiKeyHelper}function fCQ(){let A=JHA();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.apiKeyHelper===A||B?.apiKeyHelper===A}function dR1(){return(NQ()||{}).awsAuthRefresh}function bCQ(){let A=dR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsAuthRefresh===A||B?.awsAuthRefresh===A}function cR1(){return(NQ()||{}).awsCredentialExport}function hCQ(){let A=cR1();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.awsCredentialExport===A||B?.awsCredentialExport===A}function F$6(){let A=process.env.CLAUDE_CODE_API_KEY_HELPER_TTL_MS;if(A){let Q=parseInt(A,10);if(!Number.isNaN(Q)&&Q>=0)return Q;f(`Found CLAUDE_CODE_API_KEY_HELPER_TTL_MS env var, but it was not a valid number. Got ${A}`,{level:"error"})}return H$6}function ugA(){IHA.cache.clear()}function gCQ(A){if(JHA()){if(fCQ()){if(!QY(!0))return}}IHA(A)}async function z$6(){let A=dR1();if(!A)return!1;if(bCQ()){if(!QY(!0)&&!D4()){let B=Error(`Security: awsAuthRefresh executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);return eN("awsAuthRefresh invoked before trust check",B),r("tengu_awsAuthRefresh_missing_trust",{}),!1}}try{return f("Fetching AWS caller identity for AWS auth refresh command"),await w$1(),f("Fetched AWS caller identity, skipping AWS auth refresh command"),!1}catch{return U$6(A)}}function U$6(A){f("Running AWS auth refresh command");let Q=dD.getInstance();return Q.startAuthentication(),new Promise((B)=>{let G=D$6(A);G.stdout.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.addOutput(Y),f(Y,{level:"debug"})}),G.stderr.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.setError(Y),f(Y,{level:"error"})}),G.on("close",(Z)=>{if(Z===0)f("AWS auth refresh completed successfully"),Q.endAuthentication(!0),B(!0);else{let Y=cA.red("Error running awsAuthRefresh (in settings or ~/.claude.json):");console.error(Y),Q.endAuthentication(!1),B(!1)}})})}async function $$6(){let A=cR1();if(!A)return null;if(hCQ()){if(!QY(!0)&&!D4()){let B=Error(`Security: awsCredentialExport executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);return eN("awsCredentialExport invoked before trust check",B),r("tengu_awsCredentialExport_missing_trust",{}),null}}try{return f("Fetching AWS caller identity for credential export command"),await w$1(),f("Fetched AWS caller identity, skipping AWS credential export command"),null}catch{try{f("Running AWS credential export command");let Q=dG(A)?.toString().trim();if(!Q)throw Error("awsCredentialExport did not return a valid value");let B=JSON.parse(Q);if(!o4Q(B))throw Error("awsCredentialExport did not return valid AWS STS output structure");return f("AWS credentials retrieved from awsCredentialExport"),{accessKeyId:B.Credentials.AccessKeyId,secretAccessKey:B.Credentials.SecretAccessKey,sessionToken:B.Credentials.SessionToken}}catch(Q){let B=cA.red("Error getting AWS credentials from awsCredentialExport (in settings or ~/.claude.json):");if(Q instanceof Error&&"stderr"in Q)console.error(B,String(Q.stderr));else if(Q instanceof Error)console.error(B,Q.message);else console.error(B,Q);return null}}}function mgA(){$r.cache.clear()}function uCQ(){let A=dR1(),Q=cR1();if(!A&&!Q)return;if(bCQ()||hCQ()){if(!QY(!0)&&!D4())return}$r(),gY()}function w$6(A){return/^[a-zA-Z0-9-_]+$/.test(A)}function ru0(A){if(!w$6(A))throw Error("Invalid API key format. API key must contain only alphanumeric characters, dashes, and underscores.");dCQ();let Q=!1;if(process.platform==="darwin")try{let G=Ym(),Z=dKA(),Y=Buffer.from(A,"utf-8").toString("hex"),J=`add-generic-password -U -a "${Z}" -s "${G}" -X "${Y}"
191:`;dG("security -i",{input:J,stdio:["pipe","pipe","pipe"]}),r("tengu_api_key_saved_to_keychain",{}),Q=!0}catch(G){s(G),r("tengu_api_key_keychain_error",{error:G.message}),r("tengu_api_key_saved_to_config",{})}else r("tengu_api_key_saved_to_config",{});let B=d$(A);i0((G)=>{let Z=G.customApiKeyResponses?.approved??[];return{...G,primaryApiKey:Q?G.primaryApiKey:A,customApiKeyResponses:{...G.customApiKeyResponses,approved:Z.includes(B)?Z:[...Z,B],rejected:G.customApiKeyResponses?.rejected??[]}}}),XHA.cache.clear?.()}function mCQ(){dCQ(),i0((A)=>({...A,primaryApiKey:void 0})),XHA.cache.clear?.()}function dCQ(){try{yCQ()}catch(A){s(A)}}function WHA(A){if(!kv(A.scopes))return r("tengu_oauth_tokens_not_claude_ai",{}),{success:!0};if(!A.refreshToken||!A.expiresAt)return r("tengu_oauth_tokens_inference_only",{}),{success:!0};let Q=$$(),B=Q.name;try{let G=Q.read()||{};G.claudeAiOauth={accessToken:A.accessToken,refreshToken:A.refreshToken,expiresAt:A.expiresAt,scopes:A.scopes,subscriptionType:A.subscriptionType,rateLimitTier:A.rateLimitTier};let Z=Q.update(G);if(Z.success)r("tengu_oauth_tokens_saved",{storageBackend:B});else r("tengu_oauth_tokens_save_failed",{storageBackend:B});return t6.cache?.clear?.(),oyA(),Z}catch(G){return s(G),r("tengu_oauth_tokens_save_exception",{storageBackend:B,error:G.message}),{success:!1,warning:"Failed to save OAuth tokens"}}}async function Mk(A=0){let B=t6();if(!B?.refreshToken||!Jm(B.expiresAt))return!1;if(!kv(B.scopes))return!1;if(t6.cache?.clear?.(),B=t6(),!B?.refreshToken||!Jm(B.expiresAt))return!1;let G=mQ();jA().mkdirSync(G);let Y;try{Y=await vCQ.lock(G)}catch(J){if(J.code==="ELOCKED"){if(A<5)return r("tengu_oauth_token_refresh_lock_retry",{retryCount:A+1}),await new Promise((I)=>setTimeout(I,1000+Math.random()*1000)),Mk(A+1);return r("tengu_oauth_token_refresh_lock_retry_limit_reached",{maxRetries:5}),!1}return s(J),r("tengu_oauth_token_refresh_lock_error",{error:J.message}),!1}try{if(t6.cache?.clear?.(),B=t6(),!B?.refreshToken||!Jm(B.expiresAt))return r("tengu_oauth_token_refresh_race_resolved",{}),!1;let J=await iu0(B.refreshToken);return WHA(J),t6.cache?.clear?.(),!0}catch(J){return s(J instanceof Error?J:Error(String(J))),!1}finally{await Y()}}function RB(){if(!Mz())return!1;return kv(t6()?.scopes)}function cCQ(){if(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))return!1;if(RB())return!1;return!0}function q8(){return Mz()?d1().oauthAccount:void 0}function lq(){let A=d6();return A==="max"||A==="enterprise"||A==="team"||A==="pro"||A===null}function d6(){if(Qm0())return Am0();if(!Mz())return null;let A=t6();if(!A)return null;return A.subscriptionType??null}function Kd(){if(!Mz())return null;let A=t6();if(!A)return null;return A.rateLimitTier??null}function pR1(){switch(d6()){case"enterprise":return"Claude Enterprise";case"team":return"Claude Team";case"max":return"Claude Max";case"pro":return"Claude Pro";default:return"Claude API"}}function vP(){return!!(z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY))}function pCQ(){return(NQ()||{}).otelHeadersHelper}function KHA(){let A=pCQ();if(!A)return!1;let Q=uB("projectSettings"),B=uB("localSettings");return Q?.otelHeadersHelper===A||B?.otelHeadersHelper===A}function lCQ(){let A=pCQ();if(!A)return{};if(KHA()){if(!QY(!0))return{}}try{let Q=dG(A)?.toString().trim();if(!Q)throw Error("otelHeadersHelper did not return a valid value");let B=JSON.parse(Q);if(typeof B!=="object"||B===null||Array.isArray(B))throw Error("otelHeadersHelper must return a JSON object with string key-value pairs");for(let[G,Z]of Object.entries(B))if(typeof Z!=="string")throw Error(`otelHeadersHelper returned non-string value for key "${G}": ${typeof Z}`);return B}catch(Q){throw s(Error(`Error getting OpenTelemetry headers from otelHeadersHelper (in settings): ${Q instanceof Error?Q.message:String(Q)}`)),Q}}function N$6(A){return A==="max"||A==="pro"}function dgA(){let A=d6();return RB()&&A!==null&&N$6(A)}function cgA(){if(X6()!=="firstParty")return;let{source:Q}=Wd(),B={};if(RB())B.subscription=pR1();else B.tokenSource=Q;let{key:G,source:Z}=cD();if(G)B.apiKeySource=Z;if(Q==="claude.ai"||Z==="/login managed key"){let J=q8()?.organizationName;if(J)B.organization=J}let Y=q8()?.emailAddress;if((Q==="claude.ai"||Z==="/login managed key")&&Y)B.email=Y;return B}var vCQ,H$6=300000,IHA,C$6=3600000,$r,XHA,t6;var F2=L(()=>{xQ();jB();I6();o2();byA();h1();Y0();t2();uyA();pu0();Xq();pyA();fv();XQ();rQ();cKA();g0();N$1();T0();hX();mR1();YHA();vCQ=o(Gm(),1);IHA=dK1((A)=>{let Q=JHA();if(!Q)return null;if(fCQ()){if(!QY(!0)&&!A){let G=Error(`Security: apiKeyHelper executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.FEEDBACK_CHANNEL}.`);eN("apiKeyHelper invoked before trust check",G),r("tengu_apiKeyHelper_missing_trust8",{})}}try{let B=dG(Q)?.toString().trim();if(!B)throw Error("apiKeyHelper did not return a valid value");return B}catch(B){let G=cA.red("Error getting API key from apiKeyHelper (in settings or ~/.claude.json):");if(B instanceof Error&&"stderr"in B)console.error(G,String(B.stderr));else if(B instanceof Error)console.error(G,B.message);else console.error(G,B);return" "}},F$6());$r=dK1(async()=>{let A=await z$6(),Q=await $$6();if(A||Q)await r4Q();return Q},C$6);XHA=Z0(()=>{if(process.platform==="darwin"){let Q=Ym();try{let B=dG(`security find-generic-password -a $USER -w -s "${Q}"`);if(B)return{key:B,source:"/login managed key"}}catch(B){s(B)}}let A=d1();if(!A.primaryApiKey)return null;return{key:A.primaryApiKey,source:"/login managed key"}});t6=Z0(()=>{if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{accessToken:process.env.CLAUDE_CODE_OAUTH_TOKEN,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};let A=rK1();if(A)return{accessToken:A,refreshToken:null,expiresAt:null,scopes:["user:inference"],subscriptionType:null,rateLimitTier:null};try{let G=$$().read()?.claudeAiOauth;if(!G?.accessToken)return null;return G}catch(Q){return s(Q),null}})});import{join as VHA}from"path";function aCQ(){return(process.argv[1]||"").includes("/.claude/local/node_modules/")}async function q$6(){try{if(!jA().existsSync(Vd))jA().mkdirSync(Vd);if(!jA().existsSync(iCQ)){let Q={name:"claude-local",version:"0.0.1",private:!0};jA().writeFileSync(iCQ,JSON.stringify(Q,null,2),{encoding:"utf8",flush:!1})}let A=VHA(Vd,"claude");if(!jA().existsSync(A)){let Q=`#!/bin/bash
192:exec "${Vd}/node_modules/.bin/claude" "$@"`;jA().writeFileSync(A,Q,{encoding:"utf8",flush:!1}),await CQ("chmod",["+x",A])}return!0}catch(A){return s(A instanceof Error?A:Error(String(A))),!1}}async function EHA(A){try{if(!await q$6())return"install_failed";let Q=A==="stable"?"stable":"latest",B=await L3("npm",["install",`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.PACKAGE_URL}@${Q}`],{cwd:Vd,maxBuffer:1e6});if(B.code!==0)return s(Error(`Failed to install Claude CLI package: ${B.stderr}`)),B.code===190?"in_progress":"install_failed";return i0((G)=>({...G,installMethod:"local"})),"success"}catch(Q){return s(Q instanceof Error?Q:Error(String(Q))),"install_failed"}}function Ed(){return jA().existsSync(VHA(Vd,"node_modules",".bin","claude"))}function p6A(){let A=process.env.SHELL||"";if(A.includes("zsh"))return"zsh";if(A.includes("bash"))return"bash";if(A.includes("fish"))return"fish";return"unknown"}var Vd,iCQ,nCQ;var qr=L(()=>{I6();h1();xQ();XQ();rQ();Vd=VHA(mQ(),"local"),iCQ=VHA(Vd,"package.json"),nCQ=VHA(Vd,"claude")});var DHA=w((S17,oCQ)=>{var L$6=Number.MAX_SAFE_INTEGER||9007199254740991,M$6=["major","premajor","minor","preminor","patch","prepatch","prerelease"];oCQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:L$6,RELEASE_TYPES:M$6,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var HHA=w((x17,rCQ)=>{var O$6=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};rCQ.exports=O$6});var l6A=w((kP,sCQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:lR1,MAX_SAFE_BUILD_LENGTH:R$6,MAX_LENGTH:_$6}=DHA(),T$6=HHA();kP=sCQ.exports={};var j$6=kP.re=[],P$6=kP.safeRe=[],q2=kP.src=[],S$6=kP.safeSrc=[],L2=kP.t={},x$6=0,iR1="[a-zA-Z0-9-]",y$6=[["\\s",1],["\\d",_$6],[iR1,R$6]],v$6=(A)=>{for(let[Q,B]of y$6)A=A.split(`${Q}*`).join(`${Q}{0,${B}}`).split(`${Q}+`).join(`${Q}{1,${B}}`);return A},T6=(A,Q,B)=>{let G=v$6(Q),Z=x$6++;T$6(A,Z,Q),L2[A]=Z,q2[Z]=Q,S$6[Z]=G,j$6[Z]=new RegExp(Q,B?"g":void 0),P$6[Z]=new RegExp(G,B?"g":void 0)};T6("NUMERICIDENTIFIER","0|[1-9]\\d*");T6("NUMERICIDENTIFIERLOOSE","\\d+");T6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${iR1}*`);T6("MAINVERSION",`(${q2[L2.NUMERICIDENTIFIER]})\\.(${q2[L2.NUMERICIDENTIFIER]})\\.(${q2[L2.NUMERICIDENTIFIER]})`);T6("MAINVERSIONLOOSE",`(${q2[L2.NUMERICIDENTIFIERLOOSE]})\\.(${q2[L2.NUMERICIDENTIFIERLOOSE]})\\.(${q2[L2.NUMERICIDENTIFIERLOOSE]})`);T6("PRERELEASEIDENTIFIER",`(?:${q2[L2.NONNUMERICIDENTIFIER]}|${q2[L2.NUMERICIDENTIFIER]})`);T6("PRERELEASEIDENTIFIERLOOSE",`(?:${q2[L2.NONNUMERICIDENTIFIER]}|${q2[L2.NUMERICIDENTIFIERLOOSE]})`);T6("PRERELEASE",`(?:-(${q2[L2.PRERELEASEIDENTIFIER]}(?:\\.${q2[L2.PRERELEASEIDENTIFIER]})*))`);T6("PRERELEASELOOSE",`(?:-?(${q2[L2.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${q2[L2.PRERELEASEIDENTIFIERLOOSE]})*))`);T6("BUILDIDENTIFIER",`${iR1}+`);T6("BUILD",`(?:\\+(${q2[L2.BUILDIDENTIFIER]}(?:\\.${q2[L2.BUILDIDENTIFIER]})*))`);T6("FULLPLAIN",`v?${q2[L2.MAINVERSION]}${q2[L2.PRERELEASE]}?${q2[L2.BUILD]}?`);T6("FULL",`^${q2[L2.FULLPLAIN]}$`);T6("LOOSEPLAIN",`[v=\\s]*${q2[L2.MAINVERSIONLOOSE]}${q2[L2.PRERELEASELOOSE]}?${q2[L2.BUILD]}?`);T6("LOOSE",`^${q2[L2.LOOSEPLAIN]}$`);T6("GTLT","((?:<|>)?=?)");T6("XRANGEIDENTIFIERLOOSE",`${q2[L2.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);T6("XRANGEIDENTIFIER",`${q2[L2.NUMERICIDENTIFIER]}|x|X|\\*`);T6("XRANGEPLAIN",`[v=\\s]*(${q2[L2.XRANGEIDENTIFIER]})(?:\\.(${q2[L2.XRANGEIDENTIFIER]})(?:\\.(${q2[L2.XRANGEIDENTIFIER]})(?:${q2[L2.PRERELEASE]})?${q2[L2.BUILD]}?)?)?`);T6("XRANGEPLAINLOOSE",`[v=\\s]*(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q2[L2.XRANGEIDENTIFIERLOOSE]})(?:${q2[L2.PRERELEASELOOSE]})?${q2[L2.BUILD]}?)?)?`);T6("XRANGE",`^${q2[L2.GTLT]}\\s*${q2[L2.XRANGEPLAIN]}$`);T6("XRANGELOOSE",`^${q2[L2.GTLT]}\\s*${q2[L2.XRANGEPLAINLOOSE]}$`);T6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${lR1}})(?:\\.(\\d{1,${lR1}}))?(?:\\.(\\d{1,${lR1}}))?`);T6("COERCE",`${q2[L2.COERCEPLAIN]}(?:$|[^\\d])`);T6("COERCEFULL",q2[L2.COERCEPLAIN]+`(?:${q2[L2.PRERELEASE]})?(?:${q2[L2.BUILD]})?(?:$|[^\\d])`);T6("COERCERTL",q2[L2.COERCE],!0);T6("COERCERTLFULL",q2[L2.COERCEFULL],!0);T6("LONETILDE","(?:~>?)");T6("TILDETRIM",`(\\s*)${q2[L2.LONETILDE]}\\s+`,!0);kP.tildeTrimReplace="$1~";T6("TILDE",`^${q2[L2.LONETILDE]}${q2[L2.XRANGEPLAIN]}$`);T6("TILDELOOSE",`^${q2[L2.LONETILDE]}${q2[L2.XRANGEPLAINLOOSE]}$`);T6("LONECARET","(?:\\^)");T6("CARETTRIM",`(\\s*)${q2[L2.LONECARET]}\\s+`,!0);kP.caretTrimReplace="$1^";T6("CARET",`^${q2[L2.LONECARET]}${q2[L2.XRANGEPLAIN]}$`);T6("CARETLOOSE",`^${q2[L2.LONECARET]}${q2[L2.XRANGEPLAINLOOSE]}$`);T6("COMPARATORLOOSE",`^${q2[L2.GTLT]}\\s*(${q2[L2.LOOSEPLAIN]})$|^$`);T6("COMPARATOR",`^${q2[L2.GTLT]}\\s*(${q2[L2.FULLPLAIN]})$|^$`);T6("COMPARATORTRIM",`(\\s*)${q2[L2.GTLT]}\\s*(${q2[L2.LOOSEPLAIN]}|${q2[L2.XRANGEPLAIN]})`,!0);kP.comparatorTrimReplace="$1$2$3";T6("HYPHENRANGE",`^\\s*(${q2[L2.XRANGEPLAIN]})\\s+-\\s+(${q2[L2.XRANGEPLAIN]})\\s*$`);T6("HYPHENRANGELOOSE",`^\\s*(${q2[L2.XRANGEPLAINLOOSE]})\\s+-\\s+(${q2[L2.XRANGEPLAINLOOSE]})\\s*$`);T6("STAR","(<|>)?=?\\s*\\*");T6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");T6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pgA=w((y17,tCQ)=>{var k$6=Object.freeze({loose:!0}),f$6=Object.freeze({}),b$6=(A)=>{if(!A)return f$6;if(typeof A!=="object")return k$6;return A};tCQ.exports=b$6});var nR1=w((v17,QzQ)=>{var eCQ=/^[0-9]+$/,AzQ=(A,Q)=>{let B=eCQ.test(A),G=eCQ.test(Q);if(B&&G)A=+A,Q=+Q;return A===Q?0:B&&!G?-1:G&&!B?1:A<Q?-1:1},h$6=(A,Q)=>AzQ(Q,A);QzQ.exports={compareIdentifiers:AzQ,rcompareIdentifiers:h$6}});var pD=w((k17,GzQ)=>{var lgA=HHA(),{MAX_LENGTH:BzQ,MAX_SAFE_INTEGER:igA}=DHA(),{safeRe:ngA,t:agA}=l6A(),g$6=pgA(),{compareIdentifiers:i6A}=nR1();class CR{constructor(A,Q){if(Q=g$6(Q),A instanceof CR)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else A=A.version;else if(typeof A!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof A}".`);if(A.length>BzQ)throw TypeError(`version is longer than ${BzQ} characters`);lgA("SemVer",A,Q),this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease;let B=A.trim().match(Q.loose?ngA[agA.LOOSE]:ngA[agA.FULL]);if(!B)throw TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+B[1],this.minor=+B[2],this.patch=+B[3],this.major>igA||this.major<0)throw TypeError("Invalid major version");if(this.minor>igA||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>igA||this.patch<0)throw TypeError("Invalid patch version");if(!B[4])this.prerelease=[];else this.prerelease=B[4].split(".").map((G)=>{if(/^[0-9]+$/.test(G)){let Z=+G;if(Z>=0&&Z<igA)return Z}return G});this.build=B[5]?B[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(A){if(lgA("SemVer.compare",this.version,this.options,A),!(A instanceof CR)){if(typeof A==="string"&&A===this.version)return 0;A=new CR(A,this.options)}if(A.version===this.version)return 0;return this.compareMain(A)||this.comparePre(A)}compareMain(A){if(!(A instanceof CR))A=new CR(A,this.options);return i6A(this.major,A.major)||i6A(this.minor,A.minor)||i6A(this.patch,A.patch)}comparePre(A){if(!(A instanceof CR))A=new CR(A,this.options);if(this.prerelease.length&&!A.prerelease.length)return-1;else if(!this.prerelease.length&&A.prerelease.length)return 1;else if(!this.prerelease.length&&!A.prerelease.length)return 0;let Q=0;do{let B=this.prerelease[Q],G=A.prerelease[Q];if(lgA("prerelease compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}compareBuild(A){if(!(A instanceof CR))A=new CR(A,this.options);let Q=0;do{let B=this.build[Q],G=A.build[Q];if(lgA("build compare",Q,B,G),B===void 0&&G===void 0)return 0;else if(G===void 0)return 1;else if(B===void 0)return-1;else if(B===G)continue;else return i6A(B,G)}while(++Q)}inc(A,Q,B){if(A.startsWith("pre")){if(!Q&&B===!1)throw Error("invalid increment argument: identifier is empty");if(Q){let G=`-${Q}`.match(this.options.loose?ngA[agA.PRERELEASELOOSE]:ngA[agA.PRERELEASE]);if(!G||G[1]!==Q)throw Error(`invalid identifier: ${Q}`)}}switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Q,B);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Q,B);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Q,B),this.inc("pre",Q,B);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Q,B);this.inc("pre",Q,B);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let G=Number(B)?1:0;if(this.prerelease.length===0)this.prerelease=[G];else{let Z=this.prerelease.length;while(--Z>=0)if(typeof this.prerelease[Z]==="number")this.prerelease[Z]++,Z=-2;if(Z===-1){if(Q===this.prerelease.join(".")&&B===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(G)}}if(Q){let Z=[Q,G];if(B===!1)Z=[Q];if(i6A(this.prerelease[0],Q)===0){if(isNaN(this.prerelease[1]))this.prerelease=Z}else this.prerelease=Z}break}default:throw Error(`invalid increment argument: ${A}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}GzQ.exports=CR});var Lr=w((f17,YzQ)=>{var ZzQ=pD(),u$6=(A,Q,B=!1)=>{if(A instanceof ZzQ)return A;try{return new ZzQ(A,Q)}catch(G){if(!B)return null;throw G}};YzQ.exports=u$6});var IzQ=w((b17,JzQ)=>{var m$6=Lr(),d$6=(A,Q)=>{let B=m$6(A,Q);return B?B.version:null};JzQ.exports=d$6});var WzQ=w((h17,XzQ)=>{var c$6=Lr(),p$6=(A,Q)=>{let B=c$6(A.trim().replace(/^[=v]+/,""),Q);return B?B.version:null};XzQ.exports=p$6});var EzQ=w((g17,VzQ)=>{var KzQ=pD(),l$6=(A,Q,B,G,Z)=>{if(typeof B==="string")Z=G,G=B,B=void 0;try{return new KzQ(A instanceof KzQ?A.version:A,B).inc(Q,G,Z).version}catch(Y){return null}};VzQ.exports=l$6});var FzQ=w((u17,HzQ)=>{var DzQ=Lr(),i$6=(A,Q)=>{let B=DzQ(A,null,!0),G=DzQ(Q,null,!0),Z=B.compare(G);if(Z===0)return null;let Y=Z>0,J=Y?B:G,I=Y?G:B,X=!!J.prerelease.length;if(!!I.prerelease.length&&!X){if(!I.patch&&!I.minor)return"major";if(I.compareMain(J)===0){if(I.minor&&!I.patch)return"minor";return"patch"}}let K=X?"pre":"";if(B.major!==G.major)return K+"major";if(B.minor!==G.minor)return K+"minor";if(B.patch!==G.patch)return K+"patch";return"prerelease"};HzQ.exports=i$6});var zzQ=w((m17,CzQ)=>{var n$6=pD(),a$6=(A,Q)=>new n$6(A,Q).major;CzQ.exports=a$6});var $zQ=w((d17,UzQ)=>{var o$6=pD(),r$6=(A,Q)=>new o$6(A,Q).minor;UzQ.exports=r$6});var NzQ=w((c17,wzQ)=>{var s$6=pD(),t$6=(A,Q)=>new s$6(A,Q).patch;wzQ.exports=t$6});var LzQ=w((p17,qzQ)=>{var e$6=Lr(),Aw6=(A,Q)=>{let B=e$6(A,Q);return B&&B.prerelease.length?B.prerelease:null};qzQ.exports=Aw6});var iq=w((l17,OzQ)=>{var MzQ=pD(),Qw6=(A,Q,B)=>new MzQ(A,B).compare(new MzQ(Q,B));OzQ.exports=Qw6});var _zQ=w((i17,RzQ)=>{var Bw6=iq(),Gw6=(A,Q,B)=>Bw6(Q,A,B);RzQ.exports=Gw6});var jzQ=w((n17,TzQ)=>{var Zw6=iq(),Yw6=(A,Q)=>Zw6(A,Q,!0);TzQ.exports=Yw6});var ogA=w((a17,SzQ)=>{var PzQ=pD(),Jw6=(A,Q,B)=>{let G=new PzQ(A,B),Z=new PzQ(Q,B);return G.compare(Z)||G.compareBuild(Z)};SzQ.exports=Jw6});var yzQ=w((o17,xzQ)=>{var Iw6=ogA(),Xw6=(A,Q)=>A.sort((B,G)=>Iw6(B,G,Q));xzQ.exports=Xw6});var kzQ=w((r17,vzQ)=>{var Ww6=ogA(),Kw6=(A,Q)=>A.sort((B,G)=>Ww6(G,B,Q));vzQ.exports=Kw6});var FHA=w((s17,fzQ)=>{var Vw6=iq(),Ew6=(A,Q,B)=>Vw6(A,Q,B)>0;fzQ.exports=Ew6});var rgA=w((t17,bzQ)=>{var Dw6=iq(),Hw6=(A,Q,B)=>Dw6(A,Q,B)<0;bzQ.exports=Hw6});var aR1=w((e17,hzQ)=>{var Fw6=iq(),Cw6=(A,Q,B)=>Fw6(A,Q,B)===0;hzQ.exports=Cw6});var oR1=w((A07,gzQ)=>{var zw6=iq(),Uw6=(A,Q,B)=>zw6(A,Q,B)!==0;gzQ.exports=Uw6});var sgA=w((Q07,uzQ)=>{var $w6=iq(),ww6=(A,Q,B)=>$w6(A,Q,B)>=0;uzQ.exports=ww6});var tgA=w((B07,mzQ)=>{var Nw6=iq(),qw6=(A,Q,B)=>Nw6(A,Q,B)<=0;mzQ.exports=qw6});var rR1=w((G07,dzQ)=>{var Lw6=aR1(),Mw6=oR1(),Ow6=FHA(),Rw6=sgA(),_w6=rgA(),Tw6=tgA(),jw6=(A,Q,B,G)=>{switch(Q){case"===":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A===B;case"!==":if(typeof A==="object")A=A.version;if(typeof B==="object")B=B.version;return A!==B;case"":case"=":case"==":return Lw6(A,B,G);case"!=":return Mw6(A,B,G);case">":return Ow6(A,B,G);case">=":return Rw6(A,B,G);case"<":return _w6(A,B,G);case"<=":return Tw6(A,B,G);default:throw TypeError(`Invalid operator: ${Q}`)}};dzQ.exports=jw6});var pzQ=w((Z07,czQ)=>{var Pw6=pD(),Sw6=Lr(),{safeRe:egA,t:AuA}=l6A(),xw6=(A,Q)=>{if(A instanceof Pw6)return A;if(typeof A==="number")A=String(A);if(typeof A!=="string")return null;Q=Q||{};let B=null;if(!Q.rtl)B=A.match(Q.includePrerelease?egA[AuA.COERCEFULL]:egA[AuA.COERCE]);else{let X=Q.includePrerelease?egA[AuA.COERCERTLFULL]:egA[AuA.COERCERTL],W;while((W=X.exec(A))&&(!B||B.index+B[0].length!==A.length)){if(!B||W.index+W[0].length!==B.index+B[0].length)B=W;X.lastIndex=W.index+W[1].length+W[2].length}X.lastIndex=-1}if(B===null)return null;let G=B[2],Z=B[3]||"0",Y=B[4]||"0",J=Q.includePrerelease&&B[5]?`-${B[5]}`:"",I=Q.includePrerelease&&B[6]?`+${B[6]}`:"";return Sw6(`${G}.${Z}.${Y}${J}${I}`,Q)};czQ.exports=xw6});var nzQ=w((Y07,izQ)=>{class lzQ{constructor(){this.max=1000,this.map=new Map}get(A){let Q=this.map.get(A);if(Q===void 0)return;else return this.map.delete(A),this.map.set(A,Q),Q}delete(A){return this.map.delete(A)}set(A,Q){if(!this.delete(A)&&Q!==void 0){if(this.map.size>=this.max){let G=this.map.keys().next().value;this.delete(G)}this.map.set(A,Q)}return this}}izQ.exports=lzQ});var nq=w((J07,szQ)=>{var yw6=/\s+/g;class CHA{constructor(A,Q){if(Q=kw6(Q),A instanceof CHA)if(A.loose===!!Q.loose&&A.includePrerelease===!!Q.includePrerelease)return A;else return new CHA(A.raw,Q);if(A instanceof sR1)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=A.trim().replace(yw6," "),this.set=this.raw.split("||").map((B)=>this.parseRange(B.trim())).filter((B)=>B.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let B=this.set[0];if(this.set=this.set.filter((G)=>!ozQ(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(let G of this.set)if(G.length===1&&dw6(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){if(A>0)this.formatted+="||";let Q=this.set[A];for(let B=0;B<Q.length;B++){if(B>0)this.formatted+=" ";this.formatted+=Q[B].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let B=((this.options.includePrerelease&&uw6)|(this.options.loose&&mw6))+":"+A,G=azQ.get(B);if(G)return G;let Z=this.options.loose,Y=Z?Oz[FF.HYPHENRANGELOOSE]:Oz[FF.HYPHENRANGE];A=A.replace(Y,tw6(this.options.includePrerelease)),BY("hyphen replace",A),A=A.replace(Oz[FF.COMPARATORTRIM],bw6),BY("comparator trim",A),A=A.replace(Oz[FF.TILDETRIM],hw6),BY("tilde trim",A),A=A.replace(Oz[FF.CARETTRIM],gw6),BY("caret trim",A);let J=A.split(" ").map((K)=>cw6(K,this.options)).join(" ").split(/\s+/).map((K)=>sw6(K,this.options));if(Z)J=J.filter((K)=>{return BY("loose invalid filter",K,this.options),!!K.match(Oz[FF.COMPARATORLOOSE])});BY("range list",J);let I=new Map,X=J.map((K)=>new sR1(K,this.options));for(let K of X){if(ozQ(K))return[K];I.set(K.value,K)}if(I.size>1&&I.has(""))I.delete("");let W=[...I.values()];return azQ.set(B,W),W}intersects(A,Q){if(!(A instanceof CHA))throw TypeError("a Range is required");return this.set.some((B)=>{return rzQ(B,Q)&&A.set.some((G)=>{return rzQ(G,Q)&&B.every((Z)=>{return G.every((Y)=>{return Z.intersects(Y,Q)})})})})}test(A){if(!A)return!1;if(typeof A==="string")try{A=new fw6(A,this.options)}catch(Q){return!1}for(let Q=0;Q<this.set.length;Q++)if(ew6(this.set[Q],A,this.options))return!0;return!1}}szQ.exports=CHA;var vw6=nzQ(),azQ=new vw6,kw6=pgA(),sR1=zHA(),BY=HHA(),fw6=pD(),{safeRe:Oz,t:FF,comparatorTrimReplace:bw6,tildeTrimReplace:hw6,caretTrimReplace:gw6}=l6A(),{FLAG_INCLUDE_PRERELEASE:uw6,FLAG_LOOSE:mw6}=DHA(),ozQ=(A)=>A.value==="<0.0.0-0",dw6=(A)=>A.value==="",rzQ=(A,Q)=>{let B=!0,G=A.slice(),Z=G.pop();while(B&&G.length)B=G.every((Y)=>{return Z.intersects(Y,Q)}),Z=G.pop();return B},cw6=(A,Q)=>{return BY("comp",A,Q),A=iw6(A,Q),BY("caret",A),A=pw6(A,Q),BY("tildes",A),A=aw6(A,Q),BY("xrange",A),A=rw6(A,Q),BY("stars",A),A},CF=(A)=>!A||A.toLowerCase()==="x"||A==="*",pw6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>lw6(B,Q)).join(" ")},lw6=(A,Q)=>{let B=Q.loose?Oz[FF.TILDELOOSE]:Oz[FF.TILDE];return A.replace(B,(G,Z,Y,J,I)=>{BY("tilde",A,G,Z,Y,J,I);let X;if(CF(Z))X="";else if(CF(Y))X=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(CF(J))X=`>=${Z}.${Y}.0 <${Z}.${+Y+1}.0-0`;else if(I)BY("replaceTilde pr",I),X=`>=${Z}.${Y}.${J}-${I} <${Z}.${+Y+1}.0-0`;else X=`>=${Z}.${Y}.${J} <${Z}.${+Y+1}.0-0`;return BY("tilde return",X),X})},iw6=(A,Q)=>{return A.trim().split(/\s+/).map((B)=>nw6(B,Q)).join(" ")},nw6=(A,Q)=>{BY("caret",A,Q);let B=Q.loose?Oz[FF.CARETLOOSE]:Oz[FF.CARET],G=Q.includePrerelease?"-0":"";return A.replace(B,(Z,Y,J,I,X)=>{BY("caret",A,Z,Y,J,I,X);let W;if(CF(Y))W="";else if(CF(J))W=`>=${Y}.0.0${G} <${+Y+1}.0.0-0`;else if(CF(I))if(Y==="0")W=`>=${Y}.${J}.0${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.0${G} <${+Y+1}.0.0-0`;else if(X)if(BY("replaceCaret pr",X),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}-${X} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}-${X} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I}-${X} <${+Y+1}.0.0-0`;else if(BY("no pr"),Y==="0")if(J==="0")W=`>=${Y}.${J}.${I}${G} <${Y}.${J}.${+I+1}-0`;else W=`>=${Y}.${J}.${I}${G} <${Y}.${+J+1}.0-0`;else W=`>=${Y}.${J}.${I} <${+Y+1}.0.0-0`;return BY("caret return",W),W})},aw6=(A,Q)=>{return BY("replaceXRanges",A,Q),A.split(/\s+/).map((B)=>ow6(B,Q)).join(" ")},ow6=(A,Q)=>{A=A.trim();let B=Q.loose?Oz[FF.XRANGELOOSE]:Oz[FF.XRANGE];return A.replace(B,(G,Z,Y,J,I,X)=>{BY("xRange",A,G,Z,Y,J,I,X);let W=CF(Y),K=W||CF(J),V=K||CF(I),E=V;if(Z==="="&&E)Z="";if(X=Q.includePrerelease?"-0":"",W)if(Z===">"||Z==="<")G="<0.0.0-0";else G="*";else if(Z&&E){if(K)J=0;if(I=0,Z===">")if(Z=">=",K)Y=+Y+1,J=0,I=0;else J=+J+1,I=0;else if(Z==="<=")if(Z="<",K)Y=+Y+1;else J=+J+1;if(Z==="<")X="-0";G=`${Z+Y}.${J}.${I}${X}`}else if(K)G=`>=${Y}.0.0${X} <${+Y+1}.0.0-0`;else if(V)G=`>=${Y}.${J}.0${X} <${Y}.${+J+1}.0-0`;return BY("xRange return",G),G})},rw6=(A,Q)=>{return BY("replaceStars",A,Q),A.trim().replace(Oz[FF.STAR],"")},sw6=(A,Q)=>{return BY("replaceGTE0",A,Q),A.trim().replace(Oz[Q.includePrerelease?FF.GTE0PRE:FF.GTE0],"")},tw6=(A)=>(Q,B,G,Z,Y,J,I,X,W,K,V,E)=>{if(CF(G))B="";else if(CF(Z))B=`>=${G}.0.0${A?"-0":""}`;else if(CF(Y))B=`>=${G}.${Z}.0${A?"-0":""}`;else if(J)B=`>=${B}`;else B=`>=${B}${A?"-0":""}`;if(CF(W))X="";else if(CF(K))X=`<${+W+1}.0.0-0`;else if(CF(V))X=`<${W}.${+K+1}.0-0`;else if(E)X=`<=${W}.${K}.${V}-${E}`;else if(A)X=`<${W}.${K}.${+V+1}-0`;else X=`<=${X}`;return`${B} ${X}`.trim()},ew6=(A,Q,B)=>{for(let G=0;G<A.length;G++)if(!A[G].test(Q))return!1;if(Q.prerelease.length&&!B.includePrerelease){for(let G=0;G<A.length;G++){if(BY(A[G].semver),A[G].semver===sR1.ANY)continue;if(A[G].semver.prerelease.length>0){let Z=A[G].semver;if(Z.major===Q.major&&Z.minor===Q.minor&&Z.patch===Q.patch)return!0}}return!1}return!0}});var zHA=w((I07,GUQ)=>{var UHA=Symbol("SemVer ANY");class QuA{static get ANY(){return UHA}constructor(A,Q){if(Q=tzQ(Q),A instanceof QuA)if(A.loose===!!Q.loose)return A;else A=A.value;if(A=A.trim().split(/\s+/).join(" "),eR1("comparator",A,Q),this.options=Q,this.loose=!!Q.loose,this.parse(A),this.semver===UHA)this.value="";else this.value=this.operator+this.semver.version;eR1("comp",this)}parse(A){let Q=this.options.loose?ezQ[AUQ.COMPARATORLOOSE]:ezQ[AUQ.COMPARATOR],B=A.match(Q);if(!B)throw TypeError(`Invalid comparator: ${A}`);if(this.operator=B[1]!==void 0?B[1]:"",this.operator==="=")this.operator="";if(!B[2])this.semver=UHA;else this.semver=new QUQ(B[2],this.options.loose)}toString(){return this.value}test(A){if(eR1("Comparator.test",A,this.options.loose),this.semver===UHA||A===UHA)return!0;if(typeof A==="string")try{A=new QUQ(A,this.options)}catch(Q){return!1}return tR1(A,this.operator,this.semver,this.options)}intersects(A,Q){if(!(A instanceof QuA))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new BUQ(A.value,Q).test(this.value)}else if(A.operator===""){if(A.value==="")return!0;return new BUQ(this.value,Q).test(A.semver)}if(Q=tzQ(Q),Q.includePrerelease&&(this.value==="<0.0.0-0"||A.value==="<0.0.0-0"))return!1;if(!Q.includePrerelease&&(this.value.startsWith("<0.0.0")||A.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&A.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&A.operator.startsWith("<"))return!0;if(this.semver.version===A.semver.version&&this.operator.includes("=")&&A.operator.includes("="))return!0;if(tR1(this.semver,"<",A.semver,Q)&&this.operator.startsWith(">")&&A.operator.startsWith("<"))return!0;if(tR1(this.semver,">",A.semver,Q)&&this.operator.startsWith("<")&&A.operator.startsWith(">"))return!0;return!1}}GUQ.exports=QuA;var tzQ=pgA(),{safeRe:ezQ,t:AUQ}=l6A(),tR1=rR1(),eR1=HHA(),QUQ=pD(),BUQ=nq()});var $HA=w((X07,ZUQ)=>{var AN6=nq(),QN6=(A,Q,B)=>{try{Q=new AN6(Q,B)}catch(G){return!1}return Q.test(A)};ZUQ.exports=QN6});var JUQ=w((W07,YUQ)=>{var BN6=nq(),GN6=(A,Q)=>new BN6(A,Q).set.map((B)=>B.map((G)=>G.value).join(" ").trim().split(" "));YUQ.exports=GN6});var XUQ=w((K07,IUQ)=>{var ZN6=pD(),YN6=nq(),JN6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new YN6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===-1)G=J,Z=new ZN6(G,B)}}),G};IUQ.exports=JN6});var KUQ=w((V07,WUQ)=>{var IN6=pD(),XN6=nq(),WN6=(A,Q,B)=>{let G=null,Z=null,Y=null;try{Y=new XN6(Q,B)}catch(J){return null}return A.forEach((J)=>{if(Y.test(J)){if(!G||Z.compare(J)===1)G=J,Z=new IN6(G,B)}}),G};WUQ.exports=WN6});var DUQ=w((E07,EUQ)=>{var A_1=pD(),KN6=nq(),VUQ=FHA(),VN6=(A,Q)=>{A=new KN6(A,Q);let B=new A_1("0.0.0");if(A.test(B))return B;if(B=new A_1("0.0.0-0"),A.test(B))return B;B=null;for(let G=0;G<A.set.length;++G){let Z=A.set[G],Y=null;if(Z.forEach((J)=>{let I=new A_1(J.semver.version);switch(J.operator){case">":if(I.prerelease.length===0)I.patch++;else I.prerelease.push(0);I.raw=I.format();case"":case">=":if(!Y||VUQ(I,Y))Y=I;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${J.operator}`)}}),Y&&(!B||VUQ(B,Y)))B=Y}if(B&&A.test(B))return B;return null};EUQ.exports=VN6});var FUQ=w((D07,HUQ)=>{var EN6=nq(),DN6=(A,Q)=>{try{return new EN6(A,Q).range||"*"}catch(B){return null}};HUQ.exports=DN6});var BuA=w((H07,$UQ)=>{var HN6=pD(),UUQ=zHA(),{ANY:FN6}=UUQ,CN6=nq(),zN6=$HA(),CUQ=FHA(),zUQ=rgA(),UN6=tgA(),$N6=sgA(),wN6=(A,Q,B,G)=>{A=new HN6(A,G),Q=new CN6(Q,G);let Z,Y,J,I,X;switch(B){case">":Z=CUQ,Y=UN6,J=zUQ,I=">",X=">=";break;case"<":Z=zUQ,Y=$N6,J=CUQ,I="<",X="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(zN6(A,Q,G))return!1;for(let W=0;W<Q.set.length;++W){let K=Q.set[W],V=null,E=null;if(K.forEach((D)=>{if(D.semver===FN6)D=new UUQ(">=0.0.0");if(V=V||D,E=E||D,Z(D.semver,V.semver,G))V=D;else if(J(D.semver,E.semver,G))E=D}),V.operator===I||V.operator===X)return!1;if((!E.operator||E.operator===I)&&Y(A,E.semver))return!1;else if(E.operator===X&&J(A,E.semver))return!1}return!0};$UQ.exports=wN6});var NUQ=w((F07,wUQ)=>{var NN6=BuA(),qN6=(A,Q,B)=>NN6(A,Q,">",B);wUQ.exports=qN6});var LUQ=w((C07,qUQ)=>{var LN6=BuA(),MN6=(A,Q,B)=>LN6(A,Q,"<",B);qUQ.exports=MN6});var RUQ=w((z07,OUQ)=>{var MUQ=nq(),ON6=(A,Q,B)=>{return A=new MUQ(A,B),Q=new MUQ(Q,B),A.intersects(Q,B)};OUQ.exports=ON6});var TUQ=w((U07,_UQ)=>{var RN6=$HA(),_N6=iq();_UQ.exports=(A,Q,B)=>{let G=[],Z=null,Y=null,J=A.sort((K,V)=>_N6(K,V,B));for(let K of J)if(RN6(K,Q,B)){if(Y=K,!Z)Z=K}else{if(Y)G.push([Z,Y]);Y=null,Z=null}if(Z)G.push([Z,null]);let I=[];for(let[K,V]of G)if(K===V)I.push(K);else if(!V&&K===J[0])I.push("*");else if(!V)I.push(`>=${K}`);else if(K===J[0])I.push(`<=${V}`);else I.push(`${K} - ${V}`);let X=I.join(" || "),W=typeof Q.raw==="string"?Q.raw:String(Q);return X.length<W.length?X:Q}});var vUQ=w(($07,yUQ)=>{var jUQ=nq(),B_1=zHA(),{ANY:Q_1}=B_1,wHA=$HA(),G_1=iq(),TN6=(A,Q,B={})=>{if(A===Q)return!0;A=new jUQ(A,B),Q=new jUQ(Q,B);let G=!1;A:for(let Z of A.set){for(let Y of Q.set){let J=PN6(Z,Y,B);if(G=G||J!==null,J)continue A}if(G)return!1}return!0},jN6=[new B_1(">=0.0.0-0")],PUQ=[new B_1(">=0.0.0")],PN6=(A,Q,B)=>{if(A===Q)return!0;if(A.length===1&&A[0].semver===Q_1)if(Q.length===1&&Q[0].semver===Q_1)return!0;else if(B.includePrerelease)A=jN6;else A=PUQ;if(Q.length===1&&Q[0].semver===Q_1)if(B.includePrerelease)return!0;else Q=PUQ;let G=new Set,Z,Y;for(let D of A)if(D.operator===">"||D.operator===">=")Z=SUQ(Z,D,B);else if(D.operator==="<"||D.operator==="<=")Y=xUQ(Y,D,B);else G.add(D.semver);if(G.size>1)return null;let J;if(Z&&Y){if(J=G_1(Z.semver,Y.semver,B),J>0)return null;else if(J===0&&(Z.operator!==">="||Y.operator!=="<="))return null}for(let D of G){if(Z&&!wHA(D,String(Z),B))return null;if(Y&&!wHA(D,String(Y),B))return null;for(let H of Q)if(!wHA(D,String(H),B))return!1;return!0}let I,X,W,K,V=Y&&!B.includePrerelease&&Y.semver.prerelease.length?Y.semver:!1,E=Z&&!B.includePrerelease&&Z.semver.prerelease.length?Z.semver:!1;if(V&&V.prerelease.length===1&&Y.operator==="<"&&V.prerelease[0]===0)V=!1;for(let D of Q){if(K=K||D.operator===">"||D.operator===">=",W=W||D.operator==="<"||D.operator==="<=",Z){if(E){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===E.major&&D.semver.minor===E.minor&&D.semver.patch===E.patch)E=!1}if(D.operator===">"||D.operator===">="){if(I=SUQ(Z,D,B),I===D&&I!==Z)return!1}else if(Z.operator===">="&&!wHA(Z.semver,String(D),B))return!1}if(Y){if(V){if(D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===V.major&&D.semver.minor===V.minor&&D.semver.patch===V.patch)V=!1}if(D.operator==="<"||D.operator==="<="){if(X=xUQ(Y,D,B),X===D&&X!==Y)return!1}else if(Y.operator==="<="&&!wHA(Y.semver,String(D),B))return!1}if(!D.operator&&(Y||Z)&&J!==0)return!1}if(Z&&W&&!Y&&J!==0)return!1;if(Y&&K&&!Z&&J!==0)return!1;if(E||V)return!1;return!0},SUQ=(A,Q,B)=>{if(!A)return Q;let G=G_1(A.semver,Q.semver,B);return G>0?A:G<0?Q:Q.operator===">"&&A.operator===">="?Q:A},xUQ=(A,Q,B)=>{if(!A)return Q;let G=G_1(A.semver,Q.semver,B);return G<0?A:G>0?Q:Q.operator==="<"&&A.operator==="<="?Q:A};yUQ.exports=TN6});var zR=w((w07,bUQ)=>{var Z_1=l6A(),kUQ=DHA(),SN6=pD(),fUQ=nR1(),xN6=Lr(),yN6=IzQ(),vN6=WzQ(),kN6=EzQ(),fN6=FzQ(),bN6=zzQ(),hN6=$zQ(),gN6=NzQ(),uN6=LzQ(),mN6=iq(),dN6=_zQ(),cN6=jzQ(),pN6=ogA(),lN6=yzQ(),iN6=kzQ(),nN6=FHA(),aN6=rgA(),oN6=aR1(),rN6=oR1(),sN6=sgA(),tN6=tgA(),eN6=rR1(),Aq6=pzQ(),Qq6=zHA(),Bq6=nq(),Gq6=$HA(),Zq6=JUQ(),Yq6=XUQ(),Jq6=KUQ(),Iq6=DUQ(),Xq6=FUQ(),Wq6=BuA(),Kq6=NUQ(),Vq6=LUQ(),Eq6=RUQ(),Dq6=TUQ(),Hq6=vUQ();bUQ.exports={parse:xN6,valid:yN6,clean:vN6,inc:kN6,diff:fN6,major:bN6,minor:hN6,patch:gN6,prerelease:uN6,compare:mN6,rcompare:dN6,compareLoose:cN6,compareBuild:pN6,sort:lN6,rsort:iN6,gt:nN6,lt:aN6,eq:oN6,neq:rN6,gte:sN6,lte:tN6,cmp:eN6,coerce:Aq6,Comparator:Qq6,Range:Bq6,satisfies:Gq6,toComparators:Zq6,maxSatisfying:Yq6,minSatisfying:Jq6,minVersion:Iq6,validRange:Xq6,outside:Wq6,gtr:Kq6,ltr:Vq6,intersects:Eq6,simplifyRange:Dq6,subset:Hq6,SemVer:SN6,re:Z_1.re,src:Z_1.src,tokens:Z_1.t,SEMVER_SPEC_VERSION:kUQ.SEMVER_SPEC_VERSION,RELEASE_TYPES:kUQ.RELEASE_TYPES,compareIdentifiers:fUQ.compareIdentifiers,rcompareIdentifiers:fUQ.rcompareIdentifiers}});function aX(){return z0(process.env.CLAUDE_CODE_USE_BEDROCK)||z0(process.env.CLAUDE_CODE_USE_VERTEX)||z0(process.env.CLAUDE_CODE_USE_FOUNDRY)||!!process.env.DISABLE_TELEMETRY||!!process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC}var Mr=L(()=>{rQ()});var uUQ=w((hUQ)=>{Object.defineProperty(hUQ,"__esModule",{value:!0});hUQ._globalThis=void 0;hUQ._globalThis=typeof globalThis==="object"?globalThis:global});var mUQ=w((Or)=>{var Fq6=Or&&Or.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Cq6=Or&&Or.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Fq6(Q,A,B)};Object.defineProperty(Or,"__esModule",{value:!0});Cq6(uUQ(),Or)});var dUQ=w((Rr)=>{var zq6=Rr&&Rr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;Object.defineProperty(A,G,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Uq6=Rr&&Rr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))zq6(Q,A,B)};Object.defineProperty(Rr,"__esModule",{value:!0});Uq6(mUQ(),Rr)});var Y_1=w((cUQ)=>{Object.defineProperty(cUQ,"__esModule",{value:!0});cUQ.VERSION=void 0;cUQ.VERSION="1.9.0"});var oUQ=w((nUQ)=>{Object.defineProperty(nUQ,"__esModule",{value:!0});nUQ.isCompatible=nUQ._makeCompatibilityCheck=void 0;var $q6=Y_1(),lUQ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function iUQ(A){let Q=new Set([A]),B=new Set,G=A.match(lUQ);if(!G)return()=>!1;let Z={major:+G[1],minor:+G[2],patch:+G[3],prerelease:G[4]};if(Z.prerelease!=null)return function(X){return X===A};function Y(I){return B.add(I),!1}function J(I){return Q.add(I),!0}return function(X){if(Q.has(X))return!0;if(B.has(X))return!1;let W=X.match(lUQ);if(!W)return Y(X);let K={major:+W[1],minor:+W[2],patch:+W[3],prerelease:W[4]};if(K.prerelease!=null)return Y(X);if(Z.major!==K.major)return Y(X);if(Z.major===0){if(Z.minor===K.minor&&Z.patch<=K.patch)return J(X);return Y(X)}if(Z.minor<=K.minor)return J(X);return Y(X)}}nUQ._makeCompatibilityCheck=iUQ;nUQ.isCompatible=iUQ($q6.VERSION)});var _r=w((rUQ)=>{Object.defineProperty(rUQ,"__esModule",{value:!0});rUQ.unregisterGlobal=rUQ.getGlobal=rUQ.registerGlobal=void 0;var Nq6=dUQ(),n6A=Y_1(),qq6=oUQ(),Lq6=n6A.VERSION.split(".")[0],NHA=Symbol.for(`opentelemetry.js.api.${Lq6}`),qHA=Nq6._globalThis;function Mq6(A,Q,B,G=!1){var Z;let Y=qHA[NHA]=(Z=qHA[NHA])!==null&&Z!==void 0?Z:{version:n6A.VERSION};if(!G&&Y[A]){let J=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${A}`);return B.error(J.stack||J.message),!1}if(Y.version!==n6A.VERSION){let J=Error(`@opentelemetry/api: Registration of version v${Y.version} for ${A} does not match previously registered API v${n6A.VERSION}`);return B.error(J.stack||J.message),!1}return Y[A]=Q,B.debug(`@opentelemetry/api: Registered a global for ${A} v${n6A.VERSION}.`),!0}rUQ.registerGlobal=Mq6;function Oq6(A){var Q,B;let G=(Q=qHA[NHA])===null||Q===void 0?void 0:Q.version;if(!G||!(0,qq6.isCompatible)(G))return;return(B=qHA[NHA])===null||B===void 0?void 0:B[A]}rUQ.getGlobal=Oq6;function Rq6(A,Q){Q.debug(`@opentelemetry/api: Unregistering a global for ${A} v${n6A.VERSION}.`);let B=qHA[NHA];if(B)delete B[A]}rUQ.unregisterGlobal=Rq6});var Q$Q=w((eUQ)=>{Object.defineProperty(eUQ,"__esModule",{value:!0});eUQ.DiagComponentLogger=void 0;var jq6=_r();class tUQ{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return LHA("debug",this._namespace,A)}error(...A){return LHA("error",this._namespace,A)}info(...A){return LHA("info",this._namespace,A)}warn(...A){return LHA("warn",this._namespace,A)}verbose(...A){return LHA("verbose",this._namespace,A)}}eUQ.DiagComponentLogger=tUQ;function LHA(A,Q,B){let G=(0,jq6.getGlobal)("diag");if(!G)return;return B.unshift(Q),G[A](...B)}});var GuA=w((B$Q)=>{Object.defineProperty(B$Q,"__esModule",{value:!0});B$Q.DiagLogLevel=void 0;var Pq6;(function(A){A[A.NONE=0]="NONE",A[A.ERROR=30]="ERROR",A[A.WARN=50]="WARN",A[A.INFO=60]="INFO",A[A.DEBUG=70]="DEBUG",A[A.VERBOSE=80]="VERBOSE",A[A.ALL=9999]="ALL"})(Pq6=B$Q.DiagLogLevel||(B$Q.DiagLogLevel={}))});var Y$Q=w((G$Q)=>{Object.defineProperty(G$Q,"__esModule",{value:!0});G$Q.createLogLevelDiagLogger=void 0;var Ok=GuA();function Sq6(A,Q){if(A<Ok.DiagLogLevel.NONE)A=Ok.DiagLogLevel.NONE;else if(A>Ok.DiagLogLevel.ALL)A=Ok.DiagLogLevel.ALL;Q=Q||{};function B(G,Z){let Y=Q[G];if(typeof Y==="function"&&A>=Z)return Y.bind(Q);return function(){}}return{error:B("error",Ok.DiagLogLevel.ERROR),warn:B("warn",Ok.DiagLogLevel.WARN),info:B("info",Ok.DiagLogLevel.INFO),debug:B("debug",Ok.DiagLogLevel.DEBUG),verbose:B("verbose",Ok.DiagLogLevel.VERBOSE)}}G$Q.createLogLevelDiagLogger=Sq6});var Tr=w((I$Q)=>{Object.defineProperty(I$Q,"__esModule",{value:!0});I$Q.DiagAPI=void 0;var xq6=Q$Q(),yq6=Y$Q(),J$Q=GuA(),ZuA=_r(),vq6="diag";class I_1{constructor(){function A(G){return function(...Z){let Y=(0,ZuA.getGlobal)("diag");if(!Y)return;return Y[G](...Z)}}let Q=this,B=(G,Z={logLevel:J$Q.DiagLogLevel.INFO})=>{var Y,J,I;if(G===Q){let K=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return Q.error((Y=K.stack)!==null&&Y!==void 0?Y:K.message),!1}if(typeof Z==="number")Z={logLevel:Z};let X=(0,ZuA.getGlobal)("diag"),W=(0,yq6.createLogLevelDiagLogger)((J=Z.logLevel)!==null&&J!==void 0?J:J$Q.DiagLogLevel.INFO,G);if(X&&!Z.suppressOverrideMessage){let K=(I=Error().stack)!==null&&I!==void 0?I:"<failed to generate stacktrace>";X.warn(`Current logger will be overwritten from ${K}`),W.warn(`Current logger will overwrite one already registered from ${K}`)}return(0,ZuA.registerGlobal)("diag",W,Q,!0)};Q.setLogger=B,Q.disable=()=>{(0,ZuA.unregisterGlobal)(vq6,Q)},Q.createComponentLogger=(G)=>{return new xq6.DiagComponentLogger(G)},Q.verbose=A("verbose"),Q.debug=A("debug"),Q.info=A("info"),Q.warn=A("warn"),Q.error=A("error")}static instance(){if(!this._instance)this._instance=new I_1;return this._instance}}I$Q.DiagAPI=I_1});var V$Q=w((W$Q)=>{Object.defineProperty(W$Q,"__esModule",{value:!0});W$Q.BaggageImpl=void 0;class a6A{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let Q=this._entries.get(A);if(!Q)return;return Object.assign({},Q)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,Q])=>[A,Q])}setEntry(A,Q){let B=new a6A(this._entries);return B._entries.set(A,Q),B}removeEntry(A){let Q=new a6A(this._entries);return Q._entries.delete(A),Q}removeEntries(...A){let Q=new a6A(this._entries);for(let B of A)Q._entries.delete(B);return Q}clear(){return new a6A}}W$Q.BaggageImpl=a6A});var H$Q=w((E$Q)=>{Object.defineProperty(E$Q,"__esModule",{value:!0});E$Q.baggageEntryMetadataSymbol=void 0;E$Q.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var X_1=w((F$Q)=>{Object.defineProperty(F$Q,"__esModule",{value:!0});F$Q.baggageEntryMetadataFromString=F$Q.createBaggage=void 0;var kq6=Tr(),fq6=V$Q(),bq6=H$Q(),hq6=kq6.DiagAPI.instance();function gq6(A={}){return new fq6.BaggageImpl(new Map(Object.entries(A)))}F$Q.createBaggage=gq6;function uq6(A){if(typeof A!=="string")hq6.error(`Cannot create baggage metadata from unknown type: ${typeof A}`),A="";return{__TYPE__:bq6.baggageEntryMetadataSymbol,toString(){return A}}}F$Q.baggageEntryMetadataFromString=uq6});var MHA=w((z$Q)=>{Object.defineProperty(z$Q,"__esModule",{value:!0});z$Q.ROOT_CONTEXT=z$Q.createContextKey=void 0;function dq6(A){return Symbol.for(A)}z$Q.createContextKey=dq6;class YuA{constructor(A){let Q=this;Q._currentContext=A?new Map(A):new Map,Q.getValue=(B)=>Q._currentContext.get(B),Q.setValue=(B,G)=>{let Z=new YuA(Q._currentContext);return Z._currentContext.set(B,G),Z},Q.deleteValue=(B)=>{let G=new YuA(Q._currentContext);return G._currentContext.delete(B),G}}}z$Q.ROOT_CONTEXT=new YuA});var q$Q=w((w$Q)=>{Object.defineProperty(w$Q,"__esModule",{value:!0});w$Q.DiagConsoleLogger=void 0;var W_1=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class $$Q{constructor(){function A(Q){return function(...B){if(console){let G=console[Q];if(typeof G!=="function")G=console.log;if(typeof G==="function")return G.apply(console,B)}}}for(let Q=0;Q<W_1.length;Q++)this[W_1[Q].n]=A(W_1[Q].c)}}w$Q.DiagConsoleLogger=$$Q});var U_1=w((L$Q)=>{Object.defineProperty(L$Q,"__esModule",{value:!0});L$Q.createNoopMeter=L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=L$Q.NOOP_OBSERVABLE_GAUGE_METRIC=L$Q.NOOP_OBSERVABLE_COUNTER_METRIC=L$Q.NOOP_UP_DOWN_COUNTER_METRIC=L$Q.NOOP_HISTOGRAM_METRIC=L$Q.NOOP_GAUGE_METRIC=L$Q.NOOP_COUNTER_METRIC=L$Q.NOOP_METER=L$Q.NoopObservableUpDownCounterMetric=L$Q.NoopObservableGaugeMetric=L$Q.NoopObservableCounterMetric=L$Q.NoopObservableMetric=L$Q.NoopHistogramMetric=L$Q.NoopGaugeMetric=L$Q.NoopUpDownCounterMetric=L$Q.NoopCounterMetric=L$Q.NoopMetric=L$Q.NoopMeter=void 0;class K_1{constructor(){}createGauge(A,Q){return L$Q.NOOP_GAUGE_METRIC}createHistogram(A,Q){return L$Q.NOOP_HISTOGRAM_METRIC}createCounter(A,Q){return L$Q.NOOP_COUNTER_METRIC}createUpDownCounter(A,Q){return L$Q.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,Q){return L$Q.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,Q){return L$Q.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,Q){return L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,Q){}removeBatchObservableCallback(A){}}L$Q.NoopMeter=K_1;class o6A{}L$Q.NoopMetric=o6A;class V_1 extends o6A{add(A,Q){}}L$Q.NoopCounterMetric=V_1;class E_1 extends o6A{add(A,Q){}}L$Q.NoopUpDownCounterMetric=E_1;class D_1 extends o6A{record(A,Q){}}L$Q.NoopGaugeMetric=D_1;class H_1 extends o6A{record(A,Q){}}L$Q.NoopHistogramMetric=H_1;class OHA{addCallback(A){}removeCallback(A){}}L$Q.NoopObservableMetric=OHA;class F_1 extends OHA{}L$Q.NoopObservableCounterMetric=F_1;class C_1 extends OHA{}L$Q.NoopObservableGaugeMetric=C_1;class z_1 extends OHA{}L$Q.NoopObservableUpDownCounterMetric=z_1;L$Q.NOOP_METER=new K_1;L$Q.NOOP_COUNTER_METRIC=new V_1;L$Q.NOOP_GAUGE_METRIC=new D_1;L$Q.NOOP_HISTOGRAM_METRIC=new H_1;L$Q.NOOP_UP_DOWN_COUNTER_METRIC=new E_1;L$Q.NOOP_OBSERVABLE_COUNTER_METRIC=new F_1;L$Q.NOOP_OBSERVABLE_GAUGE_METRIC=new C_1;L$Q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new z_1;function pq6(){return L$Q.NOOP_METER}L$Q.createNoopMeter=pq6});var v$Q=w((y$Q)=>{Object.defineProperty(y$Q,"__esModule",{value:!0});y$Q.ValueType=void 0;var QL6;(function(A){A[A.INT=0]="INT",A[A.DOUBLE=1]="DOUBLE"})(QL6=y$Q.ValueType||(y$Q.ValueType={}))});var w_1=w((k$Q)=>{Object.defineProperty(k$Q,"__esModule",{value:!0});k$Q.defaultTextMapSetter=k$Q.defaultTextMapGetter=void 0;k$Q.defaultTextMapGetter={get(A,Q){if(A==null)return;return A[Q]},keys(A){if(A==null)return[];return Object.keys(A)}};k$Q.defaultTextMapSetter={set(A,Q,B){if(A==null)return;A[Q]=B}}});var u$Q=w((h$Q)=>{Object.defineProperty(h$Q,"__esModule",{value:!0});h$Q.NoopContextManager=void 0;var GL6=MHA();class b$Q{active(){return GL6.ROOT_CONTEXT}with(A,Q,B,...G){return Q.call(B,...G)}bind(A,Q){return Q}enable(){return this}disable(){return this}}h$Q.NoopContextManager=b$Q});var RHA=w((d$Q)=>{Object.defineProperty(d$Q,"__esModule",{value:!0});d$Q.ContextAPI=void 0;var ZL6=u$Q(),N_1=_r(),m$Q=Tr(),q_1="context",YL6=new ZL6.NoopContextManager;class L_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new L_1;return this._instance}setGlobalContextManager(A){return(0,N_1.registerGlobal)(q_1,A,m$Q.DiagAPI.instance())}active(){return this._getContextManager().active()}with(A,Q,B,...G){return this._getContextManager().with(A,Q,B,...G)}bind(A,Q){return this._getContextManager().bind(A,Q)}_getContextManager(){return(0,N_1.getGlobal)(q_1)||YL6}disable(){this._getContextManager().disable(),(0,N_1.unregisterGlobal)(q_1,m$Q.DiagAPI.instance())}}d$Q.ContextAPI=L_1});var O_1=w((p$Q)=>{Object.defineProperty(p$Q,"__esModule",{value:!0});p$Q.TraceFlags=void 0;var JL6;(function(A){A[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED"})(JL6=p$Q.TraceFlags||(p$Q.TraceFlags={}))});var JuA=w((l$Q)=>{Object.defineProperty(l$Q,"__esModule",{value:!0});l$Q.INVALID_SPAN_CONTEXT=l$Q.INVALID_TRACEID=l$Q.INVALID_SPANID=void 0;var IL6=O_1();l$Q.INVALID_SPANID="0000000000000000";l$Q.INVALID_TRACEID="00000000000000000000000000000000";l$Q.INVALID_SPAN_CONTEXT={traceId:l$Q.INVALID_TRACEID,spanId:l$Q.INVALID_SPANID,traceFlags:IL6.TraceFlags.NONE}});var IuA=w((r$Q)=>{Object.defineProperty(r$Q,"__esModule",{value:!0});r$Q.NonRecordingSpan=void 0;var XL6=JuA();class o$Q{constructor(A=XL6.INVALID_SPAN_CONTEXT){this._spanContext=A}spanContext(){return this._spanContext}setAttribute(A,Q){return this}setAttributes(A){return this}addEvent(A,Q){return this}addLink(A){return this}addLinks(A){return this}setStatus(A){return this}updateName(A){return this}end(A){}isRecording(){return!1}recordException(A,Q){}}r$Q.NonRecordingSpan=o$Q});var T_1=w((e$Q)=>{Object.defineProperty(e$Q,"__esModule",{value:!0});e$Q.getSpanContext=e$Q.setSpanContext=e$Q.deleteSpan=e$Q.setSpan=e$Q.getActiveSpan=e$Q.getSpan=void 0;var WL6=MHA(),KL6=IuA(),VL6=RHA(),R_1=(0,WL6.createContextKey)("OpenTelemetry Context Key SPAN");function __1(A){return A.getValue(R_1)||void 0}e$Q.getSpan=__1;function EL6(){return __1(VL6.ContextAPI.getInstance().active())}e$Q.getActiveSpan=EL6;function t$Q(A,Q){return A.setValue(R_1,Q)}e$Q.setSpan=t$Q;function DL6(A){return A.deleteValue(R_1)}e$Q.deleteSpan=DL6;function HL6(A,Q){return t$Q(A,new KL6.NonRecordingSpan(Q))}e$Q.setSpanContext=HL6;function FL6(A){var Q;return(Q=__1(A))===null||Q===void 0?void 0:Q.spanContext()}e$Q.getSpanContext=FL6});var XuA=w((ZwQ)=>{Object.defineProperty(ZwQ,"__esModule",{value:!0});ZwQ.wrapSpanContext=ZwQ.isSpanContextValid=ZwQ.isValidSpanId=ZwQ.isValidTraceId=void 0;var QwQ=JuA(),NL6=IuA(),qL6=/^([0-9a-f]{32})$/i,LL6=/^[0-9a-f]{16}$/i;function BwQ(A){return qL6.test(A)&&A!==QwQ.INVALID_TRACEID}ZwQ.isValidTraceId=BwQ;function GwQ(A){return LL6.test(A)&&A!==QwQ.INVALID_SPANID}ZwQ.isValidSpanId=GwQ;function ML6(A){return BwQ(A.traceId)&&GwQ(A.spanId)}ZwQ.isSpanContextValid=ML6;function OL6(A){return new NL6.NonRecordingSpan(A)}ZwQ.wrapSpanContext=OL6});var S_1=w((XwQ)=>{Object.defineProperty(XwQ,"__esModule",{value:!0});XwQ.NoopTracer=void 0;var jL6=RHA(),JwQ=T_1(),j_1=IuA(),PL6=XuA(),P_1=jL6.ContextAPI.getInstance();class IwQ{startSpan(A,Q,B=P_1.active()){if(Boolean(Q===null||Q===void 0?void 0:Q.root))return new j_1.NonRecordingSpan;let Z=B&&(0,JwQ.getSpanContext)(B);if(SL6(Z)&&(0,PL6.isSpanContextValid)(Z))return new j_1.NonRecordingSpan(Z);else return new j_1.NonRecordingSpan}startActiveSpan(A,Q,B,G){let Z,Y,J;if(arguments.length<2)return;else if(arguments.length===2)J=Q;else if(arguments.length===3)Z=Q,J=B;else Z=Q,Y=B,J=G;let I=Y!==null&&Y!==void 0?Y:P_1.active(),X=this.startSpan(A,Z,I),W=(0,JwQ.setSpan)(I,X);return P_1.with(W,J,void 0,X)}}XwQ.NoopTracer=IwQ;function SL6(A){return typeof A==="object"&&typeof A.spanId==="string"&&typeof A.traceId==="string"&&typeof A.traceFlags==="number"}});var x_1=w((VwQ)=>{Object.defineProperty(VwQ,"__esModule",{value:!0});VwQ.ProxyTracer=void 0;var xL6=S_1(),yL6=new xL6.NoopTracer;class KwQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}startSpan(A,Q,B){return this._getTracer().startSpan(A,Q,B)}startActiveSpan(A,Q,B,G){let Z=this._getTracer();return Reflect.apply(Z.startActiveSpan,Z,arguments)}_getTracer(){if(this._delegate)return this._delegate;let A=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!A)return yL6;return this._delegate=A,this._delegate}}VwQ.ProxyTracer=KwQ});var CwQ=w((HwQ)=>{Object.defineProperty(HwQ,"__esModule",{value:!0});HwQ.NoopTracerProvider=void 0;var vL6=S_1();class DwQ{getTracer(A,Q,B){return new vL6.NoopTracer}}HwQ.NoopTracerProvider=DwQ});var y_1=w((UwQ)=>{Object.defineProperty(UwQ,"__esModule",{value:!0});UwQ.ProxyTracerProvider=void 0;var kL6=x_1(),fL6=CwQ(),bL6=new fL6.NoopTracerProvider;class zwQ{getTracer(A,Q,B){var G;return(G=this.getDelegateTracer(A,Q,B))!==null&&G!==void 0?G:new kL6.ProxyTracer(this,A,Q,B)}getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:bL6}setDelegate(A){this._delegate=A}getDelegateTracer(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getTracer(A,Q,B)}}UwQ.ProxyTracerProvider=zwQ});var NwQ=w((wwQ)=>{Object.defineProperty(wwQ,"__esModule",{value:!0});wwQ.SamplingDecision=void 0;var hL6;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(hL6=wwQ.SamplingDecision||(wwQ.SamplingDecision={}))});var LwQ=w((qwQ)=>{Object.defineProperty(qwQ,"__esModule",{value:!0});qwQ.SpanKind=void 0;var gL6;(function(A){A[A.INTERNAL=0]="INTERNAL",A[A.SERVER=1]="SERVER",A[A.CLIENT=2]="CLIENT",A[A.PRODUCER=3]="PRODUCER",A[A.CONSUMER=4]="CONSUMER"})(gL6=qwQ.SpanKind||(qwQ.SpanKind={}))});var OwQ=w((MwQ)=>{Object.defineProperty(MwQ,"__esModule",{value:!0});MwQ.SpanStatusCode=void 0;var uL6;(function(A){A[A.UNSET=0]="UNSET",A[A.OK=1]="OK",A[A.ERROR=2]="ERROR"})(uL6=MwQ.SpanStatusCode||(MwQ.SpanStatusCode={}))});var TwQ=w((RwQ)=>{Object.defineProperty(RwQ,"__esModule",{value:!0});RwQ.validateValue=RwQ.validateKey=void 0;var b_1="[_0-9a-z-*/]",mL6=`[a-z]${b_1}{0,255}`,dL6=`[a-z0-9]${b_1}{0,240}@[a-z]${b_1}{0,13}`,cL6=new RegExp(`^(?:${mL6}|${dL6})$`),pL6=/^[ -~]{0,255}[!-~]$/,lL6=/,|=/;function iL6(A){return cL6.test(A)}RwQ.validateKey=iL6;function nL6(A){return pL6.test(A)&&!lL6.test(A)}RwQ.validateValue=nL6});var kwQ=w((ywQ)=>{Object.defineProperty(ywQ,"__esModule",{value:!0});ywQ.TraceStateImpl=void 0;var jwQ=TwQ(),PwQ=32,oL6=512,SwQ=",",xwQ="=";class h_1{constructor(A){if(this._internalState=new Map,A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+xwQ+this.get(Q)),A},[]).join(SwQ)}_parse(A){if(A.length>oL6)return;if(this._internalState=A.split(SwQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(xwQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,jwQ.validateKey)(Y)&&(0,jwQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>PwQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,PwQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new h_1;return A._internalState=new Map(this._internalState),A}}ywQ.TraceStateImpl=h_1});var hwQ=w((fwQ)=>{Object.defineProperty(fwQ,"__esModule",{value:!0});fwQ.createTraceState=void 0;var rL6=kwQ();function sL6(A){return new rL6.TraceStateImpl(A)}fwQ.createTraceState=sL6});var mwQ=w((gwQ)=>{Object.defineProperty(gwQ,"__esModule",{value:!0});gwQ.context=void 0;var tL6=RHA();gwQ.context=tL6.ContextAPI.getInstance()});var pwQ=w((dwQ)=>{Object.defineProperty(dwQ,"__esModule",{value:!0});dwQ.diag=void 0;var eL6=Tr();dwQ.diag=eL6.DiagAPI.instance()});var nwQ=w((lwQ)=>{Object.defineProperty(lwQ,"__esModule",{value:!0});lwQ.NOOP_METER_PROVIDER=lwQ.NoopMeterProvider=void 0;var AM6=U_1();class g_1{getMeter(A,Q,B){return AM6.NOOP_METER}}lwQ.NoopMeterProvider=g_1;lwQ.NOOP_METER_PROVIDER=new g_1});var swQ=w((owQ)=>{Object.defineProperty(owQ,"__esModule",{value:!0});owQ.MetricsAPI=void 0;var BM6=nwQ(),u_1=_r(),awQ=Tr(),m_1="metrics";class d_1{constructor(){}static getInstance(){if(!this._instance)this._instance=new d_1;return this._instance}setGlobalMeterProvider(A){return(0,u_1.registerGlobal)(m_1,A,awQ.DiagAPI.instance())}getMeterProvider(){return(0,u_1.getGlobal)(m_1)||BM6.NOOP_METER_PROVIDER}getMeter(A,Q,B){return this.getMeterProvider().getMeter(A,Q,B)}disable(){(0,u_1.unregisterGlobal)(m_1,awQ.DiagAPI.instance())}}owQ.MetricsAPI=d_1});var ANQ=w((twQ)=>{Object.defineProperty(twQ,"__esModule",{value:!0});twQ.metrics=void 0;var GM6=swQ();twQ.metrics=GM6.MetricsAPI.getInstance()});var ZNQ=w((BNQ)=>{Object.defineProperty(BNQ,"__esModule",{value:!0});BNQ.NoopTextMapPropagator=void 0;class QNQ{inject(A,Q){}extract(A,Q){return A}fields(){return[]}}BNQ.NoopTextMapPropagator=QNQ});var XNQ=w((JNQ)=>{Object.defineProperty(JNQ,"__esModule",{value:!0});JNQ.deleteBaggage=JNQ.setBaggage=JNQ.getActiveBaggage=JNQ.getBaggage=void 0;var ZM6=RHA(),YM6=MHA(),c_1=(0,YM6.createContextKey)("OpenTelemetry Baggage Key");function YNQ(A){return A.getValue(c_1)||void 0}JNQ.getBaggage=YNQ;function JM6(){return YNQ(ZM6.ContextAPI.getInstance().active())}JNQ.getActiveBaggage=JM6;function IM6(A,Q){return A.setValue(c_1,Q)}JNQ.setBaggage=IM6;function XM6(A){return A.deleteValue(c_1)}JNQ.deleteBaggage=XM6});var DNQ=w((VNQ)=>{Object.defineProperty(VNQ,"__esModule",{value:!0});VNQ.PropagationAPI=void 0;var p_1=_r(),EM6=ZNQ(),WNQ=w_1(),WuA=XNQ(),DM6=X_1(),KNQ=Tr(),l_1="propagation",HM6=new EM6.NoopTextMapPropagator;class i_1{constructor(){this.createBaggage=DM6.createBaggage,this.getBaggage=WuA.getBaggage,this.getActiveBaggage=WuA.getActiveBaggage,this.setBaggage=WuA.setBaggage,this.deleteBaggage=WuA.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new i_1;return this._instance}setGlobalPropagator(A){return(0,p_1.registerGlobal)(l_1,A,KNQ.DiagAPI.instance())}inject(A,Q,B=WNQ.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,Q,B)}extract(A,Q,B=WNQ.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,Q,B)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,p_1.unregisterGlobal)(l_1,KNQ.DiagAPI.instance())}_getGlobalPropagator(){return(0,p_1.getGlobal)(l_1)||HM6}}VNQ.PropagationAPI=i_1});var CNQ=w((HNQ)=>{Object.defineProperty(HNQ,"__esModule",{value:!0});HNQ.propagation=void 0;var FM6=DNQ();HNQ.propagation=FM6.PropagationAPI.getInstance()});var qNQ=w((wNQ)=>{Object.defineProperty(wNQ,"__esModule",{value:!0});wNQ.TraceAPI=void 0;var n_1=_r(),zNQ=y_1(),UNQ=XuA(),r6A=T_1(),$NQ=Tr(),a_1="trace";class o_1{constructor(){this._proxyTracerProvider=new zNQ.ProxyTracerProvider,this.wrapSpanContext=UNQ.wrapSpanContext,this.isSpanContextValid=UNQ.isSpanContextValid,this.deleteSpan=r6A.deleteSpan,this.getSpan=r6A.getSpan,this.getActiveSpan=r6A.getActiveSpan,this.getSpanContext=r6A.getSpanContext,this.setSpan=r6A.setSpan,this.setSpanContext=r6A.setSpanContext}static getInstance(){if(!this._instance)this._instance=new o_1;return this._instance}setGlobalTracerProvider(A){let Q=(0,n_1.registerGlobal)(a_1,this._proxyTracerProvider,$NQ.DiagAPI.instance());if(Q)this._proxyTracerProvider.setDelegate(A);return Q}getTracerProvider(){return(0,n_1.getGlobal)(a_1)||this._proxyTracerProvider}getTracer(A,Q){return this.getTracerProvider().getTracer(A,Q)}disable(){(0,n_1.unregisterGlobal)(a_1,$NQ.DiagAPI.instance()),this._proxyTracerProvider=new zNQ.ProxyTracerProvider}}wNQ.TraceAPI=o_1});var ONQ=w((LNQ)=>{Object.defineProperty(LNQ,"__esModule",{value:!0});LNQ.trace=void 0;var CM6=qNQ();LNQ.trace=CM6.TraceAPI.getInstance()});var O9=w((p7)=>{Object.defineProperty(p7,"__esModule",{value:!0});p7.trace=p7.propagation=p7.metrics=p7.diag=p7.context=p7.INVALID_SPAN_CONTEXT=p7.INVALID_TRACEID=p7.INVALID_SPANID=p7.isValidSpanId=p7.isValidTraceId=p7.isSpanContextValid=p7.createTraceState=p7.TraceFlags=p7.SpanStatusCode=p7.SpanKind=p7.SamplingDecision=p7.ProxyTracerProvider=p7.ProxyTracer=p7.defaultTextMapSetter=p7.defaultTextMapGetter=p7.ValueType=p7.createNoopMeter=p7.DiagLogLevel=p7.DiagConsoleLogger=p7.ROOT_CONTEXT=p7.createContextKey=p7.baggageEntryMetadataFromString=void 0;var zM6=X_1();Object.defineProperty(p7,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return zM6.baggageEntryMetadataFromString}});var RNQ=MHA();Object.defineProperty(p7,"createContextKey",{enumerable:!0,get:function(){return RNQ.createContextKey}});Object.defineProperty(p7,"ROOT_CONTEXT",{enumerable:!0,get:function(){return RNQ.ROOT_CONTEXT}});var UM6=q$Q();Object.defineProperty(p7,"DiagConsoleLogger",{enumerable:!0,get:function(){return UM6.DiagConsoleLogger}});var $M6=GuA();Object.defineProperty(p7,"DiagLogLevel",{enumerable:!0,get:function(){return $M6.DiagLogLevel}});var wM6=U_1();Object.defineProperty(p7,"createNoopMeter",{enumerable:!0,get:function(){return wM6.createNoopMeter}});var NM6=v$Q();Object.defineProperty(p7,"ValueType",{enumerable:!0,get:function(){return NM6.ValueType}});var _NQ=w_1();Object.defineProperty(p7,"defaultTextMapGetter",{enumerable:!0,get:function(){return _NQ.defaultTextMapGetter}});Object.defineProperty(p7,"defaultTextMapSetter",{enumerable:!0,get:function(){return _NQ.defaultTextMapSetter}});var qM6=x_1();Object.defineProperty(p7,"ProxyTracer",{enumerable:!0,get:function(){return qM6.ProxyTracer}});var LM6=y_1();Object.defineProperty(p7,"ProxyTracerProvider",{enumerable:!0,get:function(){return LM6.ProxyTracerProvider}});var MM6=NwQ();Object.defineProperty(p7,"SamplingDecision",{enumerable:!0,get:function(){return MM6.SamplingDecision}});var OM6=LwQ();Object.defineProperty(p7,"SpanKind",{enumerable:!0,get:function(){return OM6.SpanKind}});var RM6=OwQ();Object.defineProperty(p7,"SpanStatusCode",{enumerable:!0,get:function(){return RM6.SpanStatusCode}});var _M6=O_1();Object.defineProperty(p7,"TraceFlags",{enumerable:!0,get:function(){return _M6.TraceFlags}});var TM6=hwQ();Object.defineProperty(p7,"createTraceState",{enumerable:!0,get:function(){return TM6.createTraceState}});var r_1=XuA();Object.defineProperty(p7,"isSpanContextValid",{enumerable:!0,get:function(){return r_1.isSpanContextValid}});Object.defineProperty(p7,"isValidTraceId",{enumerable:!0,get:function(){return r_1.isValidTraceId}});Object.defineProperty(p7,"isValidSpanId",{enumerable:!0,get:function(){return r_1.isValidSpanId}});var s_1=JuA();Object.defineProperty(p7,"INVALID_SPANID",{enumerable:!0,get:function(){return s_1.INVALID_SPANID}});Object.defineProperty(p7,"INVALID_TRACEID",{enumerable:!0,get:function(){return s_1.INVALID_TRACEID}});Object.defineProperty(p7,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return s_1.INVALID_SPAN_CONTEXT}});var TNQ=mwQ();Object.defineProperty(p7,"context",{enumerable:!0,get:function(){return TNQ.context}});var jNQ=pwQ();Object.defineProperty(p7,"diag",{enumerable:!0,get:function(){return jNQ.diag}});var PNQ=ANQ();Object.defineProperty(p7,"metrics",{enumerable:!0,get:function(){return PNQ.metrics}});var SNQ=CNQ();Object.defineProperty(p7,"propagation",{enumerable:!0,get:function(){return SNQ.propagation}});var xNQ=ONQ();Object.defineProperty(p7,"trace",{enumerable:!0,get:function(){return xNQ.trace}});p7.default={context:TNQ.context,diag:jNQ.diag,metrics:PNQ.metrics,propagation:SNQ.propagation,trace:xNQ.trace}});var vNQ=w((yNQ)=>{Object.defineProperty(yNQ,"__esModule",{value:!0});yNQ.SeverityNumber=void 0;var SM6;(function(A){A[A.UNSPECIFIED=0]="UNSPECIFIED",A[A.TRACE=1]="TRACE",A[A.TRACE2=2]="TRACE2",A[A.TRACE3=3]="TRACE3",A[A.TRACE4=4]="TRACE4",A[A.DEBUG=5]="DEBUG",A[A.DEBUG2=6]="DEBUG2",A[A.DEBUG3=7]="DEBUG3",A[A.DEBUG4=8]="DEBUG4",A[A.INFO=9]="INFO",A[A.INFO2=10]="INFO2",A[A.INFO3=11]="INFO3",A[A.INFO4=12]="INFO4",A[A.WARN=13]="WARN",A[A.WARN2=14]="WARN2",A[A.WARN3=15]="WARN3",A[A.WARN4=16]="WARN4",A[A.ERROR=17]="ERROR",A[A.ERROR2=18]="ERROR2",A[A.ERROR3=19]="ERROR3",A[A.ERROR4=20]="ERROR4",A[A.FATAL=21]="FATAL",A[A.FATAL2=22]="FATAL2",A[A.FATAL3=23]="FATAL3",A[A.FATAL4=24]="FATAL4"})(SM6=yNQ.SeverityNumber||(yNQ.SeverityNumber={}))});var KuA=w((kNQ)=>{Object.defineProperty(kNQ,"__esModule",{value:!0});kNQ.NOOP_LOGGER=kNQ.NoopLogger=void 0;class e_1{emit(A){}}kNQ.NoopLogger=e_1;kNQ.NOOP_LOGGER=new e_1});var VuA=w((bNQ)=>{Object.defineProperty(bNQ,"__esModule",{value:!0});bNQ.NOOP_LOGGER_PROVIDER=bNQ.NoopLoggerProvider=void 0;var yM6=KuA();class AT1{getLogger(A,Q,B){return new yM6.NoopLogger}}bNQ.NoopLoggerProvider=AT1;bNQ.NOOP_LOGGER_PROVIDER=new AT1});var QT1=w((uNQ)=>{Object.defineProperty(uNQ,"__esModule",{value:!0});uNQ.ProxyLogger=void 0;var kM6=KuA();class gNQ{constructor(A,Q,B,G){this._provider=A,this.name=Q,this.version=B,this.options=G}emit(A){this._getLogger().emit(A)}_getLogger(){if(this._delegate)return this._delegate;let A=this._provider._getDelegateLogger(this.name,this.version,this.options);if(!A)return kM6.NOOP_LOGGER;return this._delegate=A,this._delegate}}uNQ.ProxyLogger=gNQ});var BT1=w((cNQ)=>{Object.defineProperty(cNQ,"__esModule",{value:!0});cNQ.ProxyLoggerProvider=void 0;var fM6=VuA(),bM6=QT1();class dNQ{getLogger(A,Q,B){var G;return(G=this._getDelegateLogger(A,Q,B))!==null&&G!==void 0?G:new bM6.ProxyLogger(this,A,Q,B)}_getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:fM6.NOOP_LOGGER_PROVIDER}_setDelegate(A){this._delegate=A}_getDelegateLogger(A,Q,B){var G;return(G=this._delegate)===null||G===void 0?void 0:G.getLogger(A,Q,B)}}cNQ.ProxyLoggerProvider=dNQ});var nNQ=w((lNQ)=>{Object.defineProperty(lNQ,"__esModule",{value:!0});lNQ._globalThis=void 0;lNQ._globalThis=typeof globalThis==="object"?globalThis:global});var aNQ=w((GT1)=>{Object.defineProperty(GT1,"__esModule",{value:!0});GT1._globalThis=void 0;var hM6=nNQ();Object.defineProperty(GT1,"_globalThis",{enumerable:!0,get:function(){return hM6._globalThis}})});var oNQ=w((ZT1)=>{Object.defineProperty(ZT1,"__esModule",{value:!0});ZT1._globalThis=void 0;var uM6=aNQ();Object.defineProperty(ZT1,"_globalThis",{enumerable:!0,get:function(){return uM6._globalThis}})});var tNQ=w((rNQ)=>{Object.defineProperty(rNQ,"__esModule",{value:!0});rNQ.API_BACKWARDS_COMPATIBILITY_VERSION=rNQ.makeGetter=rNQ._global=rNQ.GLOBAL_LOGS_API_KEY=void 0;var dM6=oNQ();rNQ.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");rNQ._global=dM6._globalThis;function cM6(A,Q,B){return(G)=>G===A?Q:B}rNQ.makeGetter=cM6;rNQ.API_BACKWARDS_COMPATIBILITY_VERSION=1});var BqQ=w((AqQ)=>{Object.defineProperty(AqQ,"__esModule",{value:!0});AqQ.LogsAPI=void 0;var aq=tNQ(),nM6=VuA(),eNQ=BT1();class YT1{constructor(){this._proxyLoggerProvider=new eNQ.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new YT1;return this._instance}setGlobalLoggerProvider(A){if(aq._global[aq.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return aq._global[aq.GLOBAL_LOGS_API_KEY]=(0,aq.makeGetter)(aq.API_BACKWARDS_COMPATIBILITY_VERSION,A,nM6.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider._setDelegate(A),A}getLoggerProvider(){var A,Q;return(Q=(A=aq._global[aq.GLOBAL_LOGS_API_KEY])===null||A===void 0?void 0:A.call(aq._global,aq.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Q!==void 0?Q:this._proxyLoggerProvider}getLogger(A,Q,B){return this.getLoggerProvider().getLogger(A,Q,B)}disable(){delete aq._global[aq.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new eNQ.ProxyLoggerProvider}}AqQ.LogsAPI=YT1});var JT1=w((Rk)=>{Object.defineProperty(Rk,"__esModule",{value:!0});Rk.logs=Rk.ProxyLoggerProvider=Rk.ProxyLogger=Rk.NoopLoggerProvider=Rk.NOOP_LOGGER_PROVIDER=Rk.NoopLogger=Rk.NOOP_LOGGER=Rk.SeverityNumber=void 0;var aM6=vNQ();Object.defineProperty(Rk,"SeverityNumber",{enumerable:!0,get:function(){return aM6.SeverityNumber}});var GqQ=KuA();Object.defineProperty(Rk,"NOOP_LOGGER",{enumerable:!0,get:function(){return GqQ.NOOP_LOGGER}});Object.defineProperty(Rk,"NoopLogger",{enumerable:!0,get:function(){return GqQ.NoopLogger}});var ZqQ=VuA();Object.defineProperty(Rk,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return ZqQ.NOOP_LOGGER_PROVIDER}});Object.defineProperty(Rk,"NoopLoggerProvider",{enumerable:!0,get:function(){return ZqQ.NoopLoggerProvider}});var oM6=QT1();Object.defineProperty(Rk,"ProxyLogger",{enumerable:!0,get:function(){return oM6.ProxyLogger}});var rM6=BT1();Object.defineProperty(Rk,"ProxyLoggerProvider",{enumerable:!0,get:function(){return rM6.ProxyLoggerProvider}});var sM6=BqQ();Rk.logs=sM6.LogsAPI.getInstance()});var _HA=w((JqQ)=>{Object.defineProperty(JqQ,"__esModule",{value:!0});JqQ.isTracingSuppressed=JqQ.unsuppressTracing=JqQ.suppressTracing=void 0;var tM6=O9(),IT1=(0,tM6.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function eM6(A){return A.setValue(IT1,!0)}JqQ.suppressTracing=eM6;function AO6(A){return A.deleteValue(IT1)}JqQ.unsuppressTracing=AO6;function QO6(A){return A.getValue(IT1)===!0}JqQ.isTracingSuppressed=QO6});var XT1=w((XqQ)=>{Object.defineProperty(XqQ,"__esModule",{value:!0});XqQ.BAGGAGE_MAX_TOTAL_LENGTH=XqQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=XqQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=XqQ.BAGGAGE_HEADER=XqQ.BAGGAGE_ITEMS_SEPARATOR=XqQ.BAGGAGE_PROPERTIES_SEPARATOR=XqQ.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;XqQ.BAGGAGE_KEY_PAIR_SEPARATOR="=";XqQ.BAGGAGE_PROPERTIES_SEPARATOR=";";XqQ.BAGGAGE_ITEMS_SEPARATOR=",";XqQ.BAGGAGE_HEADER="baggage";XqQ.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;XqQ.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;XqQ.BAGGAGE_MAX_TOTAL_LENGTH=8192});var WT1=w((VqQ)=>{Object.defineProperty(VqQ,"__esModule",{value:!0});VqQ.parseKeyPairsIntoRecord=VqQ.parsePairKeyValue=VqQ.getKeyPairs=VqQ.serializeKeyPairs=void 0;var KO6=O9(),jr=XT1();function VO6(A){return A.reduce((Q,B)=>{let G=`${Q}${Q!==""?jr.BAGGAGE_ITEMS_SEPARATOR:""}${B}`;return G.length>jr.BAGGAGE_MAX_TOTAL_LENGTH?Q:G},"")}VqQ.serializeKeyPairs=VO6;function EO6(A){return A.getAllEntries().map(([Q,B])=>{let G=`${encodeURIComponent(Q)}=${encodeURIComponent(B.value)}`;if(B.metadata!==void 0)G+=jr.BAGGAGE_PROPERTIES_SEPARATOR+B.metadata.toString();return G})}VqQ.getKeyPairs=EO6;function KqQ(A){let Q=A.split(jr.BAGGAGE_PROPERTIES_SEPARATOR);if(Q.length<=0)return;let B=Q.shift();if(!B)return;let G=B.indexOf(jr.BAGGAGE_KEY_PAIR_SEPARATOR);if(G<=0)return;let Z=decodeURIComponent(B.substring(0,G).trim()),Y=decodeURIComponent(B.substring(G+1).trim()),J;if(Q.length>0)J=(0,KO6.baggageEntryMetadataFromString)(Q.join(jr.BAGGAGE_PROPERTIES_SEPARATOR));return{key:Z,value:Y,metadata:J}}VqQ.parsePairKeyValue=KqQ;function DO6(A){let Q={};if(typeof A==="string"&&A.length>0)A.split(jr.BAGGAGE_ITEMS_SEPARATOR).forEach((B)=>{let G=KqQ(B);if(G!==void 0&&G.value.length>0)Q[G.key]=G.value});return Q}VqQ.parseKeyPairsIntoRecord=DO6});var CqQ=w((HqQ)=>{Object.defineProperty(HqQ,"__esModule",{value:!0});HqQ.W3CBaggagePropagator=void 0;var KT1=O9(),zO6=_HA(),Pr=XT1(),VT1=WT1();class DqQ{inject(A,Q,B){let G=KT1.propagation.getBaggage(A);if(!G||(0,zO6.isTracingSuppressed)(A))return;let Z=(0,VT1.getKeyPairs)(G).filter((J)=>{return J.length<=Pr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,Pr.BAGGAGE_MAX_NAME_VALUE_PAIRS),Y=(0,VT1.serializeKeyPairs)(Z);if(Y.length>0)B.set(Q,Pr.BAGGAGE_HEADER,Y)}extract(A,Q,B){let G=B.get(Q,Pr.BAGGAGE_HEADER),Z=Array.isArray(G)?G.join(Pr.BAGGAGE_ITEMS_SEPARATOR):G;if(!Z)return A;let Y={};if(Z.length===0)return A;if(Z.split(Pr.BAGGAGE_ITEMS_SEPARATOR).forEach((I)=>{let X=(0,VT1.parsePairKeyValue)(I);if(X){let W={value:X.value};if(X.metadata)W.metadata=X.metadata;Y[X.key]=W}}),Object.entries(Y).length===0)return A;return KT1.propagation.setBaggage(A,KT1.propagation.createBaggage(Y))}fields(){return[Pr.BAGGAGE_HEADER]}}HqQ.W3CBaggagePropagator=DqQ});var wqQ=w((UqQ)=>{Object.defineProperty(UqQ,"__esModule",{value:!0});UqQ.AnchoredClock=void 0;class zqQ{_monotonicClock;_epochMillis;_performanceMillis;constructor(A,Q){this._monotonicClock=Q,this._epochMillis=A.now(),this._performanceMillis=Q.now()}now(){let A=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+A}}UqQ.AnchoredClock=zqQ});var _qQ=w((OqQ)=>{Object.defineProperty(OqQ,"__esModule",{value:!0});OqQ.isAttributeValue=OqQ.isAttributeKey=OqQ.sanitizeAttributes=void 0;var NqQ=O9();function UO6(A){let Q={};if(typeof A!=="object"||A==null)return Q;for(let[B,G]of Object.entries(A)){if(!qqQ(B)){NqQ.diag.warn(`Invalid attribute key: ${B}`);continue}if(!LqQ(G)){NqQ.diag.warn(`Invalid attribute value set for key: ${B}`);continue}if(Array.isArray(G))Q[B]=G.slice();else Q[B]=G}return Q}OqQ.sanitizeAttributes=UO6;function qqQ(A){return typeof A==="string"&&A.length>0}OqQ.isAttributeKey=qqQ;function LqQ(A){if(A==null)return!0;if(Array.isArray(A))return $O6(A);return MqQ(A)}OqQ.isAttributeValue=LqQ;function $O6(A){let Q;for(let B of A){if(B==null)continue;if(!Q){if(MqQ(B)){Q=typeof B;continue}return!1}if(typeof B===Q)continue;return!1}return!0}function MqQ(A){switch(typeof A){case"number":case"boolean":case"string":return!0}return!1}});var ET1=w((TqQ)=>{Object.defineProperty(TqQ,"__esModule",{value:!0});TqQ.loggingErrorHandler=void 0;var qO6=O9();function LO6(){return(A)=>{qO6.diag.error(MO6(A))}}TqQ.loggingErrorHandler=LO6;function MO6(A){if(typeof A==="string")return A;else return JSON.stringify(OO6(A))}function OO6(A){let Q={},B=A;while(B!==null)Object.getOwnPropertyNames(B).forEach((G)=>{if(Q[G])return;let Z=B[G];if(Z)Q[G]=String(Z)}),B=Object.getPrototypeOf(B);return Q}});var yqQ=w((SqQ)=>{Object.defineProperty(SqQ,"__esModule",{value:!0});SqQ.globalErrorHandler=SqQ.setGlobalErrorHandler=void 0;var RO6=ET1(),PqQ=(0,RO6.loggingErrorHandler)();function _O6(A){PqQ=A}SqQ.setGlobalErrorHandler=_O6;function TO6(A){try{PqQ(A)}catch{}}SqQ.globalErrorHandler=TO6});var gqQ=w((bqQ)=>{Object.defineProperty(bqQ,"__esModule",{value:!0});bqQ.getStringListFromEnv=bqQ.getBooleanFromEnv=bqQ.getStringFromEnv=bqQ.getNumberFromEnv=void 0;var vqQ=O9(),kqQ=qA("util");function PO6(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;let B=Number(Q);if(isNaN(B)){vqQ.diag.warn(`Unknown value ${(0,kqQ.inspect)(Q)} for ${A}, expected a number, using defaults`);return}return B}bqQ.getNumberFromEnv=PO6;function fqQ(A){let Q=process.env[A];if(Q==null||Q.trim()==="")return;return Q}bqQ.getStringFromEnv=fqQ;function SO6(A){let Q=process.env[A]?.trim().toLowerCase();if(Q==null||Q==="")return!1;if(Q==="true")return!0;else if(Q==="false")return!1;else return vqQ.diag.warn(`Unknown value ${(0,kqQ.inspect)(Q)} for ${A}, expected 'true' or 'false', falling back to 'false' (default)`),!1}bqQ.getBooleanFromEnv=SO6;function xO6(A){return fqQ(A)?.split(",").map((Q)=>Q.trim()).filter((Q)=>Q!=="")}bqQ.getStringListFromEnv=xO6});var dqQ=w((uqQ)=>{Object.defineProperty(uqQ,"__esModule",{value:!0});uqQ._globalThis=void 0;uqQ._globalThis=typeof globalThis==="object"?globalThis:global});var lqQ=w((cqQ)=>{Object.defineProperty(cqQ,"__esModule",{value:!0});cqQ.otperformance=void 0;var fO6=qA("perf_hooks");cqQ.otperformance=fO6.performance});var aqQ=w((iqQ)=>{Object.defineProperty(iqQ,"__esModule",{value:!0});iqQ.VERSION=void 0;iqQ.VERSION="2.1.0"});var DT1=w((oqQ)=>{Object.defineProperty(oqQ,"__esModule",{value:!0});oqQ.createConstMap=void 0;function bO6(A){let Q={},B=A.length;for(let G=0;G<B;G++){let Z=A[G];if(Z)Q[String(Z).toUpperCase().replace(/[-.]/g,"_")]=Z}return Q}oqQ.createConstMap=bO6});var n_Q=w((u_Q)=>{Object.defineProperty(u_Q,"__esModule",{value:!0});u_Q.SEMATTRS_NET_HOST_CARRIER_ICC=u_Q.SEMATTRS_NET_HOST_CARRIER_MNC=u_Q.SEMATTRS_NET_HOST_CARRIER_MCC=u_Q.SEMATTRS_NET_HOST_CARRIER_NAME=u_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=u_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=u_Q.SEMATTRS_NET_HOST_NAME=u_Q.SEMATTRS_NET_HOST_PORT=u_Q.SEMATTRS_NET_HOST_IP=u_Q.SEMATTRS_NET_PEER_NAME=u_Q.SEMATTRS_NET_PEER_PORT=u_Q.SEMATTRS_NET_PEER_IP=u_Q.SEMATTRS_NET_TRANSPORT=u_Q.SEMATTRS_FAAS_INVOKED_REGION=u_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=u_Q.SEMATTRS_FAAS_INVOKED_NAME=u_Q.SEMATTRS_FAAS_COLDSTART=u_Q.SEMATTRS_FAAS_CRON=u_Q.SEMATTRS_FAAS_TIME=u_Q.SEMATTRS_FAAS_DOCUMENT_NAME=u_Q.SEMATTRS_FAAS_DOCUMENT_TIME=u_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=u_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=u_Q.SEMATTRS_FAAS_EXECUTION=u_Q.SEMATTRS_FAAS_TRIGGER=u_Q.SEMATTRS_EXCEPTION_ESCAPED=u_Q.SEMATTRS_EXCEPTION_STACKTRACE=u_Q.SEMATTRS_EXCEPTION_MESSAGE=u_Q.SEMATTRS_EXCEPTION_TYPE=u_Q.SEMATTRS_DB_SQL_TABLE=u_Q.SEMATTRS_DB_MONGODB_COLLECTION=u_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=u_Q.SEMATTRS_DB_HBASE_NAMESPACE=u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=u_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=u_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=u_Q.SEMATTRS_DB_CASSANDRA_TABLE=u_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=u_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=u_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=u_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=u_Q.SEMATTRS_DB_OPERATION=u_Q.SEMATTRS_DB_STATEMENT=u_Q.SEMATTRS_DB_NAME=u_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=u_Q.SEMATTRS_DB_USER=u_Q.SEMATTRS_DB_CONNECTION_STRING=u_Q.SEMATTRS_DB_SYSTEM=u_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;u_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=u_Q.SEMATTRS_MESSAGING_DESTINATION=u_Q.SEMATTRS_MESSAGING_SYSTEM=u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=u_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=u_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=u_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=u_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=u_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=u_Q.SEMATTRS_AWS_DYNAMODB_SELECT=u_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=u_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=u_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=u_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=u_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=u_Q.SEMATTRS_HTTP_CLIENT_IP=u_Q.SEMATTRS_HTTP_ROUTE=u_Q.SEMATTRS_HTTP_SERVER_NAME=u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=u_Q.SEMATTRS_HTTP_USER_AGENT=u_Q.SEMATTRS_HTTP_FLAVOR=u_Q.SEMATTRS_HTTP_STATUS_CODE=u_Q.SEMATTRS_HTTP_SCHEME=u_Q.SEMATTRS_HTTP_HOST=u_Q.SEMATTRS_HTTP_TARGET=u_Q.SEMATTRS_HTTP_URL=u_Q.SEMATTRS_HTTP_METHOD=u_Q.SEMATTRS_CODE_LINENO=u_Q.SEMATTRS_CODE_FILEPATH=u_Q.SEMATTRS_CODE_NAMESPACE=u_Q.SEMATTRS_CODE_FUNCTION=u_Q.SEMATTRS_THREAD_NAME=u_Q.SEMATTRS_THREAD_ID=u_Q.SEMATTRS_ENDUSER_SCOPE=u_Q.SEMATTRS_ENDUSER_ROLE=u_Q.SEMATTRS_ENDUSER_ID=u_Q.SEMATTRS_PEER_SERVICE=void 0;u_Q.DBSYSTEMVALUES_FILEMAKER=u_Q.DBSYSTEMVALUES_DERBY=u_Q.DBSYSTEMVALUES_FIREBIRD=u_Q.DBSYSTEMVALUES_ADABAS=u_Q.DBSYSTEMVALUES_CACHE=u_Q.DBSYSTEMVALUES_EDB=u_Q.DBSYSTEMVALUES_FIRSTSQL=u_Q.DBSYSTEMVALUES_INGRES=u_Q.DBSYSTEMVALUES_HANADB=u_Q.DBSYSTEMVALUES_MAXDB=u_Q.DBSYSTEMVALUES_PROGRESS=u_Q.DBSYSTEMVALUES_HSQLDB=u_Q.DBSYSTEMVALUES_CLOUDSCAPE=u_Q.DBSYSTEMVALUES_HIVE=u_Q.DBSYSTEMVALUES_REDSHIFT=u_Q.DBSYSTEMVALUES_POSTGRESQL=u_Q.DBSYSTEMVALUES_DB2=u_Q.DBSYSTEMVALUES_ORACLE=u_Q.DBSYSTEMVALUES_MYSQL=u_Q.DBSYSTEMVALUES_MSSQL=u_Q.DBSYSTEMVALUES_OTHER_SQL=u_Q.SemanticAttributes=u_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=u_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=u_Q.SEMATTRS_MESSAGE_ID=u_Q.SEMATTRS_MESSAGE_TYPE=u_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=u_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=u_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=u_Q.SEMATTRS_RPC_JSONRPC_VERSION=u_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=u_Q.SEMATTRS_RPC_METHOD=u_Q.SEMATTRS_RPC_SERVICE=u_Q.SEMATTRS_RPC_SYSTEM=u_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=u_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=u_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=u_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=u_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=u_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=u_Q.SEMATTRS_MESSAGING_CONSUMER_ID=u_Q.SEMATTRS_MESSAGING_OPERATION=u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=u_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=u_Q.SEMATTRS_MESSAGING_MESSAGE_ID=u_Q.SEMATTRS_MESSAGING_URL=u_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=u_Q.SEMATTRS_MESSAGING_PROTOCOL=u_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;u_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=u_Q.FaasDocumentOperationValues=u_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=u_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=u_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=u_Q.FaasTriggerValues=u_Q.FAASTRIGGERVALUES_OTHER=u_Q.FAASTRIGGERVALUES_TIMER=u_Q.FAASTRIGGERVALUES_PUBSUB=u_Q.FAASTRIGGERVALUES_HTTP=u_Q.FAASTRIGGERVALUES_DATASOURCE=u_Q.DbCassandraConsistencyLevelValues=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=u_Q.DbSystemValues=u_Q.DBSYSTEMVALUES_COCKROACHDB=u_Q.DBSYSTEMVALUES_MEMCACHED=u_Q.DBSYSTEMVALUES_ELASTICSEARCH=u_Q.DBSYSTEMVALUES_GEODE=u_Q.DBSYSTEMVALUES_NEO4J=u_Q.DBSYSTEMVALUES_DYNAMODB=u_Q.DBSYSTEMVALUES_COSMOSDB=u_Q.DBSYSTEMVALUES_COUCHDB=u_Q.DBSYSTEMVALUES_COUCHBASE=u_Q.DBSYSTEMVALUES_REDIS=u_Q.DBSYSTEMVALUES_MONGODB=u_Q.DBSYSTEMVALUES_HBASE=u_Q.DBSYSTEMVALUES_CASSANDRA=u_Q.DBSYSTEMVALUES_COLDFUSION=u_Q.DBSYSTEMVALUES_H2=u_Q.DBSYSTEMVALUES_VERTICA=u_Q.DBSYSTEMVALUES_TERADATA=u_Q.DBSYSTEMVALUES_SYBASE=u_Q.DBSYSTEMVALUES_SQLITE=u_Q.DBSYSTEMVALUES_POINTBASE=u_Q.DBSYSTEMVALUES_PERVASIVE=u_Q.DBSYSTEMVALUES_NETEZZA=u_Q.DBSYSTEMVALUES_MARIADB=u_Q.DBSYSTEMVALUES_INTERBASE=u_Q.DBSYSTEMVALUES_INSTANTDB=u_Q.DBSYSTEMVALUES_INFORMIX=void 0;u_Q.MESSAGINGOPERATIONVALUES_RECEIVE=u_Q.MessagingDestinationKindValues=u_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=u_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=u_Q.HttpFlavorValues=u_Q.HTTPFLAVORVALUES_QUIC=u_Q.HTTPFLAVORVALUES_SPDY=u_Q.HTTPFLAVORVALUES_HTTP_2_0=u_Q.HTTPFLAVORVALUES_HTTP_1_1=u_Q.HTTPFLAVORVALUES_HTTP_1_0=u_Q.NetHostConnectionSubtypeValues=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=u_Q.NetHostConnectionTypeValues=u_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=u_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=u_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=u_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=u_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=u_Q.NetTransportValues=u_Q.NETTRANSPORTVALUES_OTHER=u_Q.NETTRANSPORTVALUES_INPROC=u_Q.NETTRANSPORTVALUES_PIPE=u_Q.NETTRANSPORTVALUES_UNIX=u_Q.NETTRANSPORTVALUES_IP=u_Q.NETTRANSPORTVALUES_IP_UDP=u_Q.NETTRANSPORTVALUES_IP_TCP=u_Q.FaasInvokedProviderValues=u_Q.FAASINVOKEDPROVIDERVALUES_GCP=u_Q.FAASINVOKEDPROVIDERVALUES_AZURE=u_Q.FAASINVOKEDPROVIDERVALUES_AWS=void 0;u_Q.MessageTypeValues=u_Q.MESSAGETYPEVALUES_RECEIVED=u_Q.MESSAGETYPEVALUES_SENT=u_Q.RpcGrpcStatusCodeValues=u_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=u_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=u_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=u_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=u_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=u_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=u_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=u_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=u_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=u_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=u_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=u_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=u_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=u_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=u_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=u_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=u_Q.RPCGRPCSTATUSCODEVALUES_OK=u_Q.MessagingOperationValues=u_Q.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var oq=DT1(),sqQ="aws.lambda.invoked_arn",tqQ="db.system",eqQ="db.connection_string",ALQ="db.user",QLQ="db.jdbc.driver_classname",BLQ="db.name",GLQ="db.statement",ZLQ="db.operation",YLQ="db.mssql.instance_name",JLQ="db.cassandra.keyspace",ILQ="db.cassandra.page_size",XLQ="db.cassandra.consistency_level",WLQ="db.cassandra.table",KLQ="db.cassandra.idempotence",VLQ="db.cassandra.speculative_execution_count",ELQ="db.cassandra.coordinator.id",DLQ="db.cassandra.coordinator.dc",HLQ="db.hbase.namespace",FLQ="db.redis.database_index",CLQ="db.mongodb.collection",zLQ="db.sql.table",ULQ="exception.type",$LQ="exception.message",wLQ="exception.stacktrace",NLQ="exception.escaped",qLQ="faas.trigger",LLQ="faas.execution",MLQ="faas.document.collection",OLQ="faas.document.operation",RLQ="faas.document.time",_LQ="faas.document.name",TLQ="faas.time",jLQ="faas.cron",PLQ="faas.coldstart",SLQ="faas.invoked_name",xLQ="faas.invoked_provider",yLQ="faas.invoked_region",vLQ="net.transport",kLQ="net.peer.ip",fLQ="net.peer.port",bLQ="net.peer.name",hLQ="net.host.ip",gLQ="net.host.port",uLQ="net.host.name",mLQ="net.host.connection.type",dLQ="net.host.connection.subtype",cLQ="net.host.carrier.name",pLQ="net.host.carrier.mcc",lLQ="net.host.carrier.mnc",iLQ="net.host.carrier.icc",nLQ="peer.service",aLQ="enduser.id",oLQ="enduser.role",rLQ="enduser.scope",sLQ="thread.id",tLQ="thread.name",eLQ="code.function",AMQ="code.namespace",QMQ="code.filepath",BMQ="code.lineno",GMQ="http.method",ZMQ="http.url",YMQ="http.target",JMQ="http.host",IMQ="http.scheme",XMQ="http.status_code",WMQ="http.flavor",KMQ="http.user_agent",VMQ="http.request_content_length",EMQ="http.request_content_length_uncompressed",DMQ="http.response_content_length",HMQ="http.response_content_length_uncompressed",FMQ="http.server_name",CMQ="http.route",zMQ="http.client_ip",UMQ="aws.dynamodb.table_names",$MQ="aws.dynamodb.consumed_capacity",wMQ="aws.dynamodb.item_collection_metrics",NMQ="aws.dynamodb.provisioned_read_capacity",qMQ="aws.dynamodb.provisioned_write_capacity",LMQ="aws.dynamodb.consistent_read",MMQ="aws.dynamodb.projection",OMQ="aws.dynamodb.limit",RMQ="aws.dynamodb.attributes_to_get",_MQ="aws.dynamodb.index_name",TMQ="aws.dynamodb.select",jMQ="aws.dynamodb.global_secondary_indexes",PMQ="aws.dynamodb.local_secondary_indexes",SMQ="aws.dynamodb.exclusive_start_table",xMQ="aws.dynamodb.table_count",yMQ="aws.dynamodb.scan_forward",vMQ="aws.dynamodb.segment",kMQ="aws.dynamodb.total_segments",fMQ="aws.dynamodb.count",bMQ="aws.dynamodb.scanned_count",hMQ="aws.dynamodb.attribute_definitions",gMQ="aws.dynamodb.global_secondary_index_updates",uMQ="messaging.system",mMQ="messaging.destination",dMQ="messaging.destination_kind",cMQ="messaging.temp_destination",pMQ="messaging.protocol",lMQ="messaging.protocol_version",iMQ="messaging.url",nMQ="messaging.message_id",aMQ="messaging.conversation_id",oMQ="messaging.message_payload_size_bytes",rMQ="messaging.message_payload_compressed_size_bytes",sMQ="messaging.operation",tMQ="messaging.consumer_id",eMQ="messaging.rabbitmq.routing_key",AOQ="messaging.kafka.message_key",QOQ="messaging.kafka.consumer_group",BOQ="messaging.kafka.client_id",GOQ="messaging.kafka.partition",ZOQ="messaging.kafka.tombstone",YOQ="rpc.system",JOQ="rpc.service",IOQ="rpc.method",XOQ="rpc.grpc.status_code",WOQ="rpc.jsonrpc.version",KOQ="rpc.jsonrpc.request_id",VOQ="rpc.jsonrpc.error_code",EOQ="rpc.jsonrpc.error_message",DOQ="message.type",HOQ="message.id",FOQ="message.compressed_size",COQ="message.uncompressed_size";u_Q.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=sqQ;u_Q.SEMATTRS_DB_SYSTEM=tqQ;u_Q.SEMATTRS_DB_CONNECTION_STRING=eqQ;u_Q.SEMATTRS_DB_USER=ALQ;u_Q.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=QLQ;u_Q.SEMATTRS_DB_NAME=BLQ;u_Q.SEMATTRS_DB_STATEMENT=GLQ;u_Q.SEMATTRS_DB_OPERATION=ZLQ;u_Q.SEMATTRS_DB_MSSQL_INSTANCE_NAME=YLQ;u_Q.SEMATTRS_DB_CASSANDRA_KEYSPACE=JLQ;u_Q.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=ILQ;u_Q.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=XLQ;u_Q.SEMATTRS_DB_CASSANDRA_TABLE=WLQ;u_Q.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=KLQ;u_Q.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=VLQ;u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=ELQ;u_Q.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=DLQ;u_Q.SEMATTRS_DB_HBASE_NAMESPACE=HLQ;u_Q.SEMATTRS_DB_REDIS_DATABASE_INDEX=FLQ;u_Q.SEMATTRS_DB_MONGODB_COLLECTION=CLQ;u_Q.SEMATTRS_DB_SQL_TABLE=zLQ;u_Q.SEMATTRS_EXCEPTION_TYPE=ULQ;u_Q.SEMATTRS_EXCEPTION_MESSAGE=$LQ;u_Q.SEMATTRS_EXCEPTION_STACKTRACE=wLQ;u_Q.SEMATTRS_EXCEPTION_ESCAPED=NLQ;u_Q.SEMATTRS_FAAS_TRIGGER=qLQ;u_Q.SEMATTRS_FAAS_EXECUTION=LLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_COLLECTION=MLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_OPERATION=OLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_TIME=RLQ;u_Q.SEMATTRS_FAAS_DOCUMENT_NAME=_LQ;u_Q.SEMATTRS_FAAS_TIME=TLQ;u_Q.SEMATTRS_FAAS_CRON=jLQ;u_Q.SEMATTRS_FAAS_COLDSTART=PLQ;u_Q.SEMATTRS_FAAS_INVOKED_NAME=SLQ;u_Q.SEMATTRS_FAAS_INVOKED_PROVIDER=xLQ;u_Q.SEMATTRS_FAAS_INVOKED_REGION=yLQ;u_Q.SEMATTRS_NET_TRANSPORT=vLQ;u_Q.SEMATTRS_NET_PEER_IP=kLQ;u_Q.SEMATTRS_NET_PEER_PORT=fLQ;u_Q.SEMATTRS_NET_PEER_NAME=bLQ;u_Q.SEMATTRS_NET_HOST_IP=hLQ;u_Q.SEMATTRS_NET_HOST_PORT=gLQ;u_Q.SEMATTRS_NET_HOST_NAME=uLQ;u_Q.SEMATTRS_NET_HOST_CONNECTION_TYPE=mLQ;u_Q.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=dLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_NAME=cLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_MCC=pLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_MNC=lLQ;u_Q.SEMATTRS_NET_HOST_CARRIER_ICC=iLQ;u_Q.SEMATTRS_PEER_SERVICE=nLQ;u_Q.SEMATTRS_ENDUSER_ID=aLQ;u_Q.SEMATTRS_ENDUSER_ROLE=oLQ;u_Q.SEMATTRS_ENDUSER_SCOPE=rLQ;u_Q.SEMATTRS_THREAD_ID=sLQ;u_Q.SEMATTRS_THREAD_NAME=tLQ;u_Q.SEMATTRS_CODE_FUNCTION=eLQ;u_Q.SEMATTRS_CODE_NAMESPACE=AMQ;u_Q.SEMATTRS_CODE_FILEPATH=QMQ;u_Q.SEMATTRS_CODE_LINENO=BMQ;u_Q.SEMATTRS_HTTP_METHOD=GMQ;u_Q.SEMATTRS_HTTP_URL=ZMQ;u_Q.SEMATTRS_HTTP_TARGET=YMQ;u_Q.SEMATTRS_HTTP_HOST=JMQ;u_Q.SEMATTRS_HTTP_SCHEME=IMQ;u_Q.SEMATTRS_HTTP_STATUS_CODE=XMQ;u_Q.SEMATTRS_HTTP_FLAVOR=WMQ;u_Q.SEMATTRS_HTTP_USER_AGENT=KMQ;u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=VMQ;u_Q.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=EMQ;u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=DMQ;u_Q.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=HMQ;u_Q.SEMATTRS_HTTP_SERVER_NAME=FMQ;u_Q.SEMATTRS_HTTP_ROUTE=CMQ;u_Q.SEMATTRS_HTTP_CLIENT_IP=zMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=UMQ;u_Q.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=$MQ;u_Q.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=wMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=NMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=qMQ;u_Q.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=LMQ;u_Q.SEMATTRS_AWS_DYNAMODB_PROJECTION=MMQ;u_Q.SEMATTRS_AWS_DYNAMODB_LIMIT=OMQ;u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=RMQ;u_Q.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=_MQ;u_Q.SEMATTRS_AWS_DYNAMODB_SELECT=TMQ;u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=jMQ;u_Q.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=PMQ;u_Q.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=SMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=xMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=yMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SEGMENT=vMQ;u_Q.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=kMQ;u_Q.SEMATTRS_AWS_DYNAMODB_COUNT=fMQ;u_Q.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=bMQ;u_Q.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=hMQ;u_Q.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=gMQ;u_Q.SEMATTRS_MESSAGING_SYSTEM=uMQ;u_Q.SEMATTRS_MESSAGING_DESTINATION=mMQ;u_Q.SEMATTRS_MESSAGING_DESTINATION_KIND=dMQ;u_Q.SEMATTRS_MESSAGING_TEMP_DESTINATION=cMQ;u_Q.SEMATTRS_MESSAGING_PROTOCOL=pMQ;u_Q.SEMATTRS_MESSAGING_PROTOCOL_VERSION=lMQ;u_Q.SEMATTRS_MESSAGING_URL=iMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_ID=nMQ;u_Q.SEMATTRS_MESSAGING_CONVERSATION_ID=aMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=oMQ;u_Q.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=rMQ;u_Q.SEMATTRS_MESSAGING_OPERATION=sMQ;u_Q.SEMATTRS_MESSAGING_CONSUMER_ID=tMQ;u_Q.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=eMQ;u_Q.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=AOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=QOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=BOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_PARTITION=GOQ;u_Q.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=ZOQ;u_Q.SEMATTRS_RPC_SYSTEM=YOQ;u_Q.SEMATTRS_RPC_SERVICE=JOQ;u_Q.SEMATTRS_RPC_METHOD=IOQ;u_Q.SEMATTRS_RPC_GRPC_STATUS_CODE=XOQ;u_Q.SEMATTRS_RPC_JSONRPC_VERSION=WOQ;u_Q.SEMATTRS_RPC_JSONRPC_REQUEST_ID=KOQ;u_Q.SEMATTRS_RPC_JSONRPC_ERROR_CODE=VOQ;u_Q.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=EOQ;u_Q.SEMATTRS_MESSAGE_TYPE=DOQ;u_Q.SEMATTRS_MESSAGE_ID=HOQ;u_Q.SEMATTRS_MESSAGE_COMPRESSED_SIZE=FOQ;u_Q.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=COQ;u_Q.SemanticAttributes=(0,oq.createConstMap)([sqQ,tqQ,eqQ,ALQ,QLQ,BLQ,GLQ,ZLQ,YLQ,JLQ,ILQ,XLQ,WLQ,KLQ,VLQ,ELQ,DLQ,HLQ,FLQ,CLQ,zLQ,ULQ,$LQ,wLQ,NLQ,qLQ,LLQ,MLQ,OLQ,RLQ,_LQ,TLQ,jLQ,PLQ,SLQ,xLQ,yLQ,vLQ,kLQ,fLQ,bLQ,hLQ,gLQ,uLQ,mLQ,dLQ,cLQ,pLQ,lLQ,iLQ,nLQ,aLQ,oLQ,rLQ,sLQ,tLQ,eLQ,AMQ,QMQ,BMQ,GMQ,ZMQ,YMQ,JMQ,IMQ,XMQ,WMQ,KMQ,VMQ,EMQ,DMQ,HMQ,FMQ,CMQ,zMQ,UMQ,$MQ,wMQ,NMQ,qMQ,LMQ,MMQ,OMQ,RMQ,_MQ,TMQ,jMQ,PMQ,SMQ,xMQ,yMQ,vMQ,kMQ,fMQ,bMQ,hMQ,gMQ,uMQ,mMQ,dMQ,cMQ,pMQ,lMQ,iMQ,nMQ,aMQ,oMQ,rMQ,sMQ,tMQ,eMQ,AOQ,QOQ,BOQ,GOQ,ZOQ,YOQ,JOQ,IOQ,XOQ,WOQ,KOQ,VOQ,EOQ,DOQ,HOQ,FOQ,COQ]);var zOQ="other_sql",UOQ="mssql",$OQ="mysql",wOQ="oracle",NOQ="db2",qOQ="postgresql",LOQ="redshift",MOQ="hive",OOQ="cloudscape",ROQ="hsqldb",_OQ="progress",TOQ="maxdb",jOQ="hanadb",POQ="ingres",SOQ="firstsql",xOQ="edb",yOQ="cache",vOQ="adabas",kOQ="firebird",fOQ="derby",bOQ="filemaker",hOQ="informix",gOQ="instantdb",uOQ="interbase",mOQ="mariadb",dOQ="netezza",cOQ="pervasive",pOQ="pointbase",lOQ="sqlite",iOQ="sybase",nOQ="teradata",aOQ="vertica",oOQ="h2",rOQ="coldfusion",sOQ="cassandra",tOQ="hbase",eOQ="mongodb",ARQ="redis",QRQ="couchbase",BRQ="couchdb",GRQ="cosmosdb",ZRQ="dynamodb",YRQ="neo4j",JRQ="geode",IRQ="elasticsearch",XRQ="memcached",WRQ="cockroachdb";u_Q.DBSYSTEMVALUES_OTHER_SQL=zOQ;u_Q.DBSYSTEMVALUES_MSSQL=UOQ;u_Q.DBSYSTEMVALUES_MYSQL=$OQ;u_Q.DBSYSTEMVALUES_ORACLE=wOQ;u_Q.DBSYSTEMVALUES_DB2=NOQ;u_Q.DBSYSTEMVALUES_POSTGRESQL=qOQ;u_Q.DBSYSTEMVALUES_REDSHIFT=LOQ;u_Q.DBSYSTEMVALUES_HIVE=MOQ;u_Q.DBSYSTEMVALUES_CLOUDSCAPE=OOQ;u_Q.DBSYSTEMVALUES_HSQLDB=ROQ;u_Q.DBSYSTEMVALUES_PROGRESS=_OQ;u_Q.DBSYSTEMVALUES_MAXDB=TOQ;u_Q.DBSYSTEMVALUES_HANADB=jOQ;u_Q.DBSYSTEMVALUES_INGRES=POQ;u_Q.DBSYSTEMVALUES_FIRSTSQL=SOQ;u_Q.DBSYSTEMVALUES_EDB=xOQ;u_Q.DBSYSTEMVALUES_CACHE=yOQ;u_Q.DBSYSTEMVALUES_ADABAS=vOQ;u_Q.DBSYSTEMVALUES_FIREBIRD=kOQ;u_Q.DBSYSTEMVALUES_DERBY=fOQ;u_Q.DBSYSTEMVALUES_FILEMAKER=bOQ;u_Q.DBSYSTEMVALUES_INFORMIX=hOQ;u_Q.DBSYSTEMVALUES_INSTANTDB=gOQ;u_Q.DBSYSTEMVALUES_INTERBASE=uOQ;u_Q.DBSYSTEMVALUES_MARIADB=mOQ;u_Q.DBSYSTEMVALUES_NETEZZA=dOQ;u_Q.DBSYSTEMVALUES_PERVASIVE=cOQ;u_Q.DBSYSTEMVALUES_POINTBASE=pOQ;u_Q.DBSYSTEMVALUES_SQLITE=lOQ;u_Q.DBSYSTEMVALUES_SYBASE=iOQ;u_Q.DBSYSTEMVALUES_TERADATA=nOQ;u_Q.DBSYSTEMVALUES_VERTICA=aOQ;u_Q.DBSYSTEMVALUES_H2=oOQ;u_Q.DBSYSTEMVALUES_COLDFUSION=rOQ;u_Q.DBSYSTEMVALUES_CASSANDRA=sOQ;u_Q.DBSYSTEMVALUES_HBASE=tOQ;u_Q.DBSYSTEMVALUES_MONGODB=eOQ;u_Q.DBSYSTEMVALUES_REDIS=ARQ;u_Q.DBSYSTEMVALUES_COUCHBASE=QRQ;u_Q.DBSYSTEMVALUES_COUCHDB=BRQ;u_Q.DBSYSTEMVALUES_COSMOSDB=GRQ;u_Q.DBSYSTEMVALUES_DYNAMODB=ZRQ;u_Q.DBSYSTEMVALUES_NEO4J=YRQ;u_Q.DBSYSTEMVALUES_GEODE=JRQ;u_Q.DBSYSTEMVALUES_ELASTICSEARCH=IRQ;u_Q.DBSYSTEMVALUES_MEMCACHED=XRQ;u_Q.DBSYSTEMVALUES_COCKROACHDB=WRQ;u_Q.DbSystemValues=(0,oq.createConstMap)([zOQ,UOQ,$OQ,wOQ,NOQ,qOQ,LOQ,MOQ,OOQ,ROQ,_OQ,TOQ,jOQ,POQ,SOQ,xOQ,yOQ,vOQ,kOQ,fOQ,bOQ,hOQ,gOQ,uOQ,mOQ,dOQ,cOQ,pOQ,lOQ,iOQ,nOQ,aOQ,oOQ,rOQ,sOQ,tOQ,eOQ,ARQ,QRQ,BRQ,GRQ,ZRQ,YRQ,JRQ,IRQ,XRQ,WRQ]);var KRQ="all",VRQ="each_quorum",ERQ="quorum",DRQ="local_quorum",HRQ="one",FRQ="two",CRQ="three",zRQ="local_one",URQ="any",$RQ="serial",wRQ="local_serial";u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=KRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=VRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=ERQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=DRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=HRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=FRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=CRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=zRQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=URQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=$RQ;u_Q.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=wRQ;u_Q.DbCassandraConsistencyLevelValues=(0,oq.createConstMap)([KRQ,VRQ,ERQ,DRQ,HRQ,FRQ,CRQ,zRQ,URQ,$RQ,wRQ]);var NRQ="datasource",qRQ="http",LRQ="pubsub",MRQ="timer",ORQ="other";u_Q.FAASTRIGGERVALUES_DATASOURCE=NRQ;u_Q.FAASTRIGGERVALUES_HTTP=qRQ;u_Q.FAASTRIGGERVALUES_PUBSUB=LRQ;u_Q.FAASTRIGGERVALUES_TIMER=MRQ;u_Q.FAASTRIGGERVALUES_OTHER=ORQ;u_Q.FaasTriggerValues=(0,oq.createConstMap)([NRQ,qRQ,LRQ,MRQ,ORQ]);var RRQ="insert",_RQ="edit",TRQ="delete";u_Q.FAASDOCUMENTOPERATIONVALUES_INSERT=RRQ;u_Q.FAASDOCUMENTOPERATIONVALUES_EDIT=_RQ;u_Q.FAASDOCUMENTOPERATIONVALUES_DELETE=TRQ;u_Q.FaasDocumentOperationValues=(0,oq.createConstMap)([RRQ,_RQ,TRQ]);var jRQ="alibaba_cloud",PRQ="aws",SRQ="azure",xRQ="gcp";u_Q.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=jRQ;u_Q.FAASINVOKEDPROVIDERVALUES_AWS=PRQ;u_Q.FAASINVOKEDPROVIDERVALUES_AZURE=SRQ;u_Q.FAASINVOKEDPROVIDERVALUES_GCP=xRQ;u_Q.FaasInvokedProviderValues=(0,oq.createConstMap)([jRQ,PRQ,SRQ,xRQ]);var yRQ="ip_tcp",vRQ="ip_udp",kRQ="ip",fRQ="unix",bRQ="pipe",hRQ="inproc",gRQ="other";u_Q.NETTRANSPORTVALUES_IP_TCP=yRQ;u_Q.NETTRANSPORTVALUES_IP_UDP=vRQ;u_Q.NETTRANSPORTVALUES_IP=kRQ;u_Q.NETTRANSPORTVALUES_UNIX=fRQ;u_Q.NETTRANSPORTVALUES_PIPE=bRQ;u_Q.NETTRANSPORTVALUES_INPROC=hRQ;u_Q.NETTRANSPORTVALUES_OTHER=gRQ;u_Q.NetTransportValues=(0,oq.createConstMap)([yRQ,vRQ,kRQ,fRQ,bRQ,hRQ,gRQ]);var uRQ="wifi",mRQ="wired",dRQ="cell",cRQ="unavailable",pRQ="unknown";u_Q.NETHOSTCONNECTIONTYPEVALUES_WIFI=uRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_WIRED=mRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_CELL=dRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=cRQ;u_Q.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=pRQ;u_Q.NetHostConnectionTypeValues=(0,oq.createConstMap)([uRQ,mRQ,dRQ,cRQ,pRQ]);var lRQ="gprs",iRQ="edge",nRQ="umts",aRQ="cdma",oRQ="evdo_0",rRQ="evdo_a",sRQ="cdma2000_1xrtt",tRQ="hsdpa",eRQ="hsupa",A_Q="hspa",Q_Q="iden",B_Q="evdo_b",G_Q="lte",Z_Q="ehrpd",Y_Q="hspap",J_Q="gsm",I_Q="td_scdma",X_Q="iwlan",W_Q="nr",K_Q="nrnsa",V_Q="lte_ca";u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=lRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=iRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=nRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=aRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=oRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=rRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=sRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=tRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=eRQ;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=A_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=Q_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=B_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=G_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=Z_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Y_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=J_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=I_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=X_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NR=W_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=K_Q;u_Q.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=V_Q;u_Q.NetHostConnectionSubtypeValues=(0,oq.createConstMap)([lRQ,iRQ,nRQ,aRQ,oRQ,rRQ,sRQ,tRQ,eRQ,A_Q,Q_Q,B_Q,G_Q,Z_Q,Y_Q,J_Q,I_Q,X_Q,W_Q,K_Q,V_Q]);var E_Q="1.0",D_Q="1.1",H_Q="2.0",F_Q="SPDY",C_Q="QUIC";u_Q.HTTPFLAVORVALUES_HTTP_1_0=E_Q;u_Q.HTTPFLAVORVALUES_HTTP_1_1=D_Q;u_Q.HTTPFLAVORVALUES_HTTP_2_0=H_Q;u_Q.HTTPFLAVORVALUES_SPDY=F_Q;u_Q.HTTPFLAVORVALUES_QUIC=C_Q;u_Q.HttpFlavorValues={HTTP_1_0:E_Q,HTTP_1_1:D_Q,HTTP_2_0:H_Q,SPDY:F_Q,QUIC:C_Q};var z_Q="queue",U_Q="topic";u_Q.MESSAGINGDESTINATIONKINDVALUES_QUEUE=z_Q;u_Q.MESSAGINGDESTINATIONKINDVALUES_TOPIC=U_Q;u_Q.MessagingDestinationKindValues=(0,oq.createConstMap)([z_Q,U_Q]);var $_Q="receive",w_Q="process";u_Q.MESSAGINGOPERATIONVALUES_RECEIVE=$_Q;u_Q.MESSAGINGOPERATIONVALUES_PROCESS=w_Q;u_Q.MessagingOperationValues=(0,oq.createConstMap)([$_Q,w_Q]);var N_Q=0,q_Q=1,L_Q=2,M_Q=3,O_Q=4,R_Q=5,__Q=6,T_Q=7,j_Q=8,P_Q=9,S_Q=10,x_Q=11,y_Q=12,v_Q=13,k_Q=14,f_Q=15,b_Q=16;u_Q.RPCGRPCSTATUSCODEVALUES_OK=N_Q;u_Q.RPCGRPCSTATUSCODEVALUES_CANCELLED=q_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNKNOWN=L_Q;u_Q.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=M_Q;u_Q.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=O_Q;u_Q.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=R_Q;u_Q.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=__Q;u_Q.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=T_Q;u_Q.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=j_Q;u_Q.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=P_Q;u_Q.RPCGRPCSTATUSCODEVALUES_ABORTED=S_Q;u_Q.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=x_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=y_Q;u_Q.RPCGRPCSTATUSCODEVALUES_INTERNAL=v_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=k_Q;u_Q.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=f_Q;u_Q.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=b_Q;u_Q.RpcGrpcStatusCodeValues={OK:N_Q,CANCELLED:q_Q,UNKNOWN:L_Q,INVALID_ARGUMENT:M_Q,DEADLINE_EXCEEDED:O_Q,NOT_FOUND:R_Q,ALREADY_EXISTS:__Q,PERMISSION_DENIED:T_Q,RESOURCE_EXHAUSTED:j_Q,FAILED_PRECONDITION:P_Q,ABORTED:S_Q,OUT_OF_RANGE:x_Q,UNIMPLEMENTED:y_Q,INTERNAL:v_Q,UNAVAILABLE:k_Q,DATA_LOSS:f_Q,UNAUTHENTICATED:b_Q};var h_Q="SENT",g_Q="RECEIVED";u_Q.MESSAGETYPEVALUES_SENT=h_Q;u_Q.MESSAGETYPEVALUES_RECEIVED=g_Q;u_Q.MessageTypeValues=(0,oq.createConstMap)([h_Q,g_Q])});var a_Q=w((Sr)=>{var kP6=Sr&&Sr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),fP6=Sr&&Sr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))kP6(Q,A,B)};Object.defineProperty(Sr,"__esModule",{value:!0});fP6(n_Q(),Sr)});var LPQ=w(($PQ)=>{Object.defineProperty($PQ,"__esModule",{value:!0});$PQ.SEMRESATTRS_K8S_STATEFULSET_NAME=$PQ.SEMRESATTRS_K8S_STATEFULSET_UID=$PQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=$PQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=$PQ.SEMRESATTRS_K8S_REPLICASET_NAME=$PQ.SEMRESATTRS_K8S_REPLICASET_UID=$PQ.SEMRESATTRS_K8S_CONTAINER_NAME=$PQ.SEMRESATTRS_K8S_POD_NAME=$PQ.SEMRESATTRS_K8S_POD_UID=$PQ.SEMRESATTRS_K8S_NAMESPACE_NAME=$PQ.SEMRESATTRS_K8S_NODE_UID=$PQ.SEMRESATTRS_K8S_NODE_NAME=$PQ.SEMRESATTRS_K8S_CLUSTER_NAME=$PQ.SEMRESATTRS_HOST_IMAGE_VERSION=$PQ.SEMRESATTRS_HOST_IMAGE_ID=$PQ.SEMRESATTRS_HOST_IMAGE_NAME=$PQ.SEMRESATTRS_HOST_ARCH=$PQ.SEMRESATTRS_HOST_TYPE=$PQ.SEMRESATTRS_HOST_NAME=$PQ.SEMRESATTRS_HOST_ID=$PQ.SEMRESATTRS_FAAS_MAX_MEMORY=$PQ.SEMRESATTRS_FAAS_INSTANCE=$PQ.SEMRESATTRS_FAAS_VERSION=$PQ.SEMRESATTRS_FAAS_ID=$PQ.SEMRESATTRS_FAAS_NAME=$PQ.SEMRESATTRS_DEVICE_MODEL_NAME=$PQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=$PQ.SEMRESATTRS_DEVICE_ID=$PQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=$PQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=$PQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=$PQ.SEMRESATTRS_CONTAINER_RUNTIME=$PQ.SEMRESATTRS_CONTAINER_ID=$PQ.SEMRESATTRS_CONTAINER_NAME=$PQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=$PQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=$PQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=$PQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=$PQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=$PQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=$PQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=$PQ.SEMRESATTRS_AWS_ECS_TASK_ARN=$PQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=$PQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=$PQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=$PQ.SEMRESATTRS_CLOUD_PLATFORM=$PQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=$PQ.SEMRESATTRS_CLOUD_REGION=$PQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=$PQ.SEMRESATTRS_CLOUD_PROVIDER=void 0;$PQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=$PQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=$PQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=$PQ.CLOUDPLATFORMVALUES_AZURE_AKS=$PQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=$PQ.CLOUDPLATFORMVALUES_AZURE_VM=$PQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=$PQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=$PQ.CLOUDPLATFORMVALUES_AWS_EKS=$PQ.CLOUDPLATFORMVALUES_AWS_ECS=$PQ.CLOUDPLATFORMVALUES_AWS_EC2=$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=$PQ.CloudProviderValues=$PQ.CLOUDPROVIDERVALUES_GCP=$PQ.CLOUDPROVIDERVALUES_AZURE=$PQ.CLOUDPROVIDERVALUES_AWS=$PQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=$PQ.SemanticResourceAttributes=$PQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=$PQ.SEMRESATTRS_WEBENGINE_VERSION=$PQ.SEMRESATTRS_WEBENGINE_NAME=$PQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=$PQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=$PQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=$PQ.SEMRESATTRS_TELEMETRY_SDK_NAME=$PQ.SEMRESATTRS_SERVICE_VERSION=$PQ.SEMRESATTRS_SERVICE_INSTANCE_ID=$PQ.SEMRESATTRS_SERVICE_NAMESPACE=$PQ.SEMRESATTRS_SERVICE_NAME=$PQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=$PQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=$PQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=$PQ.SEMRESATTRS_PROCESS_OWNER=$PQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=$PQ.SEMRESATTRS_PROCESS_COMMAND_LINE=$PQ.SEMRESATTRS_PROCESS_COMMAND=$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=$PQ.SEMRESATTRS_PROCESS_PID=$PQ.SEMRESATTRS_OS_VERSION=$PQ.SEMRESATTRS_OS_NAME=$PQ.SEMRESATTRS_OS_DESCRIPTION=$PQ.SEMRESATTRS_OS_TYPE=$PQ.SEMRESATTRS_K8S_CRONJOB_NAME=$PQ.SEMRESATTRS_K8S_CRONJOB_UID=$PQ.SEMRESATTRS_K8S_JOB_NAME=$PQ.SEMRESATTRS_K8S_JOB_UID=$PQ.SEMRESATTRS_K8S_DAEMONSET_NAME=$PQ.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;$PQ.TelemetrySdkLanguageValues=$PQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=$PQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=$PQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=$PQ.TELEMETRYSDKLANGUAGEVALUES_PHP=$PQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=$PQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=$PQ.TELEMETRYSDKLANGUAGEVALUES_GO=$PQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=$PQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=$PQ.TELEMETRYSDKLANGUAGEVALUES_CPP=$PQ.OsTypeValues=$PQ.OSTYPEVALUES_Z_OS=$PQ.OSTYPEVALUES_SOLARIS=$PQ.OSTYPEVALUES_AIX=$PQ.OSTYPEVALUES_HPUX=$PQ.OSTYPEVALUES_DRAGONFLYBSD=$PQ.OSTYPEVALUES_OPENBSD=$PQ.OSTYPEVALUES_NETBSD=$PQ.OSTYPEVALUES_FREEBSD=$PQ.OSTYPEVALUES_DARWIN=$PQ.OSTYPEVALUES_LINUX=$PQ.OSTYPEVALUES_WINDOWS=$PQ.HostArchValues=$PQ.HOSTARCHVALUES_X86=$PQ.HOSTARCHVALUES_PPC64=$PQ.HOSTARCHVALUES_PPC32=$PQ.HOSTARCHVALUES_IA64=$PQ.HOSTARCHVALUES_ARM64=$PQ.HOSTARCHVALUES_ARM32=$PQ.HOSTARCHVALUES_AMD64=$PQ.AwsEcsLaunchtypeValues=$PQ.AWSECSLAUNCHTYPEVALUES_FARGATE=$PQ.AWSECSLAUNCHTYPEVALUES_EC2=$PQ.CloudPlatformValues=$PQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=$PQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var xr=DT1(),o_Q="cloud.provider",r_Q="cloud.account.id",s_Q="cloud.region",t_Q="cloud.availability_zone",e_Q="cloud.platform",ATQ="aws.ecs.container.arn",QTQ="aws.ecs.cluster.arn",BTQ="aws.ecs.launchtype",GTQ="aws.ecs.task.arn",ZTQ="aws.ecs.task.family",YTQ="aws.ecs.task.revision",JTQ="aws.eks.cluster.arn",ITQ="aws.log.group.names",XTQ="aws.log.group.arns",WTQ="aws.log.stream.names",KTQ="aws.log.stream.arns",VTQ="container.name",ETQ="container.id",DTQ="container.runtime",HTQ="container.image.name",FTQ="container.image.tag",CTQ="deployment.environment",zTQ="device.id",UTQ="device.model.identifier",$TQ="device.model.name",wTQ="faas.name",NTQ="faas.id",qTQ="faas.version",LTQ="faas.instance",MTQ="faas.max_memory",OTQ="host.id",RTQ="host.name",_TQ="host.type",TTQ="host.arch",jTQ="host.image.name",PTQ="host.image.id",STQ="host.image.version",xTQ="k8s.cluster.name",yTQ="k8s.node.name",vTQ="k8s.node.uid",kTQ="k8s.namespace.name",fTQ="k8s.pod.uid",bTQ="k8s.pod.name",hTQ="k8s.container.name",gTQ="k8s.replicaset.uid",uTQ="k8s.replicaset.name",mTQ="k8s.deployment.uid",dTQ="k8s.deployment.name",cTQ="k8s.statefulset.uid",pTQ="k8s.statefulset.name",lTQ="k8s.daemonset.uid",iTQ="k8s.daemonset.name",nTQ="k8s.job.uid",aTQ="k8s.job.name",oTQ="k8s.cronjob.uid",rTQ="k8s.cronjob.name",sTQ="os.type",tTQ="os.description",eTQ="os.name",AjQ="os.version",QjQ="process.pid",BjQ="process.executable.name",GjQ="process.executable.path",ZjQ="process.command",YjQ="process.command_line",JjQ="process.command_args",IjQ="process.owner",XjQ="process.runtime.name",WjQ="process.runtime.version",KjQ="process.runtime.description",VjQ="service.name",EjQ="service.namespace",DjQ="service.instance.id",HjQ="service.version",FjQ="telemetry.sdk.name",CjQ="telemetry.sdk.language",zjQ="telemetry.sdk.version",UjQ="telemetry.auto.version",$jQ="webengine.name",wjQ="webengine.version",NjQ="webengine.description";$PQ.SEMRESATTRS_CLOUD_PROVIDER=o_Q;$PQ.SEMRESATTRS_CLOUD_ACCOUNT_ID=r_Q;$PQ.SEMRESATTRS_CLOUD_REGION=s_Q;$PQ.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=t_Q;$PQ.SEMRESATTRS_CLOUD_PLATFORM=e_Q;$PQ.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=ATQ;$PQ.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=QTQ;$PQ.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=BTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_ARN=GTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_FAMILY=ZTQ;$PQ.SEMRESATTRS_AWS_ECS_TASK_REVISION=YTQ;$PQ.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=JTQ;$PQ.SEMRESATTRS_AWS_LOG_GROUP_NAMES=ITQ;$PQ.SEMRESATTRS_AWS_LOG_GROUP_ARNS=XTQ;$PQ.SEMRESATTRS_AWS_LOG_STREAM_NAMES=WTQ;$PQ.SEMRESATTRS_AWS_LOG_STREAM_ARNS=KTQ;$PQ.SEMRESATTRS_CONTAINER_NAME=VTQ;$PQ.SEMRESATTRS_CONTAINER_ID=ETQ;$PQ.SEMRESATTRS_CONTAINER_RUNTIME=DTQ;$PQ.SEMRESATTRS_CONTAINER_IMAGE_NAME=HTQ;$PQ.SEMRESATTRS_CONTAINER_IMAGE_TAG=FTQ;$PQ.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=CTQ;$PQ.SEMRESATTRS_DEVICE_ID=zTQ;$PQ.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=UTQ;$PQ.SEMRESATTRS_DEVICE_MODEL_NAME=$TQ;$PQ.SEMRESATTRS_FAAS_NAME=wTQ;$PQ.SEMRESATTRS_FAAS_ID=NTQ;$PQ.SEMRESATTRS_FAAS_VERSION=qTQ;$PQ.SEMRESATTRS_FAAS_INSTANCE=LTQ;$PQ.SEMRESATTRS_FAAS_MAX_MEMORY=MTQ;$PQ.SEMRESATTRS_HOST_ID=OTQ;$PQ.SEMRESATTRS_HOST_NAME=RTQ;$PQ.SEMRESATTRS_HOST_TYPE=_TQ;$PQ.SEMRESATTRS_HOST_ARCH=TTQ;$PQ.SEMRESATTRS_HOST_IMAGE_NAME=jTQ;$PQ.SEMRESATTRS_HOST_IMAGE_ID=PTQ;$PQ.SEMRESATTRS_HOST_IMAGE_VERSION=STQ;$PQ.SEMRESATTRS_K8S_CLUSTER_NAME=xTQ;$PQ.SEMRESATTRS_K8S_NODE_NAME=yTQ;$PQ.SEMRESATTRS_K8S_NODE_UID=vTQ;$PQ.SEMRESATTRS_K8S_NAMESPACE_NAME=kTQ;$PQ.SEMRESATTRS_K8S_POD_UID=fTQ;$PQ.SEMRESATTRS_K8S_POD_NAME=bTQ;$PQ.SEMRESATTRS_K8S_CONTAINER_NAME=hTQ;$PQ.SEMRESATTRS_K8S_REPLICASET_UID=gTQ;$PQ.SEMRESATTRS_K8S_REPLICASET_NAME=uTQ;$PQ.SEMRESATTRS_K8S_DEPLOYMENT_UID=mTQ;$PQ.SEMRESATTRS_K8S_DEPLOYMENT_NAME=dTQ;$PQ.SEMRESATTRS_K8S_STATEFULSET_UID=cTQ;$PQ.SEMRESATTRS_K8S_STATEFULSET_NAME=pTQ;$PQ.SEMRESATTRS_K8S_DAEMONSET_UID=lTQ;$PQ.SEMRESATTRS_K8S_DAEMONSET_NAME=iTQ;$PQ.SEMRESATTRS_K8S_JOB_UID=nTQ;$PQ.SEMRESATTRS_K8S_JOB_NAME=aTQ;$PQ.SEMRESATTRS_K8S_CRONJOB_UID=oTQ;$PQ.SEMRESATTRS_K8S_CRONJOB_NAME=rTQ;$PQ.SEMRESATTRS_OS_TYPE=sTQ;$PQ.SEMRESATTRS_OS_DESCRIPTION=tTQ;$PQ.SEMRESATTRS_OS_NAME=eTQ;$PQ.SEMRESATTRS_OS_VERSION=AjQ;$PQ.SEMRESATTRS_PROCESS_PID=QjQ;$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=BjQ;$PQ.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=GjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND=ZjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND_LINE=YjQ;$PQ.SEMRESATTRS_PROCESS_COMMAND_ARGS=JjQ;$PQ.SEMRESATTRS_PROCESS_OWNER=IjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_NAME=XjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_VERSION=WjQ;$PQ.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=KjQ;$PQ.SEMRESATTRS_SERVICE_NAME=VjQ;$PQ.SEMRESATTRS_SERVICE_NAMESPACE=EjQ;$PQ.SEMRESATTRS_SERVICE_INSTANCE_ID=DjQ;$PQ.SEMRESATTRS_SERVICE_VERSION=HjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_NAME=FjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=CjQ;$PQ.SEMRESATTRS_TELEMETRY_SDK_VERSION=zjQ;$PQ.SEMRESATTRS_TELEMETRY_AUTO_VERSION=UjQ;$PQ.SEMRESATTRS_WEBENGINE_NAME=$jQ;$PQ.SEMRESATTRS_WEBENGINE_VERSION=wjQ;$PQ.SEMRESATTRS_WEBENGINE_DESCRIPTION=NjQ;$PQ.SemanticResourceAttributes=(0,xr.createConstMap)([o_Q,r_Q,s_Q,t_Q,e_Q,ATQ,QTQ,BTQ,GTQ,ZTQ,YTQ,JTQ,ITQ,XTQ,WTQ,KTQ,VTQ,ETQ,DTQ,HTQ,FTQ,CTQ,zTQ,UTQ,$TQ,wTQ,NTQ,qTQ,LTQ,MTQ,OTQ,RTQ,_TQ,TTQ,jTQ,PTQ,STQ,xTQ,yTQ,vTQ,kTQ,fTQ,bTQ,hTQ,gTQ,uTQ,mTQ,dTQ,cTQ,pTQ,lTQ,iTQ,nTQ,aTQ,oTQ,rTQ,sTQ,tTQ,eTQ,AjQ,QjQ,BjQ,GjQ,ZjQ,YjQ,JjQ,IjQ,XjQ,WjQ,KjQ,VjQ,EjQ,DjQ,HjQ,FjQ,CjQ,zjQ,UjQ,$jQ,wjQ,NjQ]);var qjQ="alibaba_cloud",LjQ="aws",MjQ="azure",OjQ="gcp";$PQ.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=qjQ;$PQ.CLOUDPROVIDERVALUES_AWS=LjQ;$PQ.CLOUDPROVIDERVALUES_AZURE=MjQ;$PQ.CLOUDPROVIDERVALUES_GCP=OjQ;$PQ.CloudProviderValues=(0,xr.createConstMap)([qjQ,LjQ,MjQ,OjQ]);var RjQ="alibaba_cloud_ecs",_jQ="alibaba_cloud_fc",TjQ="aws_ec2",jjQ="aws_ecs",PjQ="aws_eks",SjQ="aws_lambda",xjQ="aws_elastic_beanstalk",yjQ="azure_vm",vjQ="azure_container_instances",kjQ="azure_aks",fjQ="azure_functions",bjQ="azure_app_service",hjQ="gcp_compute_engine",gjQ="gcp_cloud_run",ujQ="gcp_kubernetes_engine",mjQ="gcp_cloud_functions",djQ="gcp_app_engine";$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=RjQ;$PQ.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=_jQ;$PQ.CLOUDPLATFORMVALUES_AWS_EC2=TjQ;$PQ.CLOUDPLATFORMVALUES_AWS_ECS=jjQ;$PQ.CLOUDPLATFORMVALUES_AWS_EKS=PjQ;$PQ.CLOUDPLATFORMVALUES_AWS_LAMBDA=SjQ;$PQ.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=xjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_VM=yjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=vjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_AKS=kjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=fjQ;$PQ.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=bjQ;$PQ.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=hjQ;$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=gjQ;$PQ.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=ujQ;$PQ.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=mjQ;$PQ.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=djQ;$PQ.CloudPlatformValues=(0,xr.createConstMap)([RjQ,_jQ,TjQ,jjQ,PjQ,SjQ,xjQ,yjQ,vjQ,kjQ,fjQ,bjQ,hjQ,gjQ,ujQ,mjQ,djQ]);var cjQ="ec2",pjQ="fargate";$PQ.AWSECSLAUNCHTYPEVALUES_EC2=cjQ;$PQ.AWSECSLAUNCHTYPEVALUES_FARGATE=pjQ;$PQ.AwsEcsLaunchtypeValues=(0,xr.createConstMap)([cjQ,pjQ]);var ljQ="amd64",ijQ="arm32",njQ="arm64",ajQ="ia64",ojQ="ppc32",rjQ="ppc64",sjQ="x86";$PQ.HOSTARCHVALUES_AMD64=ljQ;$PQ.HOSTARCHVALUES_ARM32=ijQ;$PQ.HOSTARCHVALUES_ARM64=njQ;$PQ.HOSTARCHVALUES_IA64=ajQ;$PQ.HOSTARCHVALUES_PPC32=ojQ;$PQ.HOSTARCHVALUES_PPC64=rjQ;$PQ.HOSTARCHVALUES_X86=sjQ;$PQ.HostArchValues=(0,xr.createConstMap)([ljQ,ijQ,njQ,ajQ,ojQ,rjQ,sjQ]);var tjQ="windows",ejQ="linux",APQ="darwin",QPQ="freebsd",BPQ="netbsd",GPQ="openbsd",ZPQ="dragonflybsd",YPQ="hpux",JPQ="aix",IPQ="solaris",XPQ="z_os";$PQ.OSTYPEVALUES_WINDOWS=tjQ;$PQ.OSTYPEVALUES_LINUX=ejQ;$PQ.OSTYPEVALUES_DARWIN=APQ;$PQ.OSTYPEVALUES_FREEBSD=QPQ;$PQ.OSTYPEVALUES_NETBSD=BPQ;$PQ.OSTYPEVALUES_OPENBSD=GPQ;$PQ.OSTYPEVALUES_DRAGONFLYBSD=ZPQ;$PQ.OSTYPEVALUES_HPUX=YPQ;$PQ.OSTYPEVALUES_AIX=JPQ;$PQ.OSTYPEVALUES_SOLARIS=IPQ;$PQ.OSTYPEVALUES_Z_OS=XPQ;$PQ.OsTypeValues=(0,xr.createConstMap)([tjQ,ejQ,APQ,QPQ,BPQ,GPQ,ZPQ,YPQ,JPQ,IPQ,XPQ]);var WPQ="cpp",KPQ="dotnet",VPQ="erlang",EPQ="go",DPQ="java",HPQ="nodejs",FPQ="php",CPQ="python",zPQ="ruby",UPQ="webjs";$PQ.TELEMETRYSDKLANGUAGEVALUES_CPP=WPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_DOTNET=KPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_ERLANG=VPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_GO=EPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_JAVA=DPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_NODEJS=HPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_PHP=FPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_PYTHON=CPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_RUBY=zPQ;$PQ.TELEMETRYSDKLANGUAGEVALUES_WEBJS=UPQ;$PQ.TelemetrySdkLanguageValues=(0,xr.createConstMap)([WPQ,KPQ,VPQ,EPQ,DPQ,HPQ,FPQ,CPQ,zPQ,UPQ])});var MPQ=w((yr)=>{var Vy6=yr&&yr.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Ey6=yr&&yr.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))Vy6(Q,A,B)};Object.defineProperty(yr,"__esModule",{value:!0});Ey6(LPQ(),yr)});var jPQ=w((OPQ)=>{Object.defineProperty(OPQ,"__esModule",{value:!0});OPQ.ATTR_EXCEPTION_TYPE=OPQ.ATTR_EXCEPTION_STACKTRACE=OPQ.ATTR_EXCEPTION_MESSAGE=OPQ.ATTR_EXCEPTION_ESCAPED=OPQ.ERROR_TYPE_VALUE_OTHER=OPQ.ATTR_ERROR_TYPE=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=OPQ.ATTR_DOTNET_GC_HEAP_GENERATION=OPQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL=OPQ.DB_SYSTEM_NAME_VALUE_MYSQL=OPQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=OPQ.DB_SYSTEM_NAME_VALUE_MARIADB=OPQ.ATTR_DB_SYSTEM_NAME=OPQ.ATTR_DB_STORED_PROCEDURE_NAME=OPQ.ATTR_DB_RESPONSE_STATUS_CODE=OPQ.ATTR_DB_QUERY_TEXT=OPQ.ATTR_DB_QUERY_SUMMARY=OPQ.ATTR_DB_OPERATION_NAME=OPQ.ATTR_DB_OPERATION_BATCH_SIZE=OPQ.ATTR_DB_NAMESPACE=OPQ.ATTR_DB_COLLECTION_NAME=OPQ.ATTR_CODE_STACKTRACE=OPQ.ATTR_CODE_LINE_NUMBER=OPQ.ATTR_CODE_FUNCTION_NAME=OPQ.ATTR_CODE_FILE_PATH=OPQ.ATTR_CODE_COLUMN_NUMBER=OPQ.ATTR_CLIENT_PORT=OPQ.ATTR_CLIENT_ADDRESS=OPQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=OPQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=OPQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=OPQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=OPQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=OPQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;OPQ.OTEL_STATUS_CODE_VALUE_ERROR=OPQ.ATTR_OTEL_STATUS_CODE=OPQ.ATTR_OTEL_SCOPE_VERSION=OPQ.ATTR_OTEL_SCOPE_NAME=OPQ.NETWORK_TYPE_VALUE_IPV6=OPQ.NETWORK_TYPE_VALUE_IPV4=OPQ.ATTR_NETWORK_TYPE=OPQ.NETWORK_TRANSPORT_VALUE_UNIX=OPQ.NETWORK_TRANSPORT_VALUE_UDP=OPQ.NETWORK_TRANSPORT_VALUE_TCP=OPQ.NETWORK_TRANSPORT_VALUE_QUIC=OPQ.NETWORK_TRANSPORT_VALUE_PIPE=OPQ.ATTR_NETWORK_TRANSPORT=OPQ.ATTR_NETWORK_PROTOCOL_VERSION=OPQ.ATTR_NETWORK_PROTOCOL_NAME=OPQ.ATTR_NETWORK_PEER_PORT=OPQ.ATTR_NETWORK_PEER_ADDRESS=OPQ.ATTR_NETWORK_LOCAL_PORT=OPQ.ATTR_NETWORK_LOCAL_ADDRESS=OPQ.JVM_THREAD_STATE_VALUE_WAITING=OPQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING=OPQ.JVM_THREAD_STATE_VALUE_TERMINATED=OPQ.JVM_THREAD_STATE_VALUE_RUNNABLE=OPQ.JVM_THREAD_STATE_VALUE_NEW=OPQ.JVM_THREAD_STATE_VALUE_BLOCKED=OPQ.ATTR_JVM_THREAD_STATE=OPQ.ATTR_JVM_THREAD_DAEMON=OPQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP=OPQ.JVM_MEMORY_TYPE_VALUE_HEAP=OPQ.ATTR_JVM_MEMORY_TYPE=OPQ.ATTR_JVM_MEMORY_POOL_NAME=OPQ.ATTR_JVM_GC_NAME=OPQ.ATTR_JVM_GC_ACTION=OPQ.ATTR_HTTP_ROUTE=OPQ.ATTR_HTTP_RESPONSE_STATUS_CODE=OPQ.ATTR_HTTP_RESPONSE_HEADER=OPQ.ATTR_HTTP_REQUEST_RESEND_COUNT=OPQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=OPQ.HTTP_REQUEST_METHOD_VALUE_TRACE=OPQ.HTTP_REQUEST_METHOD_VALUE_PUT=OPQ.HTTP_REQUEST_METHOD_VALUE_POST=OPQ.HTTP_REQUEST_METHOD_VALUE_PATCH=OPQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS=OPQ.HTTP_REQUEST_METHOD_VALUE_HEAD=OPQ.HTTP_REQUEST_METHOD_VALUE_GET=OPQ.HTTP_REQUEST_METHOD_VALUE_DELETE=OPQ.HTTP_REQUEST_METHOD_VALUE_CONNECT=OPQ.HTTP_REQUEST_METHOD_VALUE_OTHER=OPQ.ATTR_HTTP_REQUEST_METHOD=OPQ.ATTR_HTTP_REQUEST_HEADER=void 0;OPQ.ATTR_USER_AGENT_ORIGINAL=OPQ.ATTR_URL_SCHEME=OPQ.ATTR_URL_QUERY=OPQ.ATTR_URL_PATH=OPQ.ATTR_URL_FULL=OPQ.ATTR_URL_FRAGMENT=OPQ.ATTR_TELEMETRY_SDK_VERSION=OPQ.ATTR_TELEMETRY_SDK_NAME=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=OPQ.ATTR_TELEMETRY_SDK_LANGUAGE=OPQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=OPQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=OPQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=OPQ.ATTR_SIGNALR_TRANSPORT=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=OPQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=OPQ.ATTR_SIGNALR_CONNECTION_STATUS=OPQ.ATTR_SERVICE_VERSION=OPQ.ATTR_SERVICE_NAME=OPQ.ATTR_SERVER_PORT=OPQ.ATTR_SERVER_ADDRESS=OPQ.ATTR_OTEL_STATUS_DESCRIPTION=OPQ.OTEL_STATUS_CODE_VALUE_OK=void 0;OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";OPQ.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";OPQ.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";OPQ.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";OPQ.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";OPQ.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";OPQ.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";OPQ.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";OPQ.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";OPQ.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";OPQ.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated";OPQ.ATTR_CLIENT_ADDRESS="client.address";OPQ.ATTR_CLIENT_PORT="client.port";OPQ.ATTR_CODE_COLUMN_NUMBER="code.column.number";OPQ.ATTR_CODE_FILE_PATH="code.file.path";OPQ.ATTR_CODE_FUNCTION_NAME="code.function.name";OPQ.ATTR_CODE_LINE_NUMBER="code.line.number";OPQ.ATTR_CODE_STACKTRACE="code.stacktrace";OPQ.ATTR_DB_COLLECTION_NAME="db.collection.name";OPQ.ATTR_DB_NAMESPACE="db.namespace";OPQ.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";OPQ.ATTR_DB_OPERATION_NAME="db.operation.name";OPQ.ATTR_DB_QUERY_SUMMARY="db.query.summary";OPQ.ATTR_DB_QUERY_TEXT="db.query.text";OPQ.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";OPQ.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";OPQ.ATTR_DB_SYSTEM_NAME="db.system.name";OPQ.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";OPQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";OPQ.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";OPQ.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";OPQ.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";OPQ.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";OPQ.ATTR_ERROR_TYPE="error.type";OPQ.ERROR_TYPE_VALUE_OTHER="_OTHER";OPQ.ATTR_EXCEPTION_ESCAPED="exception.escaped";OPQ.ATTR_EXCEPTION_MESSAGE="exception.message";OPQ.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";OPQ.ATTR_EXCEPTION_TYPE="exception.type";var Dy6=(A)=>`http.request.header.${A}`;OPQ.ATTR_HTTP_REQUEST_HEADER=Dy6;OPQ.ATTR_HTTP_REQUEST_METHOD="http.request.method";OPQ.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";OPQ.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";OPQ.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";OPQ.HTTP_REQUEST_METHOD_VALUE_GET="GET";OPQ.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";OPQ.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";OPQ.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";OPQ.HTTP_REQUEST_METHOD_VALUE_POST="POST";OPQ.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";OPQ.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";OPQ.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";OPQ.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var Hy6=(A)=>`http.response.header.${A}`;OPQ.ATTR_HTTP_RESPONSE_HEADER=Hy6;OPQ.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";OPQ.ATTR_HTTP_ROUTE="http.route";OPQ.ATTR_JVM_GC_ACTION="jvm.gc.action";OPQ.ATTR_JVM_GC_NAME="jvm.gc.name";OPQ.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";OPQ.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";OPQ.JVM_MEMORY_TYPE_VALUE_HEAP="heap";OPQ.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";OPQ.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";OPQ.ATTR_JVM_THREAD_STATE="jvm.thread.state";OPQ.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";OPQ.JVM_THREAD_STATE_VALUE_NEW="new";OPQ.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";OPQ.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";OPQ.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";OPQ.JVM_THREAD_STATE_VALUE_WAITING="waiting";OPQ.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";OPQ.ATTR_NETWORK_LOCAL_PORT="network.local.port";OPQ.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";OPQ.ATTR_NETWORK_PEER_PORT="network.peer.port";OPQ.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";OPQ.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";OPQ.ATTR_NETWORK_TRANSPORT="network.transport";OPQ.NETWORK_TRANSPORT_VALUE_PIPE="pipe";OPQ.NETWORK_TRANSPORT_VALUE_QUIC="quic";OPQ.NETWORK_TRANSPORT_VALUE_TCP="tcp";OPQ.NETWORK_TRANSPORT_VALUE_UDP="udp";OPQ.NETWORK_TRANSPORT_VALUE_UNIX="unix";OPQ.ATTR_NETWORK_TYPE="network.type";OPQ.NETWORK_TYPE_VALUE_IPV4="ipv4";OPQ.NETWORK_TYPE_VALUE_IPV6="ipv6";OPQ.ATTR_OTEL_SCOPE_NAME="otel.scope.name";OPQ.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";OPQ.ATTR_OTEL_STATUS_CODE="otel.status_code";OPQ.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";OPQ.OTEL_STATUS_CODE_VALUE_OK="OK";OPQ.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";OPQ.ATTR_SERVER_ADDRESS="server.address";OPQ.ATTR_SERVER_PORT="server.port";OPQ.ATTR_SERVICE_NAME="service.name";OPQ.ATTR_SERVICE_VERSION="service.version";OPQ.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";OPQ.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";OPQ.ATTR_SIGNALR_TRANSPORT="signalr.transport";OPQ.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";OPQ.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";OPQ.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";OPQ.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";OPQ.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";OPQ.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";OPQ.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";OPQ.ATTR_URL_FRAGMENT="url.fragment";OPQ.ATTR_URL_FULL="url.full";OPQ.ATTR_URL_PATH="url.path";OPQ.ATTR_URL_QUERY="url.query";OPQ.ATTR_URL_SCHEME="url.scheme";OPQ.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var yPQ=w((PPQ)=>{Object.defineProperty(PPQ,"__esModule",{value:!0});PPQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=PPQ.METRIC_KESTREL_UPGRADED_CONNECTIONS=PPQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=PPQ.METRIC_KESTREL_REJECTED_CONNECTIONS=PPQ.METRIC_KESTREL_QUEUED_REQUESTS=PPQ.METRIC_KESTREL_QUEUED_CONNECTIONS=PPQ.METRIC_KESTREL_CONNECTION_DURATION=PPQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=PPQ.METRIC_KESTREL_ACTIVE_CONNECTIONS=PPQ.METRIC_JVM_THREAD_COUNT=PPQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=PPQ.METRIC_JVM_MEMORY_USED=PPQ.METRIC_JVM_MEMORY_LIMIT=PPQ.METRIC_JVM_MEMORY_COMMITTED=PPQ.METRIC_JVM_GC_DURATION=PPQ.METRIC_JVM_CPU_TIME=PPQ.METRIC_JVM_CPU_RECENT_UTILIZATION=PPQ.METRIC_JVM_CPU_COUNT=PPQ.METRIC_JVM_CLASS_UNLOADED=PPQ.METRIC_JVM_CLASS_LOADED=PPQ.METRIC_JVM_CLASS_COUNT=PPQ.METRIC_HTTP_SERVER_REQUEST_DURATION=PPQ.METRIC_HTTP_CLIENT_REQUEST_DURATION=PPQ.METRIC_DOTNET_TIMER_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=PPQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=PPQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=PPQ.METRIC_DOTNET_PROCESS_CPU_TIME=PPQ.METRIC_DOTNET_PROCESS_CPU_COUNT=PPQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=PPQ.METRIC_DOTNET_JIT_COMPILED_METHODS=PPQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=PPQ.METRIC_DOTNET_JIT_COMPILATION_TIME=PPQ.METRIC_DOTNET_GC_PAUSE_TIME=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=PPQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=PPQ.METRIC_DOTNET_GC_COLLECTIONS=PPQ.METRIC_DOTNET_EXCEPTIONS=PPQ.METRIC_DOTNET_ASSEMBLY_COUNT=PPQ.METRIC_DB_CLIENT_OPERATION_DURATION=PPQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=PPQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=PPQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;PPQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;PPQ.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";PPQ.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";PPQ.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";PPQ.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";PPQ.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";PPQ.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";PPQ.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";PPQ.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";PPQ.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";PPQ.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";PPQ.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";PPQ.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";PPQ.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";PPQ.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";PPQ.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";PPQ.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";PPQ.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";PPQ.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";PPQ.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";PPQ.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";PPQ.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";PPQ.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";PPQ.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";PPQ.METRIC_JVM_CLASS_COUNT="jvm.class.count";PPQ.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";PPQ.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";PPQ.METRIC_JVM_CPU_COUNT="jvm.cpu.count";PPQ.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";PPQ.METRIC_JVM_CPU_TIME="jvm.cpu.time";PPQ.METRIC_JVM_GC_DURATION="jvm.gc.duration";PPQ.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";PPQ.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";PPQ.METRIC_JVM_MEMORY_USED="jvm.memory.used";PPQ.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";PPQ.METRIC_JVM_THREAD_COUNT="jvm.thread.count";PPQ.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";PPQ.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";PPQ.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";PPQ.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";PPQ.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";PPQ.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";PPQ.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";PPQ.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";PPQ.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";PPQ.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var fPQ=w((vPQ)=>{Object.defineProperty(vPQ,"__esModule",{value:!0});vPQ.EVENT_EXCEPTION=void 0;vPQ.EVENT_EXCEPTION="exception"});var vr=w((UR)=>{var vf6=UR&&UR.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),THA=UR&&UR.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))vf6(Q,A,B)};Object.defineProperty(UR,"__esModule",{value:!0});THA(a_Q(),UR);THA(MPQ(),UR);THA(jPQ(),UR);THA(yPQ(),UR);THA(fPQ(),UR)});var gPQ=w((bPQ)=>{Object.defineProperty(bPQ,"__esModule",{value:!0});bPQ.ATTR_PROCESS_RUNTIME_NAME=void 0;bPQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var dPQ=w((uPQ)=>{Object.defineProperty(uPQ,"__esModule",{value:!0});uPQ.SDK_INFO=void 0;var kf6=aqQ(),EuA=vr(),ff6=gPQ();uPQ.SDK_INFO={[EuA.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[ff6.ATTR_PROCESS_RUNTIME_NAME]:"node",[EuA.ATTR_TELEMETRY_SDK_LANGUAGE]:EuA.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[EuA.ATTR_TELEMETRY_SDK_VERSION]:kf6.VERSION}});var lPQ=w((cPQ)=>{Object.defineProperty(cPQ,"__esModule",{value:!0});cPQ.unrefTimer=void 0;function bf6(A){A.unref()}cPQ.unrefTimer=bf6});var iPQ=w((fP)=>{Object.defineProperty(fP,"__esModule",{value:!0});fP.unrefTimer=fP.SDK_INFO=fP.otperformance=fP._globalThis=fP.getStringListFromEnv=fP.getNumberFromEnv=fP.getBooleanFromEnv=fP.getStringFromEnv=void 0;var DuA=gqQ();Object.defineProperty(fP,"getStringFromEnv",{enumerable:!0,get:function(){return DuA.getStringFromEnv}});Object.defineProperty(fP,"getBooleanFromEnv",{enumerable:!0,get:function(){return DuA.getBooleanFromEnv}});Object.defineProperty(fP,"getNumberFromEnv",{enumerable:!0,get:function(){return DuA.getNumberFromEnv}});Object.defineProperty(fP,"getStringListFromEnv",{enumerable:!0,get:function(){return DuA.getStringListFromEnv}});var hf6=dqQ();Object.defineProperty(fP,"_globalThis",{enumerable:!0,get:function(){return hf6._globalThis}});var gf6=lqQ();Object.defineProperty(fP,"otperformance",{enumerable:!0,get:function(){return gf6.otperformance}});var uf6=dPQ();Object.defineProperty(fP,"SDK_INFO",{enumerable:!0,get:function(){return uf6.SDK_INFO}});var mf6=lPQ();Object.defineProperty(fP,"unrefTimer",{enumerable:!0,get:function(){return mf6.unrefTimer}})});var HT1=w((bP)=>{Object.defineProperty(bP,"__esModule",{value:!0});bP.getStringListFromEnv=bP.getNumberFromEnv=bP.getStringFromEnv=bP.getBooleanFromEnv=bP.unrefTimer=bP.otperformance=bP._globalThis=bP.SDK_INFO=void 0;var Dd=iPQ();Object.defineProperty(bP,"SDK_INFO",{enumerable:!0,get:function(){return Dd.SDK_INFO}});Object.defineProperty(bP,"_globalThis",{enumerable:!0,get:function(){return Dd._globalThis}});Object.defineProperty(bP,"otperformance",{enumerable:!0,get:function(){return Dd.otperformance}});Object.defineProperty(bP,"unrefTimer",{enumerable:!0,get:function(){return Dd.unrefTimer}});Object.defineProperty(bP,"getBooleanFromEnv",{enumerable:!0,get:function(){return Dd.getBooleanFromEnv}});Object.defineProperty(bP,"getStringFromEnv",{enumerable:!0,get:function(){return Dd.getStringFromEnv}});Object.defineProperty(bP,"getNumberFromEnv",{enumerable:!0,get:function(){return Dd.getNumberFromEnv}});Object.defineProperty(bP,"getStringListFromEnv",{enumerable:!0,get:function(){return Dd.getStringListFromEnv}})});var tPQ=w((rPQ)=>{Object.defineProperty(rPQ,"__esModule",{value:!0});rPQ.addHrTimes=rPQ.isTimeInput=rPQ.isTimeInputHrTime=rPQ.hrTimeToMicroseconds=rPQ.hrTimeToMilliseconds=rPQ.hrTimeToNanoseconds=rPQ.hrTimeToTimeStamp=rPQ.hrTimeDuration=rPQ.timeInputToHrTime=rPQ.hrTime=rPQ.getTimeOrigin=rPQ.millisToHrTime=void 0;var FT1=HT1(),nPQ=9,pf6=6,lf6=Math.pow(10,pf6),HuA=Math.pow(10,nPQ);function jHA(A){let Q=A/1000,B=Math.trunc(Q),G=Math.round(A%1000*lf6);return[B,G]}rPQ.millisToHrTime=jHA;function CT1(){let A=FT1.otperformance.timeOrigin;if(typeof A!=="number"){let Q=FT1.otperformance;A=Q.timing&&Q.timing.fetchStart}return A}rPQ.getTimeOrigin=CT1;function aPQ(A){let Q=jHA(CT1()),B=jHA(typeof A==="number"?A:FT1.otperformance.now());return oPQ(Q,B)}rPQ.hrTime=aPQ;function if6(A){if(zT1(A))return A;else if(typeof A==="number")if(A<CT1())return aPQ(A);else return jHA(A);else if(A instanceof Date)return jHA(A.getTime());else throw TypeError("Invalid input type")}rPQ.timeInputToHrTime=if6;function nf6(A,Q){let B=Q[0]-A[0],G=Q[1]-A[1];if(G<0)B-=1,G+=HuA;return[B,G]}rPQ.hrTimeDuration=nf6;function af6(A){let Q=nPQ,B=`${"0".repeat(Q)}${A[1]}Z`,G=B.substring(B.length-Q-1);return new Date(A[0]*1000).toISOString().replace("000Z",G)}rPQ.hrTimeToTimeStamp=af6;function of6(A){return A[0]*HuA+A[1]}rPQ.hrTimeToNanoseconds=of6;function rf6(A){return A[0]*1000+A[1]/1e6}rPQ.hrTimeToMilliseconds=rf6;function sf6(A){return A[0]*1e6+A[1]/1000}rPQ.hrTimeToMicroseconds=sf6;function zT1(A){return Array.isArray(A)&&A.length===2&&typeof A[0]==="number"&&typeof A[1]==="number"}rPQ.isTimeInputHrTime=zT1;function tf6(A){return zT1(A)||typeof A==="number"||A instanceof Date}rPQ.isTimeInput=tf6;function oPQ(A,Q){let B=[A[0]+Q[0],A[1]+Q[1]];if(B[1]>=HuA)B[1]-=HuA,B[0]+=1;return B}rPQ.addHrTimes=oPQ});var ASQ=w((ePQ)=>{Object.defineProperty(ePQ,"__esModule",{value:!0});ePQ.ExportResultCode=void 0;var Kb6;(function(A){A[A.SUCCESS=0]="SUCCESS",A[A.FAILED=1]="FAILED"})(Kb6=ePQ.ExportResultCode||(ePQ.ExportResultCode={}))});var YSQ=w((GSQ)=>{Object.defineProperty(GSQ,"__esModule",{value:!0});GSQ.CompositePropagator=void 0;var QSQ=O9();class BSQ{_propagators;_fields;constructor(A={}){this._propagators=A.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Q)=>typeof Q.fields==="function"?Q.fields():[]).reduce((Q,B)=>Q.concat(B),[])))}inject(A,Q,B){for(let G of this._propagators)try{G.inject(A,Q,B)}catch(Z){QSQ.diag.warn(`Failed to inject with ${G.constructor.name}. Err: ${Z.message}`)}}extract(A,Q,B){return this._propagators.reduce((G,Z)=>{try{return Z.extract(G,Q,B)}catch(Y){QSQ.diag.warn(`Failed to extract with ${Z.constructor.name}. Err: ${Y.message}`)}return G},A)}fields(){return this._fields.slice()}}GSQ.CompositePropagator=BSQ});var XSQ=w((JSQ)=>{Object.defineProperty(JSQ,"__esModule",{value:!0});JSQ.validateValue=JSQ.validateKey=void 0;var $T1="[_0-9a-z-*/]",Vb6=`[a-z]${$T1}{0,255}`,Eb6=`[a-z0-9]${$T1}{0,240}@[a-z]${$T1}{0,13}`,Db6=new RegExp(`^(?:${Vb6}|${Eb6})$`),Hb6=/^[ -~]{0,255}[!-~]$/,Fb6=/,|=/;function Cb6(A){return Db6.test(A)}JSQ.validateKey=Cb6;function zb6(A){return Hb6.test(A)&&!Fb6.test(A)}JSQ.validateValue=zb6});var NT1=w((DSQ)=>{Object.defineProperty(DSQ,"__esModule",{value:!0});DSQ.TraceState=void 0;var WSQ=XSQ(),KSQ=32,$b6=512,VSQ=",",ESQ="=";class wT1{_internalState=new Map;constructor(A){if(A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+ESQ+this.get(Q)),A},[]).join(VSQ)}_parse(A){if(A.length>$b6)return;if(this._internalState=A.split(VSQ).reverse().reduce((Q,B)=>{let G=B.trim(),Z=G.indexOf(ESQ);if(Z!==-1){let Y=G.slice(0,Z),J=G.slice(Z+1,B.length);if((0,WSQ.validateKey)(Y)&&(0,WSQ.validateValue)(J))Q.set(Y,J)}return Q},new Map),this._internalState.size>KSQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,KSQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new wT1;return A._internalState=new Map(this._internalState),A}}DSQ.TraceState=wT1});var $SQ=w((zSQ)=>{Object.defineProperty(zSQ,"__esModule",{value:!0});zSQ.W3CTraceContextPropagator=zSQ.parseTraceParent=zSQ.TRACE_STATE_HEADER=zSQ.TRACE_PARENT_HEADER=void 0;var FuA=O9(),wb6=_HA(),Nb6=NT1();zSQ.TRACE_PARENT_HEADER="traceparent";zSQ.TRACE_STATE_HEADER="tracestate";var qb6="00",Lb6="(?!ff)[\\da-f]{2}",Mb6="(?![0]{32})[\\da-f]{32}",Ob6="(?![0]{16})[\\da-f]{16}",Rb6="[\\da-f]{2}",_b6=new RegExp(`^\\s?(${Lb6})-(${Mb6})-(${Ob6})-(${Rb6})(-.*)?\\s?$`);function FSQ(A){let Q=_b6.exec(A);if(!Q)return null;if(Q[1]==="00"&&Q[5])return null;return{traceId:Q[2],spanId:Q[3],traceFlags:parseInt(Q[4],16)}}zSQ.parseTraceParent=FSQ;class CSQ{inject(A,Q,B){let G=FuA.trace.getSpanContext(A);if(!G||(0,wb6.isTracingSuppressed)(A)||!(0,FuA.isSpanContextValid)(G))return;let Z=`${qb6}-${G.traceId}-${G.spanId}-0${Number(G.traceFlags||FuA.TraceFlags.NONE).toString(16)}`;if(B.set(Q,zSQ.TRACE_PARENT_HEADER,Z),G.traceState)B.set(Q,zSQ.TRACE_STATE_HEADER,G.traceState.serialize())}extract(A,Q,B){let G=B.get(Q,zSQ.TRACE_PARENT_HEADER);if(!G)return A;let Z=Array.isArray(G)?G[0]:G;if(typeof Z!=="string")return A;let Y=FSQ(Z);if(!Y)return A;Y.isRemote=!0;let J=B.get(Q,zSQ.TRACE_STATE_HEADER);if(J){let I=Array.isArray(J)?J.join(","):J;Y.traceState=new Nb6.TraceState(typeof I==="string"?I:void 0)}return FuA.trace.setSpanContext(A,Y)}fields(){return[zSQ.TRACE_PARENT_HEADER,zSQ.TRACE_STATE_HEADER]}}zSQ.W3CTraceContextPropagator=CSQ});var LSQ=w((NSQ)=>{Object.defineProperty(NSQ,"__esModule",{value:!0});NSQ.getRPCMetadata=NSQ.deleteRPCMetadata=NSQ.setRPCMetadata=NSQ.RPCType=void 0;var jb6=O9(),qT1=(0,jb6.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Pb6;(function(A){A.HTTP="http"})(Pb6=NSQ.RPCType||(NSQ.RPCType={}));function Sb6(A,Q){return A.setValue(qT1,Q)}NSQ.setRPCMetadata=Sb6;function xb6(A){return A.deleteValue(qT1)}NSQ.deleteRPCMetadata=xb6;function yb6(A){return A.getValue(qT1)}NSQ.getRPCMetadata=yb6});var PSQ=w((TSQ)=>{Object.defineProperty(TSQ,"__esModule",{value:!0});TSQ.isPlainObject=void 0;var fb6="[object Object]",bb6="[object Null]",hb6="[object Undefined]",gb6=Function.prototype,MSQ=gb6.toString,ub6=MSQ.call(Object),mb6=Object.getPrototypeOf,OSQ=Object.prototype,RSQ=OSQ.hasOwnProperty,kr=Symbol?Symbol.toStringTag:void 0,_SQ=OSQ.toString;function db6(A){if(!cb6(A)||pb6(A)!==fb6)return!1;let Q=mb6(A);if(Q===null)return!0;let B=RSQ.call(Q,"constructor")&&Q.constructor;return typeof B=="function"&&B instanceof B&&MSQ.call(B)===ub6}TSQ.isPlainObject=db6;function cb6(A){return A!=null&&typeof A=="object"}function pb6(A){if(A==null)return A===void 0?hb6:bb6;return kr&&kr in Object(A)?lb6(A):ib6(A)}function lb6(A){let Q=RSQ.call(A,kr),B=A[kr],G=!1;try{A[kr]=void 0,G=!0}catch{}let Z=_SQ.call(A);if(G)if(Q)A[kr]=B;else delete A[kr];return Z}function ib6(A){return _SQ.call(A)}});var bSQ=w((kSQ)=>{Object.defineProperty(kSQ,"__esModule",{value:!0});kSQ.merge=void 0;var SSQ=PSQ(),nb6=20;function ab6(...A){let Q=A.shift(),B=new WeakMap;while(A.length>0)Q=ySQ(Q,A.shift(),0,B);return Q}kSQ.merge=ab6;function LT1(A){if($uA(A))return A.slice();return A}function ySQ(A,Q,B=0,G){let Z;if(B>nb6)return;if(B++,UuA(A)||UuA(Q)||vSQ(Q))Z=LT1(Q);else if($uA(A)){if(Z=A.slice(),$uA(Q))for(let Y=0,J=Q.length;Y<J;Y++)Z.push(LT1(Q[Y]));else if(PHA(Q)){let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J];Z[X]=LT1(Q[X])}}}else if(PHA(A))if(PHA(Q)){if(!ob6(A,Q))return Q;Z=Object.assign({},A);let Y=Object.keys(Q);for(let J=0,I=Y.length;J<I;J++){let X=Y[J],W=Q[X];if(UuA(W))if(typeof W>"u")delete Z[X];else Z[X]=W;else{let K=Z[X],V=W;if(xSQ(A,X,G)||xSQ(Q,X,G))delete Z[X];else{if(PHA(K)&&PHA(V)){let E=G.get(K)||[],D=G.get(V)||[];E.push({obj:A,key:X}),D.push({obj:Q,key:X}),G.set(K,E),G.set(V,D)}Z[X]=ySQ(Z[X],W,B,G)}}}}else Z=Q;return Z}function xSQ(A,Q,B){let G=B.get(A[Q])||[];for(let Z=0,Y=G.length;Z<Y;Z++){let J=G[Z];if(J.key===Q&&J.obj===A)return!0}return!1}function $uA(A){return Array.isArray(A)}function vSQ(A){return typeof A==="function"}function PHA(A){return!UuA(A)&&!$uA(A)&&!vSQ(A)&&typeof A==="object"}function UuA(A){return typeof A==="string"||typeof A==="number"||typeof A==="boolean"||typeof A>"u"||A instanceof Date||A instanceof RegExp||A===null}function ob6(A,Q){if(!(0,SSQ.isPlainObject)(A)||!(0,SSQ.isPlainObject)(Q))return!1;return!0}});var uSQ=w((hSQ)=>{Object.defineProperty(hSQ,"__esModule",{value:!0});hSQ.callWithTimeout=hSQ.TimeoutError=void 0;class wuA extends Error{constructor(A){super(A);Object.setPrototypeOf(this,wuA.prototype)}}hSQ.TimeoutError=wuA;function rb6(A,Q){let B,G=new Promise(function(Y,J){B=setTimeout(function(){J(new wuA("Operation timed out."))},Q)});return Promise.race([A,G]).then((Z)=>{return clearTimeout(B),Z},(Z)=>{throw clearTimeout(B),Z})}hSQ.callWithTimeout=rb6});var pSQ=w((dSQ)=>{Object.defineProperty(dSQ,"__esModule",{value:!0});dSQ.isUrlIgnored=dSQ.urlMatches=void 0;function mSQ(A,Q){if(typeof Q==="string")return A===Q;else return!!A.match(Q)}dSQ.urlMatches=mSQ;function tb6(A,Q){if(!Q)return!1;for(let B of Q)if(mSQ(A,B))return!0;return!1}dSQ.isUrlIgnored=tb6});var aSQ=w((iSQ)=>{Object.defineProperty(iSQ,"__esModule",{value:!0});iSQ.Deferred=void 0;class lSQ{_promise;_resolve;_reject;constructor(){this._promise=new Promise((A,Q)=>{this._resolve=A,this._reject=Q})}get promise(){return this._promise}resolve(A){this._resolve(A)}reject(A){this._reject(A)}}iSQ.Deferred=lSQ});var tSQ=w((rSQ)=>{Object.defineProperty(rSQ,"__esModule",{value:!0});rSQ.BindOnceFuture=void 0;var Ah6=aSQ();class oSQ{_callback;_that;_isCalled=!1;_deferred=new Ah6.Deferred;constructor(A,Q){this._callback=A,this._that=Q}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...A){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...A)).then((Q)=>this._deferred.resolve(Q),(Q)=>this._deferred.reject(Q))}catch(Q){this._deferred.reject(Q)}}return this._deferred.promise}}rSQ.BindOnceFuture=oSQ});var BxQ=w((AxQ)=>{Object.defineProperty(AxQ,"__esModule",{value:!0});AxQ.diagLogLevelFromString=void 0;var _k=O9(),eSQ={ALL:_k.DiagLogLevel.ALL,VERBOSE:_k.DiagLogLevel.VERBOSE,DEBUG:_k.DiagLogLevel.DEBUG,INFO:_k.DiagLogLevel.INFO,WARN:_k.DiagLogLevel.WARN,ERROR:_k.DiagLogLevel.ERROR,NONE:_k.DiagLogLevel.NONE};function Qh6(A){if(A==null)return;let Q=eSQ[A.toUpperCase()];if(Q==null)return _k.diag.warn(`Unknown log level "${A}", expected one of ${Object.keys(eSQ)}, using default`),_k.DiagLogLevel.INFO;return Q}AxQ.diagLogLevelFromString=Qh6});var JxQ=w((ZxQ)=>{Object.defineProperty(ZxQ,"__esModule",{value:!0});ZxQ._export=void 0;var GxQ=O9(),Bh6=_HA();function Gh6(A,Q){return new Promise((B)=>{GxQ.context.with((0,Bh6.suppressTracing)(GxQ.context.active()),()=>{A.export(Q,(G)=>{B(G)})})})}ZxQ._export=Gh6});var Q8=w((F4)=>{Object.defineProperty(F4,"__esModule",{value:!0});F4.internal=F4.diagLogLevelFromString=F4.BindOnceFuture=F4.urlMatches=F4.isUrlIgnored=F4.callWithTimeout=F4.TimeoutError=F4.merge=F4.TraceState=F4.unsuppressTracing=F4.suppressTracing=F4.isTracingSuppressed=F4.setRPCMetadata=F4.getRPCMetadata=F4.deleteRPCMetadata=F4.RPCType=F4.parseTraceParent=F4.W3CTraceContextPropagator=F4.TRACE_STATE_HEADER=F4.TRACE_PARENT_HEADER=F4.CompositePropagator=F4.unrefTimer=F4.otperformance=F4.getStringListFromEnv=F4.getNumberFromEnv=F4.getBooleanFromEnv=F4.getStringFromEnv=F4._globalThis=F4.SDK_INFO=F4.parseKeyPairsIntoRecord=F4.ExportResultCode=F4.timeInputToHrTime=F4.millisToHrTime=F4.isTimeInputHrTime=F4.isTimeInput=F4.hrTimeToTimeStamp=F4.hrTimeToNanoseconds=F4.hrTimeToMilliseconds=F4.hrTimeToMicroseconds=F4.hrTimeDuration=F4.hrTime=F4.getTimeOrigin=F4.addHrTimes=F4.loggingErrorHandler=F4.setGlobalErrorHandler=F4.globalErrorHandler=F4.sanitizeAttributes=F4.isAttributeValue=F4.AnchoredClock=F4.W3CBaggagePropagator=void 0;var Zh6=CqQ();Object.defineProperty(F4,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Zh6.W3CBaggagePropagator}});var Yh6=wqQ();Object.defineProperty(F4,"AnchoredClock",{enumerable:!0,get:function(){return Yh6.AnchoredClock}});var IxQ=_qQ();Object.defineProperty(F4,"isAttributeValue",{enumerable:!0,get:function(){return IxQ.isAttributeValue}});Object.defineProperty(F4,"sanitizeAttributes",{enumerable:!0,get:function(){return IxQ.sanitizeAttributes}});var XxQ=yqQ();Object.defineProperty(F4,"globalErrorHandler",{enumerable:!0,get:function(){return XxQ.globalErrorHandler}});Object.defineProperty(F4,"setGlobalErrorHandler",{enumerable:!0,get:function(){return XxQ.setGlobalErrorHandler}});var Jh6=ET1();Object.defineProperty(F4,"loggingErrorHandler",{enumerable:!0,get:function(){return Jh6.loggingErrorHandler}});var rq=tPQ();Object.defineProperty(F4,"addHrTimes",{enumerable:!0,get:function(){return rq.addHrTimes}});Object.defineProperty(F4,"getTimeOrigin",{enumerable:!0,get:function(){return rq.getTimeOrigin}});Object.defineProperty(F4,"hrTime",{enumerable:!0,get:function(){return rq.hrTime}});Object.defineProperty(F4,"hrTimeDuration",{enumerable:!0,get:function(){return rq.hrTimeDuration}});Object.defineProperty(F4,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return rq.hrTimeToMicroseconds}});Object.defineProperty(F4,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return rq.hrTimeToMilliseconds}});Object.defineProperty(F4,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return rq.hrTimeToNanoseconds}});Object.defineProperty(F4,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return rq.hrTimeToTimeStamp}});Object.defineProperty(F4,"isTimeInput",{enumerable:!0,get:function(){return rq.isTimeInput}});Object.defineProperty(F4,"isTimeInputHrTime",{enumerable:!0,get:function(){return rq.isTimeInputHrTime}});Object.defineProperty(F4,"millisToHrTime",{enumerable:!0,get:function(){return rq.millisToHrTime}});Object.defineProperty(F4,"timeInputToHrTime",{enumerable:!0,get:function(){return rq.timeInputToHrTime}});var Ih6=ASQ();Object.defineProperty(F4,"ExportResultCode",{enumerable:!0,get:function(){return Ih6.ExportResultCode}});var Xh6=WT1();Object.defineProperty(F4,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Xh6.parseKeyPairsIntoRecord}});var Hd=HT1();Object.defineProperty(F4,"SDK_INFO",{enumerable:!0,get:function(){return Hd.SDK_INFO}});Object.defineProperty(F4,"_globalThis",{enumerable:!0,get:function(){return Hd._globalThis}});Object.defineProperty(F4,"getStringFromEnv",{enumerable:!0,get:function(){return Hd.getStringFromEnv}});Object.defineProperty(F4,"getBooleanFromEnv",{enumerable:!0,get:function(){return Hd.getBooleanFromEnv}});Object.defineProperty(F4,"getNumberFromEnv",{enumerable:!0,get:function(){return Hd.getNumberFromEnv}});Object.defineProperty(F4,"getStringListFromEnv",{enumerable:!0,get:function(){return Hd.getStringListFromEnv}});Object.defineProperty(F4,"otperformance",{enumerable:!0,get:function(){return Hd.otperformance}});Object.defineProperty(F4,"unrefTimer",{enumerable:!0,get:function(){return Hd.unrefTimer}});var Wh6=YSQ();Object.defineProperty(F4,"CompositePropagator",{enumerable:!0,get:function(){return Wh6.CompositePropagator}});var NuA=$SQ();Object.defineProperty(F4,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_PARENT_HEADER}});Object.defineProperty(F4,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return NuA.TRACE_STATE_HEADER}});Object.defineProperty(F4,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return NuA.W3CTraceContextPropagator}});Object.defineProperty(F4,"parseTraceParent",{enumerable:!0,get:function(){return NuA.parseTraceParent}});var quA=LSQ();Object.defineProperty(F4,"RPCType",{enumerable:!0,get:function(){return quA.RPCType}});Object.defineProperty(F4,"deleteRPCMetadata",{enumerable:!0,get:function(){return quA.deleteRPCMetadata}});Object.defineProperty(F4,"getRPCMetadata",{enumerable:!0,get:function(){return quA.getRPCMetadata}});Object.defineProperty(F4,"setRPCMetadata",{enumerable:!0,get:function(){return quA.setRPCMetadata}});var MT1=_HA();Object.defineProperty(F4,"isTracingSuppressed",{enumerable:!0,get:function(){return MT1.isTracingSuppressed}});Object.defineProperty(F4,"suppressTracing",{enumerable:!0,get:function(){return MT1.suppressTracing}});Object.defineProperty(F4,"unsuppressTracing",{enumerable:!0,get:function(){return MT1.unsuppressTracing}});var Kh6=NT1();Object.defineProperty(F4,"TraceState",{enumerable:!0,get:function(){return Kh6.TraceState}});var Vh6=bSQ();Object.defineProperty(F4,"merge",{enumerable:!0,get:function(){return Vh6.merge}});var WxQ=uSQ();Object.defineProperty(F4,"TimeoutError",{enumerable:!0,get:function(){return WxQ.TimeoutError}});Object.defineProperty(F4,"callWithTimeout",{enumerable:!0,get:function(){return WxQ.callWithTimeout}});var KxQ=pSQ();Object.defineProperty(F4,"isUrlIgnored",{enumerable:!0,get:function(){return KxQ.isUrlIgnored}});Object.defineProperty(F4,"urlMatches",{enumerable:!0,get:function(){return KxQ.urlMatches}});var Eh6=tSQ();Object.defineProperty(F4,"BindOnceFuture",{enumerable:!0,get:function(){return Eh6.BindOnceFuture}});var Dh6=BxQ();Object.defineProperty(F4,"diagLogLevelFromString",{enumerable:!0,get:function(){return Dh6.diagLogLevelFromString}});var Hh6=JxQ();F4.internal={_export:Hh6._export}});var HxQ=w((ExQ)=>{Object.defineProperty(ExQ,"__esModule",{value:!0});ExQ.defaultServiceName=void 0;function Fh6(){return`unknown_service:${process.argv0}`}ExQ.defaultServiceName=Fh6});var FxQ=w((OT1)=>{Object.defineProperty(OT1,"__esModule",{value:!0});OT1.defaultServiceName=void 0;var Ch6=HxQ();Object.defineProperty(OT1,"defaultServiceName",{enumerable:!0,get:function(){return Ch6.defaultServiceName}})});var _T1=w((RT1)=>{Object.defineProperty(RT1,"__esModule",{value:!0});RT1.defaultServiceName=void 0;var Uh6=FxQ();Object.defineProperty(RT1,"defaultServiceName",{enumerable:!0,get:function(){return Uh6.defaultServiceName}})});var UxQ=w((CxQ)=>{Object.defineProperty(CxQ,"__esModule",{value:!0});CxQ.identity=CxQ.isPromiseLike=void 0;var wh6=(A)=>{return A!==null&&typeof A==="object"&&typeof A.then==="function"};CxQ.isPromiseLike=wh6;function Nh6(A){return A}CxQ.identity=Nh6});var PT1=w((wxQ)=>{Object.defineProperty(wxQ,"__esModule",{value:!0});wxQ.defaultResource=wxQ.emptyResource=wxQ.resourceFromDetectedResource=wxQ.resourceFromAttributes=void 0;var xHA=O9(),TT1=Q8(),fr=vr(),Lh6=_T1(),SHA=UxQ();class yHA{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(A,Q){let B=new yHA({},Q);return B._rawAttributes=$xQ(A),B._asyncAttributesPending=A.filter(([G,Z])=>(0,SHA.isPromiseLike)(Z)).length>0,B}constructor(A,Q){let B=A.attributes??{};this._rawAttributes=Object.entries(B).map(([G,Z])=>{if((0,SHA.isPromiseLike)(Z))this._asyncAttributesPending=!0;return[G,Z]}),this._rawAttributes=$xQ(this._rawAttributes),this._schemaUrl=_h6(Q?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let A=0;A<this._rawAttributes.length;A++){let[Q,B]=this._rawAttributes[A];this._rawAttributes[A]=[Q,(0,SHA.isPromiseLike)(B)?await B:B]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)xHA.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let A={};for(let[Q,B]of this._rawAttributes){if((0,SHA.isPromiseLike)(B)){xHA.diag.debug(`Unsettled resource attribute ${Q} skipped`);continue}if(B!=null)A[Q]??=B}if(!this._asyncAttributesPending)this._memoizedAttributes=A;return A}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(A){if(A==null)return this;let Q=Th6(this,A),B=Q?{schemaUrl:Q}:void 0;return yHA.FromAttributeList([...A.getRawAttributes(),...this.getRawAttributes()],B)}}function jT1(A,Q){return yHA.FromAttributeList(Object.entries(A),Q)}wxQ.resourceFromAttributes=jT1;function Mh6(A,Q){return new yHA(A,Q)}wxQ.resourceFromDetectedResource=Mh6;function Oh6(){return jT1({})}wxQ.emptyResource=Oh6;function Rh6(){return jT1({[fr.ATTR_SERVICE_NAME]:(0,Lh6.defaultServiceName)(),[fr.ATTR_TELEMETRY_SDK_LANGUAGE]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_LANGUAGE],[fr.ATTR_TELEMETRY_SDK_NAME]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_NAME],[fr.ATTR_TELEMETRY_SDK_VERSION]:TT1.SDK_INFO[fr.ATTR_TELEMETRY_SDK_VERSION]})}wxQ.defaultResource=Rh6;function $xQ(A){return A.map(([Q,B])=>{if((0,SHA.isPromiseLike)(B))return[Q,B.catch((G)=>{xHA.diag.debug("promise rejection for resource attribute: %s - %s",Q,G);return})];return[Q,B]})}function _h6(A){if(typeof A==="string"||A===void 0)return A;xHA.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",A);return}function Th6(A,Q){let B=A?.schemaUrl,G=Q?.schemaUrl,Z=B===void 0||B==="",Y=G===void 0||G==="";if(Z)return G;if(Y)return B;if(B===G)return B;xHA.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',B,G);return}});var OxQ=w((LxQ)=>{Object.defineProperty(LxQ,"__esModule",{value:!0});LxQ.detectResources=void 0;var qxQ=O9(),ST1=PT1(),xh6=(A={})=>{return(A.detectors||[]).map((B)=>{try{let G=(0,ST1.resourceFromDetectedResource)(B.detect(A));return qxQ.diag.debug(`${B.constructor.name} found resource.`,G),G}catch(G){return qxQ.diag.debug(`${B.constructor.name} failed: ${G.message}`),(0,ST1.emptyResource)()}}).reduce((B,G)=>B.merge(G),(0,ST1.emptyResource)())};LxQ.detectResources=xh6});var PxQ=w((TxQ)=>{Object.defineProperty(TxQ,"__esModule",{value:!0});TxQ.envDetector=void 0;var yh6=O9(),vh6=vr(),RxQ=Q8();class _xQ{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(A){let Q={},B=(0,RxQ.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),G=(0,RxQ.getStringFromEnv)("OTEL_SERVICE_NAME");if(B)try{let Z=this._parseResourceAttributes(B);Object.assign(Q,Z)}catch(Z){yh6.diag.debug(`EnvDetector failed: ${Z.message}`)}if(G)Q[vh6.ATTR_SERVICE_NAME]=G;return{attributes:Q}}_parseResourceAttributes(A){if(!A)return{};let Q={},B=A.split(this._COMMA_SEPARATOR,-1);for(let G of B){let Z=G.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(Z.length!==2)continue;let[Y,J]=Z;if(Y=Y.trim(),J=J.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(Y))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(J))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);Q[Y]=decodeURIComponent(J)}return Q}_isValid(A){return A.length<=this._MAX_LENGTH&&this._isBaggageOctetString(A)}_isBaggageOctetString(A){for(let Q=0;Q<A.length;Q++){let B=A.charCodeAt(Q);if(B<33||B===44||B===59||B===92||B>126)return!1}return!0}_isValidAndNotEmpty(A){return A.length>0&&this._isValid(A)}}TxQ.envDetector=new _xQ});var vHA=w((SxQ)=>{Object.defineProperty(SxQ,"__esModule",{value:!0});SxQ.ATTR_WEBENGINE_VERSION=SxQ.ATTR_WEBENGINE_NAME=SxQ.ATTR_WEBENGINE_DESCRIPTION=SxQ.ATTR_SERVICE_NAMESPACE=SxQ.ATTR_SERVICE_INSTANCE_ID=SxQ.ATTR_PROCESS_RUNTIME_VERSION=SxQ.ATTR_PROCESS_RUNTIME_NAME=SxQ.ATTR_PROCESS_RUNTIME_DESCRIPTION=SxQ.ATTR_PROCESS_PID=SxQ.ATTR_PROCESS_OWNER=SxQ.ATTR_PROCESS_EXECUTABLE_PATH=SxQ.ATTR_PROCESS_EXECUTABLE_NAME=SxQ.ATTR_PROCESS_COMMAND_ARGS=SxQ.ATTR_PROCESS_COMMAND=SxQ.ATTR_OS_VERSION=SxQ.ATTR_OS_TYPE=SxQ.ATTR_K8S_POD_NAME=SxQ.ATTR_K8S_NAMESPACE_NAME=SxQ.ATTR_K8S_DEPLOYMENT_NAME=SxQ.ATTR_K8S_CLUSTER_NAME=SxQ.ATTR_HOST_TYPE=SxQ.ATTR_HOST_NAME=SxQ.ATTR_HOST_IMAGE_VERSION=SxQ.ATTR_HOST_IMAGE_NAME=SxQ.ATTR_HOST_IMAGE_ID=SxQ.ATTR_HOST_ID=SxQ.ATTR_HOST_ARCH=SxQ.ATTR_CONTAINER_NAME=SxQ.ATTR_CONTAINER_IMAGE_TAGS=SxQ.ATTR_CONTAINER_IMAGE_NAME=SxQ.ATTR_CONTAINER_ID=SxQ.ATTR_CLOUD_REGION=SxQ.ATTR_CLOUD_PROVIDER=SxQ.ATTR_CLOUD_AVAILABILITY_ZONE=SxQ.ATTR_CLOUD_ACCOUNT_ID=void 0;SxQ.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";SxQ.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";SxQ.ATTR_CLOUD_PROVIDER="cloud.provider";SxQ.ATTR_CLOUD_REGION="cloud.region";SxQ.ATTR_CONTAINER_ID="container.id";SxQ.ATTR_CONTAINER_IMAGE_NAME="container.image.name";SxQ.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";SxQ.ATTR_CONTAINER_NAME="container.name";SxQ.ATTR_HOST_ARCH="host.arch";SxQ.ATTR_HOST_ID="host.id";SxQ.ATTR_HOST_IMAGE_ID="host.image.id";SxQ.ATTR_HOST_IMAGE_NAME="host.image.name";SxQ.ATTR_HOST_IMAGE_VERSION="host.image.version";SxQ.ATTR_HOST_NAME="host.name";SxQ.ATTR_HOST_TYPE="host.type";SxQ.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";SxQ.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";SxQ.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";SxQ.ATTR_K8S_POD_NAME="k8s.pod.name";SxQ.ATTR_OS_TYPE="os.type";SxQ.ATTR_OS_VERSION="os.version";SxQ.ATTR_PROCESS_COMMAND="process.command";SxQ.ATTR_PROCESS_COMMAND_ARGS="process.command_args";SxQ.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";SxQ.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";SxQ.ATTR_PROCESS_OWNER="process.owner";SxQ.ATTR_PROCESS_PID="process.pid";SxQ.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";SxQ.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";SxQ.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";SxQ.ATTR_SERVICE_INSTANCE_ID="service.instance.id";SxQ.ATTR_SERVICE_NAMESPACE="service.namespace";SxQ.ATTR_WEBENGINE_DESCRIPTION="webengine.description";SxQ.ATTR_WEBENGINE_NAME="webengine.name";SxQ.ATTR_WEBENGINE_VERSION="webengine.version"});var LuA=w((yxQ)=>{Object.defineProperty(yxQ,"__esModule",{value:!0});yxQ.execAsync=void 0;var Fg6=qA("child_process"),Cg6=qA("util");yxQ.execAsync=Cg6.promisify(Fg6.exec)});var bxQ=w((kxQ)=>{Object.defineProperty(kxQ,"__esModule",{value:!0});kxQ.getMachineId=void 0;var zg6=LuA(),Ug6=O9();async function $g6(){try{let Q=(await(0,zg6.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
193:`).find((G)=>G.includes("IOPlatformUUID"));if(!Q)return;let B=Q.split('" = "');if(B.length===2)return B[1].slice(0,-1)}catch(A){Ug6.diag.debug(`error reading machine id: ${A}`)}return}kxQ.getMachineId=$g6});var uxQ=w((hxQ)=>{Object.defineProperty(hxQ,"__esModule",{value:!0});hxQ.getMachineId=void 0;var wg6=qA("fs"),Ng6=O9();async function qg6(){let A=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let Q of A)try{return(await wg6.promises.readFile(Q,{encoding:"utf8"})).trim()}catch(B){Ng6.diag.debug(`error reading machine id: ${B}`)}return}hxQ.getMachineId=qg6});var pxQ=w((dxQ)=>{Object.defineProperty(dxQ,"__esModule",{value:!0});dxQ.getMachineId=void 0;var Lg6=qA("fs"),Mg6=LuA(),mxQ=O9();async function Og6(){try{return(await Lg6.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(A){mxQ.diag.debug(`error reading machine id: ${A}`)}try{return(await(0,Mg6.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(A){mxQ.diag.debug(`error reading machine id: ${A}`)}return}dxQ.getMachineId=Og6});var axQ=w((ixQ)=>{Object.defineProperty(ixQ,"__esModule",{value:!0});ixQ.getMachineId=void 0;var lxQ=qA("process"),Rg6=LuA(),_g6=O9();async function Tg6(){let Q="%windir%\\System32\\REG.exe";if(lxQ.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in lxQ.env)Q="%windir%\\sysnative\\cmd.exe /c "+Q;try{let G=(await(0,Rg6.execAsync)(`${Q} QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`)).stdout.split("REG_SZ");if(G.length===2)return G[1].trim()}catch(B){_g6.diag.debug(`error reading machine id: ${B}`)}return}ixQ.getMachineId=Tg6});var sxQ=w((oxQ)=>{Object.defineProperty(oxQ,"__esModule",{value:!0});oxQ.getMachineId=void 0;var jg6=O9();async function Pg6(){jg6.diag.debug("could not read machine-id: unsupported platform");return}oxQ.getMachineId=Pg6});var AyQ=w((txQ)=>{Object.defineProperty(txQ,"__esModule",{value:!0});txQ.getMachineId=void 0;var Sg6=qA("process"),br;async function xg6(){if(!br)switch(Sg6.platform){case"darwin":br=(await Promise.resolve().then(() => o(bxQ()))).getMachineId;break;case"linux":br=(await Promise.resolve().then(() => o(uxQ()))).getMachineId;break;case"freebsd":br=(await Promise.resolve().then(() => o(pxQ()))).getMachineId;break;case"win32":br=(await Promise.resolve().then(() => o(axQ()))).getMachineId;break;default:br=(await Promise.resolve().then(() => o(sxQ()))).getMachineId;break}return br()}txQ.getMachineId=xg6});var xT1=w((QyQ)=>{Object.defineProperty(QyQ,"__esModule",{value:!0});QyQ.normalizeType=QyQ.normalizeArch=void 0;var yg6=(A)=>{switch(A){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return A}};QyQ.normalizeArch=yg6;var vg6=(A)=>{switch(A){case"sunos":return"solaris";case"win32":return"windows";default:return A}};QyQ.normalizeType=vg6});var IyQ=w((YyQ)=>{Object.defineProperty(YyQ,"__esModule",{value:!0});YyQ.hostDetector=void 0;var yT1=vHA(),GyQ=qA("os"),fg6=AyQ(),bg6=xT1();class ZyQ{detect(A){return{attributes:{[yT1.ATTR_HOST_NAME]:(0,GyQ.hostname)(),[yT1.ATTR_HOST_ARCH]:(0,bg6.normalizeArch)((0,GyQ.arch)()),[yT1.ATTR_HOST_ID]:(0,fg6.getMachineId)()}}}}YyQ.hostDetector=new ZyQ});var DyQ=w((VyQ)=>{Object.defineProperty(VyQ,"__esModule",{value:!0});VyQ.osDetector=void 0;var XyQ=vHA(),WyQ=qA("os"),hg6=xT1();class KyQ{detect(A){return{attributes:{[XyQ.ATTR_OS_TYPE]:(0,hg6.normalizeType)((0,WyQ.platform)()),[XyQ.ATTR_OS_VERSION]:(0,WyQ.release)()}}}}VyQ.osDetector=new KyQ});var zyQ=w((FyQ)=>{Object.defineProperty(FyQ,"__esModule",{value:!0});FyQ.processDetector=void 0;var gg6=O9(),Tk=vHA(),ug6=qA("os");class HyQ{detect(A){let Q={[Tk.ATTR_PROCESS_PID]:process.pid,[Tk.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[Tk.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[Tk.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Tk.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[Tk.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[Tk.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)Q[Tk.ATTR_PROCESS_COMMAND]=process.argv[1];try{let B=ug6.userInfo();Q[Tk.ATTR_PROCESS_OWNER]=B.username}catch(B){gg6.diag.debug(`error obtaining process owner: ${B}`)}return{attributes:Q}}}FyQ.processDetector=new HyQ});var NyQ=w(($yQ)=>{Object.defineProperty($yQ,"__esModule",{value:!0});$yQ.serviceInstanceIdDetector=void 0;var mg6=vHA(),dg6=qA("crypto");class UyQ{detect(A){return{attributes:{[mg6.ATTR_SERVICE_INSTANCE_ID]:(0,dg6.randomUUID)()}}}}$yQ.serviceInstanceIdDetector=new UyQ});var qyQ=w((s6A)=>{Object.defineProperty(s6A,"__esModule",{value:!0});s6A.serviceInstanceIdDetector=s6A.processDetector=s6A.osDetector=s6A.hostDetector=void 0;var cg6=IyQ();Object.defineProperty(s6A,"hostDetector",{enumerable:!0,get:function(){return cg6.hostDetector}});var pg6=DyQ();Object.defineProperty(s6A,"osDetector",{enumerable:!0,get:function(){return pg6.osDetector}});var lg6=zyQ();Object.defineProperty(s6A,"processDetector",{enumerable:!0,get:function(){return lg6.processDetector}});var ig6=NyQ();Object.defineProperty(s6A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return ig6.serviceInstanceIdDetector}})});var LyQ=w((t6A)=>{Object.defineProperty(t6A,"__esModule",{value:!0});t6A.serviceInstanceIdDetector=t6A.processDetector=t6A.osDetector=t6A.hostDetector=void 0;var MuA=qyQ();Object.defineProperty(t6A,"hostDetector",{enumerable:!0,get:function(){return MuA.hostDetector}});Object.defineProperty(t6A,"osDetector",{enumerable:!0,get:function(){return MuA.osDetector}});Object.defineProperty(t6A,"processDetector",{enumerable:!0,get:function(){return MuA.processDetector}});Object.defineProperty(t6A,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return MuA.serviceInstanceIdDetector}})});var RyQ=w((MyQ)=>{Object.defineProperty(MyQ,"__esModule",{value:!0});MyQ.noopDetector=MyQ.NoopDetector=void 0;class vT1{detect(){return{attributes:{}}}}MyQ.NoopDetector=vT1;MyQ.noopDetector=new vT1});var _yQ=w((Fd)=>{Object.defineProperty(Fd,"__esModule",{value:!0});Fd.noopDetector=Fd.serviceInstanceIdDetector=Fd.processDetector=Fd.osDetector=Fd.hostDetector=Fd.envDetector=void 0;var rg6=PxQ();Object.defineProperty(Fd,"envDetector",{enumerable:!0,get:function(){return rg6.envDetector}});var OuA=LyQ();Object.defineProperty(Fd,"hostDetector",{enumerable:!0,get:function(){return OuA.hostDetector}});Object.defineProperty(Fd,"osDetector",{enumerable:!0,get:function(){return OuA.osDetector}});Object.defineProperty(Fd,"processDetector",{enumerable:!0,get:function(){return OuA.processDetector}});Object.defineProperty(Fd,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return OuA.serviceInstanceIdDetector}});var sg6=RyQ();Object.defineProperty(Fd,"noopDetector",{enumerable:!0,get:function(){return sg6.noopDetector}})});var e6A=w((sq)=>{Object.defineProperty(sq,"__esModule",{value:!0});sq.defaultServiceName=sq.emptyResource=sq.defaultResource=sq.resourceFromAttributes=sq.serviceInstanceIdDetector=sq.processDetector=sq.osDetector=sq.hostDetector=sq.envDetector=sq.detectResources=void 0;var eg6=OxQ();Object.defineProperty(sq,"detectResources",{enumerable:!0,get:function(){return eg6.detectResources}});var kHA=_yQ();Object.defineProperty(sq,"envDetector",{enumerable:!0,get:function(){return kHA.envDetector}});Object.defineProperty(sq,"hostDetector",{enumerable:!0,get:function(){return kHA.hostDetector}});Object.defineProperty(sq,"osDetector",{enumerable:!0,get:function(){return kHA.osDetector}});Object.defineProperty(sq,"processDetector",{enumerable:!0,get:function(){return kHA.processDetector}});Object.defineProperty(sq,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return kHA.serviceInstanceIdDetector}});var kT1=PT1();Object.defineProperty(sq,"resourceFromAttributes",{enumerable:!0,get:function(){return kT1.resourceFromAttributes}});Object.defineProperty(sq,"defaultResource",{enumerable:!0,get:function(){return kT1.defaultResource}});Object.defineProperty(sq,"emptyResource",{enumerable:!0,get:function(){return kT1.emptyResource}});var Au6=_T1();Object.defineProperty(sq,"defaultServiceName",{enumerable:!0,get:function(){return Au6.defaultServiceName}})});var SyQ=w((jyQ)=>{Object.defineProperty(jyQ,"__esModule",{value:!0});jyQ.LogRecordImpl=void 0;var hr=O9(),RuA=Q8();class TyQ{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(A){if(this._isLogRecordReadonly())return;this._severityText=A}get severityText(){return this._severityText}set severityNumber(A){if(this._isLogRecordReadonly())return;this._severityNumber=A}get severityNumber(){return this._severityNumber}set body(A){if(this._isLogRecordReadonly())return;this._body=A}get body(){return this._body}get eventName(){return this._eventName}set eventName(A){if(this._isLogRecordReadonly())return;this._eventName=A}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(A,Q,B){let{timestamp:G,observedTimestamp:Z,eventName:Y,severityNumber:J,severityText:I,body:X,attributes:W={},context:K}=B,V=Date.now();if(this.hrTime=(0,RuA.timeInputToHrTime)(G??V),this.hrTimeObserved=(0,RuA.timeInputToHrTime)(Z??V),K){let E=hr.trace.getSpanContext(K);if(E&&hr.isSpanContextValid(E))this.spanContext=E}this.severityNumber=J,this.severityText=I,this.body=X,this.resource=A.resource,this.instrumentationScope=Q,this._logRecordLimits=A.logRecordLimits,this._eventName=Y,this.setAttributes(W)}setAttribute(A,Q){if(this._isLogRecordReadonly())return this;if(Q===null)return this;if(A.length===0)return hr.diag.warn(`Invalid attribute key: ${A}`),this;if(!(0,RuA.isAttributeValue)(Q)&&!(typeof Q==="object"&&!Array.isArray(Q)&&Object.keys(Q).length>0))return hr.diag.warn(`Invalid attribute value set for key: ${A}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,A)){if(this.droppedAttributesCount===1)hr.diag.warn("Dropping extra attributes.");return this}if((0,RuA.isAttributeValue)(Q))this.attributes[A]=this._truncateToSize(Q);else this.attributes[A]=Q;return this}setAttributes(A){for(let[Q,B]of Object.entries(A))this.setAttribute(Q,B);return this}setBody(A){return this.body=A,this}setEventName(A){return this.eventName=A,this}setSeverityNumber(A){return this.severityNumber=A,this}setSeverityText(A){return this.severityText=A,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(A){let Q=this._logRecordLimits.attributeValueLengthLimit;if(Q<=0)return hr.diag.warn(`Attribute value limit must be positive, got ${Q}`),A;if(typeof A==="string")return this._truncateToLimitUtil(A,Q);if(Array.isArray(A))return A.map((B)=>typeof B==="string"?this._truncateToLimitUtil(B,Q):B);return A}_truncateToLimitUtil(A,Q){if(A.length<=Q)return A;return A.substring(0,Q)}_isLogRecordReadonly(){if(this._isReadonly)hr.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}jyQ.LogRecordImpl=TyQ});var kyQ=w((yyQ)=>{Object.defineProperty(yyQ,"__esModule",{value:!0});yyQ.Logger=void 0;var Bu6=O9(),Gu6=SyQ();class xyQ{instrumentationScope;_sharedState;constructor(A,Q){this.instrumentationScope=A,this._sharedState=Q}emit(A){let Q=A.context||Bu6.context.active(),B=new Gu6.LogRecordImpl(this._sharedState,this.instrumentationScope,{context:Q,...A});this._sharedState.activeProcessor.onEmit(B,Q),B._makeReadonly()}}yyQ.Logger=xyQ});var hyQ=w((fyQ)=>{Object.defineProperty(fyQ,"__esModule",{value:!0});fyQ.reconfigureLimits=fyQ.loadDefaultConfig=void 0;var A3A=Q8();function Zu6(){return{forceFlushTimeoutMillis:30000,logRecordLimits:{attributeValueLengthLimit:(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}fyQ.loadDefaultConfig=Zu6;function Yu6(A){return{attributeCountLimit:A.attributeCountLimit??(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,A3A.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:A.attributeValueLengthLimit??(0,A3A.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,A3A.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}fyQ.reconfigureLimits=Yu6});var fT1=w((uyQ)=>{Object.defineProperty(uyQ,"__esModule",{value:!0});uyQ.NoopLogRecordProcessor=void 0;class gyQ{forceFlush(){return Promise.resolve()}onEmit(A,Q){}shutdown(){return Promise.resolve()}}uyQ.NoopLogRecordProcessor=gyQ});var lyQ=w((cyQ)=>{Object.defineProperty(cyQ,"__esModule",{value:!0});cyQ.MultiLogRecordProcessor=void 0;var Iu6=Q8();class dyQ{processors;forceFlushTimeoutMillis;constructor(A,Q){this.processors=A,this.forceFlushTimeoutMillis=Q}async forceFlush(){let A=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((Q)=>(0,Iu6.callWithTimeout)(Q.forceFlush(),A)))}onEmit(A,Q){this.processors.forEach((B)=>B.onEmit(A,Q))}async shutdown(){await Promise.all(this.processors.map((A)=>A.shutdown()))}}cyQ.MultiLogRecordProcessor=dyQ});var oyQ=w((nyQ)=>{Object.defineProperty(nyQ,"__esModule",{value:!0});nyQ.LoggerProviderSharedState=void 0;var Xu6=fT1(),Wu6=lyQ();class iyQ{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(A,Q,B,G){if(this.resource=A,this.forceFlushTimeoutMillis=Q,this.logRecordLimits=B,this.processors=G,G.length>0)this.registeredLogRecordProcessors=G,this.activeProcessor=new Wu6.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new Xu6.NoopLogRecordProcessor}}nyQ.LoggerProviderSharedState=iyQ});var BvQ=w((eyQ)=>{Object.defineProperty(eyQ,"__esModule",{value:!0});eyQ.LoggerProvider=eyQ.DEFAULT_LOGGER_NAME=void 0;var _uA=O9(),Ku6=JT1(),Vu6=e6A(),ryQ=Q8(),Eu6=kyQ(),syQ=hyQ(),Du6=oyQ();eyQ.DEFAULT_LOGGER_NAME="unknown";class tyQ{_shutdownOnce;_sharedState;constructor(A={}){let Q=(0,ryQ.merge)({},(0,syQ.loadDefaultConfig)(),A),B=A.resource??(0,Vu6.defaultResource)();this._sharedState=new Du6.LoggerProviderSharedState(B,Q.forceFlushTimeoutMillis,(0,syQ.reconfigureLimits)(Q.logRecordLimits),A?.processors??[]),this._shutdownOnce=new ryQ.BindOnceFuture(this._shutdown,this)}getLogger(A,Q,B){if(this._shutdownOnce.isCalled)return _uA.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),Ku6.NOOP_LOGGER;if(!A)_uA.diag.warn("Logger requested without instrumentation scope name.");let G=A||eyQ.DEFAULT_LOGGER_NAME,Z=`${G}@${Q||""}:${B?.schemaUrl||""}`;if(!this._sharedState.loggers.has(Z))this._sharedState.loggers.set(Z,new Eu6.Logger({name:G,version:Q,schemaUrl:B?.schemaUrl},this._sharedState));return this._sharedState.loggers.get(Z)}forceFlush(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return _uA.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}eyQ.LoggerProvider=tyQ});var IvQ=w((YvQ)=>{Object.defineProperty(YvQ,"__esModule",{value:!0});YvQ.ConsoleLogRecordExporter=void 0;var GvQ=Q8();class ZvQ{export(A,Q){this._sendLogRecords(A,Q)}shutdown(){return Promise.resolve()}_exportInfo(A){return{resource:{attributes:A.resource.attributes},instrumentationScope:A.instrumentationScope,timestamp:(0,GvQ.hrTimeToMicroseconds)(A.hrTime),traceId:A.spanContext?.traceId,spanId:A.spanContext?.spanId,traceFlags:A.spanContext?.traceFlags,severityText:A.severityText,severityNumber:A.severityNumber,body:A.body,attributes:A.attributes}}_sendLogRecords(A,Q){for(let B of A)console.dir(this._exportInfo(B),{depth:3});Q?.({code:GvQ.ExportResultCode.SUCCESS})}}YvQ.ConsoleLogRecordExporter=ZvQ});var VvQ=w((WvQ)=>{Object.defineProperty(WvQ,"__esModule",{value:!0});WvQ.SimpleLogRecordProcessor=void 0;var Q3A=Q8();class XvQ{_exporter;_shutdownOnce;_unresolvedExports;constructor(A){this._exporter=A,this._shutdownOnce=new Q3A.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(A){if(this._shutdownOnce.isCalled)return;let Q=()=>Q3A.internal._export(this._exporter,[A]).then((B)=>{if(B.code!==Q3A.ExportResultCode.SUCCESS)(0,Q3A.globalErrorHandler)(B.error??Error(`SimpleLogRecordProcessor: log record export failed (status ${B})`))}).catch(Q3A.globalErrorHandler);if(A.resource.asyncAttributesPending){let B=A.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(B),Q()},Q3A.globalErrorHandler);if(B!=null)this._unresolvedExports.add(B)}else Q()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}WvQ.SimpleLogRecordProcessor=XvQ});var CvQ=w((HvQ)=>{Object.defineProperty(HvQ,"__esModule",{value:!0});HvQ.InMemoryLogRecordExporter=void 0;var EvQ=Q8();class DvQ{_finishedLogRecords=[];_stopped=!1;export(A,Q){if(this._stopped)return Q({code:EvQ.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...A),Q({code:EvQ.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}HvQ.InMemoryLogRecordExporter=DvQ});var wvQ=w((UvQ)=>{Object.defineProperty(UvQ,"__esModule",{value:!0});UvQ.BatchLogRecordProcessorBase=void 0;var Hu6=O9(),c$=Q8();class zvQ{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(A,Q){if(this._exporter=A,this._maxExportBatchSize=Q?.maxExportBatchSize??(0,c$.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=Q?.maxQueueSize??(0,c$.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=Q?.scheduledDelayMillis??(0,c$.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=Q?.exportTimeoutMillis??(0,c$.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new c$.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)Hu6.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(A){if(this._shutdownOnce.isCalled)return;this._addToBuffer(A)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(A){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(A),this._maybeStartTimer()}_flushAll(){return new Promise((A,Q)=>{let B=[],G=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let Z=0;Z<G;Z++)B.push(this._flushOneBatch());Promise.all(B).then(()=>{A()}).catch(Q)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise((A,Q)=>{(0,c$.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>A()).catch(Q)})}_maybeStartTimer(){if(this._timer!==void 0)return;this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{if(this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((A)=>{(0,c$.globalErrorHandler)(A)})},this._scheduledDelayMillis),(0,c$.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(A){let Q=()=>c$.internal._export(this._exporter,A).then((G)=>{if(G.code!==c$.ExportResultCode.SUCCESS)(0,c$.globalErrorHandler)(G.error??Error(`BatchLogRecordProcessor: log record export failed (status ${G})`))}).catch(c$.globalErrorHandler),B=A.map((G)=>G.resource).filter((G)=>G.asyncAttributesPending);if(B.length===0)return Q();else return Promise.all(B.map((G)=>G.waitForAsyncAttributes?.())).then(Q,c$.globalErrorHandler)}}UvQ.BatchLogRecordProcessorBase=zvQ});var MvQ=w((qvQ)=>{Object.defineProperty(qvQ,"__esModule",{value:!0});qvQ.BatchLogRecordProcessor=void 0;var Fu6=wvQ();class NvQ extends Fu6.BatchLogRecordProcessorBase{onShutdown(){}}qvQ.BatchLogRecordProcessor=NvQ});var OvQ=w((bT1)=>{Object.defineProperty(bT1,"__esModule",{value:!0});bT1.BatchLogRecordProcessor=void 0;var Cu6=MvQ();Object.defineProperty(bT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Cu6.BatchLogRecordProcessor}})});var RvQ=w((hT1)=>{Object.defineProperty(hT1,"__esModule",{value:!0});hT1.BatchLogRecordProcessor=void 0;var Uu6=OvQ();Object.defineProperty(hT1,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Uu6.BatchLogRecordProcessor}})});var gT1=w((Cd)=>{Object.defineProperty(Cd,"__esModule",{value:!0});Cd.BatchLogRecordProcessor=Cd.InMemoryLogRecordExporter=Cd.SimpleLogRecordProcessor=Cd.ConsoleLogRecordExporter=Cd.NoopLogRecordProcessor=Cd.LoggerProvider=void 0;var wu6=BvQ();Object.defineProperty(Cd,"LoggerProvider",{enumerable:!0,get:function(){return wu6.LoggerProvider}});var Nu6=fT1();Object.defineProperty(Cd,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return Nu6.NoopLogRecordProcessor}});var qu6=IvQ();Object.defineProperty(Cd,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return qu6.ConsoleLogRecordExporter}});var Lu6=VvQ();Object.defineProperty(Cd,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return Lu6.SimpleLogRecordProcessor}});var Mu6=CvQ();Object.defineProperty(Cd,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return Mu6.InMemoryLogRecordExporter}});var Ou6=RvQ();Object.defineProperty(Cd,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Ou6.BatchLogRecordProcessor}})});function zd(){let A=process.env.CLAUDE_AGENT_SDK_VERSION?`, agent-sdk/${process.env.CLAUDE_AGENT_SDK_VERSION}`:"";return`claude-cli/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} (external, ${process.env.CLAUDE_CODE_ENTRYPOINT}${A})`}function gr(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}`}function iI(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION}`}function GY(){if(RB()){let Q=t6();if(!Q?.accessToken)return{headers:{},error:"No OAuth token available"};return{headers:{Authorization:`Bearer ${Q.accessToken}`,"anthropic-beta":tu}}}let A=w$();if(!A)return{headers:{},error:"No API key available"};return{headers:{"x-api-key":A}}}var lD=L(()=>{F2();eJ()});function TuA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").ParentProcessId"`:`ps -o ppid= -p ${Q}`,G=dG(B,{timeout:1000});return G?G.trim():null}catch{return null}}function juA(A){try{let Q=String(A),B=process.platform==="win32"?`powershell.exe -NoProfile -Command "(Get-CimInstance Win32_Process -Filter \\"ProcessId=${Q}\\").CommandLine"`:`ps -o command= -p ${Q}`,G=dG(B,{timeout:1000});return G?G.trim():null}catch{return null}}var PuA=L(()=>{I6()});function xu6(){if(process.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"){if(JQ.platform!=="darwin")return Su6()||"pycharm"}return JQ.terminal}var _u6,Tu6=()=>{return process.platform==="linux"&&process.env.CLAUDE_CODE_BUBBLEWRAP==="1"},ju6,Pu6,Su6,Rz;var ur=L(()=>{I6();PuA();o2();XQ();Y0();$8();_u6=Z0(async()=>{let{code:A}=await CQ("test",["-f","/.dockerenv"]);if(A!==0)return!1;return process.platform==="linux"}),ju6=Z0(()=>{if(process.platform!=="linux")return!1;let A=jA();try{if(A.existsSync("/lib/libc.musl-x86_64.so.1")||A.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let Q=dG("ldd /bin/ls 2>/dev/null");return Q!==null&&Q.includes("musl")}catch{return f("musl detection failed, assuming glibc"),!1}}),Pu6=["pycharm","intellij","webstorm","phpstorm","rubymine","clion","goland","rider","datagrip","appcode","dataspell","aqua","gateway","fleet","jetbrains","androidstudio"],Su6=Z0(()=>{if(process.platform==="darwin")return null;try{let Q=process.pid.toString();for(let B=0;B<10;B++){let G=juA(Q);if(G){let Y=G.toLowerCase();for(let J of Pu6)if(Y.includes(J))return J}let Z=TuA(Q);if(!Z||Z==="0"||Z===Q)break;Q=Z}}catch{}return null});Rz={...JQ,terminal:xu6(),getIsDocker:_u6,getIsBubblewrapSandbox:Tu6,isMuslEnvironment:ju6}});function Q5(A,Q,B=!1){let G=A;if(B){let Z=A.indexOf(`
201:`);mT1()};return process.on("exit",A),()=>{process.off("exit",A)}},[])}function vu6(A,Q){return Math.round(A*Q)/Q}function xuA(A,Q,B){YK0(A,Q,B),CK0()?.add(A,{model:B}),HWA()?.add(Q.input_tokens,{type:"input",model:B}),HWA()?.add(Q.output_tokens,{type:"output",model:B}),HWA()?.add(Q.cache_read_input_tokens??0,{type:"cacheRead",model:B}),HWA()?.add(Q.cache_creation_input_tokens??0,{type:"cacheCreation",model:B})}var TvQ;var tq=L(()=>{t2();l2();xQ();g0();g0();g0();TvQ=o(WA(),1)});function ku6(A,Q){return Q.input_tokens/1e6*A.inputTokens+Q.output_tokens/1e6*A.outputTokens+(Q.cache_read_input_tokens??0)/1e6*A.promptCacheReadTokens+(Q.cache_creation_input_tokens??0)/1e6*A.promptCacheWriteTokens+(Q.server_tool_use?.web_search_requests??0)*A.webSearchRequests}function fu6(A){return A.input_tokens+(A.cache_read_input_tokens??0)+(A.cache_creation_input_tokens??0)}function bu6(A,Q){let B=p$(A),G=PvQ[B];if(G===dr&&fu6(Q)>200000)return cT1;if(!G)return r("tengu_unknown_model_cost",{model:A,shortName:B}),fG1(),PvQ[p$(xvQ)];return G}function fuA(A,Q){let B=bu6(A,Q);return ku6(B,Q)}function SvQ(A){if(Number.isInteger(A))return`$${A}`;return`$${A.toFixed(2)}`}function Ud(A){return`${SvQ(A.inputTokens)}/${SvQ(A.outputTokens)} per Mtok`}var dr,vuA,kuA,cT1,pT1,lT1,PvQ;var buA=L(()=>{tq();T0();c6A();l2();dr={inputTokens:3,outputTokens:15,promptCacheWriteTokens:3.75,promptCacheReadTokens:0.3,webSearchRequests:0.01},vuA={inputTokens:15,outputTokens:75,promptCacheWriteTokens:18.75,promptCacheReadTokens:1.5,webSearchRequests:0.01},kuA={inputTokens:5,outputTokens:25,promptCacheWriteTokens:6.25,promptCacheReadTokens:0.5,webSearchRequests:0.01},cT1={inputTokens:6,outputTokens:22.5,promptCacheWriteTokens:7.5,promptCacheReadTokens:0.6,webSearchRequests:0.01},pT1={inputTokens:0.8,outputTokens:4,promptCacheWriteTokens:1,promptCacheReadTokens:0.08,webSearchRequests:0.01},lT1={inputTokens:1,outputTokens:5,promptCacheWriteTokens:1.25,promptCacheReadTokens:0.1,webSearchRequests:0.01},PvQ={[p$(QHA.firstParty)]:pT1,[p$(BHA.firstParty)]:lT1,[p$(AHA.firstParty)]:dr,[p$(eDA.firstParty)]:dr,[p$(wr.firstParty)]:dr,[p$(GHA.firstParty)]:vuA,[p$(ZHA.firstParty)]:vuA,[p$(Nr.firstParty)]:kuA,...{}}});async function gu6(){let A=q8()?.organizationUuid;if(!A)throw Error("No organization ID available");let Q=GY();if(Q.error)throw Error(`Auth error: ${Q.error}`);let B={"Content-Type":"application/json","User-Agent":iI(),...Q.headers};try{let G=`https://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await wQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return s(G),{hasAccess:!1,hasError:!0}}}async function mu6(){try{return await uu6()}catch(A){return f("Sonnet-1M access check failed, defaulting to no access"),{hasAccess:!1,hasError:!0}}}function $d(){let A=q8()?.organizationUuid;if(!A)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!1};let Q=d1(),B=(RB()?Q.s1mAccessCache:Q.s1mNonSubscriberAccessCache)?.[A],G=Date.now();if(!B)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!0};let{hasAccess:Z,hasAccessNotAsDefault:Y,timestamp:J}=B,I=G-J>du6;return{hasAccess:Z||(Y??!1),wasPartOfDefaultRollout:Z,needsRefresh:I}}async function yvQ(){let{needsRefresh:A}=$d();if(A)cu6()}async function cu6(){let A=q8()?.organizationUuid;if(!A)return;if(!RB()){let Q=await myA();if(!Q)return;let{uuid:B,rate_limit_tier:G}=Q.organization,Z={hasAccess:G==="auto_prepaid_tier_3"||G==="manual_tier_3",timestamp:Date.now()};i0((Y)=>({...Y,s1mNonSubscriberAccessCache:{...Y.s1mNonSubscriberAccessCache,[B]:Z}}));return}try{let{hasAccess:Q,hasAccessNotAsDefault:B}=await mu6(),G={hasAccess:Q,hasAccessNotAsDefault:B,timestamp:Date.now()};i0((Z)=>({...Z,s1mAccessCache:{...Z.s1mAccessCache,[A]:G}}))}catch(Q){f("Failed to fetch and cache Sonnet-1M access"),s(Q)}}var hu6=3600000,uu6,du6=3600000;var huA=L(()=>{b8();byA();lD();Y0();h1();xQ();F2();pKA();uu6=fyA(gu6,hu6)});function pu6(){}var wd;var iT1=L(()=>{wd=pu6});function lu6(A,Q,B,G){var Z=A.length,Y=B+(G?1:-1);while(G?Y--:++Y<Z)if(Q(A[Y],Y,A))return Y;return-1}var vvQ;var kvQ=L(()=>{vvQ=lu6});function iu6(A){return A!==A}var fvQ;var bvQ=L(()=>{fvQ=iu6});function nu6(A,Q,B){var G=B-1,Z=A.length;while(++G<Z)if(A[G]===Q)return G;return-1}var hvQ;var gvQ=L(()=>{hvQ=nu6});function au6(A,Q,B){return Q===Q?hvQ(A,Q,B):vvQ(A,fvQ,B)}var uvQ;var mvQ=L(()=>{kvQ();bvQ();gvQ();uvQ=au6});function ou6(A,Q){var B=A==null?0:A.length;return!!B&&uvQ(A,Q,0)>-1}var dvQ;var cvQ=L(()=>{mvQ();dvQ=ou6});function ru6(A){return V7(A)||$v(A)||!!(pvQ&&A&&A[pvQ])}var pvQ,lvQ;var ivQ=L(()=>{za();YWA();ZF();pvQ=SK?SK.isConcatSpreadable:void 0;lvQ=ru6});function nvQ(A,Q,B,G,Z){var Y=-1,J=A.length;B||(B=lvQ),Z||(Z=[]);while(++Y<J){var I=A[Y];if(Q>0&&B(I))if(Q>1)nvQ(I,Q-1,B,G,Z);else VBA(Z,I);else if(!G)Z[Z.length]=I}return Z}var avQ;var ovQ=L(()=>{fjA();ivQ();avQ=nvQ});function su6(A){var Q=A==null?0:A.length;return Q?avQ(A,1):[]}var rvQ;var svQ=L(()=>{ovQ();rvQ=su6});function tu6(A){return hPA(bPA(A,void 0,rvQ),A+"")}var tvQ;var evQ=L(()=>{svQ();JZ1();IZ1();tvQ=tu6});function eu6(A,Q,B){var G=-1,Z=A.length;if(Q<0)Q=-Q>Z?0:Z+Q;if(B=B>Z?Z:B,B<0)B+=Z;Z=Q>B?0:B-Q>>>0,Q>>>=0;var Y=Array(Z);while(++G<Z)Y[G]=A[G+Q];return Y}var guA;var nT1=L(()=>{guA=eu6});function Am6(A,Q,B){var G=A.length;return B=B===void 0?G:B,!Q&&B>=G?A:guA(A,Q,B)}var AkQ;var QkQ=L(()=>{nT1();AkQ=Am6});function Wm6(A){return Xm6.test(A)}var Qm6="\\ud800-\\udfff",Bm6="\\u0300-\\u036f",Gm6="\\ufe20-\\ufe2f",Zm6="\\u20d0-\\u20ff",Ym6,Jm6="\\ufe0e\\ufe0f",Im6="\\u200d",Xm6,uuA;var aT1=L(()=>{Ym6=Bm6+Gm6+Zm6,Xm6=RegExp("["+Im6+Qm6+Ym6+Jm6+"]");uuA=Wm6});function Km6(A){return A.split("")}var BkQ;var GkQ=L(()=>{BkQ=Km6});function Lm6(A){return A.match(qm6)||[]}var ZkQ="\\ud800-\\udfff",Vm6="\\u0300-\\u036f",Em6="\\ufe20-\\ufe2f",Dm6="\\u20d0-\\u20ff",Hm6,Fm6="\\ufe0e\\ufe0f",Cm6,oT1,rT1="\\ud83c[\\udffb-\\udfff]",zm6,YkQ,JkQ="(?:\\ud83c[\\udde6-\\uddff]){2}",IkQ="[\\ud800-\\udbff][\\udc00-\\udfff]",Um6="\\u200d",XkQ,WkQ,$m6,wm6,Nm6,qm6,KkQ;var VkQ=L(()=>{Hm6=Vm6+Em6+Dm6,Cm6="["+ZkQ+"]",oT1="["+Hm6+"]",zm6="(?:"+oT1+"|"+rT1+")",YkQ="[^"+ZkQ+"]",XkQ=zm6+"?",WkQ="["+Fm6+"]?",$m6="(?:"+Um6+"(?:"+[YkQ,JkQ,IkQ].join("|")+")"+WkQ+XkQ+")*",wm6=WkQ+XkQ+$m6,Nm6="(?:"+[YkQ+oT1+"?",oT1,JkQ,IkQ,Cm6].join("|")+")",qm6=RegExp(rT1+"(?="+rT1+")|"+Nm6+wm6,"g");KkQ=Lm6});function Mm6(A){return uuA(A)?KkQ(A):BkQ(A)}var EkQ;var DkQ=L(()=>{GkQ();aT1();VkQ();EkQ=Mm6});function Om6(A){return function(Q){Q=qBA(Q);var B=uuA(Q)?EkQ(Q):void 0,G=B?B[0]:Q.charAt(0),Z=B?AkQ(B,1).join(""):Q.slice(1);return G[A]()+Z}}var HkQ;var FkQ=L(()=>{QkQ();aT1();DkQ();XPA();HkQ=Om6});var Rm6,CkQ;var zkQ=L(()=>{FkQ();Rm6=HkQ("toUpperCase"),CkQ=Rm6});function _m6(A){return CkQ(qBA(A).toLowerCase())}var gHA;var sT1=L(()=>{XPA();zkQ();gHA=_m6});function Tm6(A,Q,B,G){var Z=-1,Y=A==null?0:A.length;while(++Z<Y){var J=A[Z];Q(G,J,B(J),A)}return G}var UkQ;var $kQ=L(()=>{UkQ=Tm6});function jm6(A,Q){return A&&TPA(A,Q,oN)}var muA;var tT1=L(()=>{AZ1();qa();muA=jm6});function Pm6(A,Q){return function(B,G){if(B==null)return B;if(!zj(B))return A(B,G);var Z=B.length,Y=Q?Z:-1,J=Object(B);while(Q?Y--:++Y<Z)if(G(J[Y],Y,J)===!1)break;return B}}var wkQ;var NkQ=L(()=>{zBA();wkQ=Pm6});var Sm6,duA;var eT1=L(()=>{tT1();NkQ();Sm6=wkQ(muA),duA=Sm6});function xm6(A,Q,B,G){return duA(A,function(Z,Y,J){Q(G,Z,B(Z),J)}),G}var qkQ;var LkQ=L(()=>{eT1();qkQ=xm6});function ym6(A,Q){return function(B,G){var Z=V7(B)?UkQ:qkQ,Y=Q?Q():{};return Z(B,A,$j(G,2),Y)}}var MkQ;var OkQ=L(()=>{$kQ();LkQ();RBA();ZF();MkQ=ym6});function vm6(A,Q,B){var G=-1,Z=A==null?0:A.length;while(++G<Z)if(B(Q,A[G]))return!0;return!1}var RkQ;var _kQ=L(()=>{RkQ=vm6});function km6(A){var Q=A==null?0:A.length;return Q?A[Q-1]:void 0}var zF;var G3A=L(()=>{zF=km6});function fm6(A,Q){var B=[];return duA(A,function(G,Z,Y){if(Q(G,Z,Y))B.push(G)}),B}var TkQ;var jkQ=L(()=>{eT1();TkQ=fm6});function bm6(A,Q){return NBA(Q,function(B){return A[B]})}var PkQ;var SkQ=L(()=>{IPA();PkQ=bm6});function hm6(A){return A==null?[]:PkQ(A,oN(A))}var xkQ;var ykQ=L(()=>{SkQ();qa();xkQ=hm6});function gm6(A,Q){return Q.length<2?A:MBA(A,guA(Q,0,-1))}var vkQ;var kkQ=L(()=>{WPA();nT1();vkQ=gm6});function um6(A,Q){return UBA(A,Q)}var Aj1;var fkQ=L(()=>{BPA();Aj1=um6});function mm6(A,Q){var B={};return Q=$j(Q,3),muA(A,function(G,Z,Y){zu(B,Z,Q(G,Z,Y))}),B}var cr;var cuA=L(()=>{UWA();tT1();RBA();cr=mm6});function cm6(A){if(typeof A!="function")throw TypeError(dm6);return function(){var Q=arguments;switch(Q.length){case 0:return!A.call(this);case 1:return!A.call(this,Q[0]);case 2:return!A.call(this,Q[0],Q[1]);case 3:return!A.call(this,Q[0],Q[1],Q[2])}return!A.apply(this,Q)}}var dm6="Expected a function",bkQ;var hkQ=L(()=>{bkQ=cm6});function pm6(A,Q){return Q=Uj(Q,A),A=vkQ(A,Q),A==null||delete A[rN(zF(Q))]}var gkQ;var ukQ=L(()=>{LBA();G3A();kkQ();Ma();gkQ=pm6});function lm6(A){return gBA(A)?void 0:A}var mkQ;var dkQ=L(()=>{fPA();mkQ=lm6});var im6=1,nm6=2,am6=4,om6,ckQ;var pkQ=L(()=>{IPA();VK1();ukQ();LBA();ja();dkQ();evQ();KK1();om6=tvQ(function(A,Q){var B={};if(A==null)return B;var G=!1;if(Q=NBA(Q,function(Y){return Y=Uj(Y,A),G||(G=Y.length>1),Y}),Aq(A,HyA(A),B),G)B=CyA(B,im6|nm6|am6,mkQ);var Z=Q.length;while(Z--)gkQ(B,Q[Z]);return B}),ckQ=om6});function rm6(A,Q,B,G){if(!FJ(A))return A;Q=Uj(Q,A);var Z=-1,Y=Q.length,J=Y-1,I=A;while(I!=null&&++Z<Y){var X=rN(Q[Z]),W=B;if(X==="__proto__"||X==="constructor"||X==="prototype")return A;if(Z!=J){var K=I[X];if(W=G?G(K,X,I):void 0,W===void 0)W=FJ(K)?K:Du(Q[Z+1])?[]:{}}Uu(I,X,W),I=I[X]}return A}var lkQ;var ikQ=L(()=>{qWA();LBA();IWA();aN();Ma();lkQ=rm6});var sm6,nkQ;var akQ=L(()=>{OkQ();sm6=MkQ(function(A,Q,B){A[B?0:1].push(Q)},function(){return[[],[]]}),nkQ=sm6});function Ad6(A,Q){return A+tm6(em6()*(Q-A+1))}var tm6,em6,okQ;var rkQ=L(()=>{tm6=Math.floor,em6=Math.random;okQ=Ad6});function Qd6(A,Q){var B=V7(A)?hjA:TkQ;return B(A,bkQ($j(Q,3)))}var Qj1;var skQ=L(()=>{LG1();jkQ();RBA();ZF();hkQ();Qj1=Qd6});function Bd6(A){var Q=A.length;return Q?A[okQ(0,Q-1)]:void 0}var puA;var Bj1=L(()=>{rkQ();puA=Bd6});function Gd6(A){return puA(xkQ(A))}var tkQ;var ekQ=L(()=>{Bj1();ykQ();tkQ=Gd6});function Zd6(A){var Q=V7(A)?puA:tkQ;return Q(A)}var pr;var luA=L(()=>{Bj1();ekQ();ZF();pr=Zd6});function Yd6(A,Q,B,G){return G=typeof G=="function"?G:void 0,A==null?A:lkQ(A,Q,B,G)}var AfQ;var QfQ=L(()=>{ikQ();AfQ=Yd6});var Jd6=1/0,Id6,BfQ;var GfQ=L(()=>{PG1();iT1();kjA();Id6=!(Hu&&1/KBA(new Hu([,-0]))[1]==Jd6)?wd:function(A){return new Hu(A)},BfQ=Id6});function Wd6(A,Q,B){var G=-1,Z=dvQ,Y=A.length,J=!0,I=[],X=I;if(B)J=!1,Z=RkQ;else if(Y>=Xd6){var W=Q?null:BfQ(A);if(W)return KBA(W);J=!1,Z=yjA,X=new xjA}else X=Q?[]:I;A:while(++G<Y){var K=A[G],V=Q?Q(K):K;if(K=B||K!==0?K:0,J&&V===V){var E=X.length;while(E--)if(X[E]===V)continue A;if(Q)X.push(V);I.push(K)}else if(!Z(X,V,B)){if(X!==I)X.push(V);I.push(K)}}return I}var Xd6=200,ZfQ;var YfQ=L(()=>{zG1();cvQ();_kQ();UG1();GfQ();kjA();ZfQ=Wd6});function Kd6(A,Q){return A&&A.length?ZfQ(A,$j(Q,2)):[]}var Z3A;var iuA=L(()=>{RBA();YfQ();Z3A=Kd6});function Vd6(A,Q,B){var G=-1,Z=A.length,Y=Q.length,J={};while(++G<Z){var I=G<Y?Q[G]:void 0;B(J,A[G],I)}return J}var JfQ;var IfQ=L(()=>{JfQ=Vd6});function Ed6(A,Q){return JfQ(A||[],Q||[],Uu)}var XfQ;var WfQ=L(()=>{qWA();IfQ();XfQ=Ed6});var Y3A=L(()=>{zyA();o2()});function EfQ(){return VfQ}function Gj1(A){let Q=2166136261,B=A.length;for(let G=0;G<B;G++)Q^=A.charCodeAt(G),Q+=(Q<<1)+(Q<<4)+(Q<<7)+(Q<<8)+(Q<<24);return Q>>>0}function uHA(A,Q,B){if(B===2)return Gj1(Gj1(A+Q)+"")%1e4/1e4;if(B===1)return Gj1(Q+A)%1000/1000;return null}function Dd6(A){if(A<=0)return[];return Array(A).fill(1/A)}function nuA(A,Q){return A>=Q[0]&&A<Q[1]}function DfQ(A,Q){let B=uHA("__"+Q[0],A,1);if(B===null)return!1;return B>=Q[1]&&B<Q[2]}function HfQ(A,Q){for(let B=0;B<Q.length;B++)if(nuA(A,Q[B]))return B;return-1}function Yj1(A){try{let Q=A.replace(/([^\\])\//g,"$1\\/");return new RegExp(Q)}catch(Q){console.error(Q);return}}function auA(A,Q){if(!Q.length)return!1;let B=!1,G=!1;for(let Z=0;Z<Q.length;Z++){let Y=Cd6(A,Q[Z].type,Q[Z].pattern);if(Q[Z].include===!1){if(Y)return!1}else if(B=!0,Y)G=!0}return G||!B}function Hd6(A,Q,B){try{let G=Q.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");if(B)G="\\/?"+G.replace(/(^\/|\/$)/g,"")+"\\/?";return new RegExp("^"+G+"$","i").test(A)}catch(G){return!1}}function Fd6(A,Q){try{let B=new URL(Q.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),G=[[A.host,B.host,!1],[A.pathname,B.pathname,!0]];if(B.hash)G.push([A.hash,B.hash,!1]);return B.searchParams.forEach((Z,Y)=>{G.push([A.searchParams.get(Y)||"",Z,!1])}),!G.some((Z)=>!Hd6(Z[0],Z[1],Z[2]))}catch(B){return!1}}function Cd6(A,Q,B){try{let G=new URL(A,"https://_");if(Q==="regex"){let Z=Yj1(B);if(!Z)return!1;return Z.test(G.href)||Z.test(G.href.substring(G.origin.length))}else if(Q==="simple")return Fd6(G,B);return!1}catch(G){return!1}}function FfQ(A,Q,B){if(Q=Q===void 0?1:Q,Q<0)Q=0;else if(Q>1)Q=1;let G=Dd6(A);if(B=B||G,B.length!==A)B=G;let Z=B.reduce((J,I)=>I+J,0);if(Z<0.99||Z>1.01)B=G;let Y=0;return B.map((J)=>{let I=Y;return Y+=J,[I,I+Q*J]})}function CfQ(A,Q,B){if(!Q)return null;let G=Q.split("?")[1];if(!G)return null;let Z=G.replace(/#.*/,"").split("&").map((Y)=>Y.split("=",2)).filter((Y)=>{let[J]=Y;return J===A}).map((Y)=>{let[,J]=Y;return parseInt(J)});if(Z.length>0&&Z[0]>=0&&Z[0]<B)return Z[0];return null}function zfQ(A){try{return A()}catch(Q){return console.error(Q),!1}}async function lr(A,Q,B){if(Q=Q||"",B=B||globalThis.crypto&&globalThis.crypto.subtle||VfQ.SubtleCrypto,!B)throw Error("No SubtleCrypto implementation found");try{let G=await B.importKey("raw",Zj1(Q),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[Z,Y]=A.split("."),J=await B.decrypt({name:"AES-CBC",iv:Zj1(Z)},G,Zj1(Y));return new TextDecoder().decode(J)}catch(G){throw Error("Failed to decrypt")}}function mHA(A){if(typeof A==="string")return A;return JSON.stringify(A)}function l$(A){if(typeof A==="number")A=A+"";if(!A||typeof A!=="string")A="0";let Q=A.replace(/(^v|\+.*$)/g,"").split(/[-.]/);if(Q.length===3)Q.push("~");return Q.map((B)=>B.match(/^[0-9]+$/)?B.padStart(5," "):B).join("-")}function UfQ(){let A;try{A="1.6.1"}catch(Q){A=""}return A}function $fQ(A,Q){let B,G;try{B=new URL(A),G=new URL(Q)}catch(Z){return console.error(`Unable to merge query strings: ${Z}`),Q}return B.searchParams.forEach((Z,Y)=>{if(G.searchParams.has(Y))return;G.searchParams.set(Y,Z)}),G.toString()}function KfQ(A){return typeof A==="object"&&A!==null}function ouA(A){if(A.urlPatterns&&A.variations.some((Q)=>KfQ(Q)&&("urlRedirect"in Q)))return"redirect";else if(A.variations.some((Q)=>KfQ(Q)&&(Q.domMutations||("js"in Q)||("css"in Q))))return"visual";return"unknown"}async function ruA(A,Q){return new Promise((B)=>{let G=!1,Z,Y=(J)=>{if(G)return;G=!0,Z&&clearTimeout(Z),B(J||null)};if(Q)Z=setTimeout(()=>Y(),Q);A.then((J)=>Y(J)).catch(()=>Y())})}var VfQ,Zj1=(A)=>Uint8Array.from(atob(A),(Q)=>Q.charCodeAt(0));var dHA=L(()=>{VfQ={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource}});function qfQ(A){if(Object.assign(iD,A),!iD.backgroundSync)Md6()}async function LfQ(A){let{instance:Q,timeout:B,skipCache:G,allowStale:Z,backgroundSync:Y}=A;if(!Y)iD.backgroundSync=!1;return wd6({instance:Q,allowStale:Z,timeout:B,skipCache:G})}function zd6(A){let Q=cHA(A),B=I3A.get(Q)||new Set;B.add(A),I3A.set(Q,B)}function MfQ(A){I3A.forEach((Q)=>Q.delete(A))}function Ud6(){X3A.forEach((A)=>{if(!A)return;A.state="idle",Wj1(A)})}function $d6(){X3A.forEach((A)=>{if(!A)return;if(A.state!=="idle")return;Kj1(A)})}async function NfQ(){try{if(!hP.localStorage)return;await hP.localStorage.setItem(iD.cacheKey,JSON.stringify(Array.from(jk.entries())))}catch(A){}}async function wd6(A){let{instance:Q,allowStale:B,timeout:G,skipCache:Z}=A,Y=cHA(Q),J=Ij1(Q),I=new Date,X=new Date(I.getTime()-iD.maxAge+iD.staleTTL);await Nd6();let W=!iD.disableCache&&!Z?jk.get(J):void 0;if(W&&(B||W.staleAt>I)&&W.staleAt>X){if(W.sse)W3A.add(Y);if(W.staleAt<I)Jj1(Q);else Xj1(Q);return{data:W.data,success:!0,source:"cache"}}else return await ruA(Jj1(Q),G)||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}function cHA(A){let[Q,B]=A.getApiInfo();return`${Q}||${B}`}function Ij1(A){let Q=cHA(A);if(!("isRemoteEval"in A)||!A.isRemoteEval())return Q;let B=A.getAttributes(),G=A.getCacheKeyAttributes()||Object.keys(A.getAttributes()),Z={};G.forEach((I)=>{Z[I]=B[I]});let Y=A.getForcedVariations(),J=A.getUrl();return`${Q}||${JSON.stringify({ca:Z,fv:Y,url:J})}`}async function Nd6(){if(wfQ)return;wfQ=!0;try{if(hP.localStorage){let A=await hP.localStorage.getItem(iD.cacheKey);if(!iD.disableCache&&A){let Q=JSON.parse(A);if(Q&&Array.isArray(Q))Q.forEach((B)=>{let[G,Z]=B;jk.set(G,{...Z,staleAt:new Date(Z.staleAt)})});OfQ()}}}catch(A){}if(!iD.disableIdleStreams){let A=J3A.startIdleListener();if(A)J3A.stopIdleListener=A}}function OfQ(){let A=Array.from(jk.entries()).map((B)=>{let[G,Z]=B;return{key:G,staleAt:Z.staleAt.getTime()}}).sort((B,G)=>B.staleAt-G.staleAt),Q=Math.min(Math.max(0,jk.size-iD.maxEntries),jk.size);for(let B=0;B<Q;B++)jk.delete(A[B].key)}function RfQ(A,Q,B){let G=B.dateUpdated||"",Z=new Date(Date.now()+iD.staleTTL),Y=!iD.disableCache?jk.get(Q):void 0;if(Y&&G&&Y.version===G){Y.staleAt=Z,NfQ();return}if(!iD.disableCache)jk.set(Q,{data:B,version:G,staleAt:Z,sse:W3A.has(A)}),OfQ();NfQ();let J=I3A.get(A);J&&J.forEach((I)=>qd6(I,B))}async function qd6(A,Q){await A.setPayload(Q||A.getPayload())}async function Jj1(A){let{apiHost:Q,apiRequestHeaders:B}=A.getApiHosts(),G=A.getClientKey(),Z="isRemoteEval"in A&&A.isRemoteEval(),Y=cHA(A),J=Ij1(A),I=suA.get(J);if(!I)I=(Z?J3A.fetchRemoteEvalCall({host:Q,clientKey:G,payload:{attributes:A.getAttributes(),forcedVariations:A.getForcedVariations(),forcedFeatures:Array.from(A.getForcedFeatures().entries()),url:A.getUrl()},headers:B}):J3A.fetchFeaturesCall({host:Q,clientKey:G,headers:B})).then((W)=>{if(!W.ok)throw Error(`HTTP error: ${W.status}`);if(W.headers.get("x-sse-support")==="enabled")W3A.add(Y);return W.json()}).then((W)=>{return RfQ(Y,J,W),Xj1(A),suA.delete(J),{data:W,success:!0,source:"network"}}).catch((W)=>{return suA.delete(J),{data:null,source:"error",success:!1,error:W}}),suA.set(J,I);return I}function Xj1(A){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=cHA(A),G=Ij1(A),{streamingHost:Z,streamingHostRequestHeaders:Y}=A.getApiHosts(),J=A.getClientKey();if(Q)W3A.add(B);if(iD.backgroundSync&&W3A.has(B)&&hP.EventSource){if(X3A.has(B))return;let I={src:null,host:Z,clientKey:J,headers:Y,cb:(X)=>{try{if(X.type==="features-updated"){let W=I3A.get(B);W&&W.forEach((K)=>{Jj1(K)})}else if(X.type==="features"){let W=JSON.parse(X.data);RfQ(B,G,W)}I.errors=0}catch(W){_fQ(I)}},errors:0,state:"active"};X3A.set(B,I),Kj1(I)}}function _fQ(A){if(A.state==="idle")return;if(A.errors++,A.errors>3||A.src&&A.src.readyState===2){let Q=Math.pow(3,A.errors-3)*(1000+Math.random()*1000);Wj1(A),setTimeout(()=>{if(["idle","active"].includes(A.state))return;Kj1(A)},Math.min(Q,300000))}}function Wj1(A){if(!A.src)return;if(A.src.onopen=null,A.src.onerror=null,A.src.close(),A.src=null,A.state==="active")A.state="disabled"}function Kj1(A){A.src=J3A.eventSourceCall({host:A.host,clientKey:A.clientKey,headers:A.headers}),A.state="active",A.src.addEventListener("features",A.cb),A.src.addEventListener("features-updated",A.cb),A.src.onerror=()=>_fQ(A),A.src.onopen=()=>{A.errors=0}}function Ld6(A,Q){Wj1(A),X3A.delete(Q)}function Md6(){W3A.clear(),X3A.forEach(Ld6),I3A.clear(),J3A.stopIdleListener()}function tuA(A,Q){if(Q.streaming){if(!A.getClientKey())throw Error("Must specify clientKey to enable streaming");if(Q.payload)Xj1(A,!0);zd6(A)}}var iD,hP,J3A,I3A,wfQ=!1,jk,suA,X3A,W3A;var TfQ=L(()=>{dHA();iD={staleTTL:60000,maxAge:14400000,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:20000,disableCache:!1},hP=EfQ(),J3A={fetchFeaturesCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;return hP.fetch(`${Q}/api/features/${B}`,{headers:G})},fetchRemoteEvalCall:(A)=>{let{host:Q,clientKey:B,payload:G,headers:Z}=A,Y={method:"POST",headers:{"Content-Type":"application/json",...Z},body:JSON.stringify(G)};return hP.fetch(`${Q}/api/eval/${B}`,Y)},eventSourceCall:(A)=>{let{host:Q,clientKey:B,headers:G}=A;if(G)return new hP.EventSource(`${Q}/sub/${B}`,{headers:G});return new hP.EventSource(`${Q}/sub/${B}`)},startIdleListener:()=>{let A;if(!(typeof window<"u"&&typeof document<"u"))return;let B=()=>{if(document.visibilityState==="visible")window.clearTimeout(A),$d6();else if(document.visibilityState==="hidden")A=window.setTimeout(Ud6,iD.idleStreamInterval)};return document.addEventListener("visibilitychange",B),()=>document.removeEventListener("visibilitychange",B)},stopIdleListener:()=>{}};try{if(globalThis.localStorage)hP.localStorage=globalThis.localStorage}catch(A){}I3A=new Map,jk=new Map,suA=new Map,X3A=new Map,W3A=new Set});var ufQ=w((gfQ)=>{Object.defineProperty(gfQ,"__esModule",{value:!0});var xfQ=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,Dj1={revert:function(){}},BmA=new Map,Ej1=new Set;function GmA(A){var Q=BmA.get(A);return Q||BmA.set(A,Q={element:A,attributes:{}}),Q}function ZmA(A,Q,B,G,Z){var Y=B(A),J={isDirty:!1,originalValue:Y,virtualValue:Y,mutations:[],el:A,_positionTimeout:null,observer:new MutationObserver(function(){if(Q!=="position"||!J._positionTimeout){Q==="position"&&(J._positionTimeout=setTimeout(function(){J._positionTimeout=null},1000));var I=B(A);Q==="position"&&I.parentNode===J.virtualValue.parentNode&&I.insertBeforeNode===J.virtualValue.insertBeforeNode||I!==J.virtualValue&&(J.originalValue=I,Z(J))}}),mutationRunner:Z,setValue:G,getCurrentValue:B};return Q==="position"&&A.parentNode?J.observer.observe(A.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):J.observer.observe(A,function(I){return I==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[I]}}(Q)),J}function YmA(A,Q){var B=Q.getCurrentValue(Q.el);Q.virtualValue=A,A&&typeof A!="string"?B&&A.parentNode===B.parentNode&&A.insertBeforeNode===B.insertBeforeNode||(Q.isDirty=!0,jfQ()):A!==B&&(Q.isDirty=!0,jfQ())}function Od6(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(function(B){return euA||(euA=document.createElement("div")),euA.innerHTML=B,euA.innerHTML}(Q),A)}function Rd6(A){var Q=new Set(A.originalValue.split(/\s+/).filter(Boolean));A.mutations.forEach(function(B){return B.mutate(Q)}),YmA(Array.from(Q).filter(Boolean).join(" "),A)}function _d6(A){var Q=A.originalValue;A.mutations.forEach(function(B){return Q=B.mutate(Q)}),YmA(Q,A)}function Td6(A){var Q=A.originalValue;A.mutations.forEach(function(B){var G=function(Z){var Y=Z.insertBeforeSelector,J=document.querySelector(Z.parentSelector);if(!J)return null;var I=Y?document.querySelector(Y):null;return Y&&!I?null:{parentNode:J,insertBeforeNode:I}}(B.mutate());Q=G||Q}),YmA(Q,A)}var jd6=function(A){return A.innerHTML},Pd6=function(A,Q){return A.innerHTML=Q};function yfQ(A){var Q=GmA(A);return Q.html||(Q.html=ZmA(A,"html",jd6,Pd6,Od6)),Q.html}var Sd6=function(A){return{parentNode:A.parentElement,insertBeforeNode:A.nextElementSibling}},xd6=function(A,Q){Q.insertBeforeNode&&!Q.parentNode.contains(Q.insertBeforeNode)||Q.parentNode.insertBefore(A,Q.insertBeforeNode)};function vfQ(A){var Q=GmA(A);return Q.position||(Q.position=ZmA(A,"position",Sd6,xd6,Td6)),Q.position}var euA,lHA,yd6=function(A,Q){return Q?A.className=Q:A.removeAttribute("class")},vd6=function(A){return A.className};function kfQ(A){var Q=GmA(A);return Q.classes||(Q.classes=ZmA(A,"class",vd6,yd6,Rd6)),Q.classes}function ffQ(A,Q){var B,G=GmA(A);return G.attributes[Q]||(G.attributes[Q]=ZmA(A,Q,(B=Q,function(Z){var Y;return(Y=Z.getAttribute(B))!=null?Y:null}),function(Z){return function(Y,J){return J!==null?Y.setAttribute(Z,J):Y.removeAttribute(Z)}}(Q),_d6)),G.attributes[Q]}function AmA(A,Q,B){if(B.isDirty){B.isDirty=!1;var G=B.virtualValue;B.mutations.length||function(Z,Y){var J,I,X=BmA.get(Z);if(X)if(Y==="html")(J=X.html)==null||(I=J.observer)==null||I.disconnect(),delete X.html;else if(Y==="class"){var W,K;(W=X.classes)==null||(K=W.observer)==null||K.disconnect(),delete X.classes}else if(Y==="position"){var V,E;(V=X.position)==null||(E=V.observer)==null||E.disconnect(),delete X.position}else{var D,H,F;(D=X.attributes)==null||(H=D[Y])==null||(F=H.observer)==null||F.disconnect(),delete X.attributes[Y]}}(A,Q),B.setValue(A,G)}}function kd6(A,Q){A.html&&AmA(Q,"html",A.html),A.classes&&AmA(Q,"class",A.classes),A.position&&AmA(Q,"position",A.position),Object.keys(A.attributes).forEach(function(B){AmA(Q,B,A.attributes[B])})}function jfQ(){BmA.forEach(kd6)}function bfQ(A){if(A.kind!=="position"||A.elements.size!==1){var Q=new Set(A.elements);document.querySelectorAll(A.selector).forEach(function(B){Q.has(B)||(A.elements.add(B),function(G,Z){var Y=null;G.kind==="html"?Y=yfQ(Z):G.kind==="class"?Y=kfQ(Z):G.kind==="attribute"?Y=ffQ(Z,G.attribute):G.kind==="position"&&(Y=vfQ(Z)),Y&&(Y.mutations.push(G),Y.mutationRunner(Y))}(A,B))})}}function PfQ(){Ej1.forEach(bfQ)}function hfQ(){typeof document<"u"&&(lHA||(lHA=new MutationObserver(function(){PfQ()})),PfQ(),lHA.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}function JmA(A){return typeof document>"u"?Dj1:(Ej1.add(A),bfQ(A),{revert:function(){var Q;(Q=A).elements.forEach(function(B){return function(G,Z){var Y=null;if(G.kind==="html"?Y=yfQ(Z):G.kind==="class"?Y=kfQ(Z):G.kind==="attribute"?Y=ffQ(Z,G.attribute):G.kind==="position"&&(Y=vfQ(Z)),Y){var J=Y.mutations.indexOf(G);J!==-1&&Y.mutations.splice(J,1),Y.mutationRunner(Y)}}(Q,B)}),Q.elements.clear(),Ej1.delete(Q)}})}function Vj1(A,Q){return JmA({kind:"html",elements:new Set,mutate:Q,selector:A})}function SfQ(A,Q){return JmA({kind:"position",elements:new Set,mutate:Q,selector:A})}function pHA(A,Q){return JmA({kind:"class",elements:new Set,mutate:Q,selector:A})}function QmA(A,Q,B){return xfQ.test(Q)?Q==="class"||Q==="className"?pHA(A,function(G){var Z=B(Array.from(G).join(" "));G.clear(),Z&&Z.split(/\s+/g).filter(Boolean).forEach(function(Y){return G.add(Y)})}):JmA({kind:"attribute",attribute:Q,elements:new Set,mutate:B,selector:A}):Dj1}hfQ();var fd6={html:Vj1,classes:pHA,attribute:QmA,position:SfQ,declarative:function(A){var{selector:Q,action:B,value:G,attribute:Z,parentSelector:Y,insertBeforeSelector:J}=A;if(Z==="html"){if(B==="append")return Vj1(Q,function(I){return I+(G!=null?G:"")});if(B==="set")return Vj1(Q,function(){return G!=null?G:""})}else if(Z==="class"){if(B==="append")return pHA(Q,function(I){G&&I.add(G)});if(B==="remove")return pHA(Q,function(I){G&&I.delete(G)});if(B==="set")return pHA(Q,function(I){I.clear(),G&&I.add(G)})}else if(Z==="position"){if(B==="set"&&Y)return SfQ(Q,function(){return{insertBeforeSelector:J,parentSelector:Y}})}else{if(B==="append")return QmA(Q,Z,function(I){return I!==null?I+(G!=null?G:""):G!=null?G:""});if(B==="set")return QmA(Q,Z,function(){return G!=null?G:""});if(B==="remove")return QmA(Q,Z,function(){return null})}return Dj1}};gfQ.connectGlobalObserver=hfQ,gfQ.default=fd6,gfQ.disconnectGlobalObserver=function(){lHA&&lHA.disconnect()},gfQ.validAttributeName=xfQ});function Nd(A,Q,B){B=B||{};for(let[G,Z]of Object.entries(Q))switch(G){case"$or":if(!mfQ(A,Z,B))return!1;break;case"$nor":if(mfQ(A,Z,B))return!1;break;case"$and":if(!dd6(A,Z,B))return!1;break;case"$not":if(Nd(A,Z,B))return!1;break;default:if(!iHA(Z,bd6(A,G),B))return!1}return!0}function bd6(A,Q){let B=Q.split("."),G=A;for(let Z=0;Z<B.length;Z++)if(G&&typeof G==="object"&&B[Z]in G)G=G[B[Z]];else return null;return G}function hd6(A){if(!Hj1[A])Hj1[A]=new RegExp(A.replace(/([^\\])\//g,"$1\\/"));return Hj1[A]}function iHA(A,Q,B){if(typeof A==="string")return Q+""===A;if(typeof A==="number")return Q*1===A;if(typeof A==="boolean")return Q!==null&&!!Q===A;if(A===null)return Q===null;if(Array.isArray(A)||!dfQ(A))return JSON.stringify(Q)===JSON.stringify(A);for(let G in A)if(!md6(G,Q,A[G],B))return!1;return!0}function dfQ(A){let Q=Object.keys(A);return Q.length>0&&Q.filter((B)=>B[0]==="$").length===Q.length}function gd6(A){if(A===null)return"null";if(Array.isArray(A))return"array";let Q=typeof A;if(["string","number","boolean","object","undefined"].includes(Q))return Q;return"unknown"}function ud6(A,Q,B){if(!Array.isArray(A))return!1;let G=dfQ(Q)?(Z)=>iHA(Q,Z,B):(Z)=>Nd(Z,Q,B);for(let Z=0;Z<A.length;Z++)if(A[Z]&&G(A[Z]))return!0;return!1}function ImA(A,Q){if(Array.isArray(A))return A.some((B)=>Q.includes(B));return Q.includes(A)}function md6(A,Q,B,G){switch(A){case"$veq":return l$(Q)===l$(B);case"$vne":return l$(Q)!==l$(B);case"$vgt":return l$(Q)>l$(B);case"$vgte":return l$(Q)>=l$(B);case"$vlt":return l$(Q)<l$(B);case"$vlte":return l$(Q)<=l$(B);case"$eq":return Q===B;case"$ne":return Q!==B;case"$lt":return Q<B;case"$lte":return Q<=B;case"$gt":return Q>B;case"$gte":return Q>=B;case"$exists":return B?Q!=null:Q==null;case"$in":if(!Array.isArray(B))return!1;return ImA(Q,B);case"$inGroup":return ImA(Q,G[B]||[]);case"$notInGroup":return!ImA(Q,G[B]||[]);case"$nin":if(!Array.isArray(B))return!1;return!ImA(Q,B);case"$not":return!iHA(B,Q,G);case"$size":if(!Array.isArray(Q))return!1;return iHA(B,Q.length,G);case"$elemMatch":return ud6(Q,B,G);case"$all":if(!Array.isArray(Q))return!1;for(let Z=0;Z<B.length;Z++){let Y=!1;for(let J=0;J<Q.length;J++)if(iHA(B[Z],Q[J],G)){Y=!0;break}if(!Y)return!1}return!0;case"$regex":try{return hd6(B).test(Q)}catch(Z){return!1}case"$type":return gd6(Q)===B;default:return console.error("Unknown operator: "+A),!1}}function mfQ(A,Q,B){if(!Q.length)return!0;for(let G=0;G<Q.length;G++)if(Nd(A,Q[G],B))return!0;return!1}function dd6(A,Q,B){for(let G=0;G<Q.length;G++)if(!Nd(A,Q[G],B))return!1;return!0}var Hj1;var cfQ=L(()=>{dHA();Hj1={}});function ld6(A){let Q=new Map;if(A.global.forcedFeatureValues)A.global.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));if(A.user.forcedFeatureValues)A.user.forcedFeatureValues.forEach((B,G)=>Q.set(G,B));return Q}function id6(A){if(A.global.forcedVariations&&A.user.forcedVariations)return{...A.global.forcedVariations,...A.user.forcedVariations};else if(A.global.forcedVariations)return A.global.forcedVariations;else if(A.user.forcedVariations)return A.user.forcedVariations;else return{}}async function K3A(A){try{await A()}catch(Q){}}function pfQ(A,Q,B){if(A.user.trackedExperiments){let Z=KmA(Q,B);if(A.user.trackedExperiments.has(Z))return[];A.user.trackedExperiments.add(Z)}if(A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({experiment:Q,result:B,timestamp:Date.now().toString(),logType:"experiment"});let G=[];if(A.global.trackingCallback){let Z=A.global.trackingCallback;G.push(K3A(()=>Z(Q,B,A.user)))}if(A.user.trackingCallback){let Z=A.user.trackingCallback;G.push(K3A(()=>Z(Q,B)))}if(A.global.eventLogger){let Z=A.global.eventLogger;G.push(K3A(()=>Z(pd6,{experimentId:Q.key,variationId:B.key,hashAttribute:B.hashAttribute,hashValue:B.hashValue},A.user)))}return G}function nd6(A,Q,B){if(A.user.trackedFeatureUsage){let G=JSON.stringify(B.value);if(A.user.trackedFeatureUsage[Q]===G)return;if(A.user.trackedFeatureUsage[Q]=G,A.user.enableDevMode&&A.user.devLogs)A.user.devLogs.push({featureKey:Q,result:B,timestamp:Date.now().toString(),logType:"feature"})}if(A.global.onFeatureUsage){let G=A.global.onFeatureUsage;K3A(()=>G(Q,B,A.user))}if(A.user.onFeatureUsage){let G=A.user.onFeatureUsage;K3A(()=>G(Q,B))}if(A.global.eventLogger){let G=A.global.eventLogger;K3A(()=>G(cd6,{feature:Q,source:B.source,value:B.value,ruleId:B.source==="defaultValue"?"$default":B.ruleId||"",variationId:B.experimentResult?B.experimentResult.key:""},A.user))}}function XmA(A,Q){if(Q.stack.evaluatedFeatures.has(A))return qd(Q,A,null,"cyclicPrerequisite");Q.stack.evaluatedFeatures.add(A),Q.stack.id=A;let B=ld6(Q);if(B.has(A))return qd(Q,A,B.get(A),"override");if(!Q.global.features||!Q.global.features[A])return qd(Q,A,null,"unknownFeature");let G=Q.global.features[A];if(G.rules){let Z=new Set(Q.stack.evaluatedFeatures);A:for(let Y of G.rules){if(Y.parentConditions)for(let X of Y.parentConditions){Q.stack.evaluatedFeatures=new Set(Z);let W=XmA(X.id,Q);if(W.source==="cyclicPrerequisite")return qd(Q,A,null,"cyclicPrerequisite");let K={value:W.value};if(!Nd(K,X.condition||{})){if(X.gate)return qd(Q,A,null,"prerequisite");continue A}}if(Y.filters&&nfQ(Y.filters,Q))continue;if("force"in Y){if(Y.condition&&!ifQ(Y.condition,Q))continue;if(!ad6(Q,Y.seed||A,Y.hashAttribute,Q.user.saveStickyBucketAssignmentDoc&&!Y.disableStickyBucketing?Y.fallbackAttribute:void 0,Y.range,Y.coverage,Y.hashVersion))continue;if(Y.tracks)Y.tracks.forEach((X)=>{if(!pfQ(Q,X.experiment,X.result).length&&Q.global.saveDeferredTrack)Q.global.saveDeferredTrack({experiment:X.experiment,result:X.result})});return qd(Q,A,Y.force,"force",Y.id)}if(!Y.variations)continue;let J={variations:Y.variations,key:Y.key||A};if("coverage"in Y)J.coverage=Y.coverage;if(Y.weights)J.weights=Y.weights;if(Y.hashAttribute)J.hashAttribute=Y.hashAttribute;if(Y.fallbackAttribute)J.fallbackAttribute=Y.fallbackAttribute;if(Y.disableStickyBucketing)J.disableStickyBucketing=Y.disableStickyBucketing;if(Y.bucketVersion!==void 0)J.bucketVersion=Y.bucketVersion;if(Y.minBucketVersion!==void 0)J.minBucketVersion=Y.minBucketVersion;if(Y.namespace)J.namespace=Y.namespace;if(Y.meta)J.meta=Y.meta;if(Y.ranges)J.ranges=Y.ranges;if(Y.name)J.name=Y.name;if(Y.phase)J.phase=Y.phase;if(Y.seed)J.seed=Y.seed;if(Y.hashVersion)J.hashVersion=Y.hashVersion;if(Y.filters)J.filters=Y.filters;if(Y.condition)J.condition=Y.condition;let{result:I}=WmA(J,A,Q);if(Q.global.onExperimentEval&&Q.global.onExperimentEval(J,I),I.inExperiment&&!I.passthrough)return qd(Q,A,I.value,"experiment",Y.id,J,I)}}return qd(Q,A,G.defaultValue===void 0?null:G.defaultValue,"defaultValue")}function WmA(A,Q,B){let G=A.key,Z=A.variations.length;if(Z<2)return{result:uY(B,A,-1,!1,Q)};if(B.global.enabled===!1||B.user.enabled===!1)return{result:uY(B,A,-1,!1,Q)};if(A=od6(A,B),A.urlPatterns&&!auA(B.user.url||"",A.urlPatterns))return{result:uY(B,A,-1,!1,Q)};let Y=CfQ(G,B.user.url||"",Z);if(Y!==null)return{result:uY(B,A,Y,!1,Q)};let J=id6(B);if(G in J){let C=J[G];return{result:uY(B,A,C,!1,Q)}}if(A.status==="draft"||A.active===!1)return{result:uY(B,A,-1,!1,Q)};let{hashAttribute:I,hashValue:X}=ir(B,A.hashAttribute,B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing?A.fallbackAttribute:void 0);if(!X)return{result:uY(B,A,-1,!1,Q)};let W=-1,K=!1,V=!1;if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{variation:C,versionIsBlocked:U}=td6({ctx:B,expKey:A.key,expBucketVersion:A.bucketVersion,expHashAttribute:A.hashAttribute,expFallbackAttribute:A.fallbackAttribute,expMinBucketVersion:A.minBucketVersion,expMeta:A.meta});K=C>=0,W=C,V=!!U}if(!K){if(A.filters){if(nfQ(A.filters,B))return{result:uY(B,A,-1,!1,Q)}}else if(A.namespace&&!DfQ(X,A.namespace))return{result:uY(B,A,-1,!1,Q)};if(A.include&&!zfQ(A.include))return{result:uY(B,A,-1,!1,Q)};if(A.condition&&!ifQ(A.condition,B))return{result:uY(B,A,-1,!1,Q)};if(A.parentConditions){let C=new Set(B.stack.evaluatedFeatures);for(let U of A.parentConditions){B.stack.evaluatedFeatures=new Set(C);let O=XmA(U.id,B);if(O.source==="cyclicPrerequisite")return{result:uY(B,A,-1,!1,Q)};let q={value:O.value};if(!Nd(q,U.condition||{}))return{result:uY(B,A,-1,!1,Q)}}}if(A.groups&&!sd6(A.groups,B))return{result:uY(B,A,-1,!1,Q)}}if(A.url&&!rd6(A.url,B))return{result:uY(B,A,-1,!1,Q)};let E=uHA(A.seed||G,X,A.hashVersion||1);if(E===null)return{result:uY(B,A,-1,!1,Q)};if(!K){let C=A.ranges||FfQ(Z,A.coverage===void 0?1:A.coverage,A.weights);W=HfQ(E,C)}if(V)return{result:uY(B,A,-1,!1,Q,void 0,!0)};if(W<0)return{result:uY(B,A,-1,!1,Q)};if("force"in A)return{result:uY(B,A,A.force===void 0?-1:A.force,!1,Q)};if(B.global.qaMode||B.user.qaMode)return{result:uY(B,A,-1,!1,Q)};if(A.status==="stopped")return{result:uY(B,A,-1,!1,Q)};let D=uY(B,A,W,!0,Q,E,K);if(B.user.saveStickyBucketAssignmentDoc&&!A.disableStickyBucketing){let{changed:C,key:U,doc:O}=Ac6(B,I,mHA(X),{[Fj1(A.key,A.bucketVersion)]:D.key});if(C)B.user.stickyBucketAssignmentDocs=B.user.stickyBucketAssignmentDocs||{},B.user.stickyBucketAssignmentDocs[U]=O,B.user.saveStickyBucketAssignmentDoc(O)}let H=pfQ(B,A,D);if(H.length===0&&B.global.saveDeferredTrack)B.global.saveDeferredTrack({experiment:A,result:D});let F=!H.length?void 0:H.length===1?H[0]:Promise.all(H).then(()=>{});return"changeId"in A&&A.changeId&&B.global.recordChangeId&&B.global.recordChangeId(A.changeId),{result:D,trackingCall:F}}function qd(A,Q,B,G,Z,Y,J){let I={value:B,on:!!B,off:!B,source:G,ruleId:Z||""};if(Y)I.experiment=Y;if(J)I.experimentResult=J;if(G!=="override")nd6(A,Q,I);return I}function lfQ(A){return{...A.user.attributes,...A.user.attributeOverrides}}function ifQ(A,Q){return Nd(lfQ(Q),A,Q.global.savedGroups||{})}function nfQ(A,Q){return A.some((B)=>{let{hashValue:G}=ir(Q,B.attribute);if(!G)return!0;let Z=uHA(B.seed,G,B.hashVersion||2);if(Z===null)return!0;return!B.ranges.some((Y)=>nuA(Z,Y))})}function ad6(A,Q,B,G,Z,Y,J){if(!Z&&Y===void 0)return!0;if(!Z&&Y===0)return!1;let{hashValue:I}=ir(A,B,G);if(!I)return!1;let X=uHA(Q,I,J||1);if(X===null)return!1;return Z?nuA(X,Z):Y!==void 0?X<=Y:!0}function uY(A,Q,B,G,Z,Y,J){let I=!0;if(B<0||B>=Q.variations.length)B=0,I=!1;let{hashAttribute:X,hashValue:W}=ir(A,Q.hashAttribute,A.user.saveStickyBucketAssignmentDoc&&!Q.disableStickyBucketing?Q.fallbackAttribute:void 0),K=Q.meta?Q.meta[B]:{},V={key:K.key||""+B,featureId:Z,inExperiment:I,hashUsed:G,variationId:B,value:Q.variations[B],hashAttribute:X,hashValue:W,stickyBucketUsed:!!J};if(K.name)V.name=K.name;if(Y!==void 0)V.bucket=Y;if(K.passthrough)V.passthrough=K.passthrough;return V}function od6(A,Q){let B=A.key,G=Q.global.overrides;if(G&&G[B]){if(A=Object.assign({},A,G[B]),typeof A.url==="string")A.url=Yj1(A.url)}return A}function ir(A,Q,B){let G=Q||"id",Z="",Y=lfQ(A);if(Y[G])Z=Y[G];if(!Z&&B){if(Y[B])Z=Y[B];if(Z)G=B}return{hashAttribute:G,hashValue:Z}}function rd6(A,Q){let B=Q.user.url;if(!B)return!1;let G=B.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");if(A.test(B))return!0;if(A.test(G))return!0;return!1}function sd6(A,Q){let B=Q.global.groups||{};for(let G=0;G<A.length;G++)if(B[A[G]])return!0;return!1}function td6(A){let{ctx:Q,expKey:B,expBucketVersion:G,expHashAttribute:Z,expFallbackAttribute:Y,expMinBucketVersion:J,expMeta:I}=A;G=G||0,J=J||0,Z=Z||"id",I=I||[];let X=Fj1(B,G),W=ed6(Q,Z,Y);if(J>0)for(let E=0;E<=J;E++){let D=Fj1(B,E);if(W[D]!==void 0)return{variation:-1,versionIsBlocked:!0}}let K=W[X];if(K===void 0)return{variation:-1};let V=I.findIndex((E)=>E.key===K);if(V<0)return{variation:-1};return{variation:V}}function Fj1(A,Q){return Q=Q||0,`${A}__${Q}`}function Cj1(A,Q){return`${A}||${Q}`}function ed6(A,Q,B){if(!A.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:G,hashValue:Z}=ir(A,Q),Y=Cj1(G,mHA(Z)),{hashAttribute:J,hashValue:I}=ir(A,B),X=I?Cj1(J,mHA(I)):null,W={};if(X&&A.user.stickyBucketAssignmentDocs[X])Object.assign(W,A.user.stickyBucketAssignmentDocs[X].assignments||{});if(A.user.stickyBucketAssignmentDocs[Y])Object.assign(W,A.user.stickyBucketAssignmentDocs[Y].assignments||{});return W}function Ac6(A,Q,B,G){let Z=Cj1(Q,B),Y=A.user.stickyBucketAssignmentDocs&&A.user.stickyBucketAssignmentDocs[Z]?A.user.stickyBucketAssignmentDocs[Z].assignments||{}:{},J={...Y,...G},I=JSON.stringify(Y)!==JSON.stringify(J);return{key:Z,doc:{attributeName:Q,attributeValue:B,assignments:J},changed:I}}function Qc6(A,Q){let B=new Set,G=Q&&Q.features?Q.features:A.global.features||{},Z=Q&&Q.experiments?Q.experiments:A.global.experiments||[];return Object.keys(G).forEach((Y)=>{let J=G[Y];if(J.rules){for(let I of J.rules)if(I.variations){if(B.add(I.hashAttribute||"id"),I.fallbackAttribute)B.add(I.fallbackAttribute)}}}),Z.map((Y)=>{if(B.add(Y.hashAttribute||"id"),Y.fallbackAttribute)B.add(Y.fallbackAttribute)}),Array.from(B)}async function afQ(A,Q,B){let G=zj1(A,B);return Q.getAllAssignments(G)}function zj1(A,Q){let B={};return Qc6(A,Q).forEach((Z)=>{let{hashValue:Y}=ir(A,Z);B[Z]=mHA(Y)}),B}async function ofQ(A,Q,B){if(A={...A},A.encryptedFeatures){try{A.features=JSON.parse(await lr(A.encryptedFeatures,Q,B))}catch(G){console.error(G)}delete A.encryptedFeatures}if(A.encryptedExperiments){try{A.experiments=JSON.parse(await lr(A.encryptedExperiments,Q,B))}catch(G){console.error(G)}delete A.encryptedExperiments}if(A.encryptedSavedGroups){try{A.savedGroups=JSON.parse(await lr(A.encryptedSavedGroups,Q,B))}catch(G){console.error(G)}delete A.encryptedSavedGroups}return A}function rfQ(A){let Q=A.apiHost||"https://cdn.growthbook.io";return{apiHost:Q.replace(/\/*$/,""),streamingHost:(A.streamingHost||Q).replace(/\/*$/,""),apiRequestHeaders:A.apiHostRequestHeaders,streamingHostRequestHeaders:A.streamingHostRequestHeaders}}function KmA(A,Q){return Q.hashAttribute+Q.hashValue+A.key+Q.variationId}var cd6="Feature Evaluated",pd6="Experiment Viewed";var sfQ=L(()=>{cfQ();dHA()});class VmA{constructor(A){if(A=A||{},this.version=Bc6,this._options=this.context=A,this._renderer=A.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!A.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!A.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),A.remoteEval){if(A.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!A.clientKey)throw Error("Missing clientKey");let Q=!1;try{Q=!!new URL(A.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(B){}if(Q)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(A.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(A.stickyBucketService){let Q=A.stickyBucketService;this._saveStickyBucketAssignmentDoc=(B)=>{return Q.saveAssignments(B)}}if(A.plugins)for(let Q of A.plugins)Q(this);if(A.features)this.ready=!0;if(V3A&&A.enableDevMode)window._growthbook=this,document.dispatchEvent(new Event("gbloaded"));if(A.experiments)this.ready=!0,this._updateAllAutoExperiments();if(this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let Q in this._options.stickyBucketAssignmentDocs){let B=this._options.stickyBucketAssignmentDocs[Q];if(B)this._options.stickyBucketService.saveAssignments(B).catch(()=>{})}if(this.ready)this.refreshStickyBuckets(this.getPayload())}async setPayload(A){this._payload=A;let Q=await ofQ(A,this._options.decryptionKey);if(this._decryptedPayload=Q,await this.refreshStickyBuckets(Q),Q.features)this._options.features=Q.features;if(Q.savedGroups)this._options.savedGroups=Q.savedGroups;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();this.ready=!0,this._render()}initSync(A){this._initialized=!0;let Q=A.payload;if(Q.encryptedExperiments||Q.encryptedFeatures)throw Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,Q);if(this._payload=Q,this._decryptedPayload=Q,Q.features)this._options.features=Q.features;if(Q.experiments)this._options.experiments=Q.experiments,this._updateAllAutoExperiments();return this.ready=!0,tuA(this,A),this}async init(A){if(this._initialized=!0,A=A||{},A.cacheSettings)qfQ(A.cacheSettings);if(A.payload)return await this.setPayload(A.payload),tuA(this,A),{success:!0,source:"init"};else{let{data:Q,...B}=await this._refresh({...A,allowStale:!0});return tuA(this,A),await this.setPayload(Q||{}),B}}async loadFeatures(A){A=A||{},await this.init({skipCache:A.skipCache,timeout:A.timeout,streaming:(this._options.backgroundSync??!0)&&(A.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(A){let Q=await this._refresh({...A||{},allowStale:!1});if(Q.data)await this.setPayload(Q.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return rfQ(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(A){let{timeout:Q,skipCache:B,allowStale:G,streaming:Z}=A;if(!this._options.clientKey)throw Error("Missing clientKey");return LfQ({instance:this,timeout:Q,skipCache:B||this._options.disableCache,allowStale:G,backgroundSync:Z??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(A){console.error("Failed to render",A)}}setFeatures(A){this._options.features=A,this.ready=!0,this._render()}async setEncryptedFeatures(A,Q,B){let G=await lr(A,Q||this._options.decryptionKey,B);this.setFeatures(JSON.parse(G))}setExperiments(A){this._options.experiments=A,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(A,Q,B){let G=await lr(A,Q||this._options.decryptionKey,B);this.setExperiments(JSON.parse(G))}async setAttributes(A){if(this._options.attributes=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(A){return this.setAttributes({...this._options.attributes,...A})}async setAttributeOverrides(A){if(this._options.attributeOverrides=A,this._options.stickyBucketService)await this.refreshStickyBuckets();if(this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(A){if(this._options.forcedVariations=A||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(A){this._options.forcedFeatureValues=A,this._render()}async setURL(A){if(A===this._options.url)return;if(this._options.url=A,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(A){return this._subscriptions.add(A),()=>{this._subscriptions.delete(A)}}async _refreshForRemoteEval(){if(!this._options.remoteEval)return;if(!this._initialized)return;let A=await this._refresh({allowStale:!1});if(A.data)await this.setPayload(A.data)}getAllResults(){return new Map(this._assigned)}onDestroy(A){this._destroyCallbacks.push(A)}isDestroyed(){return!!this._destroyed}destroy(){if(this._destroyed=!0,this._destroyCallbacks.forEach((A)=>{try{A()}catch(Q){console.error(Q)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,MfQ(this),this.logs=[],V3A&&window._growthbook===this)delete window._growthbook;this._activeAutoExperiments.forEach((A)=>{A.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(A){this._renderer=A}forceVariation(A,Q){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[A]=Q,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(A){let{result:Q}=WmA(A,null,this._getEvalContext());return this._fireSubscriptions(A,Q),Q}triggerExperiment(A){if(this._triggeredExpKeys.add(A),!this._options.experiments)return null;return this._options.experiments.filter((B)=>B.key===A).map((B)=>{return this._runAutoExperiment(B)}).filter((B)=>B!==null)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(A,Q){let B=this._activeAutoExperiments.get(A);if(A.manual&&!this._triggeredExpKeys.has(A.key)&&!B)return null;let G=this._isAutoExperimentBlockedByContext(A),Z,Y;if(G)Z=uY(this._getEvalContext(),A,-1,!1,"");else({result:Z,trackingCall:Y}=WmA(A,null,this._getEvalContext())),this._fireSubscriptions(A,Z);let J=JSON.stringify(Z.value);if(!Q&&Z.inExperiment&&B&&B.valueHash===J)return Z;if(B)this._undoActiveAutoExperiment(A);if(Z.inExperiment){let I=ouA(A);if(I==="redirect"&&Z.value.urlRedirect&&A.urlPatterns){let X=A.persistQueryString?$fQ(this._getContextUrl(),Z.value.urlRedirect):Z.value.urlRedirect;if(auA(X,A.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:A.key}),Z;this._redirectedUrl=X;let{navigate:W,delay:K}=this._getNavigateFunction();if(W)if(V3A)Promise.all([...Y?[ruA(Y,this._options.maxNavigateDelay??1000)]:[],new Promise((V)=>window.setTimeout(V,this._options.navigateDelay??K))]).then(()=>{try{W(X)}catch(V){console.error(V)}});else try{W(X)}catch(V){console.error(V)}}else if(I==="visual"){let X=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(Z.value):this._applyDOMChanges(Z.value);if(X)this._activeAutoExperiments.set(A,{undo:X,valueHash:J})}}return Z}_undoActiveAutoExperiment(A){let Q=this._activeAutoExperiments.get(A);if(Q)Q.undo(),this._activeAutoExperiments.delete(A)}_updateAllAutoExperiments(A){if(!this._autoExperimentsAllowed)return;let Q=this._options.experiments||[],B=new Set(Q);this._activeAutoExperiments.forEach((G,Z)=>{if(!B.has(Z))G.undo(),this._activeAutoExperiments.delete(Z)});for(let G of Q){let Z=this._runAutoExperiment(G,A);if(Z!==null&&Z!==void 0&&Z.inExperiment&&ouA(G)==="redirect")break}}_fireSubscriptions(A,Q){let B=A.key,G=this._assigned.get(B);if(!G||G.result.inExperiment!==Q.inExperiment||G.result.variationId!==Q.variationId)this._assigned.set(B,{experiment:A,result:Q}),this._subscriptions.forEach((Z)=>{try{Z(A,Q)}catch(Y){console.error(Y)}})}_recordChangedId(A){this._completedChangeIds.add(A)}isOn(A){return this.evalFeature(A).on}isOff(A){return this.evalFeature(A).off}getFeatureValue(A,Q){let B=this.evalFeature(A).value;return B===null?Q:B}feature(A){return this.evalFeature(A)}evalFeature(A){return XmA(A,this._getEvalContext())}log(A,Q){if(!this.debug)return;if(this._options.log)this._options.log(A,Q);else console.log(A,Q)}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(A){this._deferredTrackingCalls=new Map(A.filter((Q)=>Q&&Q.experiment&&Q.result).map((Q)=>{return[KmA(Q.experiment,Q.result),Q]}))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let A=[];this._deferredTrackingCalls.forEach((Q)=>{if(!Q||!Q.experiment||!Q.result)console.error("Invalid deferred tracking call",{call:Q});else A.push(this._options.trackingCallback(Q.experiment,Q.result))}),this._deferredTrackingCalls.clear(),await Promise.all(A)}setTrackingCallback(A){this._options.trackingCallback=A,this.fireDeferredTrackingCalls()}setEventLogger(A){this._options.eventLogger=A}async logEvent(A,Q){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode)this.logs.push({eventName:A,properties:Q,timestamp:Date.now().toString(),logType:"event"});if(this._options.eventLogger)try{await this._options.eventLogger(A,Q||{},this._getUserContext())}catch(B){console.error(B)}else console.error("No event logger configured")}_saveDeferredTrack(A){this._deferredTrackingCalls.set(KmA(A.experiment,A.result),A)}_getContextUrl(){return this._options.url||(V3A?window.location.href:"")}_isAutoExperimentBlockedByContext(A){let Q=ouA(A);if(Q==="visual"){if(this._options.disableVisualExperiments)return!0;if(this._options.disableJsInjection){if(A.variations.some((B)=>B.js))return!0}}else if(Q==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{let B=new URL(this._getContextUrl());for(let G of A.variations){if(!G||!G.urlRedirect)continue;let Z=new URL(G.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments){if(Z.protocol!==B.protocol)return!0;if(Z.host!==B.host)return!0}}}catch(B){return this.log("Error parsing current or redirect URL",{id:A.key,error:B}),!0}}else return!0;if(A.changeId&&(this._options.blockedChangeIds||[]).includes(A.changeId))return!0;return!1}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){if(this._options.navigate)return{navigate:this._options.navigate,delay:0};else if(V3A)return{navigate:(A)=>{window.location.replace(A)},delay:100};return{navigate:null,delay:0}}_applyDOMChanges(A){if(!V3A)return;let Q=[];if(A.css){let B=document.createElement("style");B.innerHTML=A.css,document.head.appendChild(B),Q.push(()=>B.remove())}if(A.js){let B=document.createElement("script");if(B.innerHTML=A.js,this._options.jsInjectionNonce)B.nonce=this._options.jsInjectionNonce;document.head.appendChild(B),Q.push(()=>B.remove())}if(A.domMutations)A.domMutations.forEach((B)=>{Q.push(tfQ.default.declarative(B).revert)});return()=>{Q.forEach((B)=>B())}}async refreshStickyBuckets(A){if(this._options.stickyBucketService){let Q=this._getEvalContext(),B=await afQ(Q,this._options.stickyBucketService,A);this._options.stickyBucketAssignmentDocs=B}}generateStickyBucketAssignmentDocsSync(A,Q){if(!("getAllAssignmentsSync"in A)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let B=this._getEvalContext(),G=zj1(B,Q);return A.getAllAssignmentsSync(G)}inDevMode(){return!!this._options.enableDevMode}}var tfQ,V3A,Bc6;var efQ=L(()=>{dHA();TfQ();sfQ();tfQ=o(ufQ(),1),V3A=typeof window<"u"&&typeof document<"u",Bc6=UfQ()});var AbQ=L(()=>{efQ()});function $j1(A){let Q=HmA.get(A);if(Q)JbQ({experimentId:Q.experimentId,variationId:Q.variationId,userAttributes:QbQ(),experimentMetadata:{feature_id:A}})}function H3A(){return aHA()}function QbQ(){let A=IbQ();return{id:A.deviceId,sessionId:A.sessionId,deviceID:A.deviceId,...A.organizationUuid&&{organizationUUID:A.organizationUuid},...A.accountUuid&&{accountUUID:A.accountUuid},...A.userType&&{userType:A.userType},...A.subscriptionType&&{subscriptionType:A.subscriptionType},...A.firstTokenTime&&{firstTokenTime:A.firstTokenTime},...A.email&&{email:A.email},...A.appVersion&&{appVersion:A.appVersion},...A.githubActionsMetadata&&{githubActionsMetadata:A.githubActionsMetadata}}}async function Gc6(A,Q,B){if(!H3A())return Q;let G=await nr();if(!G)return Q;let Z=G.getFeatureValue(A,Q);if(B)$j1(A);return Z}function nHA(A,Q){if(!H3A())return Q;if(BbQ(A,Q),HmA.has(A))$j1(A);else DmA.add(A);try{let B=d1().cachedGrowthBookFeatures?.[A];return B!==void 0?B:Q}catch{return Q}}function GbQ(){if(!H3A())return;try{wj1(),nr()}catch(A){s(A instanceof Error?A:Error(`GrowthBook: Force refresh failed: ${A}`))}}function wj1(){YbQ(),Pk?.destroy(),Pk=null,Uj1=!1,HmA.clear(),DmA.clear(),EmA.cache?.clear?.(),nr.cache?.clear?.(),BbQ.cache?.clear?.()}async function Yc6(){if(!H3A())return;try{let A=await nr();if(!A)return;await A.refreshFeatures();let Q=d1().cachedGrowthBookFeatures;if(Q){let B={...Q},G=!1;for(let Z of Object.keys(Q)){let Y=A.getFeatureValue(Z,void 0);if(Y!==void 0&&Y!==Q[Z])B[Z]=Y,G=!0}if(G)i0((Z)=>({...Z,cachedGrowthBookFeatures:B}))}}catch(A){s(A instanceof Error?A:Error(`GrowthBook: Light refresh failed: ${A}`))}}function ZbQ(){if(!H3A())return;if(E3A)clearInterval(E3A);if(E3A=setInterval(()=>{Yc6()},Zc6),!D3A)D3A=()=>{YbQ()},process.on("beforeExit",D3A)}function YbQ(){if(E3A)clearInterval(E3A),E3A=null;if(D3A)process.removeListener("beforeExit",D3A),D3A=null}var Pk=null,Uj1=!1,HmA,DmA,EmA,nr,BbQ,Zc6=21600000,E3A=null,D3A=null;var ar=L(()=>{Y3A();AbQ();Sk();Y0();h1();oHA();xQ();lD();g0();HmA=new Map,DmA=new Set;EmA=Z0(()=>{if(!H3A())return null;let A=QbQ(),Q="https://api.anthropic.com/",G=QY(!0)||D4()?GY():{headers:{},error:"trust not established"};Uj1=!G.error,Pk=new VmA({apiHost:Q,clientKey:fh0,attributes:A,remoteEval:!0,cacheKeyAttributes:["id"],...G.error?{}:{apiHostRequestHeaders:G.headers},...{}});let Y=Pk.init({timeout:5000}).then(async(J)=>{let I=Pk?.getPayload();if(I?.features){let X={};for(let[W,K]of Object.entries(I.features)){let V=K;if("value"in V&&!("defaultValue"in V))X[W]={...V,defaultValue:V.value};else X[W]=V;if(V.source==="experiment"&&V.experimentResult){let{experimentResult:E,experiment:D}=V;if(D?.key&&E.variationId!==void 0)HmA.set(W,{experimentId:D.key,variationId:E.variationId})}}await Pk?.setPayload({...I,features:X});for(let W of DmA)$j1(W);DmA.clear()}}).catch((J)=>{});return process.on("beforeExit",()=>{Pk?.destroy()}),process.on("exit",()=>{Pk?.destroy()}),{client:Pk,initialized:Y}}),nr=Z0(async()=>{let A=EmA();if(!A)return null;if(!Uj1){if(QY(!0)||D4()){if(!GY().error){if(EmA.cache?.clear?.(),nr.cache?.clear?.(),A=EmA(),!A)return null}}}return await A.initialized,A.client});BbQ=Z0(async(A,Q)=>{let B=await Gc6(A,Q,!1);if(d1().cachedGrowthBookFeatures?.[A]===B)return;i0((Z)=>({...Z,cachedGrowthBookFeatures:{...Z.cachedGrowthBookFeatures??{},[A]:B}}))})});function aI(){return process.env.ANTHROPIC_SMALL_FAST_MODEL||tHA()}function z3A(A){return A===gY().opus40||A===gY().opus41||A===gY().opus45}function FmA(A){return A.includes("opus")}function CmA(){let A,Q=bG1();if(Q!==void 0)A=Q;else{let B=NQ()||{};A=process.env.ANTHROPIC_MODEL||B.model||void 0}if(RB()&&!lq()&&A&&FmA(A))return;return A}function rr(A={}){let Q=CmA();if(Q!==null&&Q!==void 0)return Q;let{forDisplay:B=!1}=A;return KbQ(B)}function g8(){let A=rr();if(A!==void 0&&A!==null)return nI(A);return xk()}function _z(){if(process.env.ANTHROPIC_DEFAULT_SONNET_MODEL)return process.env.ANTHROPIC_DEFAULT_SONNET_MODEL;return gY().sonnet45}function rHA(){return d6()==="max"}function sHA(){return d6()==="team"}function WbQ(){return d6()==="pro"}function sr(){if(process.env.ANTHROPIC_DEFAULT_OPUS_MODEL)return process.env.ANTHROPIC_DEFAULT_OPUS_MODEL;if(X6()==="firstParty")return gY().opus45;return gY().opus41}function tHA(){if(process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL)return process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL;if(X6()==="firstParty"||X6()==="foundry")return gY().haiku45;return gY().haiku35}function zmA(){return b7("tengu_opus_default_pro_plan","opus_is_default",!1)}function tr(A){let{permissionMode:Q,mainLoopModel:B,exceeds200kTokens:G=!1}=A;if(rr()==="opusplan"&&Q==="plan"&&!G)return sr();if(rr()==="haiku"&&Q==="plan")return _z();return B}function Lj1(){if(!RB())return!1;let{hasAccess:A}=$d();if(!A)return!1;return b7("sonnet_1m_default","enabled",!1)}function KbQ(A){let Q=Ic6();if(Q!==null&&Q.name)return A?Q.displayName??Q.name:Q.name;if(Lj1())return"sonnet[1m]";return}function UmA(A={}){let{forDisplay:Q=!1}=A,B=KbQ(Q);if(B!==void 0)return B;if(rHA()||sHA())return sr();if(WbQ()&&zmA())return sr();return _z()}function xk(A={}){return nI(UmA(A))}function p$(A){if(A.includes("claude-opus-4-5"))return"claude-opus-4-5";if(A.includes("claude-opus-4-1"))return"claude-opus-4-1";if(A.includes("claude-opus-4"))return"claude-opus-4";let Q=A.match(/(claude-(\d+-\d+-)?\w+)/);if(Q&&Q[1])return Q[1];return A}async function VbQ(){try{if(d1().claudeCodeFirstTokenDate!==void 0)return;let Q=GY();if(Q.error){s(Error(`Failed to get auth headers: ${Q.error}`));return}let G=`${u9().BASE_API_URL}/api/organization/claude_code_first_token_date`,Y=(await wQ.get(G,{headers:{...Q.headers,"User-Agent":iI()}})).data?.first_token_date??null;if(Y!==null){let J=new Date(Y).getTime();if(isNaN(J)){s(Error(`Received invalid first_token_date from API: ${Y}`));return}}i0((J)=>({...J,claudeCodeFirstTokenDate:Y}))}catch(A){s(A instanceof Error?A:Error(String(A)))}}function $mA(){if(Lj1())return"Sonnet 4.5 with 1M context ¬∑ Best for everyday tasks";if(rHA()||sHA())return"Opus 4.5 ¬∑ Most capable for complex work";if(WbQ()&&zmA())return"Opus 4.5 ¬∑ Most capable for complex work";return"Sonnet 4.5 ¬∑ Best for everyday tasks"}function Xc6(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return nD(nI(A))}function EbQ(A){if(A==="opusplan")return"Opus Plan";if(Oj1(A))return A.charAt(0).toUpperCase()+A.slice(1);return nD(A)}function nD(A){if(A===gY().opus45)return"Opus 4.5";if(A===gY().opus41)return"Opus 4.1";if(A===gY().opus40)return"Opus 4";if(A===gY().sonnet45+"[1m]")return"Sonnet 4.5 (1M context)";if(A===gY().sonnet45)return"Sonnet 4.5";if(A===gY().sonnet40)return"Sonnet 4";if(A===gY().sonnet40+"[1m]")return"Sonnet 4 (1M context)";if(A===gY().sonnet37)return"Sonnet 3.7";if(A===gY().sonnet35)return"Sonnet 3.5";if(A===gY().haiku45)return"Haiku 4.5";if(A===gY().haiku35)return"Haiku 3.5";return A}function DbQ(A){let Q=nD(A);if(Q===A)return"Claude";return`Claude ${Q}`}function or(){if(RB()){if(!lq())return{value:null,label:"Sonnet",description:Mj1.description};return{value:null,label:"Default (recommended)",description:$mA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${Xc6(UmA({forDisplay:!0}))}) ¬∑ ${Ud(dr)}`}}function Vc6(){return tHA()===gY().haiku45?CbQ:Kc6}function Fc6(){let A=X6()==="firstParty"?CbQ:null;if(RB()){if(!lq())return[or(),Nj1];if(rHA()||sHA()){let G=[or(),Dc6];if($d().hasAccess)G.push(XbQ);return G.push(Nj1),G}let B=[or(),Ec6];if(Lj1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if($d().hasAccess)B.push(XbQ);return B.push(Nj1),B}let Q=[or(),FbQ()];if(X6()!=="firstParty")Q.push(Wc6());if($d().hasAccess)Q.push(HbQ);if(A)Q.push(A);return Q}function wmA(){let A=Fc6(),Q=null,B=CmA(),G=zPA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,Hc6()];if(!RB()&&Oj1(Q))if(Q==="sonnet")A.push(Mj1);else if(Q==="sonnet[1m]")A.push(HbQ);else if(Q==="opus")A.push(FbQ());else if(Q==="haiku")A.push(Vc6());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Oj1(A){return F3A.includes(A)}function nI(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Oj1(Z))switch(Z){case"opusplan":return _z()+(G?"[1m]":"");case"sonnet":return _z()+(G?"[1m]":"");case"haiku":return tHA()+(G?"[1m]":"");case"opus":return sr();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function eq(A){if(A===null){if(RB()&&!lq())return`Sonnet (${Mj1.description})`;else if(RB())return`Default (${$mA()})`;return`Default (${xk({forDisplay:!0})})`}let Q=nI(A);return A===Q?Q:`${A} (${Q})`}function U3A(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;if(B)return nI(B);if(!A)return nI(qj1);if(A==="inherit")return tr({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return nI(A)}function NmA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function zbQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(lq())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function yk(A){return A.replace(/\[(1|2)m\]/gi,"")}var F3A,Jc6,xvQ,C3A,qj1="sonnet",Ic6,Mj1,HbQ,FbQ=()=>{let A=X6()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} ¬∑ ${A?"Legacy":"Most capable for complex work"} ¬∑ ${Ud(A?vuA:kuA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},Wc6=()=>{return{value:gY().opus45,label:"Opus 4.5",description:`Opus 4.5 ¬∑ Most capable for complex work ¬∑ ${Ud(kuA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},CbQ,Kc6,Ec6,XbQ,Dc6,Nj1,Hc6=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var l2=L(()=>{o2();xQ();g0();F2();c6A();mR1();buA();jB();J4();Sk();b8();eJ();h1();lD();huA();hX();ar();F3A=["sonnet","opus","haiku","sonnet[1m]","opusplan"],Jc6=wr,xvQ=Jc6.firstParty,C3A=[...F3A,"inherit"];Ic6=Z0(()=>{return nHA("strawberry_granite_flag","N/A"),nHA("persimmon_marble_flag","N/A"),null});Mj1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 ¬∑ Best for everyday tasks ¬∑ ${Ud(dr)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},HbQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions ¬∑ ${Ud(cT1)}`,descriptionForModel:"Sonnet 4.5 with 1M context window - for long sessions with large codebases"},CbQ={value:"haiku",label:"Haiku",description:`Haiku 4.5 ¬∑ Fastest for quick answers ¬∑ ${Ud(lT1)}`,descriptionForModel:"Haiku 4.5 - fastest for quick answers. Lower cost but less capable than Sonnet 4.5."},Kc6={value:"haiku",label:"Haiku",description:`Haiku 3.5 for simple tasks ¬∑ ${Ud(pT1)}`,descriptionForModel:"Haiku 3.5 - faster and lower cost, but less capable than Sonnet. Use for simple tasks."};Ec6={value:"opus",label:"Opus",description:"Opus 4.5 ¬∑ Most capable for complex work"},XbQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:"Sonnet 4.5 with 1M context ¬∑ Uses rate limits faster"},Dc6={value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 ¬∑ Best for everyday tasks"},Nj1={value:"haiku",label:"Haiku",description:"Haiku 4.5 ¬∑ Fastest for quick answers"}});function $c6(){return}async function Ld(A={}){let Q=A.model?String(A.model):g8(),B=N$(Q),G=await Uc6(),Z=$c6();return{model:Q,sessionId:W0(),userType:"external",...B.length>0?{betas:B.join(",")}:{},envContext:G,...process.env.CLAUDE_CODE_ENTRYPOINT&&{entrypoint:process.env.CLAUDE_CODE_ENTRYPOINT},...process.env.CLAUDE_AGENT_SDK_VERSION&&{agentSdkVersion:process.env.CLAUDE_AGENT_SDK_VERSION},isInteractive:String(SBA()),clientType:wPA(),...Z&&{processMetrics:Z},sweBenchRunId:process.env.SWE_BENCH_RUN_ID||"",sweBenchInstanceId:process.env.SWE_BENCH_INSTANCE_ID||"",sweBenchTaskId:process.env.SWE_BENCH_TASK_ID||""}}function UbQ(A,Q={}){let B={};for(let[G,Z]of Object.entries(Q))if(Z!==void 0)B[G]=String(Z);for(let[G,Z]of Object.entries(A)){if(Z===void 0)continue;if(G==="envContext")B.env=JSON.stringify(Z);else if(G==="processMetrics")B.process=JSON.stringify(Z);else B[G]=String(Z)}return B}function $bQ(A,Q={}){let{envContext:B,processMetrics:G,...Z}=A;return{...Q,...Z,env:B,...G&&{process:G},surface:Cc6}}function wbQ(A,Q,B={}){let{envContext:G,processMetrics:Z,...Y}=A,J={platform:G.platform,arch:G.arch,node_version:G.nodeVersion,terminal:G.terminal||"unknown",package_managers:G.packageManagers,runtimes:G.runtimes,is_running_with_bun:G.isRunningWithBun,is_ci:G.isCi,is_claubbit:G.isClaubbit,is_claude_code_remote:G.isClaudeCodeRemote,is_conductor:G.isConductor,is_github_action:G.isGithubAction,is_claude_code_action:G.isClaudeCodeAction,is_claude_ai_auth:G.isClaudeAiAuth,version:G.version,build_time:G.buildTime,deployment_environment:G.deploymentEnvironment};if(G.remoteEnvironmentType)J.remote_environment_type=G.remoteEnvironmentType;if(G.claudeCodeContainerId)J.claude_code_container_id=G.claudeCodeContainerId;if(G.claudeCodeRemoteSessionId)J.claude_code_remote_session_id=G.claudeCodeRemoteSessionId;if(G.tags)J.tags=G.tags.split(",").map((X)=>X.trim()).filter(Boolean);if(G.githubEventName)J.github_event_name=G.githubEventName;if(G.githubActionsRunnerEnvironment)J.github_actions_runner_environment=G.githubActionsRunnerEnvironment;if(G.githubActionsRunnerOs)J.github_actions_runner_os=G.githubActionsRunnerOs;if(G.githubActionRef)J.github_action_ref=G.githubActionRef;if(G.wslVersion)J.wsl_version=G.wslVersion;if(G.versionBase)J.version_base=G.versionBase;let I={session_id:Y.sessionId,model:Y.model,user_type:Y.userType,is_interactive:Y.isInteractive==="true",client_type:Y.clientType};if(Y.betas)I.betas=Y.betas;if(Y.entrypoint)I.entrypoint=Y.entrypoint;if(Y.agentSdkVersion)I.agent_sdk_version=Y.agentSdkVersion;if(Y.sweBenchRunId)I.swe_bench_run_id=Y.sweBenchRunId;if(Y.sweBenchInstanceId)I.swe_bench_instance_id=Y.sweBenchInstanceId;if(Y.sweBenchTaskId)I.swe_bench_task_id=Y.sweBenchTaskId;if(Q.githubActionsMetadata){let X=Q.githubActionsMetadata;J.github_actions_metadata={actor_id:X.actorId,repository_id:X.repositoryId,repository_owner_id:X.repositoryOwnerId}}return{env:J,...Z&&{process:JSON.stringify(Z)},core:I,additional:B}}var Cc6="claude-code",zc6,Uc6;var $3A=L(()=>{o2();$8();ur();fv();l2();g0();rQ();F2();k3();zc6=Z0(()=>{let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION.match(/^\d+\.\d+\.\d+(?:-[a-z]+)?/);return A?A[0]:void 0}),Uc6=Z0(async()=>{let[A,Q]=await Promise.all([JQ.getPackageManagers(),JQ.getRuntimes()]);return{platform:JQ.platform,arch:JQ.arch,nodeVersion:JQ.nodeVersion,terminal:Rz.terminal,packageManagers:A.join(","),runtimes:Q.join(","),isRunningWithBun:JQ.isRunningWithBun(),isCi:z0(!1),isClaubbit:process.env.CLAUBBIT==="true",isClaudeCodeRemote:process.env.CLAUDE_CODE_REMOTE==="true",isConductor:JQ.isConductor(),...process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE&&{remoteEnvironmentType:process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE},...process.env.CLAUDE_CODE_CONTAINER_ID&&{claudeCodeContainerId:process.env.CLAUDE_CODE_CONTAINER_ID},...process.env.CLAUDE_CODE_REMOTE_SESSION_ID&&{claudeCodeRemoteSessionId:process.env.CLAUDE_CODE_REMOTE_SESSION_ID},...process.env.CLAUDE_CODE_TAGS&&{tags:process.env.CLAUDE_CODE_TAGS},isGithubAction:process.env.GITHUB_ACTIONS==="true",isClaudeCodeAction:process.env.CLAUDE_CODE_ACTION==="1"||process.env.CLAUDE_CODE_ACTION==="true",isClaudeAiAuth:RB(),version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION,versionBase:zc6(),buildTime:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.BUILD_TIME,deploymentEnvironment:JQ.detectDeploymentEnvironment(),...process.env.GITHUB_ACTIONS==="true"&&{githubEventName:process.env.GITHUB_EVENT_NAME,githubActionsRunnerEnvironment:process.env.RUNNER_ENVIRONMENT,githubActionsRunnerOs:process.env.RUNNER_OS,githubActionRef:process.env.GITHUB_ACTION_PATH?.includes("claude-code-action/")?process.env.GITHUB_ACTION_PATH.split("claude-code-action/")[1]:void 0},...ua()&&{wslVersion:ua()}}})});function wc6(){return{seconds:0,nanos:0}}function NbQ(A){return A!==null&&A!==void 0}var eHA;var Rj1=L(()=>{eHA={fromJSON(A){return{seconds:NbQ(A.seconds)?globalThis.Number(A.seconds):0,nanos:NbQ(A.nanos)?globalThis.Number(A.nanos):0}},toJSON(A){let Q={};if(A.seconds!==void 0)Q.seconds=Math.round(A.seconds);if(A.nanos!==void 0)Q.nanos=Math.round(A.nanos);return Q},create(A){return eHA.fromPartial(A??{})},fromPartial(A){let Q=wc6();return Q.seconds=A.seconds??0,Q.nanos=A.nanos??0,Q}}});function Nc6(){return{account_id:0,organization_uuid:"",account_uuid:""}}function _j1(A){return A!==null&&A!==void 0}var vk;var Tj1=L(()=>{vk={fromJSON(A){return{account_id:_j1(A.account_id)?globalThis.Number(A.account_id):0,organization_uuid:_j1(A.organization_uuid)?globalThis.String(A.organization_uuid):"",account_uuid:_j1(A.account_uuid)?globalThis.String(A.account_uuid):""}},toJSON(A){let Q={};if(A.account_id!==void 0)Q.account_id=Math.round(A.account_id);if(A.organization_uuid!==void 0)Q.organization_uuid=A.organization_uuid;if(A.account_uuid!==void 0)Q.account_uuid=A.account_uuid;return Q},create(A){return vk.fromPartial(A??{})},fromPartial(A){let Q=Nc6();return Q.account_id=A.account_id??0,Q.organization_uuid=A.organization_uuid??"",Q.account_uuid=A.account_uuid??"",Q}}});function qc6(){return{actor_id:"",repository_id:"",repository_owner_id:""}}function Lc6(){return{platform:"",node_version:"",terminal:"",package_managers:"",runtimes:"",is_running_with_bun:!1,is_ci:!1,is_claubbit:!1,is_github_action:!1,is_claude_code_action:!1,is_claude_ai_auth:!1,version:"",github_event_name:"",github_actions_runner_environment:"",github_actions_runner_os:"",github_action_ref:"",wsl_version:"",github_actions_metadata:void 0,arch:"",is_claude_code_remote:!1,remote_environment_type:"",claude_code_container_id:"",claude_code_remote_session_id:"",tags:[],deployment_environment:""}}function Mc6(){return{event_name:"",client_timestamp:void 0,model:"",session_id:"",user_type:"",betas:"",env:void 0,entrypoint:"",agent_sdk_version:"",is_interactive:!1,client_type:"",process:"",additional_metadata:"",auth:void 0,server_timestamp:void 0,event_id:"",device_id:"",swe_bench_run_id:"",swe_bench_instance_id:"",swe_bench_task_id:"",email:""}}function Oc6(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function qbQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return Oc6(eHA.fromJSON(A))}function b4(A){return A!==null&&A!==void 0}var qmA,LmA,MmA;var LbQ=L(()=>{Rj1();Tj1();qmA={fromJSON(A){return{actor_id:b4(A.actor_id)?globalThis.String(A.actor_id):"",repository_id:b4(A.repository_id)?globalThis.String(A.repository_id):"",repository_owner_id:b4(A.repository_owner_id)?globalThis.String(A.repository_owner_id):""}},toJSON(A){let Q={};if(A.actor_id!==void 0)Q.actor_id=A.actor_id;if(A.repository_id!==void 0)Q.repository_id=A.repository_id;if(A.repository_owner_id!==void 0)Q.repository_owner_id=A.repository_owner_id;return Q},create(A){return qmA.fromPartial(A??{})},fromPartial(A){let Q=qc6();return Q.actor_id=A.actor_id??"",Q.repository_id=A.repository_id??"",Q.repository_owner_id=A.repository_owner_id??"",Q}};LmA={fromJSON(A){return{platform:b4(A.platform)?globalThis.String(A.platform):"",node_version:b4(A.node_version)?globalThis.String(A.node_version):"",terminal:b4(A.terminal)?globalThis.String(A.terminal):"",package_managers:b4(A.package_managers)?globalThis.String(A.package_managers):"",runtimes:b4(A.runtimes)?globalThis.String(A.runtimes):"",is_running_with_bun:b4(A.is_running_with_bun)?globalThis.Boolean(A.is_running_with_bun):!1,is_ci:b4(A.is_ci)?globalThis.Boolean(A.is_ci):!1,is_claubbit:b4(A.is_claubbit)?globalThis.Boolean(A.is_claubbit):!1,is_github_action:b4(A.is_github_action)?globalThis.Boolean(A.is_github_action):!1,is_claude_code_action:b4(A.is_claude_code_action)?globalThis.Boolean(A.is_claude_code_action):!1,is_claude_ai_auth:b4(A.is_claude_ai_auth)?globalThis.Boolean(A.is_claude_ai_auth):!1,version:b4(A.version)?globalThis.String(A.version):"",github_event_name:b4(A.github_event_name)?globalThis.String(A.github_event_name):"",github_actions_runner_environment:b4(A.github_actions_runner_environment)?globalThis.String(A.github_actions_runner_environment):"",github_actions_runner_os:b4(A.github_actions_runner_os)?globalThis.String(A.github_actions_runner_os):"",github_action_ref:b4(A.github_action_ref)?globalThis.String(A.github_action_ref):"",wsl_version:b4(A.wsl_version)?globalThis.String(A.wsl_version):"",github_actions_metadata:b4(A.github_actions_metadata)?qmA.fromJSON(A.github_actions_metadata):void 0,arch:b4(A.arch)?globalThis.String(A.arch):"",is_claude_code_remote:b4(A.is_claude_code_remote)?globalThis.Boolean(A.is_claude_code_remote):!1,remote_environment_type:b4(A.remote_environment_type)?globalThis.String(A.remote_environment_type):"",claude_code_container_id:b4(A.claude_code_container_id)?globalThis.String(A.claude_code_container_id):"",claude_code_remote_session_id:b4(A.claude_code_remote_session_id)?globalThis.String(A.claude_code_remote_session_id):"",tags:globalThis.Array.isArray(A?.tags)?A.tags.map((Q)=>globalThis.String(Q)):[],deployment_environment:b4(A.deployment_environment)?globalThis.String(A.deployment_environment):""}},toJSON(A){let Q={};if(A.platform!==void 0)Q.platform=A.platform;if(A.node_version!==void 0)Q.node_version=A.node_version;if(A.terminal!==void 0)Q.terminal=A.terminal;if(A.package_managers!==void 0)Q.package_managers=A.package_managers;if(A.runtimes!==void 0)Q.runtimes=A.runtimes;if(A.is_running_with_bun!==void 0)Q.is_running_with_bun=A.is_running_with_bun;if(A.is_ci!==void 0)Q.is_ci=A.is_ci;if(A.is_claubbit!==void 0)Q.is_claubbit=A.is_claubbit;if(A.is_github_action!==void 0)Q.is_github_action=A.is_github_action;if(A.is_claude_code_action!==void 0)Q.is_claude_code_action=A.is_claude_code_action;if(A.is_claude_ai_auth!==void 0)Q.is_claude_ai_auth=A.is_claude_ai_auth;if(A.version!==void 0)Q.version=A.version;if(A.github_event_name!==void 0)Q.github_event_name=A.github_event_name;if(A.github_actions_runner_environment!==void 0)Q.github_actions_runner_environment=A.github_actions_runner_environment;if(A.github_actions_runner_os!==void 0)Q.github_actions_runner_os=A.github_actions_runner_os;if(A.github_action_ref!==void 0)Q.github_action_ref=A.github_action_ref;if(A.wsl_version!==void 0)Q.wsl_version=A.wsl_version;if(A.github_actions_metadata!==void 0)Q.github_actions_metadata=qmA.toJSON(A.github_actions_metadata);if(A.arch!==void 0)Q.arch=A.arch;if(A.is_claude_code_remote!==void 0)Q.is_claude_code_remote=A.is_claude_code_remote;if(A.remote_environment_type!==void 0)Q.remote_environment_type=A.remote_environment_type;if(A.claude_code_container_id!==void 0)Q.claude_code_container_id=A.claude_code_container_id;if(A.claude_code_remote_session_id!==void 0)Q.claude_code_remote_session_id=A.claude_code_remote_session_id;if(A.tags?.length)Q.tags=A.tags;if(A.deployment_environment!==void 0)Q.deployment_environment=A.deployment_environment;return Q},create(A){return LmA.fromPartial(A??{})},fromPartial(A){let Q=Lc6();return Q.platform=A.platform??"",Q.node_version=A.node_version??"",Q.terminal=A.terminal??"",Q.package_managers=A.package_managers??"",Q.runtimes=A.runtimes??"",Q.is_running_with_bun=A.is_running_with_bun??!1,Q.is_ci=A.is_ci??!1,Q.is_claubbit=A.is_claubbit??!1,Q.is_github_action=A.is_github_action??!1,Q.is_claude_code_action=A.is_claude_code_action??!1,Q.is_claude_ai_auth=A.is_claude_ai_auth??!1,Q.version=A.version??"",Q.github_event_name=A.github_event_name??"",Q.github_actions_runner_environment=A.github_actions_runner_environment??"",Q.github_actions_runner_os=A.github_actions_runner_os??"",Q.github_action_ref=A.github_action_ref??"",Q.wsl_version=A.wsl_version??"",Q.github_actions_metadata=A.github_actions_metadata!==void 0&&A.github_actions_metadata!==null?qmA.fromPartial(A.github_actions_metadata):void 0,Q.arch=A.arch??"",Q.is_claude_code_remote=A.is_claude_code_remote??!1,Q.remote_environment_type=A.remote_environment_type??"",Q.claude_code_container_id=A.claude_code_container_id??"",Q.claude_code_remote_session_id=A.claude_code_remote_session_id??"",Q.tags=A.tags?.map((B)=>B)||[],Q.deployment_environment=A.deployment_environment??"",Q}};MmA={fromJSON(A){return{event_name:b4(A.event_name)?globalThis.String(A.event_name):"",client_timestamp:b4(A.client_timestamp)?qbQ(A.client_timestamp):void 0,model:b4(A.model)?globalThis.String(A.model):"",session_id:b4(A.session_id)?globalThis.String(A.session_id):"",user_type:b4(A.user_type)?globalThis.String(A.user_type):"",betas:b4(A.betas)?globalThis.String(A.betas):"",env:b4(A.env)?LmA.fromJSON(A.env):void 0,entrypoint:b4(A.entrypoint)?globalThis.String(A.entrypoint):"",agent_sdk_version:b4(A.agent_sdk_version)?globalThis.String(A.agent_sdk_version):"",is_interactive:b4(A.is_interactive)?globalThis.Boolean(A.is_interactive):!1,client_type:b4(A.client_type)?globalThis.String(A.client_type):"",process:b4(A.process)?globalThis.String(A.process):"",additional_metadata:b4(A.additional_metadata)?globalThis.String(A.additional_metadata):"",auth:b4(A.auth)?vk.fromJSON(A.auth):void 0,server_timestamp:b4(A.server_timestamp)?qbQ(A.server_timestamp):void 0,event_id:b4(A.event_id)?globalThis.String(A.event_id):"",device_id:b4(A.device_id)?globalThis.String(A.device_id):"",swe_bench_run_id:b4(A.swe_bench_run_id)?globalThis.String(A.swe_bench_run_id):"",swe_bench_instance_id:b4(A.swe_bench_instance_id)?globalThis.String(A.swe_bench_instance_id):"",swe_bench_task_id:b4(A.swe_bench_task_id)?globalThis.String(A.swe_bench_task_id):"",email:b4(A.email)?globalThis.String(A.email):""}},toJSON(A){let Q={};if(A.event_name!==void 0)Q.event_name=A.event_name;if(A.client_timestamp!==void 0)Q.client_timestamp=A.client_timestamp.toISOString();if(A.model!==void 0)Q.model=A.model;if(A.session_id!==void 0)Q.session_id=A.session_id;if(A.user_type!==void 0)Q.user_type=A.user_type;if(A.betas!==void 0)Q.betas=A.betas;if(A.env!==void 0)Q.env=LmA.toJSON(A.env);if(A.entrypoint!==void 0)Q.entrypoint=A.entrypoint;if(A.agent_sdk_version!==void 0)Q.agent_sdk_version=A.agent_sdk_version;if(A.is_interactive!==void 0)Q.is_interactive=A.is_interactive;if(A.client_type!==void 0)Q.client_type=A.client_type;if(A.process!==void 0)Q.process=A.process;if(A.additional_metadata!==void 0)Q.additional_metadata=A.additional_metadata;if(A.auth!==void 0)Q.auth=vk.toJSON(A.auth);if(A.server_timestamp!==void 0)Q.server_timestamp=A.server_timestamp.toISOString();if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.swe_bench_run_id!==void 0)Q.swe_bench_run_id=A.swe_bench_run_id;if(A.swe_bench_instance_id!==void 0)Q.swe_bench_instance_id=A.swe_bench_instance_id;if(A.swe_bench_task_id!==void 0)Q.swe_bench_task_id=A.swe_bench_task_id;if(A.email!==void 0)Q.email=A.email;return Q},create(A){return MmA.fromPartial(A??{})},fromPartial(A){let Q=Mc6();return Q.event_name=A.event_name??"",Q.client_timestamp=A.client_timestamp??void 0,Q.model=A.model??"",Q.session_id=A.session_id??"",Q.user_type=A.user_type??"",Q.betas=A.betas??"",Q.env=A.env!==void 0&&A.env!==null?LmA.fromPartial(A.env):void 0,Q.entrypoint=A.entrypoint??"",Q.agent_sdk_version=A.agent_sdk_version??"",Q.is_interactive=A.is_interactive??!1,Q.client_type=A.client_type??"",Q.process=A.process??"",Q.additional_metadata=A.additional_metadata??"",Q.auth=A.auth!==void 0&&A.auth!==null?vk.fromPartial(A.auth):void 0,Q.server_timestamp=A.server_timestamp??void 0,Q.event_id=A.event_id??"",Q.device_id=A.device_id??"",Q.swe_bench_run_id=A.swe_bench_run_id??"",Q.swe_bench_instance_id=A.swe_bench_instance_id??"",Q.swe_bench_task_id=A.swe_bench_task_id??"",Q.email=A.email??"",Q}}});function Rc6(){return{event_id:"",event_timestamp:void 0,timestamp:void 0,experiment_id:"",variation_id:0,environment:"",user_attributes:"",experiment_metadata:"",device_id:"",auth:void 0,session_id:""}}function _c6(A){let Q=(A.seconds||0)*1000;return Q+=(A.nanos||0)/1e6,new globalThis.Date(Q)}function MbQ(A){if(A instanceof globalThis.Date)return A;else if(typeof A==="string")return new globalThis.Date(A);else return _c6(eHA.fromJSON(A))}function $R(A){return A!==null&&A!==void 0}var jj1;var ObQ=L(()=>{Rj1();Tj1();jj1={fromJSON(A){return{event_id:$R(A.event_id)?globalThis.String(A.event_id):"",event_timestamp:$R(A.event_timestamp)?MbQ(A.event_timestamp):void 0,timestamp:$R(A.timestamp)?MbQ(A.timestamp):void 0,experiment_id:$R(A.experiment_id)?globalThis.String(A.experiment_id):"",variation_id:$R(A.variation_id)?globalThis.Number(A.variation_id):0,environment:$R(A.environment)?globalThis.String(A.environment):"",user_attributes:$R(A.user_attributes)?globalThis.String(A.user_attributes):"",experiment_metadata:$R(A.experiment_metadata)?globalThis.String(A.experiment_metadata):"",device_id:$R(A.device_id)?globalThis.String(A.device_id):"",auth:$R(A.auth)?vk.fromJSON(A.auth):void 0,session_id:$R(A.session_id)?globalThis.String(A.session_id):""}},toJSON(A){let Q={};if(A.event_id!==void 0)Q.event_id=A.event_id;if(A.event_timestamp!==void 0)Q.event_timestamp=A.event_timestamp.toISOString();if(A.timestamp!==void 0)Q.timestamp=A.timestamp.toISOString();if(A.experiment_id!==void 0)Q.experiment_id=A.experiment_id;if(A.variation_id!==void 0)Q.variation_id=Math.round(A.variation_id);if(A.environment!==void 0)Q.environment=A.environment;if(A.user_attributes!==void 0)Q.user_attributes=A.user_attributes;if(A.experiment_metadata!==void 0)Q.experiment_metadata=A.experiment_metadata;if(A.device_id!==void 0)Q.device_id=A.device_id;if(A.auth!==void 0)Q.auth=vk.toJSON(A.auth);if(A.session_id!==void 0)Q.session_id=A.session_id;return Q},create(A){return jj1.fromPartial(A??{})},fromPartial(A){let Q=Rc6();return Q.event_id=A.event_id??"",Q.event_timestamp=A.event_timestamp??void 0,Q.timestamp=A.timestamp??void 0,Q.experiment_id=A.experiment_id??"",Q.variation_id=A.variation_id??0,Q.environment=A.environment??"",Q.user_attributes=A.user_attributes??"",Q.experiment_metadata=A.experiment_metadata??"",Q.device_id=A.device_id??"",Q.auth=A.auth!==void 0&&A.auth!==null?vk.fromPartial(A.auth):void 0,Q.session_id=A.session_id??"",Q}}});import{randomUUID as Tc6}from"crypto";import{existsSync as AFA,readFileSync as jc6,writeFileSync as Pc6,unlinkSync as RbQ,readdirSync as Sc6,mkdirSync as xc6}from"fs";import*as OmA from"path";function w3A(){return OmA.join(mQ(),"telemetry")}class Pj1{endpoint;timeout;maxQueuedEvents;maxBatchSize;batchDelayMs;baseBackoffDelayMs;maxBackoffDelayMs;pendingExports=[];isShutdown=!1;backoffRetryTimer=null;backoffAttempt=0;isRetrying=!1;constructor(A={}){let Q=process.env.ANTHROPIC_BASE_URL||"https://api.anthropic.com";this.endpoint=`${Q}/api/event_logging/batch`,this.timeout=A.timeout||1e4,this.maxQueuedEvents=A.maxQueuedEvents||8192,this.maxBatchSize=A.maxBatchSize||200,this.batchDelayMs=A.batchDelayMs||100,this.baseBackoffDelayMs=A.baseBackoffDelayMs||500,this.maxBackoffDelayMs=A.maxBackoffDelayMs||30000,this.retryPreviousBatches()}getQueuedEventCount(){return this.loadEventsFromCurrentBatch().length}getCurrentBatchFilePath(){return OmA.join(w3A(),`${TbQ}${W0()}.${_bQ}.json`)}loadEventsFromFile(A){try{if(!AFA(A))return[];let Q=jc6(A,"utf8");return JSON.parse(Q)}catch{return[]}}loadEventsFromCurrentBatch(){return this.loadEventsFromFile(this.getCurrentBatchFilePath())}saveEventsToFile(A,Q){try{if(Q.length===0){if(AFA(A))RbQ(A)}else{if(!AFA(w3A()))xc6(w3A(),{recursive:!0});Pc6(A,JSON.stringify(Q),"utf8")}}catch(B){s(B)}}deleteFile(A){try{if(AFA(A))RbQ(A)}catch(Q){s(Q)}}retryPreviousBatches(){try{if(!AFA(w3A()))return;let A=`${TbQ}${W0()}.`,Q=Sc6(w3A()).filter((B)=>B.startsWith(A)&&B.endsWith(".json")).filter((B)=>!B.includes(_bQ));for(let B of Q){let G=OmA.join(w3A(),B);this.retryFileInBackground(G)}}catch(A){s(A)}}async retryFileInBackground(A){let Q=this.loadEventsFromFile(A);if(Q.length===0){this.deleteFile(A);return}if((await this.sendEventsInBatches(Q)).length===0)this.deleteFile(A)}async export(A,Q){if(this.isShutdown){Q({code:er.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}let B=this.doExport(A,Q);this.pendingExports.push(B),B.finally(()=>{let G=this.pendingExports.indexOf(B);if(G>-1)this.pendingExports.splice(G,1)})}async doExport(A,Q){try{let B=A.filter((Y)=>Y.instrumentationScope?.name==="com.anthropic.claude_code.events");if(B.length===0){Q({code:er.ExportResultCode.SUCCESS});return}let G=this.transformLogsToEvents(B).events;if(G.length===0){Q({code:er.ExportResultCode.SUCCESS});return}let Z=await this.sendEventsInBatches(G);if(Z.length>0){this.queueFailedEvents(Z),this.scheduleBackoffRetry(),Q({code:er.ExportResultCode.FAILED,error:Error(`Failed to export ${Z.length} events`)});return}if(this.resetBackoff(),this.getQueuedEventCount()>0&&!this.isRetrying)this.retryFailedEvents();Q({code:er.ExportResultCode.SUCCESS})}catch(B){s(B),Q({code:er.ExportResultCode.FAILED,error:B instanceof Error?B:Error("Unknown export error")})}}async sendEventsInBatches(A){let Q=[];for(let G=0;G<A.length;G+=this.maxBatchSize)Q.push(A.slice(G,G+this.maxBatchSize));let B=[];for(let G=0;G<Q.length;G++){let Z=Q[G];try{await this.sendBatchWithRetry({events:Z})}catch{B.push(...Z)}if(G<Q.length-1&&this.batchDelayMs>0)await new Promise((Y)=>setTimeout(Y,this.batchDelayMs))}return B}queueFailedEvents(A){let Q=this.getCurrentBatchFilePath(),G=[...this.loadEventsFromFile(Q),...A],Z=G.slice(-this.maxQueuedEvents);G.length-Z.length>0,this.saveEventsToFile(Q,Z),s(Error(`1P event logging: ${A.length} events failed to export`))}scheduleBackoffRetry(){if(this.backoffRetryTimer||this.isRetrying||this.isShutdown)return;let A=this.backoffAttempt+1,Q=Math.min(this.baseBackoffDelayMs*A*A,this.maxBackoffDelayMs);this.backoffRetryTimer=setTimeout(()=>{this.backoffRetryTimer=null,this.retryFailedEvents()},Q)}async retryFailedEvents(){let A=this.getCurrentBatchFilePath();while(!this.isShutdown){let Q=this.loadEventsFromFile(A);if(Q.length===0)break;this.isRetrying=!0,this.backoffAttempt++,this.deleteFile(A);let B=await this.sendEventsInBatches(Q);if(this.isRetrying=!1,B.length>0){this.saveEventsToFile(A,B),this.scheduleBackoffRetry();return}this.resetBackoff()}}resetBackoff(){if(this.backoffAttempt=0,this.backoffRetryTimer)clearTimeout(this.backoffRetryTimer),this.backoffRetryTimer=null}async sendBatchWithRetry(A){let Q={"Content-Type":"application/json","User-Agent":iI(),"x-service-name":"claude-code"},G=!(QY(!0)||D4());if(!G&&RB()){let I=t6();if(I&&Jm(I.expiresAt))G=!0}let Z=G?{headers:{},error:"trust not established or Oauth token expired"}:GY(),Y=!Z.error,J=Y?{...Q,...Z.headers}:Q;try{let I=await wQ.post(this.endpoint,A,{timeout:this.timeout,headers:J});this.logSuccess(A.events.length,Y,I.data);return}catch(I){if(Y&&wQ.isAxiosError(I)&&I.response?.status===401){let X=await wQ.post(this.endpoint,A,{timeout:this.timeout,headers:Q});this.logSuccess(A.events.length,!1,X.data);return}throw I}}logSuccess(A,Q,B){}hrTimeToDate(A){let[Q,B]=A;return new Date(Q*1000+B/1e6)}transformLogsToEvents(A){let Q=[];for(let B of A){let G=B.attributes||{};if(G.event_type==="GrowthbookExperimentEvent"){let K=this.hrTimeToDate(B.hrTime);Q.push({event_type:"GrowthbookExperimentEvent",event_data:jj1.toJSON({event_id:G.event_id,event_timestamp:K,timestamp:K,experiment_id:G.experiment_id,variation_id:G.variation_id,environment:G.environment,user_attributes:G.user_attributes,experiment_metadata:G.experiment_metadata,device_id:G.device_id})});continue}let Z=G.event_name||B.body||"unknown",Y=G.core_metadata,J=G.user_metadata,I=G.event_metadata||{};if(!Y){Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),session_id:W0(),additional_metadata:JSON.stringify({transform_error:"core_metadata attribute is missing"})})});continue}let X=wbQ(Y,J,I),W={...X.additional};Q.push({event_type:"ClaudeCodeInternalEvent",event_data:MmA.toJSON({event_name:Z,client_timestamp:this.hrTimeToDate(B.hrTime),device_id:G.user_id,email:J?.email,...X.core,env:X.env,process:X.process,additional_metadata:Object.keys(W).length>0?JSON.stringify(W):void 0})})}return{events:Q}}async shutdown(){this.isShutdown=!0,this.resetBackoff(),await this.forceFlush()}async forceFlush(){await Promise.all(this.pendingExports)}}var er,_bQ,TbQ="1p_failed_events.";var jbQ=L(()=>{b8();Y0();h1();lD();F2();Xq();$3A();g0();xQ();LbQ();ObQ();rQ();er=o(Q8(),1),_bQ=Tc6()});import{randomUUID as PbQ}from"crypto";function vc6(){return ybQ(yc6,{})}function Sj1(A){let B=vc6()[A];if(!B)return null;let G=B.sample_rate;if(typeof G!=="number"||G<0||G>1)return null;if(G>=1)return null;if(G<=0)return 0;return Math.random()<G?G:0}async function xj1(){if(!N3A)return;try{await N3A.shutdown()}catch{}}function aHA(){if(aX())return!1;return x5("tengu_log_1p_events")}async function kc6(A,Q,B={}){try{let G=await Ld({model:B.model}),Z={event_name:Q,event_id:PbQ(),core_metadata:G,user_metadata:As(!0),event_metadata:B},Y=kk();if(Y)Z.user_id=Y;A.emit({body:Q,attributes:Z})}catch(G){}}function yj1(A,Q={}){if(!aHA())return;if(!QFA)return;kc6(QFA,A,Q)}function fc6(){return"production"}function JbQ(A){if(!aHA())return;if(!QFA)return;let Q=kk(),B={event_type:"GrowthbookExperimentEvent",event_id:PbQ(),experiment_id:A.experimentId,variation_id:A.variationId,...Q&&{device_id:Q},...A.userAttributes&&{session_id:A.userAttributes.sessionId,user_attributes:JSON.stringify(A.userAttributes)},...A.experimentMetadata&&{experiment_metadata:JSON.stringify(A.experimentMetadata)},environment:fc6()};QFA.emit({body:"growthbook_experiment",attributes:B})}function xbQ(){if(L9("1p_event_logging_start"),!aHA())return;let Q=q3A("tengu_1p_event_batch_config",{});L9("1p_event_after_statsig_config");let B=Q.scheduledDelayMillis||parseInt(process.env.OTEL_LOGS_EXPORT_INTERVAL||bc6.toString()),G=Q.maxExportBatchSize||hc6,Z=Q.maxQueueSize||gc6,Y=dQ(),J={[_mA.ATTR_SERVICE_NAME]:"claude-code",[_mA.ATTR_SERVICE_VERSION]:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION};if(Y==="wsl"){let W=ua();if(W)J["wsl.version"]=W}let I=SbQ.resourceFromAttributes(J),X=new Pj1({maxQueuedEvents:Z,maxBatchSize:G});N3A=new RmA.LoggerProvider({resource:I,processors:[new RmA.BatchLogRecordProcessor(X,{scheduledDelayMillis:B,maxExportBatchSize:G,maxQueueSize:Z})]}),QFA=N3A.getLogger("com.anthropic.claude_code.events",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION),U8(async()=>{await N3A?.forceFlush()}),process.on("beforeExit",async()=>{await N3A?.forceFlush()})}var RmA,SbQ,_mA,yc6="tengu_event_sampling_config",QFA=null,N3A=null,bc6=5000,hc6=200,gc6=8192;var oHA=L(()=>{xQ();J4();Mr();jbQ();k3();bW();$3A();Y0();Ta();h1();Sk();RmA=o(gT1(),1),SbQ=o(e6A(),1),_mA=o(vr(),1)});var gbQ=w((M77,hbQ)=>{var bbQ=qA("child_process"),vbQ=bbQ.spawn,uc6=bbQ.exec;hbQ.exports=function(A,Q,B){if(typeof Q==="function"&&B===void 0)B=Q,Q=void 0;if(A=parseInt(A),Number.isNaN(A))if(B)return B(Error("pid must be a number"));else throw Error("pid must be a number");var G={},Z={};switch(G[A]=[],Z[A]=1,process.platform){case"win32":uc6("taskkill /pid "+A+" /T /F",B);break;case"darwin":vj1(A,G,Z,function(Y){return vbQ("pgrep",["-P",Y])},function(){kbQ(G,Q,B)});break;default:vj1(A,G,Z,function(Y){return vbQ("ps",["-o","pid","--no-headers","--ppid",Y])},function(){kbQ(G,Q,B)});break}};function kbQ(A,Q,B){var G={};try{Object.keys(A).forEach(function(Z){if(A[Z].forEach(function(Y){if(!G[Y])fbQ(Y,Q),G[Y]=1}),!G[Z])fbQ(Z,Q),G[Z]=1})}catch(Z){if(B)return B(Z);else throw Z}if(B)return B()}function fbQ(A,Q){try{process.kill(parseInt(A,10),Q)}catch(B){if(B.code!=="ESRCH")throw B}}function vj1(A,Q,B,G,Z){var Y=G(A),J="";Y.stdout.on("data",function(W){var W=W.toString("ascii");J+=W});var I=function(X){if(delete B[A],X!=0){if(Object.keys(B).length==0)Z();return}J.match(/\d+/g).forEach(function(W){W=parseInt(W,10),Q[A].push(W),Q[W]=[],B[W]=1,vj1(W,Q,B,G,Z)})};Y.on("close",I)}});class BFA{capacity;buffer;head=0;size=0;constructor(A){this.capacity=A;this.buffer=Array(A)}add(A){if(this.buffer[this.head]=A,this.head=(this.head+1)%this.capacity,this.size<this.capacity)this.size++}addAll(A){for(let Q of A)this.add(Q)}getRecent(A){let Q=[],B=this.size<this.capacity?0:this.head,G=Math.min(A,this.size);for(let Z=0;Z<G;Z++){let Y=(B+this.size-G+Z)%this.capacity;Q.push(this.buffer[Y])}return Q}toArray(){if(this.size===0)return[];let A=[],Q=this.size<this.capacity?0:this.head;for(let B=0;B<this.size;B++){let G=(Q+B)%this.capacity;A.push(this.buffer[G])}return A}clear(){this.head=0,this.size=0}length(){return this.size}}function kj1(A,Q=",",B=67108736){let Z="";for(let Y of A){let J=Z?Q:"",I=J+Y;if(Z.length+I.length<=B)Z+=I;else{let X=B-Z.length-J.length-14;if(X>0)Z+=J+Y.slice(0,X)+"...[truncated]";else Z+="...[truncated]";return Z}}return Z}class L3A{maxSize;content="";isTruncated=!1;totalBytesReceived=0;constructor(A=67108736){this.maxSize=A}append(A){let Q=typeof A==="string"?A:A.toString();if(this.totalBytesReceived+=Q.length,this.isTruncated&&this.content.length>=this.maxSize)return;if(this.content.length+Q.length>this.maxSize){let B=this.maxSize-this.content.length;if(B>0)this.content+=Q.slice(0,B);this.isTruncated=!0}else this.content+=Q}toString(){if(!this.isTruncated)return this.content;let A=this.totalBytesReceived-this.maxSize,Q=Math.round(A/1024);return this.content+`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js | sort -u"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 77ms:[0m
[2mbundles/ClaudeAgentSDKCode/cli.js:VERSION:"2.0.0"
bundles/ClaudeAgentSDKCode/cli.js:VERSION:"2.0.67"
bundles/ClaudeCodeCode/cli.js:VERSION:"2.0.0"
bundles/ClaudeCodeCode/cli.js:VERSION:"2.0.69"[0m



[35m[3mthinking[0m[0m
**Evaluating code references**

I'm noting that our line references are correct, but the report needs to reflect what the code actually shows. I think the easiest approach is to use existing TypeScript modules and my understanding to summarize, while ensuring I don't guess. Reading minified code can be challenging, though the encyclopedia seems accurate in some parts. I should identify any discrepancies, like wrong line numbers or missing canonical names. I also need to clarify behaviors like timeout durations.
[35m[3mthinking[0m[0m
**Checking endpoint logic**

I'm looking into how the endpoint is allowed when experimental features are enabled and if `ENABLE_MCP_CLI_ENDPOINT` isn't turned off. The code backs this up. However, in TypeScript, the gates may be computed differently, possibly showing the name `enableMcpCliEndpoint` as the opposite. I want to check the `getMcpCliEndpoint` loader, which uses different methods. The encyclopedia might contain discrepancies in later chapters, so I'll gather relevant canonical TypeScript lines and quickly inspect them.
[35m[3mthinking[0m[0m
**Extracting canonical TS names**

I want to extract all canonical TypeScript names from the file, so I'll use the command `rg -n 'Canonical TS:' CLI_ENCYCLOPEDIA.md`. This will help me gather the relevant information I need. It‚Äôs a straightforward approach, and I‚Äôm curious to see what canonical names I find. This step should make it easier to check against any discrepancies I‚Äôve noticed in the encyclopedia or TypeScript documentation. Let's get that data!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "''^Canonical TS:" CLI_ENCYCLOPEDIA.md | head -100'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 90ms:[0m
[2m110:Canonical TS:
123:Canonical TS:
138:Canonical TS:
158:Canonical TS:
175:Canonical TS:
191:Canonical TS:
218:Canonical TS:
237:Canonical TS:
248:Canonical TS:
259:Canonical TS:
271:Canonical TS:
299:Canonical TS:
327:Canonical TS:
350:Canonical TS:
369:Canonical TS:
392:Canonical TS:
431:Canonical TS:
547:Canonical TS:
561:Canonical TS:
617:Canonical TS:[0m

[35m[3mthinking[0m[0m
**Analyzing TS blocks**

I'm looking at the 43 canonical TS blocks, each corresponding to major features in the early chapters, while the later chapters might be incomplete. I think I can extract the canonical TS names from lines following each "Canonical TS:" block. I might need to parse them using sed. For checking TS coverage, I want to ensure these canonical names are actually implemented, but they might have different naming conventions. For instance, I'll search for the string 'getMcpToolTimeoutMs'.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "getMcpToolTimeoutMs|getMcpCliEndpoint|shouldUseMcpCliEndpoint|ConnectionFailedError" src | head -50'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 78ms:[0m
[2msrc/core/mcp/endpointTransport.ts:5:import { AuthFailedError, ConfigMissingError, ConnectionFailedError, HandshakeTimeoutError, ProtocolError, RateLimitedError, toMcpError } from "./errors.js";
src/core/mcp/endpointTransport.ts:48:  return new ConnectionFailedError(e.message, { cause: err, retryable: true });
src/core/mcp/endpointTransport.ts:59:  if (status >= 500) return new ConnectionFailedError(msg, { retryable: true, details: body });
src/core/mcp/errors.ts:42:export class ConnectionFailedError extends McpError {
src/core/mcp/errors.ts:45:    this.name = "ConnectionFailedError";[0m

[35m[3mthinking[0m[0m
**Investigating error types**

I'm looking into the ConnectionFailedError in TS, noting that it extends from McpError. This aligns with what the encyclopedia defines as error types. I also wonder about the canonical TS names like `shouldUseMcpCliEndpoint`, as their implementations may vary depending on the gates and provider. It feels like there‚Äôs still more to uncover, so I‚Äôll have to search for additional details to clarify these implementations further!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "shouldUseMcpCliEndpoint|getMcpCliEndpoint|getMcpToolTimeout|MCP_TOOL_TIMEOUT" src | head -80'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 92ms:[0m
[2msrc/spec/legacy/mcpCli.ts:4:  mcpToolTimeout: "MCP_TOOL_TIMEOUT",
src/spec/legacy/envFlags.ts:21:  { name: "MCP_TOOL_TIMEOUT", kind: "settingsOverlay", notes: "Maps to MCP tool timeout in effective config" },
src/spec/legacy/envFlags.ts:65:    mcpToolTimeoutMs: parseIntEnv(env["MCP_TOOL_TIMEOUT"]),
src/core/settings/effectiveConfig.ts:18:  { key: "MCP_TOOL_TIMEOUT", kind: "env_alias", notes: "CLI env overlay for MCP timeouts" },
src/core/settings/effectiveConfig.ts:70:    mcpToolTimeoutMs: parseIntEnv(env["MCP_TOOL_TIMEOUT"]),
src/core/settings/manager.ts:95:      MCP_TOOL_TIMEOUT: proc.getEnv("MCP_TOOL_TIMEOUT"),[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,140p' src/core/settings/effectiveConfig.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 75ms:[0m
[2mimport type { HostCapabilities } from "../types/host.js";
import type { JsonObject } from "../types/json.js";
import type { SettingsPolicyOrigin, SettingsSourceReadResult } from "./types.js";

export type FeatureGateKind = "portable" | "host_only" | "env_alias";

export type FeatureGateDescriptor = {
  key: string;
  kind: FeatureGateKind;
  notes?: string;
};

export const LEGACY_FEATURE_GATES: readonly FeatureGateDescriptor[] = [
  { key: "disableAllHooks", kind: "portable" },
  { key: "allowManagedHooksOnly", kind: "portable", notes: "Policy-only gate; excludes non-managed hooks" },
  { key: "ENABLE_EXPERIMENTAL_MCP_CLI", kind: "env_alias", notes: "CLI-only MCP CLI entrypoint gate" },
  { key: "ENABLE_MCP_CLI_ENDPOINT", kind: "env_alias", notes: "CLI-only MCP endpoint-mode gate" },
  { key: "MCP_TOOL_TIMEOUT", kind: "env_alias", notes: "CLI env overlay for MCP timeouts" },
  { key: "MAX_MCP_OUTPUT_TOKENS", kind: "env_alias", notes: "CLI env overlay for MCP token caps" }
];[0m





[35m[3mthinking[0m[0m
**Planning section checks**

I‚Äôm diving into the feature gates described in the encyclopedia, and it looks good so far. Now, I need to ensure we handle all sections consistently. Since there are many sections with canonical TS names, I want to check if TS has them, especially for permissions and settings. Actually, I see that TS has a settings system and possibly a permissions system. So, I‚Äôll compile a list of major sections to check. Here are the major headings from earlier: 

1) How to read minified symbols
2) Canonicalization strategy
3) TS rewrite notes
4) Chapter 1 plus 1.1-1.9
5) Chapter 2 plus 2.1-2.2
... and so on through Chapter 13 and the next chapters.
[35m[3mthinking[0m[0m
**Auditing sections systematically**

I'm looking into section 47, which includes 1.1 and similar parts. Instead of reading through every piece of content manually, I think a heuristic approach will be more efficient for my audit.

For early chapters 1-5, it seems TS likely has partial implementations, so I‚Äôll cross-check those. For chapters 6-13, I suspect there may be minimal or no implementations. I‚Äôll need to confirm the encyclopedia against CLI.js, relying on citations and spot-checking.

It might be easiest to track which environment variables and function names are in the bundle for each section. For sections 6-13, I could note them as ‚Äúnot verified/needs expansion‚Äù but still conduct an audit. I plan to use line numbers from the encyclopedia file to summarize each section efficiently.
[35m[3mthinking[0m[0m
**Planning automated audit report**

I see there are 47 sections to audit, and it would be great to automate this parsing. The plan is to verify everything first, though. So, I‚Äôm thinking about writing a script to create an audit skeleton. This will cover each heading with citations, canonical TS names, and the presence of search results.

The script could output markdown, summarizing each section. I‚Äôll probably grab the first paragraph after the heading for summaries, but it might get lengthy. To keep it concise, I can approximate each summary by stating, ‚ÄúSection documents X and details Y by listing functions A, B‚Ä¶‚Äù The user wants a thorough investigation, so I‚Äôll ensure the report is partly automated, providing a truncated view of the first few lines for each section without overwhelming details.
[35m[3mthinking[0m[0m
**Creating an output generation script**

Since we‚Äôre writing to a file instead of messaging, we can handle a longer output, which is manageable. I think it could be easier to write a script for accurate output than to do it manually. I‚Äôm considering making a Node script called `scripts/verify-encyclopedia-iteration2.mjs`. However, running it directly in the shell sounds like a good plan to create the output file via apply_patch.

The user wants the output in the investigation/iteration-2 directory, so I‚Äôll work on that. It seems we can run the script temporarily with `node -e` or `bun -e` to generate markdown, and I shouldn't add unnecessary complexity. I‚Äôll keep it minimal, and while I might not need to keep the script long-term, it could be helpful for this task. Alternatively, I could use shell tools like awk, but Node seems easier for this.
[35m[3mthinking[0m[0m
**Generating the investigation report**

The goal is to create a report file, not modify code. I‚Äôm planning to write a report using `apply_patch`, drawing from the analysis steps. I can run a Node script to generate a skeleton for the report and automatically fill in a lot of the data.

To make it accurate, I‚Äôll execute a series of steps: First, parse headings and sections. For each section, I‚Äôll include references and code confirmations. I‚Äôll summarize findings like how many citations exist, along with example snippets. 

We can also note that TypeScript implementations may not match canonical names exactly, emphasizing that canonical names are more aspirational. I need to compare actual TS coverage rather than just the names, which might differ. I‚Äôll check additional details on how options like `--timeout` are being handled within the code.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "timeoutMs|mcpToolTimeoutMs|MCP_TOOL_TIMEOUT" src/cli/mcpCli.ts'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 104ms:[0m
[2m48:  timeoutMs: number | undefined;
55:  let timeoutMs: number | undefined = undefined;
70:      if (Number.isFinite(n)) timeoutMs = n;
88:    if (a === "--help") return { cmd: null, positionals: [], json, timeoutMs, endpointUrl, endpointBearerKey, serverId };
94:  return { cmd, positionals: positionals.slice(1), json, timeoutMs, endpointUrl, endpointBearerKey, serverId };
352:            { serverId: parsedTarget.serverId, tool: parsedTarget.tool, args, timeoutMs: parsed.timeoutMs ?? gates.mcpToolTimeoutMs ?? 100_000_000 },
370:        const timeoutMs = parsed.timeoutMs ?? gates.mcpToolTimeoutMs ?? undefined;
371:        const result = await withTelemetry("read", async () => await client.readResource(server, uri, timeoutMs !== undefined ? { timeoutMs } : undefined));[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "Chrome Native Host|length-prefixed|readUInt32LE" src | head -50'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 80ms:[0m
[2msrc/platform/desktop/chromeNativeMessaging.ts:8:  console.error(`[Claude Chrome Native Host] ${message}`, ...args);
src/platform/desktop/chromeNativeMessaging.ts:46:    const len = this.buffer.readUInt32LE(0);
src/platform/desktop/chromeNativeMessaging.ts:65:      const len = this.buffer.readUInt32LE(0);[0m

[35m[3mthinking[0m[0m
**Exploring TS structure**

I see that TS has components like the CLI bootstrap in `src/cli.ts` ‚Äî that makes sense! Now, regarding permissions, rules, and tool approval, I‚Äôm guessing they‚Äôre located in `src/core/permissions`. I should definitely do a search in that area to confirm. It's essential to ensure I understand the structure properly to help with whatever I need to accomplish. Let‚Äôs dig deeper into that folder!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "find src -maxdepth 3 -type d -name '*permission*' -o -name '*sandbox*' -o -name '*rule*' | sed -n '1,200p'"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 81ms:[0m
[2msrc/core/permissions
src/core/permissions/rules.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "ls -la src/core/permissions && sed -n '1,260p' src/core/permissions/rules.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 76ms:[0m
[2mtotal 224
drwxr-xr-x  23 ronaldeddings  staff   736 Dec 17 10:35 .
drwxr-xr-x  20 ronaldeddings  staff   640 Dec 20 09:57 ..
-rw-r--r--   1 ronaldeddings  staff  2234 Dec 17 10:38 bash.ts
-rw-r--r--   1 ronaldeddings  staff  1409 Dec 17 10:31 broker.ts
-rw-r--r--   1 ronaldeddings  staff  2418 Dec 17 10:29 cache.ts
-rw-r--r--   1 ronaldeddings  staff  4686 Dec 17 10:39 context.ts
-rw-r--r--   1 ronaldeddings  staff  8443 Dec 17 10:39 evaluate.ts
-rw-r--r--   1 ronaldeddings  staff  1749 Dec 17 10:27 explain.ts
-rw-r--r--   1 ronaldeddings  staff  2918 Dec 17 10:31 gate.ts
-rw-r--r--   1 ronaldeddings  staff   608 Dec 17 10:37 index.ts
-rw-r--r--   1 ronaldeddings  staff   714 Dec 17 10:23 modes.ts
-rw-r--r--   1 ronaldeddings  staff  5249 Dec 17 10:38 network.ts
-rw-r--r--   1 ronaldeddings  staff   811 Dec 17 10:33 networkApprovals.ts
-rw-r--r--   1 ronaldeddings  staff  2214 Dec 17 10:31 networkQueue.ts
-rw-r--r--   1 ronaldeddings  staff  7922 Dec 17 10:39 persistence.ts
-rw-r--r--   1 ronaldeddings  staff  3091 Dec 17 10:26 policy.ts
-rw-r--r--   1 ronaldeddings  staff  3495 Dec 17 10:41 prompt.ts
-rw-r--r--   1 ronaldeddings  staff  1585 Dec 17 10:40 redaction.ts
-rw-r--r--   1 ronaldeddings  staff  2504 Dec 20 09:57 rules.ts[0m

[35m[3mthinking[0m[0m
**Analyzing encyclopedia sections**

Okay, so I'm thinking we can open relevant ranges for each section, even if it's huge. The plan is to quickly gather the main chapters first using a command like `sed -n '80,420p'`. That way, I can examine everything in parts. I‚Äôm just trying to ensure we're thorough in our analysis without getting overwhelmed by the size. Seems like a solid approach to keep it manageable!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '70,420p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 82ms:[0m
[2m- Uses a Claude Code-like User-Agent: `claude-cli/<version> (external, sdk-cli)`
- Sends `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20` (plus the usual Claude Code beta defaults)
- Calls the stable Messages endpoint (`/v1/messages`) rather than `/v1/messages?beta=true`
- For OAuth, sends the identifying system prompt as its own system block: `You are Claude Code, Anthropic's official CLI for Claude.`

Refresh and OAuth‚ÜíAPI-key exchange exist as code paths but are intentionally gated behind env flags; do not enable them until the basic `-p` flow is validated.

Reference points in this repo:

- `src/cli/prompt.ts`
- `tests/phase12-cli-entrypoint.test.ts`

# Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)

This subsystem exposes an internal CLI mode (triggered by `--mcp-cli`) that can:

- list MCP servers
- list tools/resources
- grep tools
- fetch tool schema info[0m

[35m[3mthinking[0m[0m
**Checking chapter content**

I've confirmed that chapters 1 and 2 match our TS files and bundle lines, which is great! Now, I need to check the subsequent chapters‚Äî3.1, 4.x, 5.x, and so on‚Äîin the same way. I plan on opening relevant ranges from the encyclopedia for each chapter section. I think I‚Äôll inspect them quickly within the ranges of about 420 to 980. This should help keep everything aligned. Let's see what we find!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '420,980p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 77ms:[0m
[2m- Reads `len = buffer.readUInt32LE(0)`.
  - if `len===0` or `len > MAX`: log ‚ÄúInvalid message length‚Äù; resolve `null`.
- Needs `4 + len` bytes buffered; otherwise waits for more data.
- Extracts JSON bytes, advances buffer, resolves the pending promise with UTF-8 string.

`async read()`:

- If already closed, returns `null`.
- If buffer already contains a full message, returns it immediately (no promise allocation).
- Else returns a promise that will be resolved by `tryProcessMessage()` when enough bytes arrive.

Canonical TS:

- `class NativeHostReader { read(): Promise<string | null> }`

---

# Chapter 3 ‚Äî CLI bootstrap / fast paths

## 3.1 Entry function: `dD5()` vs `XF5()`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,240p' src/core/permissions/types.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 73ms:[0m
[2mimport type { JsonObject } from "../types/json.js";
import type { EngineError } from "../types/errors.js";
import type { HostCapabilities } from "../types/host.js";
import type { EffectiveSettingsResult, SettingsSource, WritableSettingsSource } from "../settings/types.js";

export type PermissionRuleBehavior = "allow" | "deny" | "ask";

export type PermissionRuleSource = SettingsSource | (string & {});

export type PermissionMode = "default" | "plan" | "acceptEdits" | "bypassPermissions" | "dontAsk" | (string & {});

export type PermissionDiagnostic =
  | { kind: "unknown_permission_mode"; input: string; normalizedTo: "default" }
  | { kind: "invalid_tool_name"; input: string; normalizedTo: string }
  | { kind: "invalid_working_directory"; input: string; normalizedTo: string | null }
  | { kind: "invalid_network_target"; input: string; message: string };

export type PermissionRuleValue = { toolName: string; ruleContent?: string };

export type PermissionRule = {[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/permissions/bash.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 57ms:[0m
[2mimport type { BashRedirection } from "./types.js";

export type ParseBashRedirectionsResult = {
  commandWithoutRedirections: string;
  redirections: BashRedirection[];
};

function tokenizeBashLike(input: string): string[] {
  const tokens: string[] = [];
  let current = "";
  let quote: "'" | '"' | null = null;
  let escape = false;

  for (let i = 0; i < input.length; i += 1) {
    const ch = input[i]!;

    if (escape) {
      current += ch;
      escape = false;
      continue;[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'find src/core/settings -maxdepth 2 -type f -print'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 62ms:[0m
[2msrc/core/settings/schema.ts
src/core/settings/manager.ts
src/core/settings/doctor.ts
src/core/settings/effectiveConfig.ts
src/core/settings/storage.ts
src/core/settings/secrets.ts
src/core/settings/sources.ts
src/core/settings/types.ts
src/core/settings/policy.ts
src/core/settings/index.ts
src/core/settings/legacyPaths.ts
src/core/settings/merge.ts
src/core/settings/bundle.ts
src/core/settings/patch.ts[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '960,1580p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 63ms:[0m
[2m
This subsystem is the single biggest ‚Äúhidden dependency‚Äù in the bundle. It provides:

- **settings sources** (user/project/local/policy/flag + non-file sources used by permissions)
- **file paths** for settings locations
- JSON parsing + schema validation
- a **merge strategy** to produce ‚Äúeffective settings‚Äù
- atomic writes for `settings.json` edits
- a file watcher + subscription mechanism so the UI/AppState can react to changes

It is not just ‚Äúconfig‚Äù: it drives permissions, sandboxing, hooks, model selection, MCP approvals, etc.

This chapter documents the first-party settings pipeline. The Zod schema itself (`Pb`/`Jb`) is large; we treat it as a type-level dependency for TS rewrite (you‚Äôll want to regenerate TS types from a schema source rather than reverse-engineering the bundled `Pb`/`Jb`).

## 5.1 Settings sources (conceptual model)

Across both builds you can identify these source keys (also used as permission rule sources in Chapter 4):

- File-backed sources:
  - `"userSettings"` ‚Äî user-wide settings[0m

[35m[3mthinking[0m[0m
**Considering chapter content**

I should include Chapter 6 as a separate section and summarize its content, which likely covers hooks and command execution. I also want to check if there are any hooks in TypeScript (TS). From what I gather, the hooks subsystem probably exists in the src/core/hooks directory. So, it looks like I have some investigating to do to ensure everything is covered properly! Let‚Äôs make sure I don't miss anything important.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "find src/core/hooks -maxdepth 2 -type f -print && sed -n '1,220p' src/core/hooks/index.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 94ms:[0m
[2msrc/core/hooks/legacyAsync.ts
src/core/hooks/matchers.ts
src/core/hooks/errors.ts
src/core/hooks/sources.ts
src/core/hooks/interpreter.ts
src/core/hooks/stream.ts
src/core/hooks/types.ts
src/core/hooks/session.ts
src/core/hooks/normalize.ts
src/core/hooks/toolPipeline.ts
src/core/hooks/index.ts
src/core/hooks/runner.ts
src/core/hooks/plugins.ts
export * from "./types.js";
export * from "./errors.js";
export * from "./matchers.js";
export * from "./normalize.js";
export * from "./sources.js";
export * from "./session.js";
export * from "./stream.js";[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '2060,2125p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 89ms:[0m
[2m  - re-queues the previous `current` (if any) plus the existing queue *after filtering*:
    - drop other `"immediate"` notifications
    - drop notifications whose `key` is in `invalidates`
  - when the timeout fires, it clears `current` (if still the same key) and removes invalidated queued items

- Else (non-immediate):
  - enqueues only if its `key` is not already present in queue and not currently displayed
  - drops queued items that are invalidated by the new notification
  - triggers ‚Äúdrain‚Äù (see below)

Canonical TS:

```ts
type NotificationPriority = "immediate" | "high" | "medium" | "low";

type Notification = {
  key: string;
  text: string;
  priority: NotificationPriority;
  color?: "warning" | "error" | "info" | string;[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '2750,2795p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 43ms:[0m
[2mBoth versions share:

- tool permission prompts (per-tool allow/deny)
- worker permission prompts (leader approves tool uses)
- elicitation prompts
- transcript mode and hotkeys (just minified name differences)
- IDE onboarding + auto-connect scaffolding

---

## Chapter 10 ‚Äî Session browser / resume picker UI

This chapter documents the ‚Äúpick a conversation to resume‚Äù screen. It exists in both builds and shows a searchable list of prior sessions, then transitions into the main REPL with the loaded conversation.

There are two layers:

1. The *screen* component that handles loading logs and then mounting the main REPL after selection:
   - 2.0.69: `vd2(...)`
   - 2.0.67: `jm2(...)`
2. The *list* component that renders the session list and handles filtering/search/rename/preview:[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '2380,2425p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 40ms:[0m
[2m
After resolution, it retries the checks and continues.

Note: the CLI entrypoint for `--teleport <id>` still calls `IQ1/WQ1` (hard error) before `VrB/boB`, so interactive stash UI may not be reached unless the repo is already clean.

---

## Chapter 9 ‚Äî Main REPL UI (Ink/React root component)

This chapter documents the ‚Äúmain app‚Äù React component that powers the interactive CLI UI (the REPL). It is the backbone that:

- holds the conversation messages and streaming state
- parses/executes slash commands and ‚Äúmodes‚Äù (prompt vs bash, etc.)
- constructs the tool-use context passed into the model loop
- renders overlays for permission prompts, message selector, IDE onboarding, cost notices, etc.
- brokers sandbox networking decisions (2.0.69 adds ‚Äúworker/leader mediated‚Äù network approval)

### 9.1 Symbol map (2.0.67 ‚Üî 2.0.69)

Core component + AppState:[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '3030,3095p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 33ms:[0m
[2m
- groups logs by session id (and/or fork lineage) using `GI5/gY5`
- renders an ‚Äúexpanded‚Äù tree UI (`sv2/Av2`) with:
  - a group header node
  - child nodes for forks
- maintains a `Set` of expanded group keys to remember expand/collapse state

When the flag is disabled, it renders a plain options list (`S0`).

---

## Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)

This chapter covers the CLI‚Äôs ‚Äúslash command‚Äù system as it appears in the bundles, and then documents `/resume` end-to-end because it is both user-facing and a key integration point for session persistence.

### 11.1 Command ‚Äúkinds‚Äù in the bundle

Commands are objects carried around in arrays and passed into the UI root (`b0A/r0A`). There are multiple command kinds; the bundle most clearly shows:

1. **`type: "local-jsx"`**[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1285,1365p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 29ms:[0m
[2m
- 2.0.67: `AiQ(path)` returns the source key by searching `wL.find((src) => xF(src) === path)`
- 2.0.69: `kiQ(path)` uses `JL` and `qF`

### Subscription usage in the app

There is a React-side hook that listens for changes and updates AppState:

- 2.0.67: `I8A(callback)` calls `hR()` then `CQ()` before invoking the callback
- 2.0.69: `V8A(callback)` calls `TR()` then `NQ()`

Canonical TS:

- `interface SettingsEvents { subscribe(cb: (source: SettingsSource, effective: ClaudeCodeSettings) => void): Unsubscribe; markInternalWrite(source: WritableSettingsSource): void; notifyChange(source: SettingsSource): void }`
- `initializeSettingsWatcher(): void`

---

## Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '3395,3465p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 27ms:[0m
[2m  - ‚Äúsystem‚Äù (from PATH, with an explicit path)

### 12.8 Auto-updater notifications surfacing in the main UI

The REPL root component stores an ‚Äúauto updater result‚Äù object in state and, when present, pushes any `notifications` into AppState‚Äôs notification queue with low priority:

- `addNotification({ key: "auto-updater-notification", text: ..., priority: "low" })`

This is how background update checks can surface ‚Äúthere is a newer version‚Äù hints without interrupting the main loop.

---

## Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)

This chapter documents two built-in ‚Äúbackground‚Äù subsystems intended to run in the **main REPL thread**:

1. **Magic Docs**: keeps special docs current by re-running an **Edit-only** agent against files marked with `# MAGIC DOC: ...`.
2. **Session quality classifier**: classifies the current conversation for telemetry signals (frustration + explicit ‚Äúcreate a PR‚Äù requests).

As we keep digging, Chapter 13 is also becoming the place to document two additional ‚Äúbackground-ish‚Äù subsystems that share a similar shape (agent-like logic + feature flags + intended-to-run automatically):[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '3165,3225p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 25ms:[0m
[2m
### 11.7 Version differences highlighted by `/review` (a prompt command)

The `/review` command shows how command behavior changes across versions:

- 2.0.67: `/review` is a built-in `type: "prompt"` command that instructs Claude to:
  - use GitHub CLI (`gh pr ...`) via Bash
  - fetch diff and provide a code review
- 2.0.69: `/review` still exists but is replaced with a message telling the user it has moved to a plugin:
  - ‚Äúinstall code-review@claude-code-marketplace‚Äù
  - ‚Äúrun /code-review:code-review‚Äù

This is important for a unified TS rewrite: you‚Äôll need to decide whether ‚Äúmigrated to plugin‚Äù commands live in core or are generated from plugin metadata.

---

## Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep

This chapter documents the ‚Äúdistribution plumbing‚Äù baked into the CLI:
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '3385,3435p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 26ms:[0m
[2m  - runs `ripgrepMain(args)` and sets `process.exitCode`
  - returns without starting the main UI

This is used in native/bundled contexts where the ‚Äúreal rg binary‚Äù is shipped inside the app and can be accessed relative to the executable.

The doctor UI uses this indirectly:

- it prints a ‚ÄúSearch: OK/Not working‚Äù line and reports whether the active rg is:
  - ‚Äúbundled‚Äù (bun embedded)
  - ‚Äúvendor‚Äù (shipped under `vendor/ripgrep/...`)
  - ‚Äúsystem‚Äù (from PATH, with an explicit path)

### 12.8 Auto-updater notifications surfacing in the main UI

The REPL root component stores an ‚Äúauto updater result‚Äù object in state and, when present, pushes any `notifications` into AppState‚Äôs notification queue with low priority:

- `addNotification({ key: "auto-updater-notification", text: ..., priority: "low" })`

This is how background update checks can surface ‚Äúthere is a newer version‚Äù hints without interrupting the main loop.
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1840,1895p' CLI_ENCYCLOPEDIA.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 25ms:[0m
[2m- `SessionEnd` hooks (`RG0/nG0`)
- `PreCompact` hooks (`Y10/R10`)
- status line and file suggestion commands (`e60/U80`, `k60/A80`)

### 6.11 SessionEnd hook cleanup

After running `SessionEnd` hooks:

- The system prints failures to stderr:
  - `SessionEnd hook [<command>] failed: <output>`
- If a `setAppState` callback is provided, it clears all session hooks for the current session:
  - 2.0.67: `RG0(...)` calls `jB1(setAppState, W0())`
  - 2.0.69: `nG0(...)` does the same

This prevents session hooks from persisting into future sessions.

---

## Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)
[0m

[35m[3mthinking[0m[0m
**Verifying UI details**

I‚Äôm diving into the later chapters that cover UI and background agents. It seems like TS might not implement them fully, so I‚Äôll mark those sections as partial or unimplemented. However, I need to confirm the accuracy of the encyclopedia. I‚Äôll check if the referenced line numbers and symbols exist in the bundles. For instance, I‚Äôll look at sample lines like 4543 and search for `tV5` around those areas. A quick inspection using sed should help me verify.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"\\btV5\\b|\\bUD5\\b|# MAGIC DOC\" bundles/ClaudeAgentSDKCode/cli.js bundles/ClaudeCodeCode/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 90ms:[0m
[2mbundles/ClaudeCodeCode/cli.js:4499:- Preserve the Magic Doc header exactly as-is: # MAGIC DOC: {{docTitle}}
bundles/ClaudeCodeCode/cli.js:4533:REMEMBER: Only update if there is substantial new information. The Magic Doc header (# MAGIC DOC: {{docTitle}}) must remain unchanged.`}async function UD5(){let A=jA(),Q=CD5(mQ(),"magic-docs","prompt.md");if(A.existsSync(Q))try{return A.readFileSync(Q,{encoding:"utf-8"})}catch{}return zD5()}function $D5(A,Q){let B=A;for(let[G,Z]of Object.entries(Q))B=B.replace(new RegExp(`\\{\\{${G}\\}\\}`,"g"),Z);return B}async function lm2(A,Q,B,G){let Z=await UD5(),Y=G?`
bundles/ClaudeAgentSDKCode/cli.js:4509:- Preserve the Magic Doc header exactly as-is: # MAGIC DOC: {{docTitle}}
bundles/ClaudeAgentSDKCode/cli.js:4543:REMEMBER: Only update if there is substantial new information. The Magic Doc header (# MAGIC DOC: {{docTitle}}) must remain unchanged.`}async function tV5(){let A=jA(),Q=rV5(uQ(),"magic-docs","prompt.md");if(A.existsSync(Q))try{return A.readFileSync(Q,{encoding:"utf-8"})}catch{}return sV5()}function eV5(A,Q){let B=A;for(let[G,Z]of Object.entries(Q))B=B.replace(new RegExp(`\\{\\{${G}\\}\\}`,"g"),Z);return B}async function uu2(A,Q,B,G){let Z=await tV5(),Y=G?`
bundles/ClaudeAgentSDKCode/cli.js:4690:`),await E6(1);break}await E6(0)}var dd2;var pd2=q(()=>{_0();fJA();U91();vQ();kr();Fy();MT();o2();Q0();pY();dd2=o(_R(),1)});import{homedir as HD5}from"node:os";import{join as FD5}from"node:path";function CD5(){let A=QQ.platform==="win32",Q=HD5();if(A)return FD5(Q,".local","bin","claude.exe").replace(/\//g,"\\");return"~/.local/bin/claude"}function ld2({messages:A}){if(A.length===0)return null;return n3.default.createElement(j,{flexDirection:"column",gap:0,marginBottom:1},n3.default.createElement(j,null,n3.default.createElement(z,{color:"warning"},X1.warning," Setup notes:")),A.map((Q,B)=>n3.default.createElement(j,{key:B,marginLeft:2},n3.default.createElement(z,{dimColor:!0},"‚Ä¢ ",Q))))}function zD5({onDone:A,force:Q,target:B}){let[G,Z]=n3.useState({type:"checking"});return n3.useEffect(()=>{async function Y(){try{f(`Install: Starting installation process (force=${Q}, target=${B})`),Z({type:"installing",version:B||"latest"}),f(`Install: Calling installLatest(force=true, target=${B}, forceReinstall=${Q})`);let I=await ph(!0,B,Q);if(f(`Install: installLatest returned version=${I.latestVersion}, wasUpdated=${I.wasUpdated}, lockFailed=${I.lockFailed}`),I.lockFailed)throw Error("Could not install - another process is currently installing Claude. Please try again in a moment.");if(!I.latestVersion)f("Install: Failed to retrieve version information during install",{level:"error"});if(!I.wasUpdated)f("Install: Already up to date");Z({type:"setting-up"});let X=await Hy(!0);if(f(`Install: Setup launcher completed with ${X.length} messages`),X.length>0)X.forEach((H)=>f(`Install: Setup message: ${H.message}`));f("Install: Cleaning up npm installations after successful install");let{removed:W,errors:K,warnings:V}=await mOA();if(W>0)f(`Cleaned up ${W} npm installation(s)`);if(K.length>0)f(`Cleanup errors: ${K.join(", ")}`);let E=uOA();if(E.length>0)f(`Shell alias cleanup: ${E.map((H)=>H.message).join("; ")}`);s("tengu_claude_install_command",{has_version:I.latestVersion?1:0,forced:Q?1:0});let D=[...V,...E.map((H)=>H.message)];if(X.length>0)Z({type:"set-up",messages:X.map((H)=>H.message)}),setTimeout(()=>{Z({type:"success",version:I.latestVersion||"current",setupMessages:[...X.map((H)=>H.message),...D]})},2000);else f("Install: Shell PATH already configured"),Z({type:"success",version:I.latestVersion||"current",setupMessages:D.length>0?D:void 0})}catch(J){f(`Install command failed: ${J}`,{level:"error"}),Z({type:"error",message:J instanceof Error?J.message:String(J)})}}Y()},[Q,B]),n3.useEffect(()=>{if(G.type==="success")setTimeout(()=>{A("Claude Code installation completed successfully",{display:"system"})},2000);else if(G.type==="error")setTimeout(()=>{A("Claude Code installation failed",{display:"system"})},3000)},[G,A]),n3.default.createElement(j,{flexDirection:"column",marginTop:1},G.type==="checking"&&n3.default.createElement(z,{color:"claude"},"Checking installation status..."),G.type==="cleaning-npm"&&n3.default.createElement(z,{color:"warning"},"Cleaning up old npm installations..."),G.type==="installing"&&n3.default.createElement(z,{color:"claude"},"Installing Claude Code native build ",G.version,"..."),G.type==="setting-up"&&n3.default.createElement(z,{color:"claude"},"Setting up launcher and shell integration..."),G.type==="set-up"&&n3.default.createElement(ld2,{messages:G.messages}),G.type==="success"&&n3.default.createElement(j,{flexDirection:"column",gap:1},n3.default.createElement(j,null,n3.default.createElement(z,{color:"success"},X1.tick," "),n3.default.createElement(z,{color:"success",bold:!0},"Claude Code successfully installed!")),n3.default.createElement(j,{marginLeft:2,flexDirection:"column",gap:1},G.version!=="current"&&n3.default.createElement(j,null,n3.default.createElement(z,{dimColor:!0},"Version: "),n3.default.createElement(z,{color:"claude"},G.version)),n3.default.createElement(j,null,n3.default.createElement(z,{dimColor:!0},"Location: "),n3.default.createElement(z,{color:"text"},CD5()))),n3.default.createElement(j,{marginLeft:2,flexDirection:"column",gap:1},n3.default.createElement(j,{marginTop:1},n3.default.createElement(z,{dimColor:!0},"Next: Run "),n3.default.createElement(z,{color:"claude",bold:!0},"claude --help"),n3.default.createElement(z,{dimColor:!0}," to get started"))),G.setupMessages&&n3.default.createElement(ld2,{messages:G.setupMessages})),G.type==="error"&&n3.default.createElement(j,{flexDirection:"column",gap:1},n3.default.createElement(j,null,n3.default.createElement(z,{color:"error"},X1.cross," "),n3.default.createElement(z,{color:"error"},"Installation failed")),n3.default.createElement(z,{color:"error"},G.message),n3.default.createElement(j,{marginTop:1},n3.default.createElement(z,{dimColor:!0},"Try running with --force to override checks"))))}var n3,id2;var nd2=q(()=>{hA();hA();Fy();Q0();_0();v2();R8();n3=o(KA(),1);id2={type:"local-jsx",name:"install",description:"Install Claude Code native build",argumentHint:"[options]",async call(A,Q,B){let G=B.includes("--force"),Y=B.filter((I)=>!I.startsWith("--"))[0],{unmount:J}=await O5(n3.default.createElement(zD5,{onDone:(I,X)=>{J(),A(I,X)},force:G,target:Y}))}}});function ad2({targetRepo:A,initialPaths:Q,onSelectPath:B,onCancel:G}){let[Z,Y]=wX.useState(Q),[J,I]=wX.useState(null),[X,W]=wX.useState(!1),K=wX.useCallback(async(E)=>{if(E==="cancel"){G();return}if(W(!0),I(null),await lh2(E,A)){B(E);return}ih2(A,E);let H=Z.filter((F)=>F!==E);Y(H),W(!1),I(`${E8(E)} no longer contains the correct repository. Select another path.`)},[A,Z,B,G]),V=[...Z.map((E)=>({label:`Use ${pA.bold(E8(E))}`,value:E})),{label:"Cancel",value:"cancel"}];return wX.default.createElement(WW,{title:"Teleport to Repo",onCancel:G,color:"background",borderDimColor:!0},Z.length>0?wX.default.createElement(wX.default.Fragment,null,wX.default.createElement(j,{flexDirection:"column",gap:1},J&&wX.default.createElement(z,{color:"error"},J),wX.default.createElement(z,null,"Open Claude Code in ",wX.default.createElement(z,{bold:!0},A),":")),X?wX.default.createElement(j,null,wX.default.createElement(d9,null),wX.default.createElement(z,null," Validating repository‚Ä¶")):wX.default.createElement(S0,{options:V,onChange:(E)=>void K(E),onCancel:G})):wX.default.createElement(j,{flexDirection:"column",gap:1},J&&wX.default.createElement(z,{color:"error"},J),wX.default.createElement(z,{dimColor:!0},"Run claude --teleport from a checkout of ",A)))}var wX;var od2=q(()=>{hA();Ox();G6();kG();N9();l51();o2();wX=o(KA(),1)});function sd2({onSelect:A,onCancel:Q,isEmbedded:B=!1}){let{rows:G}=SB(),[Z,Y]=F4.useState([]),[J,I]=F4.useState(null),[X,W]=F4.useState(!0),[K,V]=F4.useState(null),[E,D]=F4.useState(!1),[H,F]=F4.useState(!1),C=F4.useCallback(async()=>{try{W(!0),V(null);let b=await EM();I(b),f(`Current repository: ${b||"not detected"}`);let v=await yqB(),m=v;if(b)m=v.filter((e)=>{if(!e.repo)return!1;return`${e.repo.owner.login}/${e.repo.name}`===b}),f(`Filtered ${m.length} sessions for repo ${b} from ${v.length} total`);let u=[...m].sort((e,p)=>{let k=new Date(e.updated_at);return new Date(p.updated_at).getTime()-k.getTime()});Y(u)}catch(b){let v=b instanceof Error?b.message:String(b);f(`Error loading code sessions: ${v}`),V($D5(v))}finally{W(!1),D(!1)}},[]),$=()=>{D(!0),C()};f1((b,v)=>{if(v.escape||v.ctrl&&b==="c"){Q();return}if(v.ctrl&&b==="r"&&K){$();return}if(K!==null&&v.return){Q();return}});let O=F4.useCallback(()=>{F(!0),C()},[F,C]);if(!H)return F4.default.createElement(IQ1,{onComplete:O});if(X)return F4.default.createElement(j,{flexDirection:"column",padding:1},F4.default.createElement(j,{flexDirection:"row"},F4.default.createElement(d9,null),F4.default.createElement(z,{bold:!0},"Loading Claude Code sessions‚Ä¶")),F4.default.createElement(z,{dimColor:!0},E?"Retrying‚Ä¶":"Fetching your Claude Code sessions‚Ä¶"));if(K)return F4.default.createElement(j,{flexDirection:"column",padding:1},F4.default.createElement(z,{bold:!0,color:"error"},"Error loading Claude Code sessions"),wD5(K),F4.default.createElement(z,{dimColor:!0},"Press ",F4.default.createElement(z,{bold:!0},"Ctrl+R")," to retry ¬∑ Press ",F4.default.createElement(z,{bold:!0},"Esc")," ","to cancel"));if(Z.length===0)return F4.default.createElement(j,{flexDirection:"column",padding:1},F4.default.createElement(z,{bold:!0},"No Claude Code sessions found",J&&F4.default.createElement(z,null," for ",J)),F4.default.createElement(j,{marginTop:1},F4.default.createElement(z,{dimColor:!0},"Press ",F4.default.createElement(z,{bold:!0},"Esc")," to cancel")));let M=Z.map((b)=>({...b,timeString:SuA(new Date(b.updated_at))})),L=Math.max(rd2.length,...M.map((b)=>b.timeString.length)),_=M.map(({timeString:b,title:v,id:m})=>{return{label:`${b.padEnd(L," ")}  ${v}`,value:m}}),T=B?Math.min(Z.length+7,G-6):G-1,x=B?Math.min(Z.length,12):Math.min(Z.length,G-6);return F4.default.createElement(j,{flexDirection:"column",padding:1,height:T},F4.default.createElement(z,{bold:!0},"Select a session to resume",J&&F4.default.createElement(z,{dimColor:!0}," (",J,")"),":"),F4.default.createElement(j,{flexDirection:"column",marginY:1,flexGrow:1},F4.default.createElement(j,{marginLeft:2},F4.default.createElement(z,{bold:!0},rd2.padEnd(L," "),UD5,"Session Title")),F4.default.createElement(S0,{visibleOptionCount:x,options:_,onCancel:()=>{},onChange:(b)=>{let v=Z.find((m)=>m.id===b);if(v)A(v)}})),F4.default.createElement(j,{flexDirection:"row"},F4.default.createElement(z,{dimColor:!0},F4.default.createElement($B,null,F4.default.createElement(L0,{shortcut:"‚Üë/‚Üì",action:"select"}),F4.default.createElement(L0,{shortcut:"Enter",action:"confirm"}),F4.default.createElement(L0,{shortcut:"Esc",action:"cancel"})))))}function $D5(A){let Q=A.toLowerCase();if(Q.includes("fetch")||Q.includes("network")||Q.includes("timeout"))return"network";if(Q.includes("auth")||Q.includes("token")||Q.includes("permission")||Q.includes("oauth")||Q.includes("not authenticated")||Q.includes("/login")||Q.includes("console account")||Q.includes("403"))return"auth";if(Q.includes("api")||Q.includes("rate limit")||Q.includes("500")||Q.includes("529"))return"api";return"other"}function wD5(A){switch(A){case"network":return F4.default.createElement(j,{marginY:1,flexDirection:"column"},F4.default.createElement(z,{dimColor:!0},"Check your internet connection"));case"auth":return F4.default.createElement(j,{marginY:1,flexDirection:"column"},F4.default.createElement(z,{dimColor:!0},"Teleport requires a Claude account"),F4.default.createElement(z,{dimColor:!0},"Run ",F4.default.createElement(z,{bold:!0},"/login"),' and select "Claude account with subscription"'));case"api":return F4.default.createElement(j,{marginY:1,flexDirection:"column"},F4.default.createElement(z,{dimColor:!0},"Sorry, Claude encountered an error"));case"other":return F4.default.createElement(j,{marginY:1,flexDirection:"row"},F4.default.createElement(z,{dimColor:!0},"Sorry, Claude Code encountered an error"))}}var F4,rd2="Updated",UD5="  ";var td2=q(()=>{hA();G6();kG();y3();Q0();iA0();FAA();mb();t4();i3();F4=o(KA(),1)});function ed2(A){let[Q,B]=NQA.useState(!1),[G,Z]=NQA.useState(null),[Y,J]=NQA.useState(null),I=NQA.useCallback(async(W)=>{B(!0),Z(null),J(W),s("tengu_teleport_resume_session",{source:A,session_id:W.id});try{let K=await XMA(W.id);return B(!1),K}catch(K){let V={message:K instanceof oZ?K.message:K instanceof Error?K.message:String(K),formattedMessage:K instanceof oZ?K.formattedMessage:void 0,isOperationError:K instanceof oZ};return Z(V),B(!1),null}},[A]),X=NQA.useCallback(()=>{Z(null)},[]);return{resumeSession:I,isResuming:Q,error:G,selectedSession:Y,clearError:X}}var NQA;var Ac2=q(()=>{$1A();rZ();_0();NQA=o(KA(),1)});function ND5({onComplete:A,onCancel:Q,onError:B,isEmbedded:G=!1,source:Z}){let{resumeSession:Y,isResuming:J,error:I,selectedSession:X}=ed2(Z),W=async(V)=>{let E=await Y(V);if(E)A(E);else if(I){if(B)B(I.message,I.formattedMessage)}},K=()=>{s("tengu_teleport_cancelled",{}),Q()};if(J&&X)return aC.default.createElement(j,{flexDirection:"column",padding:1},aC.default.createElement(j,{flexDirection:"row"},aC.default.createElement(d9,null),aC.default.createElement(z,{bold:!0},"Resuming session‚Ä¶")),aC.default.createElement(z,{dimColor:!0},'Loading "',X.title,'"‚Ä¶'));if(I&&!B)return aC.default.createElement(j,{flexDirection:"column",padding:1},aC.default.createElement(z,{bold:!0,color:"error"},"Failed to resume session"),aC.default.createElement(z,{dimColor:!0},I.message),aC.default.createElement(j,{marginTop:1},aC.default.createElement(z,{dimColor:!0},"Press ",aC.default.createElement(z,{bold:!0},"Esc")," to cancel")));return aC.default.createElement(sd2,{onSelect:W,onCancel:K,isEmbedded:G})}async function Qc2(){return f("selectAndResumeTeleportTask: Starting teleport flow..."),new Promise(async(A)=>{let{unmount:Q}=await O5(aC.default.createElement(n5,null,aC.default.createElement(ND5,{onComplete:(B)=>{Q(),A(B)},onCancel:()=>{Q(),A(null)},onError:(B,G)=>{process.stderr.write(G?G+`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4528,4565p' bundles/ClaudeAgentSDKCode/cli.js | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 38ms:[0m
[2m- Non-obvious patterns, conventions, or gotchas
- Key entry points and where to start reading code
- Important design decisions and their rationale
- Critical dependencies or integration points
- References to related files, docs, or code (like a wiki) - help readers navigate to relevant context

What NOT to document:
- Anything obvious from reading the code itself
- Exhaustive lists of files, functions, or parameters
- Step-by-step implementation details
- Low-level code mechanics
- Information already in CLAUDE.md or other project docs

Use the Edit tool with file_path: {{docPath}}

REMEMBER: Only update if there is substantial new information. The Magic Doc header (# MAGIC DOC: {{docTitle}}) must remain unchanged.`}async function tV5(){let A=jA(),Q=rV5(uQ(),"magic-docs","prompt.md");if(A.existsSync(Q))try{return A.readFileSync(Q,{encoding:"utf-8"})}catch{}return sV5()}function eV5(A,Q){let B=A;for(let[G,Z]of Object.entries(Q))B=B.replace(new RegExp(`\\{\\{${G}\\}\\}`,"g"),Z);return B}async function uu2(A,Q,B,G){let Z=await tV5(),Y=G?`

DOCUMENT-SPECIFIC UPDATE INSTRUCTIONS:
The document author has provided specific instructions for how this file should be updated. Pay extra attention to these instructions and follow them carefully:
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4518,4555p' bundles/ClaudeCodeCode/cli.js | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 27ms:[0m
[2m- Non-obvious patterns, conventions, or gotchas
- Key entry points and where to start reading code
- Important design decisions and their rationale
- Critical dependencies or integration points
- References to related files, docs, or code (like a wiki) - help readers navigate to relevant context

What NOT to document:
- Anything obvious from reading the code itself
- Exhaustive lists of files, functions, or parameters
- Step-by-step implementation details
- Low-level code mechanics
- Information already in CLAUDE.md or other project docs

Use the Edit tool with file_path: {{docPath}}

REMEMBER: Only update if there is substantial new information. The Magic Doc header (# MAGIC DOC: {{docTitle}}) must remain unchanged.`}async function UD5(){let A=jA(),Q=CD5(mQ(),"magic-docs","prompt.md");if(A.existsSync(Q))try{return A.readFileSync(Q,{encoding:"utf-8"})}catch{}return zD5()}function $D5(A,Q){let B=A;for(let[G,Z]of Object.entries(Q))B=B.replace(new RegExp(`\\{\\{${G}\\}\\}`,"g"),Z);return B}async function lm2(A,Q,B,G){let Z=await UD5(),Y=G?`

DOCUMENT-SPECIFIC UPDATE INSTRUCTIONS:
The document author has provided specific instructions for how this file should be updated. Pay extra attention to these instructions and follow them carefully:
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"You are Claude Code, Anthropic's official CLI for Claude\\.|Authorization|x-api-key|anthropic-beta|/v1/messages\\?beta\" src/cli/prompt.ts | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 90ms:[0m
[2m256:      Authorization: `Bearer ${accessToken}`
441:    defaultHeaders["anthropic-beta"] = betas.join(",");
460:  // Use the non-beta Messages API endpoint; Claude Code behavior is controlled via `anthropic-beta` headers.
461:  // The SDK's `/v1/messages?beta=true` endpoint can reject Claude Code session credentials.
464:      ? [{ type: "text", text: "You are Claude Code, Anthropic's official CLI for Claude." }][0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/core/mcp/client.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 67ms:[0m
[2mimport type { HostCapabilities } from "../types/host.js";
import type { BackoffConfig } from "../network/retry.js";
import { retryWithBackoff } from "../network/retry.js";
import type { McpRequestEnvelopeV1, McpResponseEnvelopeV1 } from "./envelope.js";
import { assertValidMcpRequestEnvelopeV1 } from "./envelope.js";
import { AuthFailedError, CancelledError, ConfigMissingError, ProtocolError, ServerDisabledError, toMcpError } from "./errors.js";
import type {
  McpConnectionStatus,
  McpCorrelationIds,
  McpEndpointConfig,
  McpManifest,
  McpResourceDescriptor,
  McpServerConfig,
  McpServerId,
  McpServerStatus,
  McpToolCallParams,
  McpToolDescriptor,
  McpToolStreamEvent,
  McpTransportMode
} from "./types.js";[0m

[35m[3mthinking[0m[0m
**Considering endpoint configuration**

I think I should consider adding a warning about the missing configuration in the `getEndpointConfig` function. It might be useful to search for `ConfigMissingError` to see if there are guidelines or best practices for that. I want to ensure this endpoint is robust and handles possible missing configurations gracefully. It's important that I'm thorough in my approach, so I'll take that into account as I proceed with this task.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "ConfigMissingError|warnOnce|endpoint config" -n src/core/mcp/client.ts src/core/mcp/warnOnce.ts'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 87ms:[0m
[2msrc/core/mcp/client.ts:6:import { AuthFailedError, CancelledError, ConfigMissingError, ProtocolError, ServerDisabledError, toMcpError } from "./errors.js";
src/core/mcp/client.ts:22:import { WarnOnce, type WarnSink } from "./warnOnce.js";
src/core/mcp/client.ts:196:  private readonly warnOnce = new WarnOnce();
src/core/mcp/client.ts:403:    if (!endpoint) throw new ConfigMissingError("MCP endpoint config missing");
src/core/mcp/client.ts:420:    if (!direct) throw new ConfigMissingError("Direct MCP transport not available");
src/core/mcp/client.ts:427:    this.warnOnce.warn(key, "Warning: MCP endpoint config missing; falling back to direct mode if available.", this.warnSink);
src/core/mcp/client.ts:446:        if (!this.endpointAllowed) throw new ConfigMissingError("Endpoint mode not allowed");
src/core/mcp/client.ts:494:        if (!this.endpointAllowed) throw new ConfigMissingError("Endpoint mode not allowed");
src/core/mcp/client.ts:499:          else throw new ConfigMissingError("MCP endpoint config missing");
src/core/mcp/client.ts:531:          if (!endpoint) throw new ConfigMissingError("MCP endpoint config missing");
src/core/mcp/client.ts:550:        throw new ConfigMissingError("No MCP transports available");[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '380,520p' src/core/mcp/client.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 74ms:[0m
[2m
  private newRequestId(): string {
    const rnd = this.host.random;
    if (rnd.kind === "available") return `mcp_req_${rnd.value.randomUUID()}`;
    return `mcp_req_${Date.now()}_${Math.random().toString(36).slice(2)}`;
  }

  private async withRetry<T>(fn: () => Promise<T>, options?: { signal?: AbortSignal }): Promise<T> {
    if (!this.retry) return await fn();
    return await retryWithBackoff(
      async () => await fn(),
      {
        maxAttempts: this.retry.maxAttempts,
        backoff: this.retry.backoff,
        sleep: this.retry.sleep,
        ...(options?.signal ? { signal: options.signal } : {}),
        shouldRetry: (err) => toMcpError(err).retryable
      }
    );
  }[0m

[35m[3mthinking[0m[0m
**Evaluating permission updates**

I need to check for permission updates in the persistence files. I‚Äôll look into the files named updates.ts and persistence.ts to see what exists there. It‚Äôs important to evaluate these sources to understand any changes or requirements in permissions that might affect functionality. Let‚Äôs open core/permissions/updates.ts and persistence.ts and see what we can find!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/permissions/updates.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 80ms:[0m
[2mimport type { PermissionDiagnostic, PermissionRuleBehavior, PermissionRuleValue, PermissionScope, PermissionUpdate, ToolPermissionContext } from "./types.js";
import { formatPermissionRuleValue } from "./rules.js";
import { normalizeWorkingDirectoryPath } from "./workingDirs.js";

function cloneRecordArrays(obj: Record<string, string[]>): Record<string, string[]> {
  const out: Record<string, string[]> = {};
  for (const [k, v] of Object.entries(obj)) out[k] = Array.isArray(v) ? v.slice() : [];
  return out;
}

export function cloneToolPermissionContext(ctx: ToolPermissionContext): ToolPermissionContext {
  return {
    mode: ctx.mode,
    additionalWorkingDirectories: new Map(ctx.additionalWorkingDirectories),
    alwaysAllowRules: cloneRecordArrays(ctx.alwaysAllowRules),
    alwaysDenyRules: cloneRecordArrays(ctx.alwaysDenyRules),
    alwaysAskRules: cloneRecordArrays(ctx.alwaysAskRules),
    isBypassPermissionsModeAvailable: ctx.isBypassPermissionsModeAvailable
  };
}[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/permissions/persistence.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 30ms:[0m
[2mimport type { JsonObject } from "../types/json.js";
import type { SettingsManager } from "../settings/manager.js";
import type { SettingsError, WritableSettingsSource } from "../settings/types.js";
import type { PermissionAuditEvent, PermissionDiagnostic, PermissionPolicySnapshot, PermissionRuleBehavior, PermissionScope, PermissionUpdate } from "./types.js";
import { formatPermissionRuleValue } from "./rules.js";
import { normalizeWorkingDirectoryPath } from "./workingDirs.js";

function isPlainObject(value: unknown): value is JsonObject {
  return typeof value === "object" && value !== null && !Array.isArray(value);
}

function cloneJsonObject(obj: JsonObject): JsonObject {
  const out: JsonObject = {};
  for (const [k, v] of Object.entries(obj)) out[k] = v;
  return out;
}

function ensurePermissionsObject(settings: JsonObject): JsonObject {
  const cur = settings.permissions;
  if (isPlainObject(cur)) return cur;[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/permissions/modes.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 26ms:[0m
[2mimport type { PermissionDiagnostic, PermissionMode } from "./types.js";

export type NormalizePermissionModeResult = { mode: PermissionMode; diagnostics: PermissionDiagnostic[] };

export function normalizePermissionMode(input: string | undefined | null): NormalizePermissionModeResult {
  if (!input) return { mode: "default", diagnostics: [] };
  const raw = String(input);
  switch (raw) {
    case "default":
    case "plan":
    case "acceptEdits":
    case "bypassPermissions":
    case "dontAsk":
      return { mode: raw, diagnostics: [] };
    default:
      return {
        mode: "default",
        diagnostics: [{ kind: "unknown_permission_mode", input: raw, normalizedTo: "default" }]
      };
  }[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/permissions/explain.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 22ms:[0m
[2mimport type { PermissionMode, PermissionRule, PermissionRuleSource } from "./types.js";
import { formatPermissionRuleValue } from "./rules.js";
import { formatPermissionRuleSource } from "./sources.js";

export type DecisionReason =
  | { type: "rule"; rule: PermissionRule }
  | { type: "mode"; mode: PermissionMode }
  | { type: "sandboxOverride" }
  | { type: "other"; reason: string };

export function formatPermissionExplanation(toolName: string, reason?: DecisionReason): string {
  if (!reason) return `Claude requested permissions to use ${toolName}, but you haven't granted it yet.`;
  switch (reason.type) {
    case "rule": {
      const rule = formatPermissionRuleValue(reason.rule.ruleValue);
      const src = formatPermissionRuleSource(reason.rule.source, "sentence");
      return `Permission rule '${rule}' from ${src} requires approval for this ${toolName} command`;
    }
    case "mode":
      return `Current permission mode (${formatPermissionModeLabel(reason.mode)}) requires approval for this ${toolName} command`;[0m

[35m[3mthinking[0m[0m
**Examining setting sources in TS**

I'm confirming that 4.10 matches indicate good coverage for TS. Now, as I move into Chapter 5, I need to compute the settings sources. I suspect TS matches well but will check specific elements like the global allowedSettingSources list. 

I'll look into the settings manager in the source code to see how it merges sources. It's possible we may not need an in-depth dive, but I want to ensure our references are accurate against the bundles, including certain symbols. I also want to compare behavior if any discrepancies arise.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/settings/sources.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 82ms:[0m
[2mimport type { AllowedSettingSource, FileBackedSettingsSource, SettingsSource } from "./types.js";

export const LEGACY_FILE_BACKED_SETTINGS_SOURCE_ORDER: readonly FileBackedSettingsSource[] = [
  "userSettings",
  "projectSettings",
  "localSettings",
  "flagSettings",
  "policySettings"
];

export const LEGACY_ALWAYS_INCLUDED_SOURCES: readonly FileBackedSettingsSource[] = ["policySettings", "flagSettings"];

export function parseEnabledSettingSourcesFlag(input: string): AllowedSettingSource[] {
  if (input === "") return [];
  const parts = input
    .split(",")
    .map((p) => p.trim())
    .filter((p) => p.length > 0);

  const out: AllowedSettingSource[] = [];[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/settings/legacyPaths.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 79ms:[0m
[2mimport type { HostFilesystem, HostProcess } from "../types/host.js";
import type { FileBackedSettingsSource } from "./types.js";

export type LegacySettingsPathContext = {
  process?: HostProcess;
  filesystem?: HostFilesystem;
  configDir?: string;
  projectRoot?: string;
  flagSettingsPath?: string | null;
  policySystemDir?: string | null;
};

export function defaultLegacyConfigDir(process: HostProcess | undefined): string | null {
  const viaEnv = process?.getEnv?.("CLAUDE_CONFIG_DIR");
  if (viaEnv) return viaEnv;
  return null;
}

export async function resolveLegacyPolicySystemDir(ctx: LegacySettingsPathContext): Promise<string> {
  if (ctx.policySystemDir) return ctx.policySystemDir;[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"\\.claude\" src/core/settings src/platform | head -50"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 81ms:[0m
[2msrc/core/settings/legacyPaths.ts:61:      return `${base}/.claude/settings.json`;
src/core/settings/legacyPaths.ts:66:      return `${base}/.claude/settings.local.json`;
src/platform/node/host.ts:39:  return process.env.CLAUDE_CONFIG_DIR ?? path.join(os.homedir(), ".claude");
src/platform/node/host.ts:566:      const accessToken = creds?.accessToken ?? creds?.claudeAiOauth?.accessToken;[0m

[35m[3mthinking[0m[0m
**Compiling audit report**

I'm planning to systematically audit each major section of the report. I'm thinking of creating a table with each main heading and summarizing accurately. There are 47 sections, but I can mark many as partial due to technical specifications. It's important to generate the report file soon. I'll compile everything now by gathering all the major headings along with their starting lines and creating a list from earlier output to store the information effectively.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "''^(# Chapter|## )" CLI_ENCYCLOPEDIA.md'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 72ms:[0m
[2m20:## How to read minified symbols (practical decoding rules)
44:## Canonicalization strategy for the TS rewrite
57:## TS rewrite notes (this repo)
82:# Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
98:## 1.1 Feature gates & timeouts
142:## 1.2 Endpoint discovery & mode selection
180:## 1.3 Error types
195:## 1.4 Analytics wrapper for MCP CLI commands
222:## 1.5 State file access & name normalization
275:## 1.6 Endpoint HTTP client (`/mcp`)
303:## 1.7 Direct-connect tool invocation (state-file mode)
331:## 1.8 CLI command group and subcommands (`commander`)
355:## 1.9 `--mcp-cli` entry
375:# Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
382:## 2.1 Constants and logging
397:## 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
437:# Chapter 3 ‚Äî CLI bootstrap / fast paths
439:## 3.1 Entry function: `dD5()` vs `XF5()`
469:# Chapter 4 ‚Äî Permissions, rules, and tool approval
483:## 4.1 Data model: `ToolPermissionContext`[0m

[35m[3mthinking[0m[0m
**Identifying TypeScript Mismatches**

I'm noticing that there's a TypeScript mismatch and not just an encyclopedia mismatch. In TypeScript, the policy settings path on Windows isn't conditional, which leads to this mismatch. The `McpCli` endpoints seem to use environment variable names consistently. So there could be mismatches for watchers as well. I plan to confirm this by directly examining bundle lines, particularly around 395 and 4322, to gather more information.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4225,4285p' bundles/ClaudeCodeCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 74ms:[0m
[2mUse this directory for ALL temporary file needs:
- Storing intermediate results or data during multi-step tasks
- Writing temporary scripts or configuration files
- Saving outputs that don't belong in the user's project
- Creating working files during analysis or processing
- Any file that would otherwise go to \`/tmp\`

Only use \`/tmp\` if the user explicitly requests it.

The scratchpad directory is session-specific, isolated from the user's project, and can be used freely without permission prompts.
`}var pW5,Tg2="IMPORTANT: Assist with authorized security testing, defensive security, CTF challenges, and educational contexts. Refuse requests for destructive techniques, DoS attacks, mass targeting, supply chain compromise, or detection evasion for malicious purposes. Dual-use security tools (C2 frameworks, credential testing, exploit development) require clear authorization context: pentesting engagements, CTF competitions, security research, or defensive use cases.",nW5="Claude Opus 4.5",aW5="claude-opus-4-5-20251101",Hj2="You are an agent for Claude Code, Anthropic's official CLI for Claude. Given the user's message, you should use the tools available to complete the task. Do what has been asked; nothing more, nothing less. When you complete the task simply respond with a detailed writeup.";var Ii=L(()=>{$8();AX();pB();uy1();JS();AV();cs();I6();c6A();BC();CV();oG();Ny();uR();YJA();J4();cY();pW5={low:45,medium:75,high:99}});import{randomUUID as Sg2}from"crypto";function $oA(A){let Q={},B=process.env.CLAUDE_CODE_EXTRA_BODY,G={};if(B)try{let Y=h8(B);if(Y&&typeof Y==="object"&&!Array.isArray(Y))G=Y;else f(`CLAUDE_CODE_EXTRA_BODY env var must be a JSON object, but was given ${B}`,{level:"error"})}catch(Y){f(`Error parsing CLAUDE_CODE_EXTRA_BODY: ${Y instanceof Error?Y.message:String(Y)}`,{level:"error"})}let Z={...Q,...G};if(A&&A.length>0)if(Z.anthropic_beta&&Array.isArray(Z.anthropic_beta)){let Y=Z.anthropic_beta,J=A.filter((I)=>!Y.includes(I));Z.anthropic_beta=[...Y,...J]}else Z.anthropic_beta=A;return Z}function a51(A){if(z0(process.env.DISABLE_PROMPT_CACHING))return!1;if(z0(process.env.DISABLE_PROMPT_CACHING_HAIKU)){let Q=aI();if(A===Q)return!1}if(z0(process.env.DISABLE_PROMPT_CACHING_SONNET)){let Q=_z();if(A===Q)return!1}if(z0(process.env.DISABLE_PROMPT_CACHING_OPUS)){let Q=sr();if(A===Q)return!1}return!0}function uTA(){return b7("prompt_cache_1h_experiment","use_1h_cache",!1)?{type:"ephemeral",ttl:"1h"}:{type:"ephemeral"}}function eW5(A,Q,B){return}function Wp(){let A=kk(),Q=q8()?.accountUuid??"",B=W0();return{user_id:`user_${A}_account_${Q}_session_${B}`}}async function ON2(A,Q){if(Q)return!0;try{let B=aI(),G=N$(B);return await M02(feA(()=>Fw({apiKey:A,maxRetries:3,model:B}),async(Z)=>{let Y=[{role:"user",content:"test"}];return await Z.beta.messages.create({model:B,max_tokens:1,messages:Y,temperature:1,...G.length>0?{betas:G}:{},metadata:Wp(),...$oA()}),!0},{maxRetries:2,model:B}))}catch(B){let G=B;if(B instanceof Xl)G=B.originalError;if(s(G),G instanceof Error&&G.message.includes('{"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}'))return!1;throw G}}function AK5(A,Q=!1,B){if(Q)if(typeof A.message.content==="string")return{role:"user",content:[{type:"text",text:A.message.content,...B?{cache_control:uTA()}:{}}]};else return{role:"user",content:A.message.content.map((G,Z)=>({...G,...Z===A.message.content.length-1?B?{cache_control:uTA()}:{}:{}}))};return{role:"user",content:A.message.content}}function QK5(A,Q=!1,B){if(Q)if(typeof A.message.content==="string")return{role:"assistant",content:[{type:"text",text:A.message.content,...B?{cache_control:uTA()}:{}}]};else return{role:"assistant",content:A.message.content.map((G,Z)=>({...G,...Z===A.message.content.length-1&&G.type!=="thinking"&&G.type!=="redacted_thinking"?B?{cache_control:uTA()}:{}:{}}))};return{role:"assistant",content:A.message.content}}async function Wh({messages:A,systemPrompt:Q,maxThinkingTokens:B,tools:G,signal:Z,options:Y}){let J;for await(let I of yd1(A,async function*(){yield*xg2(A,Q,B,G,Z,Y)}))if(I.type==="assistant")J=I;if(!J)throw Error("No assistant message found");return J}async function*dYA({messages:A,systemPrompt:Q,maxThinkingTokens:B,tools:G,signal:Z,options:Y}){return yield*yd1(A,async function*(){yield*xg2(A,Q,B,G,Z,Y)})}async function*xg2(A,Q,B,G,Z,Y){if(!RB()&&(await cx("tengu-off-switch",{activated:!1})).activated&&z3A(Y.model)){r("tengu_off_switch_query",{}),yield ba1(Error(FAA),Y.model);return}let J=X6()==="bedrock"&&Y.model.includes("application-inference-profile")?await bgA(Y.model)??Y.model:Y.model;T7("query_tool_schema_build_start");let I=Im0(Y.model,Y.sdkBetas),X=Ce();if(X&&!I.includes(BV1))I.push(BV1);let W=await Promise.all(G.map((e)=>ZB1(e,{getToolPermissionContext:Y.getToolPermissionContext,tools:G,agents:Y.agents,model:Y.model,betas:I,deferLoading:X&&e.isMcp===!0})));if(X){let e=G.filter((AA)=>AA.isMcp).length;f(`Tool search enabled: ${e} MCP tools will be deferred`)}T7("query_tool_schema_build_end"),Q=[gaQ(),PpA({isNonInteractive:Y.isNonInteractiveSession,hasAppendSystemPrompt:Y.hasAppendSystemPrompt}),...Q,jg2(Y.mcpTools)].filter(Boolean),C02(Q);let K=Y.enablePromptCaching??a51(Y.model),V=GK5(Q,K),E=I.length>0;r("tengu_api_before_normalize",{preNormalizedMessageCount:A.length}),T7("query_message_normalization_start");let D=VY(A,G);T7("query_message_normalization_end"),r("tengu_api_after_normalize",{postNormalizedMessageCount:D.length});let H=void 0,F=OiB(Y.model,H,D);Y.getToolPermissionContext().then((e)=>{k02({model:Y.model,messagesLength:JSON.stringify([...V,...D,...W,...Y.extraToolSchemas??[]]).length,temperature:Y.temperatureOverride??1,betas:E?I:[],permissionMode:e.mode,querySource:Y.querySource,queryTracking:Y.queryTracking})});let C=Date.now(),U=Date.now(),O=0,q=void 0,M=(e)=>{let AA=e.maxTokensOverride?Math.min(B,e.maxTokensOverride-1):B,VA=$oA(X6()==="bedrock"?JV1(e.model):[]);eW5(Y.taskIntensityOverride,VA,I);let OA=B>0?{budget_tokens:AA,type:"enabled"}:void 0,EA=B>0,SA=faQ({hasThinking:EA}),yA=e?.maxTokensOverride||Y.maxOutputTokensOverride||Math.max(B+1,v10(Y.model)),ZA=Y.enablePromptCaching??a51(e.model);return{model:yk(Y.model),messages:BK5(D,ZA),system:V,tools:[...W,...Y.extraToolSchemas??[]],tool_choice:Y.toolChoice,...E?{betas:I}:{},metadata:Wp(),max_tokens:yA,thinking:OA,...SA&&E&&I.includes(iyA)?{context_management:SA}:{},...VA}},_=[],T=0,y=void 0,h=[],x=$M,m=0,g=null,t=!1,p=0,k=void 0,c=void 0;try{T7("query_client_creation_start");let e=feA(()=>Fw({maxRetries:0,model:Y.model,fetchOverride:Y.fetchOverride}),async(VA,OA,EA)=>{O=OA,U=Date.now();let SA=M(EA);return VZ1(SA,Y.querySource),p=SA.max_tokens,VA.beta.messages.stream(SA,{signal:Z})},{model:Y.model,fallbackModel:Y.fallbackModel,maxThinkingTokens:B,signal:Z}),AA;do if(AA=await e.next(),!(AA.value instanceof ms))yield AA.value;while(!AA.done);q=AA.value,T7("query_client_creation_end"),_.length=0,T=0,y=void 0,h.length=0,x=$M,T7("query_api_request_sent"),z1A("api_request_sent");try{let VA=!0,OA=null,EA=30000,SA=0,yA=0;for await(let GA of q){let zA=Date.now();if(OA!==null){let bA=zA-OA;if(bA>EA)yA++,SA+=bA,f(`Streaming stall detected: ${(bA/1000).toFixed(1)}s gap between events (stall #${yA})`,{level:"warn"}),r("tengu_streaming_stall",{stall_duration_ms:bA,stall_count:yA,total_stall_time_ms:SA,event_type:GA.type,model:Y.model,request_id:q.request_id??"unknown"})}if(OA=zA,VA)f("Stream started - received first chunk"),T7("query_first_chunk_received"),z1A("first_chunk"),Aq2(),VA=!1;switch(GA.type){case"message_start":{y=GA.message,T=Date.now()-U,x=b_A(x,GA.message.usage);break}case"content_block_start":switch(GA.content_block.type){case"tool_use":h[GA.index]={...GA.content_block,input:""};break;case"server_tool_use":h[GA.index]={...GA.content_block,input:""};break;case"text":h[GA.index]={...GA.content_block,text:""};break;case"thinking":h[GA.index]={...GA.content_block,thinking:""};break;default:h[GA.index]={...GA.content_block};break}break;case"content_block_delta":{let bA=h[GA.index];if(!bA)throw r("tengu_streaming_error",{error_type:"content_block_not_found_delta",part_type:GA.type,part_index:GA.index}),RangeError("Content block not found");switch(GA.delta.type){case"citations_delta":break;case"input_json_delta":if(bA.type!=="tool_use"&&bA.type!=="server_tool_use")throw r("tengu_streaming_error",{error_type:"content_block_type_mismatch_input_json",expected_type:"tool_use",actual_type:bA.type}),Error("Content block is not a input_json block");if(typeof bA.input!=="string")throw r("tengu_streaming_error",{error_type:"content_block_input_not_string",input_type:typeof bA.input}),Error("Content block input is not a string");bA.input+=GA.delta.partial_json;break;case"text_delta":if(bA.type!=="text")throw r("tengu_streaming_error",{error_type:"content_block_type_mismatch_text",expected_type:"text",actual_type:bA.type}),Error("Content block is not a text block");bA.text+=GA.delta.text;break;case"signature_delta":if(bA.type!=="thinking")throw r("tengu_streaming_error",{error_type:"content_block_type_mismatch_thinking_signature",expected_type:"thinking",actual_type:bA.type}),Error("Content block is not a thinking block");bA.signature=GA.delta.signature;break;case"thinking_delta":if(bA.type!=="thinking")throw r("tengu_streaming_error",{error_type:"content_block_type_mismatch_thinking_delta",expected_type:"thinking",actual_type:bA.type}),Error("Content block is not a thinking block");bA.thinking+=GA.delta.thinking;break}break}case"content_block_stop":{let bA=h[GA.index];if(!bA)throw r("tengu_streaming_error",{error_type:"content_block_not_found_stop",part_type:GA.type,part_index:GA.index}),RangeError("Content block not found");if(!y)throw r("tengu_streaming_error",{error_type:"partial_message_not_found",part_type:GA.type}),Error("Message not found");let TA={message:{...y,content:yG0([bA],G,Y.agentIdOrSessionId)},requestId:q.request_id??void 0,type:"assistant",uuid:Sg2(),timestamp:new Date().toISOString(),...{}};_.push(TA),yield TA;break}case"message_delta":{x=b_A(x,GA.usage),g=GA.delta.stop_reason;let bA=fuA(J,x);xuA(bA,x,Y.model),m+=bA;let TA=pRB(GA.delta.stop_reason,Y.model);if(TA)yield TA;if(g==="max_tokens")r("tengu_max_tokens_reached",{max_tokens:p}),yield QJ({content:`${tW}: Claude's response exceeded the ${p} output token maximum. To configure this behavior, set the CLAUDE_CODE_MAX_OUTPUT_TOKENS environment variable.`});if(g==="model_context_window_exceeded")r("tengu_context_window_exceeded",{max_tokens:p,output_tokens:x.output_tokens}),yield QJ({content:`${tW}: The model has reached its context window limit.`});break}case"message_stop":break}yield{type:"stream_event",event:GA}}if(yA>0)f(`Streaming completed with ${yA} stall(s), total stall time: ${(SA/1000).toFixed(1)}s`,{level:"warn"}),r("tengu_streaming_stall_summary",{stall_count:yA,total_stall_time_ms:SA,model:Y.model,request_id:q.request_id??"unknown"});let ZA=(await q.withResponse()).response;va1(ZA.headers),k=ZA.headers}catch(VA){if(VA instanceof OJ)if(Z.aborted)throw f(`Streaming aborted by user: ${VA instanceof Error?VA.message:String(VA)}`),VA;else throw f(`Streaming timeout (SDK abort): ${VA.message}`,{level:"error"}),new YS({message:"Request timed out"});if(f(`Error streaming, falling back to non-streaming mode: ${VA instanceof Error?VA.message:String(VA)}`,{level:"error"}),t=!0,Y.onStreamingFallback)Y.onStreamingFallback();r("tengu_streaming_fallback_to_non_streaming",{model:Y.model,error:VA instanceof Error?VA.name:String(VA),attemptNumber:O,maxOutputTokens:p,maxThinkingTokens:B});let OA=feA(()=>Fw({maxRetries:0,model:Y.model}),async(yA,ZA,GA)=>{O=ZA;let zA=M(GA);VZ1(zA,Y.querySource),p=zA.max_tokens;let bA=YK5(zA,ZK5);return await yA.beta.messages.create({...bA,model:yk(bA.model),temperature:Y.temperatureOverride??1})},{model:Y.model,maxThinkingTokens:B,signal:Z}),EA;do if(EA=await OA.next(),EA.value.type==="system")yield EA.value;while(!EA.done);let SA={message:{...EA.value,content:yG0(EA.value.content,G,Y.agentIdOrSessionId)},requestId:q.request_id??void 0,type:"assistant",uuid:Sg2(),timestamp:new Date().toISOString(),...{}};_.push(SA),yield SA}}catch(e){f(`Error in non-streaming fallback: ${e instanceof Error?e.message:String(e)}`,{level:"error"});let AA=e,VA=Y.model;if(e instanceof Xl)AA=e.originalError,VA=e.retryContext.model;if(AA instanceof I9)ka1(AA);let OA=q?.request_id||(AA instanceof I9?AA.requestID:void 0)||(AA instanceof I9?AA.error?.request_id:void 0);if(f02({error:AA,model:VA,messageCount:D.length,messageTokens:KW(D),durationMs:Date.now()-U,durationMsIncludingRetries:Date.now()-C,attempt:O,requestId:OA,didFallBackToNonStreaming:t,queryTracking:Y.queryTracking,llmSpan:F}),AA instanceof OJ){pY0(q);return}yield ba1(AA,VA,{messages:A,messagesForAPI:D}),pY0(q);return}Y.getToolPermissionContext().then((e)=>{b02({model:_[0]?.message.model??y?.model??Y.model,preNormalizedModel:Y.model,usage:x,start:U,startIncludingRetries:C,attempt:O,messageCount:D.length,messageTokens:KW(D),requestId:q?.request_id??null,stopReason:g,ttftMs:T,didFallBackToNonStreaming:t,querySource:Y.querySource,headers:k,costUSD:m,queryTracking:Y.queryTracking,permissionMode:e.mode,newMessages:_,llmSpan:F})}),pY0(q)}function pY0(A){if(!A)return;try{if(!A.ended&&!A.aborted)A.abort()}catch{}}function b_A(A,Q){return{input_tokens:Q.input_tokens!==null&&Q.input_tokens>0?Q.input_tokens:A.input_tokens,cache_creation_input_tokens:Q.cache_creation_input_tokens!==null&&Q.cache_creation_input_tokens>0?Q.cache_creation_input_tokens:A.cache_creation_input_tokens,cache_read_input_tokens:Q.cache_read_input_tokens!==null&&Q.cache_read_input_tokens>0?Q.cache_read_input_tokens:A.cache_read_input_tokens,output_tokens:Q.output_tokens??A.output_tokens,server_tool_use:{web_search_requests:Q.server_tool_use?.web_search_requests??A.server_tool_use.web_search_requests,web_fetch_requests:Q.server_tool_use?.web_fetch_requests??A.server_tool_use.web_fetch_requests},service_tier:A.service_tier,cache_creation:{ephemeral_1h_input_tokens:Q.cache_creation?.ephemeral_1h_input_tokens??A.cache_creation.ephemeral_1h_input_tokens,ephemeral_5m_input_tokens:Q.cache_creation?.ephemeral_5m_input_tokens??A.cache_creation.ephemeral_5m_input_tokens}}}function FB1(A,Q){return{input_tokens:A.input_tokens+Q.input_tokens,cache_creation_input_tokens:A.cache_creation_input_tokens+Q.cache_creation_input_tokens,cache_read_input_tokens:A.cache_read_input_tokens+Q.cache_read_input_tokens,output_tokens:A.output_tokens+Q.output_tokens,server_tool_use:{web_search_requests:A.server_tool_use.web_search_requests+Q.server_tool_use.web_search_requests,web_fetch_requests:A.server_tool_use.web_fetch_requests+Q.server_tool_use.web_fetch_requests},service_tier:Q.service_tier,cache_creation:{ephemeral_1h_input_tokens:A.cache_creation.ephemeral_1h_input_tokens+Q.cache_creation.ephemeral_1h_input_tokens,ephemeral_5m_input_tokens:A.cache_creation.ephemeral_5m_input_tokens+Q.cache_creation.ephemeral_5m_input_tokens}}}function BK5(A,Q){return r("tengu_api_cache_breakpoints",{totalMessageCount:A.length,cachingEnabled:Q}),A.map((B,G)=>{return B.type==="user"?AK5(B,G>A.length-3,Q):QK5(B,G>A.length-3,Q)})}function GK5(A,Q){return PQ0(A).map((B)=>({type:"text",text:B,...Q?{cache_control:uTA()}:{}}))}async function GW({systemPrompt:A=[],userPrompt:Q,assistantPrompt:B,signal:G,options:Z}){return(await xd1([u0({content:A.map((J)=>({type:"text",text:J}))}),u0({content:Q})],async()=>{let J=[u0({content:Q}),...B?[hE({content:B})]:[]];return[await Wh({messages:J,systemPrompt:A,maxThinkingTokens:0,tools:[],signal:G,options:{...Z,model:aI(),enablePromptCaching:Z.enablePromptCaching??!1,async getToolPermissionContext(){return s$()}}})]}))[0]}function YK5(A,Q){let B=Math.min(A.max_tokens,Q),G={...A};if(G.thinking?.budget_tokens)G.thinking={...G.thinking,budget_tokens:Math.min(G.thinking.budget_tokens,B-1)};return{...G,max_tokens:B}}function v10(A){let Q=A.toLowerCase(),B;if(Q.includes("3-5"))B=8192;else if(Q.includes("claude-3-opus"))B=4096;else if(Q.includes("claude-3-sonnet"))B=8192;else if(Q.includes("claude-3-haiku"))B=4096;else if(Q.includes("opus-4-5"))B=64000;else if(Q.includes("opus-4"))B=32000;else if(Q.includes("sonnet-4")||Q.includes("haiku-4"))B=64000;else B=32000;let G=EPA.validate(process.env.CLAUDE_CODE_MAX_OUTPUT_TOKENS);if(G.status==="capped")f(`CLAUDE_CODE_MAX_OUTPUT_TOKENS ${G.message}`);else if(G.status==="invalid")f(`CLAUDE_CODE_MAX_OUTPUT_TOKENS ${G.message}`);return Math.min(G.effective,B)}var ZK5=21333;var RG=L(()=>{Sy1();baQ();vy1();Ii();Xh();fv();xQ();F2();rQ();h1();HB();l2();hX();Rw();Il();J4();T0();vd1();w7A();yMA();hgA();uI();beA();ayA();q7A();Y0();P_A();PMA();g0();gs();JM();F2();DPA();l2();Xi();dl();buA();tq()});import{randomBytes as JK5}from"crypto";function WK5(){return JK5(4).toString("hex")}function VK5(A,Q){let B=!1,G=!1;for(let Z=0;Z<Q;Z++){let Y=A[Z],J=0;for(let I=Z-1;I>=0&&A[I]==="\\";I--)J++;if(J%2===1)continue;if(Y==="'"&&!G)B=!B;else if(Y==='"'&&!B)G=!G}return B||G}function EK5(A,Q){let B=A.lastIndexOf(`
`,Q-1)+1,G=!1,Z=!1;for(let Y=B;Y<Q;Y++){let J=A[Y],I=0;for(let X=Y-1;X>=B&&A[X]==="\\";X--)I++;if(I%2===1)continue;if(J==="'"&&!Z)G=!G;else if(J==='"'&&!G)Z=!Z;else if(J==="#"&&!G&&!Z)return!0}return!1}function lY0(A){let Q=new Map;if(!A.includes("<<"))return{processedCommand:A,heredocs:Q};let B=new RegExp(KK5.source,"g"),G=[],Z;while((Z=B.exec(A))!==null){let W=Z.index;if(VK5(A,W))continue;if(EK5(A,W))continue;let K=Z[0],V=Z[3],E=W+K.length,H=A.slice(E).indexOf(`
`);if(H===-1)continue;let F=E+H,U=A.slice(F+1).split(`
`),O=-1;for(let x=0;x<U.length;x++)if(U[x].trim()===V){O=x;break}if(O===-1)continue;let M=U.slice(0,O+1).join(`
`).length,_=F+1+M,T=A.slice(W,E),y=A.slice(F,_),h=T+y;G.push({fullText:h,delimiter:V,operatorStartIndex:W,operatorEndIndex:E,contentStartIndex:F,contentEndIndex:_})}if(G.length===0)return{processedCommand:A,heredocs:Q};let Y=G.filter((W,K,V)=>{for(let E of V){if(W===E)continue;if(W.operatorStartIndex>E.contentStartIndex&&W.operatorStartIndex<E.contentEndIndex)return!1}return!0});if(Y.length===0)return{processedCommand:A,heredocs:Q};if(new Set(Y.map((W)=>W.contentStartIndex)).size<Y.length)return{processedCommand:A,heredocs:Q};Y.sort((W,K)=>K.contentEndIndex-W.contentEndIndex);let I=WK5(),X=A;return Y.forEach((W,K)=>{let V=Y.length-1-K,E=`${IK5}${V}_${I}${XK5}`;Q.set(E,W),X=X.slice(0,W.operatorStartIndex)+E+X.slice(W.operatorEndIndex,W.contentStartIndex)+X.slice(W.contentEndIndex)}),{processedCommand:X,heredocs:Q}}function DK5(A,Q){let B=A;for(let[G,Z]of Q)B=B.replaceAll(G,Z.fullText);return B}function yg2(A,Q){if(Q.size===0)return A;return A.map((B)=>DK5(B,Q))}var IK5="__HEREDOC_",XK5="__",KK5;var vg2=L(()=>{KK5=/(?<!<)<<(?!<)(-)?(['"])?\\?(\w+)\2?/});function HK5(A){return!A.includes("$")&&!A.includes("`")&&!A.includes("*")&&!A.includes("?")&&!A.includes("[")&&!A.includes("{")&&!A.includes("~")&&!A.includes("(")&&!A.includes("<")&&!A.startsWith("&")}function MB0(A){let Q=[],{processedCommand:B,heredocs:G}=lY0(A),Z=mI(B.replaceAll('"',`"${aY0}`).replaceAll("'",`'${nY0}`).replaceAll(`
`,`
${iY0}
`).replaceAll("\\(",kg2).replaceAll("\\)",fg2),(J)=>`$${J}`);if(!Z.success)throw Error(`Failed to parse command: ${Z.error}`);let Y=Z.tokens;if(Y.length===0)return[];try{for(let X of Y){if(typeof X==="string"){if(Q.length>0&&typeof Q[Q.length-1]==="string"){if(X===iY0)Q.push(null);else Q[Q.length-1]+=" "+X;continue}}else if("op"in X&&X.op==="glob"){if(Q.length>0&&typeof Q[Q.length-1]==="string"){Q[Q.length-1]+=" "+X.pattern;continue}}Q.push(X)}let I=Q.map((X)=>{if(X===null)return null;if(typeof X==="string")return X;if("comment"in X)return"#"+X.comment;if("op"in X&&X.op==="glob")return X.pattern;if("op"in X)return X.op;return null}).filter((X)=>X!==null).map((X)=>{return X.replaceAll(`${nY0}`,"'").replaceAll(`${aY0}`,'"').replaceAll(`
${iY0}
`,`[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4290,4360p' bundles/ClaudeAgentSDKCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 37ms:[0m
[2m- npm test => none
- npm test --foo => npm test
- npm test -- -f "foo" => npm test
- pwd
 curl example.com => command_injection_detected
- pytest foo/bar.py => pytest
- scalac build => none
- sleep 3 => sleep
- GOEXPERIMENT=synctest go test -v ./... => GOEXPERIMENT=synctest go test
- GOEXPERIMENT=synctest go test -run TestFoo => GOEXPERIMENT=synctest go test
- FOO=BAR go test => FOO=BAR go test
- ENV_VAR=value npm run test => ENV_VAR=value npm run test
- NODE_ENV=production npm start => none
- FOO=bar BAZ=qux ls -la => FOO=bar BAZ=qux ls
- PYTHONPATH=/tmp python3 script.py arg1 arg2 => PYTHONPATH=/tmp python3
</policy_spec>

The user has allowed certain command prefixes to be run, and will otherwise be asked to approve or deny the command.
Your task is to determine the command prefix for the following command.
The prefix must be a string prefix of the full command.[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '360,430p' bundles/ClaudeAgentSDKCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 29ms:[0m
[2m`;G=G.replace(/config\.keys\s*=\s*\{[^}]*\}/s,`config.keys = {${I}}`)}else if(G.match(/return\s+config/s))G=G.replace(/return\s+config/s,`config.keys = {
  {key="Enter", mods="SHIFT", action=wezterm.action{SendString="\\x1b\\r"}},
}

return config`);else G+=`
config.keys = {
  {key="Enter", mods="SHIFT", action=wezterm.action{SendString="\\x1b\\r"}},
}
`}return jA().writeFileSync(B,G,{encoding:"utf-8",flush:!1}),`${yB("success",A)("Installed WezTerm Shift+Enter key binding")}${L7}${yB("success",A)("You may need to restart WezTerm for changes to take effect")}${L7}${pA.dim(`See ${B}`)}${L7}`}catch(G){throw r(G instanceof Error?G:Error(String(G))),Error("Failed to install WezTerm Shift+Enter key binding")}}async function Us3(A){let B=[],G=process.env.XDG_CONFIG_HOME;if(G)B.push(Ff(G,"ghostty","config"));else B.push(Ff(ScA(),".config","ghostty","config"));if(xcA()==="darwin")B.push(Ff(ScA(),"Library","Application Support","com.mitchellh.ghostty","config"));let Z=null,Y=!1;for(let J of B)if(jA().existsSync(J)){Z=J,Y=!0;break}if(!Z)Z=B[0]??null,Y=!1;if(!Z)throw Error("No valid config path found for Ghostty");try{let J="";if(Y){if(J=jA().readFileSync(Z,{encoding:"utf-8"}),J.includes("shift+enter"))return`${yB("warning",A)("Found existing Ghostty Shift+Enter key binding. Remove it to continue.")}${L7}${pA.dim(`See ${Z}`)}${L7}`;let X=Xx1(4).toString("hex"),W=`${Z}.${X}.bak`;try{jA().copyFileSync(Z,W)}catch{return`${yB("warning",A)("Error backing up existing Ghostty config. Bailing out.")}${L7}${pA.dim(`See ${Z}`)}${L7}${pA.dim(`Backup path: ${W}`)}${L7}`}}else{let X=Fs3(Z);if(!jA().existsSync(X))jA().mkdirSync(X)}let I=J;if(J&&!J.endsWith(`
`))I+=`
`;return I+=`keybind = shift+enter=text:\\x1b\\r
`,jA().writeFileSync(Z,I,{encoding:"utf-8",flush:!1}),`${yB("success",A)("Installed Ghostty Shift+Enter key binding")}${L7}${yB("success",A)("You may need to restart Ghostty for changes to take effect")}${L7}${pA.dim(`See ${Z}`)}${L7}`}catch(J){throw r(J instanceof Error?J:Error(String(J))),Error("Failed to install Ghostty Shift+Enter key binding")}}async function $s3(A){let Q=PcA();try{if(!await QlQ())throw Error("Failed to create backup of iTerm2 preferences, bailing out");let{code:G}=await EQ("defaults",["write","com.googlecode.iterm2","GlobalKeyMap","-dict-add","0xd-0x20000-0x24",`<dict>
        <key>Text</key>
        <string>\\n</string>
        <key>Action</key>
        <integer>12</integer>
        <key>Version</key>
        <integer>1</integer>
        <key>Keycode</key>
        <integer>13</integer>[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '360,430p' bundles/ClaudeCodeCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 27ms:[0m
[2m  {key="Enter", mods="SHIFT", action=wezterm.action{SendString="\\x1b\\r"}},
`;G=G.replace(/config\.keys\s*=\s*\{[^}]*\}/s,`config.keys = {${I}}`)}else if(G.match(/return\s+config/s))G=G.replace(/return\s+config/s,`config.keys = {
  {key="Enter", mods="SHIFT", action=wezterm.action{SendString="\\x1b\\r"}},
}

return config`);else G+=`
config.keys = {
  {key="Enter", mods="SHIFT", action=wezterm.action{SendString="\\x1b\\r"}},
}
`}return jA().writeFileSync(B,G,{encoding:"utf-8",flush:!1}),`${vB("success",A)("Installed WezTerm Shift+Enter key binding")}${U7}${vB("success",A)("You may need to restart WezTerm for changes to take effect")}${U7}${cA.dim(`See ${B}`)}${U7}`}catch(G){throw s(G instanceof Error?G:Error(String(G))),Error("Failed to install WezTerm Shift+Enter key binding")}}async function it6(A){let B=[],G=process.env.XDG_CONFIG_HOME;if(G)B.push(ak(G,"ghostty","config"));else B.push(ak(PcA(),".config","ghostty","config"));if(ScA()==="darwin")B.push(ak(PcA(),"Library","Application Support","com.mitchellh.ghostty","config"));let Z=null,Y=!1;for(let J of B)if(jA().existsSync(J)){Z=J,Y=!0;break}if(!Z)Z=B[0]??null,Y=!1;if(!Z)throw Error("No valid config path found for Ghostty");try{let J="";if(Y){if(J=jA().readFileSync(Z,{encoding:"utf-8"}),J.includes("shift+enter"))return`${vB("warning",A)("Found existing Ghostty Shift+Enter key binding. Remove it to continue.")}${U7}${cA.dim(`See ${Z}`)}${U7}`;let X=Tx1(4).toString("hex"),W=`${Z}.${X}.bak`;try{jA().copyFileSync(Z,W)}catch{return`${vB("warning",A)("Error backing up existing Ghostty config. Bailing out.")}${U7}${cA.dim(`See ${Z}`)}${U7}${cA.dim(`Backup path: ${W}`)}${U7}`}}else{let X=ct6(Z);if(!jA().existsSync(X))jA().mkdirSync(X)}let I=J;if(J&&!J.endsWith(`
`))I+=`
`;return I+=`keybind = shift+enter=text:\\x1b\\r
`,jA().writeFileSync(Z,I,{encoding:"utf-8",flush:!1}),`${vB("success",A)("Installed Ghostty Shift+Enter key binding")}${U7}${vB("success",A)("You may need to restart Ghostty for changes to take effect")}${U7}${cA.dim(`See ${Z}`)}${U7}`}catch(J){throw s(J instanceof Error?J:Error(String(J))),Error("Failed to install Ghostty Shift+Enter key binding")}}async function nt6(A){let Q=jcA();try{if(!await flQ())throw Error("Failed to create backup of iTerm2 preferences, bailing out");let{code:G}=await CQ("defaults",["write","com.googlecode.iterm2","GlobalKeyMap","-dict-add","0xd-0x20000-0x24",`<dict>
        <key>Text</key>
        <string>\\n</string>
        <key>Action</key>
        <integer>12</integer>
        <key>Version</key>
        <integer>1</integer>
        <key>Keycode</key>[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4225,4285p' bundles/ClaudeAgentSDKCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 26ms:[0m
[2m
Notes:
- Agent threads always have their cwd reset between bash calls, as a result please only use absolute file paths.
- In your final response always share relevant file names and code snippets. Any file paths you return in your response MUST be absolute. Do NOT use relative paths.
- For clear communication with the user the assistant MUST avoid using emojis.`,Z]}function PX5(){if(!wXA())return"";return`
# Scratchpad Directory

IMPORTANT: Always use this scratchpad directory for temporary files instead of \`/tmp\` or other system temp directories:
\`${m51()}\`

Use this directory for ALL temporary file needs:
- Storing intermediate results or data during multi-step tasks
- Writing temporary scripts or configuration files
- Saving outputs that don't belong in the user's project
- Creating working files during analysis or processing
- Any file that would otherwise go to \`/tmp\`

Only use \`/tmp\` if the user explicitly requests it.

The scratchpad directory is session-specific, isolated from the user's project, and can be used freely without permission prompts.[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '4280,4350p' bundles/ClaudeCodeCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 26ms:[0m
[2m- npm test => none
- npm test --foo => npm test
- npm test -- -f "foo" => npm test
- pwd
 curl example.com => command_injection_detected
- pytest foo/bar.py => pytest
- scalac build => none
- sleep 3 => sleep
- GOEXPERIMENT=synctest go test -v ./... => GOEXPERIMENT=synctest go test
- GOEXPERIMENT=synctest go test -run TestFoo => GOEXPERIMENT=synctest go test
- FOO=BAR go test => FOO=BAR go test
- ENV_VAR=value npm run test => ENV_VAR=value npm run test
- NODE_ENV=production npm start => none
- FOO=bar BAZ=qux ls -la => FOO=bar BAZ=qux ls
- PYTHONPATH=/tmp python3 script.py arg1 arg2 => PYTHONPATH=/tmp python3
</policy_spec>

The user has allowed certain command prefixes to be run, and will otherwise be asked to approve or deny the command.
Your task is to determine the command prefix for the following command.
The prefix must be a string prefix of the full command.[0m



[35m[3mthinking[0m[0m
**Planning the report audit**

I‚Äôm seeing that the excerpt for the sections includes accurate permission parsing and shows some complexity in the `parseBashRedirections` function. There appears to be a discrepancy with our simplified version. Next, I'll focus on searching for undocumented functionality and checking TypeScript coverage before writing the report. I've noted many discrepancies to include in our results. The plan for step 2 is to audit each section against bundles and prepare a detailed report. Let‚Äôs get started on the report!
[35m[3mthinking[0m[0m
**Summarizing sections for report**

For each section, I need to provide a brief summary including what the encyclopedia states, what CLI.js shows, and related TypeScript functions. Each section must include a summary, with evidence for accuracy ratings marked as ‚úÖ or ‚ö†Ô∏è.

Starting with the first section on reading minified symbols, the encyclopedia mentions bundler patterns like `var X=q(()=>{...})`, and CLI.js confirms this with actual bundle contents. The accuracy is marked as ‚úÖ since it's relevant documentation. For the canonicalization strategy, it mentions stable names and maps without code reference, so I‚Äôll label this section as ‚ö†Ô∏è for being only partial. Let‚Äôs work through this systematically!
[35m[3mthinking[0m[0m
**Checking TypeScript mapping and rewrite notes**

I suspect TypeScript has a mapping file, so I'll check for the existence of `CLI_FUNCTION_CLASS_MAP.md`. There might be some mappings in `src/core/migration/toolMapping.ts`, but it‚Äôs not comprehensive. I think the accuracy is conceptual, meaning there‚Äôs no mismatch, so we can mark it as ‚úÖ.

Next, I‚Äôll verify that `prompt.ts` has the described behavior. I need to check for environmental gating related to OAuth refresh and any key exchange functions, like `createApiKey`. I‚Äôll search `prompt.ts` for flags like "CLAUDE_TS_ENABLE" to confirm this gating. Let's dive in!
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "OAUTH|refresh|CreateApiKey|exchange|CLAUDE_TS_" src/cli/prompt.ts | head -80'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 76ms:[0m
[2m19:const DEBUG = process.env.CLAUDE_TS_DEBUG === "1" || process.env.CLAUDE_TS_DEBUG === "true";
39:  refreshToken?: string;
51:  refresh_token?: string;
57:type CreateApiKeyResponse = {
63:const CLAUDE_CODE_OAUTH_BETA_DEFAULTS = [
76:  const version = process.env.CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION ?? "2.0.69";
135:  return process.env.CLAUDE_TS_OAUTH_CLIENT_ID ?? "9d1c250a-e61b-44d9-88ed-5944d1962f5e";
139:  return process.env.CLAUDE_TS_OAUTH_SCOPES ?? "user:profile user:inference user:sessions:claude_code";
143:  return process.env.CLAUDE_TS_ANTHROPIC_BETA ?? "oauth-2025-04-20";
147:  return process.env.CLAUDE_TS_INTERLEAVED_THINKING_BETA ?? "interleaved-thinking-2025-05-14";
172:  if (opts.isOauth) betas.push(...CLAUDE_CODE_OAUTH_BETA_DEFAULTS);
193:async function refreshOauthTokenIfNeeded(oauth: ClaudeAiOauthCredentials, options: { consoleBaseUrl: string }): Promise<ClaudeAiOauthCredentials> {
195:  const refreshToken = oauth.refreshToken;
198:  if (!refreshToken || typeof expiresAt !== "number") return oauth;
209:      grant_type: "refresh_token",
210:      refresh_token: refreshToken,
215:  if (!res.ok) throw new Error(`OAuth refresh failed (${res.status}): ${text.slice(0, 2000)}`);
217:  if (!parsed?.access_token) throw new Error("OAuth refresh returned no access_token");
223:    refreshToken: parsed.refresh_token ?? refreshToken,
242:    ...(nextOauth.refreshToken ? { refreshToken: nextOauth.refreshToken } : {}),[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/core/mcp/endpointTransport.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 73ms:[0m
[2mimport type { HostCapabilities } from "../types/host.js";
import { CapabilityUnavailableError } from "../types/host.js";
import { retryWithBackoff, type BackoffConfig } from "../network/retry.js";
import { assertValidMcpRequestEnvelopeV1, assertValidMcpResponseEnvelopeV1, type McpRequestEnvelopeV1, type McpResponseEnvelopeV1 } from "./envelope.js";
import { AuthFailedError, ConfigMissingError, ConnectionFailedError, HandshakeTimeoutError, ProtocolError, RateLimitedError, toMcpError } from "./errors.js";
import type { McpEndpointConfig } from "./types.js";

function isExplicitFalse(v: string | undefined): boolean {
  if (!v) return false;
  const s = v.trim().toLowerCase();
  return s === "0" || s === "false" || s === "off";
}

export type EndpointRequestOptions = {
  timeoutMs?: number;
  signal?: AbortSignal;
  retry?: { maxAttempts: number; backoff: BackoffConfig; sleep: (ms: number) => Promise<void> };
  credentials?: RequestCredentials;
  skipTelemetry?: boolean;
};[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/platform/desktop/chromeNativeMessaging.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 84ms:[0m
[2mimport type { Readable, Writable } from "node:stream";

export const MAX_NATIVE_MESSAGE_BYTES = 1_048_576;

export function nativeHostLog(message: string, ...args: unknown[]): void {
  // Matches legacy bundle prefix.
  // eslint-disable-next-line no-console
  console.error(`[Claude Chrome Native Host] ${message}`, ...args);
}

export class NativeHostReader {
  private buffer = Buffer.alloc(0);
  private pendingResolve: ((value: string | null) => void) | null = null;
  private closed = false;
  private readonly onData: (chunk: Buffer) => void;
  private readonly onEnd: () => void;
  private readonly onError: () => void;

  constructor(stream: Readable) {
    this.onData = (chunk) => {[0m

[35m[3mthinking[0m[0m
**Matching chapter sections**

I've verified that Chapter 2's sections are likely accurate, so I'll mark it as ‚úÖ. For Chapter 3, the TS has similar content, but there's a difference (like the addition of "doctor"), so I'll mark it as ‚ö†Ô∏è for partial accuracy. In Chapter 4, I plan to match each major section with the TS, starting with ToolPermissionContext. For other subsections, like parsing and flattening rules, I need to check in evaluate.ts or cache for elements like `alwaysAllowRules`.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "alwaysAllowRules|alwaysDenyRules|alwaysAskRules|flatten" src/core/permissions | head -80'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 75ms:[0m
[2msrc/core/permissions/updates.ts:15:    alwaysAllowRules: cloneRecordArrays(ctx.alwaysAllowRules),
src/core/permissions/updates.ts:16:    alwaysDenyRules: cloneRecordArrays(ctx.alwaysDenyRules),
src/core/permissions/updates.ts:17:    alwaysAskRules: cloneRecordArrays(ctx.alwaysAskRules),
src/core/permissions/updates.ts:23:  if (behavior === "allow") return ctx.alwaysAllowRules;
src/core/permissions/updates.ts:24:  if (behavior === "deny") return ctx.alwaysDenyRules;
src/core/permissions/updates.ts:25:  return ctx.alwaysAskRules;
src/core/permissions/evaluate.ts:8:function flattenRules(ctx: ToolPermissionCheckContext["toolPermissionContext"], behavior: "allow" | "deny" | "ask"): PermissionRule[] {
src/core/permissions/evaluate.ts:13:        ? ctx.alwaysAllowRules[source] ?? []
src/core/permissions/evaluate.ts:15:          ? ctx.alwaysDenyRules[source] ?? []
src/core/permissions/evaluate.ts:16:          : ctx.alwaysAskRules[source] ?? [];
src/core/permissions/evaluate.ts:29:  const rules = flattenRules(ctx, behavior);
src/core/permissions/evaluate.ts:43:  const rules = flattenRules(ctx, behavior);
src/core/permissions/context.ts:61:    alwaysAllowRules: {},
src/core/permissions/context.ts:62:    alwaysDenyRules: {},
src/core/permissions/context.ts:63:    alwaysAskRules: {},
src/core/permissions/context.ts:101:    ctx.alwaysAllowRules[source] = frag.allow.slice();
src/core/permissions/context.ts:102:    ctx.alwaysDenyRules[source] = frag.deny.slice();
src/core/permissions/context.ts:103:    ctx.alwaysAskRules[source] = frag.ask.slice();
src/core/permissions/types.ts:31:  alwaysAllowRules: Record<string, string[]>;
src/core/permissions/types.ts:32:  alwaysDenyRules: Record<string, string[]>;[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/core/permissions/evaluate.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 73ms:[0m
[2mimport { toEngineError } from "../types/errors.js";
import type { EngineError } from "../types/errors.js";
import type { PermissionDecision, PermissionRule, ToolPermissionCheckContext, ToolPermissionSubject } from "./types.js";
import { LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE } from "./sources.js";
import { formatPermissionRuleValue, isBashToolName, matchesToolName, parsePermissionRuleString } from "./rules.js";
import { formatPermissionExplanation } from "./explain.js";

function flattenRules(ctx: ToolPermissionCheckContext["toolPermissionContext"], behavior: "allow" | "deny" | "ask"): PermissionRule[] {
  const out: PermissionRule[] = [];
  for (const source of LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE) {
    const raw =
      behavior === "allow"
        ? ctx.alwaysAllowRules[source] ?? []
        : behavior === "deny"
          ? ctx.alwaysDenyRules[source] ?? []
          : ctx.alwaysAskRules[source] ?? [];
    for (const ruleString of raw) {
      out.push({ source, ruleBehavior: behavior, ruleValue: parsePermissionRuleString(ruleString) });
    }
  }[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,240p' src/core/settings/manager.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 66ms:[0m
[2mimport type { HostCapabilities, HostStorage, StorageChangeEvent } from "../types/host.js";
import { requireCapability } from "../types/host.js";
import type { JsonObject } from "../types/json.js";
import { applySettingsPatch, type SettingsPatchObject } from "./patch.js";
import { mergeSettingsObjectsInOrder } from "./merge.js";
import { computeEnabledFileSettingsSources } from "./sources.js";
import type {
  AllowedSettingSource,
  EffectiveSettingsResult,
  FileBackedSettingsSource,
  SettingsError,
  SettingsEventBus,
  SettingsPolicyOrigin,
  SettingsSource,
  SettingsSourceReadResult,
  SettingsUpdateEvent,
  SettingsUnsubscribe,
  WritableSettingsSource
} from "./types.js";
import {[0m


[35m[3mthinking[0m[0m
**Reviewing document structure**

Alright, I'm looking through the sections to ensure they align with the guidelines, particularly focusing on 5.8. It mentions using a React hook, but TypeScript doesn't yet support app state integration. I'll also highlight key points from sections 5.4 and 5.5 regarding schema and SettingsManager. Moving forward to Chapter 6, I'll check core/hooks implementation, though there may be discrepancies with the bundle. I just need to spot-check some symbols for accuracy in the encyclopedia.
[35m[3mthinking[0m[0m
**Evaluating hook implementation**

I need to clarify our findings regarding the hook system. In the excerpt from Chapter 4, there's an `async function*jQ0`, confirming that TypeScript does have createToolPipelineHooks. However, I need to be cautious‚ÄîChapter 6 might only cover the hook execution and matchers, so it gets a ‚ö†Ô∏è partial mark. There are tool pipeline hooks, but they aren't linked to the model loop yet. I‚Äôll need to check for missing 'prompt' hooks by looking at the relevant types in the source code.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,260p' src/core/hooks/types.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 75ms:[0m
[2mimport type { PermissionUpdate } from "../permissions/types.js";
import type { ToolName, ToolResult } from "../tools/types.js";
import type { HookRunId } from "../types/state.js";
import type { CancellationReason } from "../types/runtime.js";

export type HookEventName =
  | "PreToolUse"
  | "PostToolUse"
  | "PostToolUseFailure"
  | "PermissionRequest"
  | "Stop"
  | "SubagentStop"
  | "SubagentStart"
  | "UserPromptSubmit"
  | "SessionStart"
  | "SessionEnd"
  | "Notification"
  | "PreCompact"
  | "StatusLine"
  | "FileSuggestion";[0m


[35m[3mthinking[0m[0m
**Planning report updates**

I need to deliver a report file, which doesn't have to be perfect. I‚Äôll highlight sections that were spot-checked, and note that the "accuracy" rating may only be partial due to incomplete verification. I‚Äôm moving on to step 3, which involves searching for undocumented features using specified grep patterns and comparing outputs with an encyclopedia. While step 2 is still in progress, I can mark step 3 as in progress after gathering enough for the audit. I'll hold off on updating the plan until we've finished step 2.
[35m[3mthinking[0m[0m
**Updating task plan**

Tasks 1 and 2 are separate, but it‚Äôs still fine to run commands in step 2. The plan indicates that step 3 comes later, but I can finish step 2 soon. I‚Äôll run the specified grep commands, plus some additional ones to identify what‚Äôs missing. After finishing the audit of the earlier sections, I think we have enough information to move to step 3 and search bundles for undocumented features. I‚Äôll update the plan accordingly.
[35mPlan update[0m
[3mCore encyclopedia claims for Chapters 1‚Äì5 and selected later-chapter symbol maps have been spot-checked against both bundled cli.js files; next is an explicit sweep for exported symbols/classes/functions that the encyclopedia doesn‚Äôt mention.[0m
  [32m‚úì[0m Read encyclopedia and iteration-1 findings
  [32m‚úì[0m Audit each encyclopedia section vs bundles
  [36m‚Üí[0m Search bundles for undocumented features
  [2m‚Ä¢[0m [2mCheck TypeScript coverage in src[0m
  [2m‚Ä¢[0m [2mVerify versions and write report[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'exports\\.[a-zA-Z]+|module\\.exports' bundles/ClaudeCodeCode/cli.js | head -50"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 260ms:[0m
[2mexports.humanize
exports.humanize
exports.default
exports.spawn
exports.sync
exports.PARAMS
exports.ascending
exports.descending
exports.wrap
exports.push
exports.push
exports.unload
exports.signals
exports.load
exports.lock
exports.unlock
exports.lockSync
exports.unlockSync
exports.check
exports.checkSync[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'function [a-zA-Z]+|async function [a-zA-Z]+|[a-zA-Z]+\\s*=\\s*async' bundles/ClaudeCodeCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 175ms:[0m
[2mfunction Hi
function zi
function wi
function Ni
function Ri
function Ti
function Si
function gi
function ui
function mi
function ci
function pi
function ai
function si
function ei
function ZBA
function An
function Qn
function Bn
function Yn[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'class [A-Z][a-zA-Z]+' bundles/ClaudeCodeCode/cli.js | sort -u | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 127ms:[0m
[2mclass AbA
class Ac
class Ad
class Ae
class AgB
class AiA
class AJ
class AkA
class Al
class Am
class AM
class AN
class ANB
class Ao
class Ap
class Aq
class As
class AT
class AvA
class Aw[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'function [a-zA-Z]+|async function [a-zA-Z]+|[a-zA-Z]+\\s*=\\s*async' bundles/ClaudeAgentSDKCode/cli.js | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 172ms:[0m
[2mfunction Kl
function Dl
function Cl
function zl
function ql
function Ml
function kl
function fl
function bl
function gl
function ul
function pl
function nl
function ol
function GBA
function rl
function sl
function tl
function Qi
function Bi[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'class [A-Z][a-zA-Z]+' bundles/ClaudeAgentSDKCode/cli.js | sort -u | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 125ms:[0m
[2mclass AbA
class AC
class Ad
class Af
class AfB
class Ah
class AJ
class AkA
class Al
class AM
class An
class AN
class APB
class AU
class AvA
class AvB
class AwA
class AZ
class BbA
class Bd[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "grep -oE 'exports\\.[a-zA-Z]+|module\\.exports' bundles/ClaudeAgentSDKCode/cli.js | head -50"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 203ms:[0m
[2mexports.humanize
exports.humanize
exports.default
exports.spawn
exports.sync
exports.PARAMS
exports.ascending
exports.descending
exports.wrap
exports.push
exports.push
exports.unload
exports.signals
exports.load
exports.lock
exports.unlock
exports.lockSync
exports.unlockSync
exports.check
exports.checkSync[0m

[35m[3mthinking[0m[0m
**Analyzing functionality documentation**

The grep outputs show extensive lists of classes and functions, mainly third-party. The "exports" list indicates many `exports.default`, suggesting that CJS modules are being wrapped, but not everything is documented. I should focus on identifying first-party components that aren't in the encyclopedia. 

Searching for first-party command groups not in the encyclopedia could be more effective. I can look for known CLI features like plugin management and validate them against the documentation. I'll extract command patterns and compare them to find discrepancies.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "perl -ne 'while(/\\.command\\(\"(["'^"]+)"/g){print "$1'"\\n\"}' bundles/ClaudeCodeCode/cli.js | sort -u | head -200"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 93ms:[0m
[2madd <name> <commandOrUrl> [args...]
add <source>
add-from-claude-desktop
add-json <name> <json>
call
disable <plugin>
doctor
enable <plugin>
get <name>
grep
info
install [target]
install <plugin>
list
marketplace
mcp
plugin
read
remove <name>
reset-project-choices[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"claude mcp|\\bplugin\\b|marketplace\" CLI_ENCYCLOPEDIA.md | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 74ms:[0m
[2m1305:This chapter documents the **Hooks** system: user-/project-/local-/policy-/plugin-configured ‚Äúcallbacks‚Äù that run at specific lifecycle events (pre-tool, post-tool, stop, etc.).
1310:2. Select matching hook definitions for this event (from settings + plugin hooks + session hooks).
1342:| Hook matcher aggregator (settings + plugin + session) | `$W5(appState?)` | `mK5(appState?)` |
1384:- If `policySettings.allowManagedHooksOnly === true`, the system uses **only** policy-managed hooks and excludes plugin hooks + user/project/local settings hooks.
1438:The matcher aggregator includes plugin hooks only when the policy does *not* enforce `allowManagedHooksOnly`.
1440:- 2.0.67: `$W5(appState?)` calls `_PA()` to read plugin hooks if `!YA1()`
1443:These plugin hooks are treated as ‚Äúadditional matchers‚Äù for the same hook events.
1917:- `plugins`: `{ enabled: []; disabled: []; commands: []; agents: []; errors: []; installationStatus: { marketplaces: []; plugins: [] } }`
2462:- `commands`: array of command definitions (built-in commands + plugin commands + MCP commands)
2492:- `plugins` and `agentDefinitions` (for agent selection + plugin commands + startup notices)
3062:     - plugin command bundles
3173:- 2.0.69: `/review` still exists but is replaced with a message telling the user it has moved to a plugin:
3174:  - ‚Äúinstall code-review@claude-code-marketplace‚Äù
3177:This is important for a unified TS rewrite: you‚Äôll need to decide whether ‚Äúmigrated to plugin‚Äù commands live in core or are generated from plugin metadata.
3307:- inspects plugin errors (`Q.plugins.errors`)
3876:7. Plugin system ‚Äî command/skill/agent loading from plugin manifests and directories[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"setup-token|marketplace\\b|claude mcp\" CLI_ENCYCLOPEDIA.md | head -50"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 759ms:[0m
[2m3174:  - ‚Äúinstall code-review@claude-code-marketplace‚Äù[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"\\.command\\(\\\"serve\\\"\\)|\\.command\\(\\\"marketplace\\\"\\)|\\.command\\(\\\"setup-token\\\"\\)\" bundles/ClaudeCodeCode/cli.js | head -20"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 66ms:[0m
[2m4708:`);let iA=await WU("startup");L9("action_after_hooks"),await $5(o8.default.createElement(u5,{initialState:IB,onChangeAppState:uy},o8.default.createElement(b0A,{debug:X||W,commands:[...o0,...wA],initialPrompt:RA,initialTools:W2,initialMessages:iA,mcpClients:C0,dynamicMcpConfig:YA,autoConnectIdeFlag:M,strictMcpConfig:CA,systemPrompt:zA,appendSystemPrompt:bA,mcpCliEndpoint:tA,mainThreadAgentDefinition:R1,disableSlashCommands:k})),C1)}else await $5(o8.default.createElement(vd2,{commands:[...o0,...wA],debug:X||W,initialLogs:K1,worktreePaths:GB,initialTools:W2,mcpClients:C0,dynamicMcpConfig:YA,mcpCliEndpoint:tA,appState:IB,onChangeAppState:uy,strictMcpConfig:CA,systemPrompt:zA,appendSystemPrompt:bA,initialSearchQuery:_9,disableSlashCommands:k}),C1)}}else{let d0=await WU("startup");L9("action_after_hooks"),await $5(o8.default.createElement(u5,{initialState:IB,onChangeAppState:uy},o8.default.createElement(b0A,{debug:X||W,commands:[...o0,...wA],initialPrompt:RA,initialTools:W2,initialMessages:d0,mcpClients:C0,dynamicMcpConfig:YA,autoConnectIdeFlag:M,strictMcpConfig:CA,systemPrompt:zA,appendSystemPrompt:bA,mcpCliEndpoint:tA,mainThreadAgentDefinition:R1,disableSlashCommands:k})),C1)}}).version(`${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.0.69",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2025-12-13T00:32:01Z"}.VERSION} (Claude Code)`,"-v, --version","Output the version number"),A.addOption(new RW("--sdk-url <url>","Use remote WebSocket endpoint for SDK I/O streaming (only with -p and stream-json format)").hideHelp()),A.addOption(new RW("--teleport [session]","Resume a teleport session, optionally specify session ID").hideHelp()),A.addOption(new RW("--remote <description>","Create a remote session with the given description").hideHelp());let Q=A.command("mcp").description("Configure and manage MCP servers").helpOption("-h, --help","Display help for command");Q.command("serve").description("Start the Claude Code MCP server").helpOption("-h, --help","Display help for command").option("-d, --debug","Enable debug mode",()=>!0).option("--verbose","Override verbose mode setting from config",()=>!0).action(async({debug:J,verbose:I})=>{let X=WI0();if(r("tengu_mcp_start",{}),!u71(X))console.error(`Error: Directory ${X} does not exist`),process.exit(1);try{await m71(X,"default",!1,!1,void 0),await bd2(X,J??!1,I??!1)}catch(W){console.error("Error: Failed to start MCP server:",W),process.exit(1)}}),Q.command("add <name> <commandOrUrl> [args...]").description(`Add an MCP server to Claude Code.
4744:`),I.warnings.forEach((X)=>{console.log(`  ${X1.pointer} ${X.path}: ${X.message}`)}),console.log("");if(I.success){if(I.warnings.length>0)console.log(`${X1.tick} Validation passed with warnings`);else console.log(`${X1.tick} Validation passed`);process.exit(0)}else console.log(`${X1.cross} Validation failed`),process.exit(1)}catch(I){s(I instanceof Error?I:Error(String(I))),console.error(`${X1.cross} Unexpected error during validation: ${I instanceof Error?I.message:String(I)}`),process.exit(2)}});let Z=G.command("marketplace").description("Manage Claude Code marketplaces").helpOption("-h, --help","Display help for command");Z.command("add <source>").description("Add a marketplace from a URL, path, or GitHub repo").helpOption("-h, --help","Display help for command").action(async(J)=>{try{let I=S51(J);if(!I)console.error(`${X1.cross} Invalid marketplace source format. Try: owner/repo, https://..., or ./path`),process.exit(1);if("error"in I)console.error(`${X1.cross} ${I.error}`),process.exit(1);let X=I;console.log("Adding marketplace...");let{name:W}=await N_(X,(V)=>{console.log(V)});VZ();let K=X.source;if(X.source==="github")K=X.repo;r("tengu_marketplace_added",{source_type:K}),console.log(`${X1.tick} Successfully added marketplace: ${W}`),process.exit(0)}catch(I){B(I,"add marketplace")}}),Z.command("list").description("List all configured marketplaces").helpOption("-h, --help","Display help for command").action(async()=>{try{let J=await N5(),I=Object.keys(J);if(I.length===0)console.log("No marketplaces configured"),process.exit(0);console.log(`Configured marketplaces:
4748:`),process.exit(1);X=I.scope}await cd2(J,X)}),A.command("setup-token").description("Set up a long-lived authentication token (requires Claude subscription)").helpOption("-h, --help","Display help for command").action(async()=>{if(r("tengu_setup_token_command",{}),await EI(),!Mz())process.stderr.write(cA.yellow(`Warning: You already have authentication configured via environment variable or API key helper.[0m

[35m[3mthinking[0m[0m
**Evaluating command accuracy**

Hmm, the prompt for iteration 2 is focused on encyclopedia accuracy. I realize that the encyclopedia might not cover all tools, but I'm aiming for the major sections. The undocumented code search should help find any missing sections, so I can list those command groups. Now, step 3 is almost complete; I've found unmentioned commands. Next, I'll check if they also appear in the ClaudeAgentSDKCode and extract the `.command("...")` list for the agent.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "perl -ne 'while(/\\.command\\(\"(["'^"]+)"/g){print "$1'"\\n\"}' bundles/ClaudeAgentSDKCode/cli.js | sort -u | head -200"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 69ms:[0m
[2madd <name> <commandOrUrl> [args...]
add <source>
add-from-claude-desktop
add-json <name> <json>
call
disable <plugin>
doctor
enable <plugin>
get <name>
grep
info
install [target]
install <plugin>
list
marketplace
mcp
plugin
read
remove <name>
reset-project-choices[0m
[35mPlan update[0m
[3mUndocumented user-facing command groups (mcp/marketplace/plugin/setup-token) were extracted from both bundles; next is to map each encyclopedia section to existing TS modules and note semantic mismatches or missing implementations.[0m
  [32m‚úì[0m Read encyclopedia and iteration-1 findings
  [32m‚úì[0m Audit each encyclopedia section vs bundles
  [32m‚úì[0m Search bundles for undocumented features
  [36m‚Üí[0m Check TypeScript coverage in src
  [2m‚Ä¢[0m [2mVerify versions and write report[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "NotificationPriority|addNotification|notifications" src/core src/ui | head -80'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 87ms:[0m
[2msrc/core/state/index.ts:2:export * from "./notifications.js";
src/core/capabilities/catalog.ts:36:  { key: "notifications", optional: true, summary: "Notifications affordances" },
src/core/types/host.ts:189:  notifications: Capability<HostNotifications>;
src/core/state/state.ts:22:import type { Notification, NotificationEffect, NotificationState } from "./notifications.js";
src/core/state/state.ts:23:import { addNotification, expireCurrentNotification } from "./notifications.js";
src/core/state/state.ts:57:  notifications: NotificationState;
src/core/state/state.ts:151:    notifications: { current: null, queue: [] },
src/core/state/state.ts:370:      const { state: nextNotif, effects } = addNotification(state.ui.notifications, action.notification);
src/core/state/state.ts:371:      return { state: { ...state, ui: { ...state.ui, notifications: nextNotif } }, effects, events: [{ type: "ui/state-changed", actionType: action.type }] };
src/core/state/state.ts:374:      const { state: nextNotif, effects } = expireCurrentNotification(state.ui.notifications, action.key);
src/core/state/state.ts:375:      return { state: { ...state, ui: { ...state.ui, notifications: nextNotif } }, effects, events: [{ type: "ui/state-changed", actionType: action.type }] };
src/core/state/notifications.ts:1:export type NotificationPriority = "immediate" | "high" | "medium" | "low";
src/core/state/notifications.ts:6:  priority: NotificationPriority;
src/core/state/notifications.ts:23:const priorityOrder: Record<NotificationPriority, number> = {
src/core/state/notifications.ts:66:export function addNotification(state: NotificationState, notification: Notification): { state: NotificationState; effects: NotificationEffect[] } {
src/core/hooks/interpreter.ts:64:  notifications: Array<{ title: string; message: string; kind?: string; hookId: string }>;
src/core/hooks/interpreter.ts:78:  const notifications: HookEffectApplyResult["notifications"] = [];
src/core/hooks/interpreter.ts:191:      if (ctx.host.notifications.kind !== "available" || !ctx.host.notifications.value.notify) {
src/core/hooks/interpreter.ts:197:          reason: "host.notifications capability is unavailable"
src/core/hooks/interpreter.ts:200:        notifications.push({[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,220p' src/core/state/notifications.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 67ms:[0m
[2mexport type NotificationPriority = "immediate" | "high" | "medium" | "low";

export type Notification = {
  key: string;
  text: string;
  priority: NotificationPriority;
  color?: string;
  timeoutMs?: number;
  invalidates?: string[];
};

export type NotificationState = {
  current: Notification | null;
  queue: Notification[];
};

export const DEFAULT_NOTIFICATION_TIMEOUT_MS = 8000;

export type NotificationEffect =
  | { type: "effect/notification-cancel-timeout" }[0m

[35m[3mthinking[0m[0m
**Evaluating chapter relevance**

This matches the description from chapter 7 of the canonical TS block I found in the encyclopedia, which defines NotificationPriority and other elements. It‚Äôs good because TS has some of this functionality. However, chapter 7 focuses on AppState runtime and notifications in React/Ink, and TS uses its own state store with an adapter, which differs from that. It seems the notifications logic is aligned, but for chapter 7, TS appears to be partial. Chapter 8 discusses Teleport and remote sessions, and I suspect TS doesn't implement that, so I‚Äôll search for "teleport" in the src.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "rg -n \"teleport|remote session|claude\\.ai/code\" src | head -40"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 63ms:[0m
[2m[0m

[35m[3mthinking[0m[0m
**Evaluating UI and Commands**

Alright, it seems there‚Äôs no teleport feature. For Chapter 9, the main REPL UI has some UI elements like TS, but it doesn't include the model loop. I see references to createEngine and CliAdapter, but they might not fully match up. I‚Äôll treat these as partial or unimplemented. As for Chapter 10, there‚Äôs no session browser mentioned, and in Chapter 11, I'm thinking there might be some slash commands in core/commands, like a search function.
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "find src -maxdepth 3 -type d -name '*command*' -o -type f -name '*command*' | head -80"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 76ms:[0m
[2msrc/core/mcp/commands.ts
src/core/commands[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "find src/core/commands -maxdepth 2 -type f -print && sed -n '1,160p' src/core/commands/index.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 59ms:[0m
[2msrc/core/commands/types.ts
src/core/commands/registry.ts
src/core/commands/index.ts
export * from "./types.js";
export * from "./registry.js";
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc "sed -n '1,240p' src/core/commands/registry.ts"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 66ms:[0m
[2mimport type { EngineInternalCommandDefinition, EngineInternalCommandName } from "./types.js";

export class EngineInternalCommandRegistry {
  private readonly commands = new Map<EngineInternalCommandName, EngineInternalCommandDefinition<any, any>>();

  register<Request, Response>(def: EngineInternalCommandDefinition<Request, Response>): void {
    if (this.commands.has(def.name)) throw new Error(`Engine command already registered: ${def.name}`);
    this.commands.set(def.name, def);
  }

  get(name: EngineInternalCommandName): EngineInternalCommandDefinition<any, any> | null {
    return this.commands.get(name) ?? null;
  }

  list(): EngineInternalCommandName[] {
    return [...this.commands.keys()].sort();
  }
}
[0m
[35m[3mexec[0m[0m
[1m/bin/zsh -lc 'rg -n "MAGIC DOC|magic-doc" src | head -40'[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 57ms:[0m
[2m[0m

[35m[3mthinking[0m[0m
**Organizing version info**

I'm realizing that the TS coverage is only complete for earlier chapters. So, I need to list what's missing. I should also mention that TS has a prompt mode that's discussed in the rewrite notes, which might not cover the encyclopedia chapters since that's before chapter 1.

Now, I need to prepare a report file and gather version info. I'm looking at the encyclopedia versions 2.0.67 and 2.0.69, and the actual bundle versions. I want to confirm the TypeScript version is using this. Step 4 is complete, and I'm progressing on step 5.
[35mPlan update[0m
[3mTypeScript coverage has been mapped: Chapters 1‚Äì5 largely exist (with a few semantic differences), while Chapters 8‚Äì13 are mostly unimplemented; next is to finalize the section-by-section audit, version findings, and the undocumented/missing coverage tables into the iteration-2 report file.[0m
  [32m‚úì[0m Read encyclopedia and iteration-1 findings
  [32m‚úì[0m Audit each encyclopedia section vs bundles
  [32m‚úì[0m Search bundles for undocumented features
  [32m‚úì[0m Check TypeScript coverage in src
  [36m‚Üí[0m Verify versions and write report

[35m[3mthinking[0m[0m
**Gathering evidence for report**

I'll include specific evidence for critical sections in my report. For example, I need to show a code snippet in section 1.1 and highlight that upstream has LV5/pE5 for direct connect in section 1.7. There's also a mismatch in TS parsing to note in section 4.9, along with differences in TS Windows policy directory in section 5.3. I'll mention the missing updates in section 12 and clarify that user-facing references are usage, not definitions. Including a general executive summary might be helpful, even if it's not explicitly requested.
[3m[35mfile update[0m[0m
[35mA /Users/ronaldeddings/ClaudeCodeTS/investigation/iteration-2-encyclopedia-verification.md[0m
[32m# Iteration 2: Encyclopedia Verification[0m
[32m[0m
[32mGoal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.[0m
[32m[0m
[32mAuthoritative inputs used:[0m
[32m- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)[0m
[32m- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)[0m
[32m- `src/`[0m
[32m- `CLI_ENCYCLOPEDIA.md`[0m
[32m- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`[0m
[32m[0m
[32m## Section-by-Section Audit[0m
[32m[0m
[32m### How to read minified symbols (practical decoding rules)[0m
[32m- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.[0m
[32m- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.[0m
[32m- TypeScript has: N/A (documentation/strategy).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### Canonicalization strategy for the TS rewrite[0m
[32m- Encyclopedia says: prefer behavioral canonical names and keep a mapping (build symbol ‚Üî canonical TS).[0m
[32m- CLI.js actually: minified symbol differences across 2.0.67/2.0.69 are real and pervasive; mapping-by-behavior is necessary.[0m
[32m- TypeScript has: partial ‚Äúcanonicalization‚Äù infrastructure in places (e.g. legacy tool name mapping via `src/core/migration/toolMapping.ts`), but no universal symbol map is enforced.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (strategy is sound; repo-wide mapping discipline is not fully realized yet)[0m
[32m[0m
[32m### TS rewrite notes (this repo)[0m
[32m- Encyclopedia says: `-p/--prompt` mimics Claude Code OAuth request shape (Bearer token UA/betas, avoid `/v1/messages?beta=true`), and OAuth refresh / OAuth‚ÜíAPI-key exchange exist but are gated.[0m
[32m- CLI.js actually: this section is TS-specific; it doesn‚Äôt claim CLI.js behavior beyond request-shape constraints.[0m
[32m- TypeScript has: implemented in `src/cli/prompt.ts` (Bearer auth for OAuth, UA `claude-cli/<version> (external, <entrypoint>...)`, sets `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20`, avoids SDK beta endpoint; refresh/exchange gated by `CLAUDE_TS_ENABLE_OAUTH_REFRESH` / `CLAUDE_TS_ENABLE_OAUTH_API_KEY_EXCHANGE`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)[0m
[32m- Encyclopedia says: internal `--mcp-cli` mode; endpoint vs state-file mode; lists/calls/tools/resources.[0m
[32m- CLI.js actually: `--mcp-cli` entry exists in both bundles‚Äô bootstrap (`dD5`/`XF5`) and contains endpoint + state-file logic.[0m
[32m- TypeScript has: implemented as `--mcp-cli` in `src/cli.ts` and `src/cli/mcpCli.ts`, but with reduced parity (notably missing direct-connect call/read).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### 1.1 Feature gates & timeouts[0m
[32m- Encyclopedia says: `MCP_TOOL_TIMEOUT` env var; experimental gate `ENABLE_EXPERIMENTAL_MCP_CLI`; endpoint gate `ENABLE_MCP_CLI_ENDPOINT` (explicit false strings disable).[0m
[32m- CLI.js actually: 2.0.67 defines `function KAA(){ return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5 }`, `hZ()` checks `ENABLE_EXPERIMENTAL_MCP_CLI`, `_XA()` combines with explicit-false parsing for `ENABLE_MCP_CLI_ENDPOINT`; 2.0.69 mirrors via `se/uZ/_n` (definition vs usage is split across different line anchors in the encyclopedia).[0m
[32m- TypeScript has: `computeMcpCliGateSnapshotFromEnv` in `src/core/settings/effectiveConfig.ts` + `runMcpCli` fallback timeout `100_000_000` in `src/cli/mcpCli.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 1.2 Endpoint discovery & mode selection[0m
[32m- Encyclopedia says: memoized endpoint config loader, endpoint-mode predicate, and a warn-once when endpoint allowed but config missing.[0m
[32m- CLI.js actually: both bundles memoize endpoint config (`Uu2/qm2`) and gate endpoint-mode (`lH/mH`) with a warning when config is missing.[0m
[32m- TypeScript has: endpoint config provider + caching via `createMcpEndpointConfigProvider` (`src/core/mcp/client.ts`), and warn-once behavior exists but message is generic (does not include the legacy endpoint-file path + session id).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (TS warning behavior differs; CLI.js description matches)[0m
[32m[0m
[32m### 1.3 Error types[0m
[32m- Encyclopedia says: `ConnectionFailedError` thrown when MCP connection isn‚Äôt established/connected.[0m
[32m- CLI.js actually: both bundles define `class VjA/ZjA extends Error { name="ConnectionFailedError" }`.[0m
[32m- TypeScript has: `ConnectionFailedError` implemented as an `McpError` subclass in `src/core/mcp/errors.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 1.4 Analytics wrapper for MCP CLI commands[0m
[32m- Encyclopedia says: wrapper measures `duration_ms`, emits `tengu_mcp_cli_command_executed`, wraps success/failure.[0m
[32m- CLI.js actually: both builds have `EjA/YjA` wrappers and emit `tengu_mcp_cli_command_executed`.[0m
[32m- TypeScript has: `withTelemetry(...)` wrapper in `src/cli/mcpCli.ts` and telemetry plumbing in `src/core/observability/telemetry.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 1.5 State file access & name normalization[0m
[32m- Encyclopedia says: legacy state file lives under an OS tmpdir path keyed by session id; name normalization used to map `mcp__<server>__<tool>` names.[0m
[32m- CLI.js actually: both builds read legacy session state and normalize server/tool identifiers (server-level prefixes and `mcp__...` name parsing).[0m
[32m- TypeScript has: legacy state reader + legacy directory logic in `src/cli/mcpCli.ts`, plus normalization/mapping helpers (`src/core/migration/toolMapping.ts`, `src/core/tools/names.ts`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 1.6 Endpoint HTTP client (`/mcp`)[0m
[32m- Encyclopedia says: endpoint calls POST `${endpoint.url}/mcp`, `Authorization: Bearer <key>`, robust error normalization, parses schema.[0m
[32m- CLI.js actually: both bundles implement `/mcp` endpoint POST and map network/status errors into typed errors (names set from returned `{ type }` when present).[0m
[32m- TypeScript has: `callMcpEndpoint(...)` in `src/core/mcp/endpointTransport.ts` (fetch-based, validates request/response envelopes, maps HTTP status into `AuthFailedError`/`RateLimitedError`/`ConnectionFailedError`/`ProtocolError`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 1.7 Direct-connect tool invocation (state-file mode)[0m
[32m- Encyclopedia says: state-file mode can directly connect and call tools/read resources when endpoint mode isn‚Äôt used (`LV5/pE5`, etc.).[0m
[32m- CLI.js actually: both bundles implement state-file-mode direct connects and can `tools/call` and `readResource` via connected clients.[0m
[32m- TypeScript has: **not implemented** (TS `--mcp-cli` help explicitly says `call`/`read` are endpoint-only; state-file mode only supports listing/grep).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS coverage missing)[0m
[32m[0m
[32m### 1.8 CLI command group and subcommands (`commander`)[0m
[32m- Encyclopedia says: `commander` program with `servers/tools/info/call/grep/resources/read`, switching between endpoint and state-file modes.[0m
[32m- CLI.js actually: `mcp-cli` is built with commander and includes `info`, plus endpoint vs state-file switching.[0m
[32m- TypeScript has: implements `servers/tools/resources/grep/call/read` but **no `info` subcommand**, and TS uses manual arg parsing (not commander); state-file mode is reduced (no direct call/read/info).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### 1.9 `--mcp-cli` entry[0m
[32m- Encyclopedia says: wrapper initializes, parses args, flushes telemetry when not in endpoint mode.[0m
[32m- CLI.js actually: both builds have `wu2/Mm2` calling `parseAsync` with conditional telemetry flush.[0m
[32m- TypeScript has: entry exists via `src/cli.ts` dispatch ‚Üí `runMcpCli`, and emits telemetry per command; explicit ‚Äúflush at end‚Äù parity is not clearly replicated.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)[0m
[32m- Encyclopedia says: protocol is `<uint32le len><utf8 payload>`, max len 1,048,576, streaming reader class.[0m
[32m- CLI.js actually: both bundles set max to `1048576` and implement streaming buffer logic (`RV5` / `nE5`).[0m
[32m- TypeScript has: `MAX_NATIVE_MESSAGE_BYTES`, `nativeHostLog`, and `NativeHostReader` implemented in `src/platform/desktop/chromeNativeMessaging.ts` (plus `NativeHostWriter`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 2.1 Constants and logging[0m
[32m- Encyclopedia says: max payload size = 1,048,576; log prefix `[Claude Chrome Native Host]`.[0m
[32m- CLI.js actually: matches (`qu2/Rm2 = 1048576`, `OV5/iE5` prefix).[0m
[32m- TypeScript has: matches exactly (`src/platform/desktop/chromeNativeMessaging.ts`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader[0m
[32m- Encyclopedia says: buffer accumulation, pending resolver, close-on-end/error; validates length and reads full frames.[0m
[32m- CLI.js actually: matches the described state machine (including invalid length handling).[0m
[32m- TypeScript has: matches behavior closely (with a minor difference: TS closes on invalid length and resolves null; bundle resolves null without necessarily closing stream).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### Chapter 3 ‚Äî CLI bootstrap / fast paths[0m
[32m- Encyclopedia says: bootstrap fast-paths for `--version`, `--mcp-cli`, `--ripgrep`, else dynamic-import main.[0m
[32m- CLI.js actually: 2.0.67 `dD5()` and 2.0.69 `XF5()` implement exactly that decision tree.[0m
[32m- TypeScript has: `src/cli.ts` implements `--version`, `--mcp-cli`, `--ripgrep`, plus TS-only commands (`doctor`, `engine-only`, `--print-frame`, `-p/--prompt`); does not replicate all upstream flags (e.g., `--teleport`, `--remote`, etc.).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### 3.1 Entry function: `dD5()` vs `XF5()`[0m
[32m- Encyclopedia says: detailed order of checks and behavior of each fast path.[0m
[32m- CLI.js actually: matches (including `process.exit(await mainMcpCli(...))` and `process.exitCode = ripgrepMain(...)`).[0m
[32m- TypeScript has: conceptually similar, but the ‚Äúmain app‚Äù is a different TS engine (`runNodeCli`/Ink adapter) and upstream parity is incomplete.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 4 ‚Äî Permissions, rules, and tool approval[0m
[32m- Encyclopedia says: permission pipeline with modes + flattened rules + tool-specific checks + Bash special casing + rule persistence.[0m
[32m- CLI.js actually: permission parsing (`NL/IL`), explanation builder (`YK/JK`), Bash redirection parsing (`OT/UT`), and the decision/persist pipeline exist in both bundles.[0m
[32m- TypeScript has: substantial implementation in `src/core/permissions/*`, but not 1:1 (see 4.9).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### 4.1 Data model: `ToolPermissionContext`[0m
[32m- Encyclopedia says: stable, non-minified property names (mode + rule buckets + working dirs + bypass availability).[0m
[32m- CLI.js actually: the object shape uses stable field names as documented.[0m
[32m- TypeScript has: `ToolPermissionContext` and related unions in `src/core/permissions/types.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.2 Rule syntax: `Tool(ruleContent)` and plain tool rules[0m
[32m- Encyclopedia says: simple regex parser and stringifier with no nested/escaped parentheses support.[0m
[32m- CLI.js actually: `NL/IL` are simple `^([^(]+)\\(([^)]+)\\)$` parsers; `X5/B5` are simple formatters.[0m
[32m- TypeScript has: `parsePermissionRuleString` and `formatPermissionRuleValue` in `src/core/permissions/rules.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.3 Flattening rules across sources (precedence list)[0m
[32m- Encyclopedia says: merge/flatten allow/deny/ask sources using an explicit precedence list.[0m
[32m- CLI.js actually: both builds fold multiple source buckets into ordered rule lists (preference order matters for ‚Äúfirst match‚Äù).[0m
[32m- TypeScript has: `LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE` + `flattenRules(...)` in `src/core/permissions/evaluate.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.4 Matching rules to a tool (including MCP server-level rules)[0m
[32m- Encyclopedia says: tool name matches, plus MCP server-level match (`mcp__server__` matches all that server‚Äôs tools).[0m
[32m- CLI.js actually: bundle checks MCP name parts and allows server-level rules.[0m
[32m- TypeScript has: `parseMcpToolName` + `matchesToolName` in `src/core/permissions/rules.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.5 First-match queries: find allow/deny/ask rules[0m
[32m- Encyclopedia says: ‚Äúfirst match wins‚Äù queries for deny/ask/allow.[0m
[32m- CLI.js actually: permission checks short-circuit by rule order.[0m
[32m- TypeScript has: `findFirstPlainRule(...)` in `src/core/permissions/evaluate.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.6 Content-keyed rules for a specific tool (domain/path/etc.)[0m
[32m- Encyclopedia says: index rules keyed by `ruleContent` for tool-specific checks (e.g. WebFetch domain).[0m
[32m- CLI.js actually: bundle builds per-tool keyed maps for some tools.[0m
[32m- TypeScript has: `buildContentRuleIndex(...)` in `src/core/permissions/evaluate.ts` (exact-tool-name + `ruleContent` keying).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.7 Core decision function: tool permission gate[0m
[32m- Encyclopedia says: decision uses deny‚Üíask‚Üítool-specific‚Üímode overrides‚Üíallow‚Üídefault ask; has reasons for UI.[0m
[32m- CLI.js actually: bundle follows the same broad ordering and generates structured ‚Äúwhy‚Äù reasons.[0m
[32m- TypeScript has: `decideToolInvocationPermission(...)` in `src/core/permissions/evaluate.ts` (mode overrides + deny/ask/allow + tool-specific check hooks).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 4.8 Permission-denial messaging and ‚Äúwhy are we asking?‚Äù[0m
[32m- Encyclopedia says: helper formats human-facing explanation strings by reason kind (rule/mode/sandbox override/etc.).[0m
[32m- CLI.js actually: `YK/JK` switch across reason types including redirection-aware summaries for Bash subcommands.[0m
[32m- TypeScript has: `formatPermissionExplanation(...)` and `formatPermissionModeLabel(...)` in `src/core/permissions/explain.ts`; also `PermissionPromptRequest.why` types exist (`src/core/permissions/types.ts`).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (TS explanations exist, but upstream has more nuanced multi-operation summaries)[0m
[32m[0m
[32m### 4.9 Bash redirection parsing used in permission reasoning[0m
[32m- Encyclopedia says: upstream tokenizes bash, tracks parentheses groups, detects many redirection shapes, returns `{ commandWithoutRedirections, redirections[] }`.[0m
[32m- CLI.js actually: upstream parsing is sophisticated (it operates on token streams, recognizes `>&`, pipes into redirection, process substitution, etc.).[0m
[32m- TypeScript has: `parseBashRedirections(...)` in `src/core/permissions/bash.ts`, but it is a much simpler whitespace tokenizer and only handles basic `>` / `>>` (and inline `2>file` forms). It does not match the upstream tokenizer/edge cases.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS implementation is a simplification)[0m
[32m[0m
[32m### 4.10 Applying permission updates to `ToolPermissionContext`[0m
[32m- Encyclopedia says: update variants (`setMode`, `add/replace/removeRules`, `add/removeDirectories`) + batch apply + persistence to specific settings scopes.[0m
[32m- CLI.js actually: bundle has update folding and persistence gating to user/project/local settings.[0m
[32m- TypeScript has: `applyPermissionUpdates(...)` in `src/core/permissions/updates.ts` and persistence via `persistPermissionUpdates(...)` in `src/core/permissions/persistence.ts` (with policy enforcement).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### Chapter 5 ‚Äî Settings system (schema, merge, IO, watchers)[0m
[32m- Encyclopedia says: settings sources + paths + parsing/validation + merge + patch writes + watcher/subscription system.[0m
[32m- CLI.js actually: both bundles have this pipeline and treat settings as a core dependency.[0m
[32m- TypeScript has: implemented in `src/core/settings/*` with storage-based IO and subscription.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.1 Settings sources (conceptual model)[0m
[32m- Encyclopedia says: file-backed (user/project/local/policy/flag) + overlays (cliArg/command/session).[0m
[32m- CLI.js actually: source keys match and are used in both settings and permissions.[0m
[32m- TypeScript has: `SettingsSource` unions and overlays in `src/core/settings/types.ts` and `src/core/settings/manager.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.2 ‚ÄúWhich sources are enabled?‚Äù (`allowedSettingSources`)[0m
[32m- Encyclopedia says: runtime allowed list + always includes policy+flag; parses CLI comma list.[0m
[32m- CLI.js actually: both builds compute enabled sources by de-duping allowed + adding policy/flag.[0m
[32m- TypeScript has: `parseEnabledSettingSourcesFlag(...)` + `computeEnabledFileSettingsSources(...)` in `src/core/settings/sources.ts`, and default allowed list in `src/core/settings/manager.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.3 Paths: where each settings source lives[0m
[32m- Encyclopedia says: stable mapping; Windows policy dir is Program Files if exists else ProgramData; policy settings file is `managed-settings.json`.[0m
[32m- CLI.js actually: uses platform switches and existence checks for Windows policy dir; file names match.[0m
[32m- TypeScript has: path logic split across host + legacy paths:[0m
[32m  - config dir default is `~/.claude` in `src/platform/node/host.ts` (matches docs),[0m
[32m  - but Windows policy system dir in `src/core/settings/legacyPaths.ts` is simplified to always `C:\\\\ProgramData\\\\ClaudeCode` (missing the Program Files existence check described).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL (TS Windows policy-dir logic differs)[0m
[32m[0m
[32m### 5.4 Reading + validating a single settings file[0m
[32m- Encyclopedia says: read JSON + validate against schema; report errors; corrupted-file handling exists.[0m
[32m- CLI.js actually: both bundles parse, validate, and include ‚Äúcorrupted config‚Äù backup/restore messaging paths.[0m
[32m- TypeScript has: storage-backed read + schema validation in `src/core/settings/storage.ts` and `src/core/settings/schema.ts` (file corruption backup UI parity is not implemented because TS stores settings in storage abstraction, not raw files).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### 5.5 Getting settings for a *source*: `uB(source)`[0m
[32m- Encyclopedia says: per-source getter used throughout the app.[0m
[32m- CLI.js actually: both builds have per-source accessors for settings fragments.[0m
[32m- TypeScript has: per-source snapshot via `SettingsManager.getEffective().perSource[...]` (`src/core/settings/manager.ts`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.6 Merging settings into ‚Äúeffective settings‚Äù[0m
[32m- Encyclopedia says: merge pipeline yields ‚Äúeffective settings‚Äù and errors.[0m
[32m- CLI.js actually: both builds merge across ordered sources and track errors.[0m
[32m- TypeScript has: merge via `mergeSettingsObjectsInOrder(...)` + manager recomputation (`src/core/settings/merge.ts`, `src/core/settings/manager.ts`).[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.7 Writing settings patches (partial updates)[0m
[32m- Encyclopedia says: partial updates/patch writes; atomic persistence; source gating.[0m
[32m- CLI.js actually: both builds apply partial updates and persist to destination.[0m
[32m- TypeScript has: `patchSource(...)` and `updateSource(...)` with internal-write suppression in `src/core/settings/manager.ts`, patch application in `src/core/settings/patch.ts`.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### 5.8 Watchers + subscriptions (`SF` / `NF`)[0m
[32m- Encyclopedia says: watcher/subscription system with internal-write suppression and app-side subscription.[0m
[32m- CLI.js actually: both builds have change notifications and React-side subscribers.[0m
[32m- TypeScript has: subscription via storage events + event bus in `src/core/settings/manager.ts`; React/Ink-side wiring is different from upstream but the ‚Äúsettings updated‚Äù events exist.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m### Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)[0m
[32m- Encyclopedia says: hooks multiplexing (settings + plugin + session), matchers, streaming vs non-streaming execution, parsing outputs into effects.[0m
[32m- CLI.js actually: extensive hooks engine exists in both bundles (`gn/Ln` streaming generators, `hY0/XJ0`, matchers, command hooks).[0m
[32m- TypeScript has: substantial hooks system in `src/core/hooks/*` (matchers, runner, interpreter, tool pipeline hooks), but it is not yet wired into an end-to-end model/tool loop (see iteration-1 findings).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)[0m
[32m- Encyclopedia says: AppState provider + notification queue semantics; defines priority/timeouts/invalidations.[0m
[32m- CLI.js actually: AppState + notifications exist (symbol maps and described queue semantics); deeper verification beyond spot-check is not completed in this iteration.[0m
[32m- TypeScript has: notification queue logic exists and matches the documented semantics (`src/core/state/notifications.ts`), but upstream‚Äôs React/Ink AppState provider architecture is not reproduced 1:1.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 8 ‚Äî Teleport + remote sessions (resume web sessions across machines)[0m
[32m- Encyclopedia says: teleport/remote session flows and key helpers; OAuth-only requirement.[0m
[32m- CLI.js actually: teleport UI/logic exists (e.g. `tengu_teleport_*` telemetry and resume UI components; symbol map entries appear in the bundle).[0m
[32m- TypeScript has: no teleport/remote session implementation found in `src/`.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 9 ‚Äî Main REPL UI (Ink/React root component)[0m
[32m- Encyclopedia says: main REPL UI root, tool-use context and UI overlays, worker/leader prompts, transcript hotkeys.[0m
[32m- CLI.js actually: REPL root exists and integrates tools/permissions/hooks; deeper verification beyond spot-check is not completed in this iteration.[0m
[32m- TypeScript has: TS has a CLI UI (`src/ui/*`) and engine scaffolding, but no upstream-equivalent main model loop/tool calling yet (per iteration-1).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 10 ‚Äî Session browser / resume picker UI[0m
[32m- Encyclopedia says: resume picker screen/list UI, cross-project helpers, and feature-gated tree browser.[0m
[32m- CLI.js actually: session browser UI exists (commands/components mentioned in the encyclopedia appear in the bundle).[0m
[32m- TypeScript has: no equivalent session browser UI found in `src/`.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)[0m
[32m- Encyclopedia says: command object ‚Äúkinds‚Äù, `/resume` behavior, and plugin migration patterns (e.g. `/review` moved to marketplace plugin).[0m
[32m- CLI.js actually: slash command system is present and integrated into the REPL.[0m
[32m- TypeScript has: no upstream-equivalent slash command system found (TS has `src/core/commands/*`, but it is an internal engine command registry, not the REPL slash command UX).[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep[0m
[32m- Encyclopedia says: `update/install/doctor` commands and internal `--ripgrep` fast path.[0m
[32m- CLI.js actually: all exist (including `--ripgrep` in bootstrap).[0m
[32m- TypeScript has: `--ripgrep` exists (`src/cli/ripgrep.ts`) and `doctor` exists (`src/cli/doctor.ts`), but `update/install` parity is not implemented.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)[0m
[32m- Encyclopedia says: Magic Docs agent (parses `# MAGIC DOC: ...`), session quality classifier, and shared helpers; provides bundle line anchors (~4543/4533, etc.).[0m
[32m- CLI.js actually: verified: both bundles contain the Magic Docs prompt text and `# MAGIC DOC` parsing logic at the referenced lines (e.g. 2.0.67 `tV5` at `cli.js:4543`, 2.0.69 `UD5` at `cli.js:4533`), plus the classifier helpers nearby.[0m
[32m- TypeScript has: no Magic Docs/classifier/session-memory/prompt-suggestion background agents found in `src/`.[0m
[32m- Accuracy: ‚ö†Ô∏è PARTIAL[0m
[32m[0m
[32m### Next chapters (to expand)[0m
[32m- Encyclopedia says: roadmap of future chapters (git, plugin system, etc.).[0m
[32m- CLI.js actually: many additional subsystems exist (see ‚ÄúUndocumented Functionality Found‚Äù).[0m
[32m- TypeScript has: varies by subsystem; many are not yet implemented.[0m
[32m- Accuracy: ‚úÖ ACCURATE[0m
[32m[0m
[32m## Undocumented Functionality Found[0m
[32m[0m
[32mThe encyclopedia focuses on internal `--mcp-cli` and several core subsystems, but the bundles also expose major **user-facing** command groups that are not described as their own chapters yet.[0m
[32m[0m
[32mExtracted from both bundles via `.command("...")` scan (unique command strings):[0m
[32m[0m
[32m| Function/Class / CLI Surface | In CLI.js | In Encyclopedia | In TypeScript |[0m
[32m|------------------------------|-----------|-----------------|---------------|[0m
[32m| `claude mcp ...` (user-facing MCP management) incl. `serve`, `add*`, `remove`, `get`, `list`, `reset-project-choices` | ‚úÖ | ‚ùå (only `--mcp-cli`) | ‚ùå |[0m
[32m| `claude plugin ...` (validate/install/update/enable/disable/uninstall) | ‚úÖ | ‚ùå (plugin system mentioned, but not CLI commands) | ‚ùå |[0m
[32m| `claude marketplace ...` (add/list/update marketplaces) | ‚úÖ | ‚ùå | ‚ùå |[0m
[32m| `claude setup-token` (long-lived token setup flow) | ‚úÖ | ‚ùå | ‚ùå |[0m
[32m[0m
[32m## Version Check[0m
[32m[0m
[32m- Encyclopedia versions: 2.0.67, 2.0.69[0m
[32m- Actual bundle versions (matched via `rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js`):[0m
[32m  - `bundles/ClaudeAgentSDKCode/cli.js`: `VERSION:"2.0.67"` (also contains `VERSION:"2.0.0"` in other embedded metadata)[0m
[32m  - `bundles/ClaudeCodeCode/cli.js`: `VERSION:"2.0.69"` (also contains `VERSION:"2.0.0"` in other embedded metadata)[0m
[32m- TypeScript version:[0m
[32m  - package version: `0.1.0` (`package.json`)[0m
[32m  - default upstream version used for UA shaping in `-p`: `2.0.69` (`src/cli/prompt.ts`, env override `CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION`)[0m
[32m[0m
[32m## Encyclopedia Corrections Needed[0m
[32m[0m
[32m1. Add a dedicated chapter for the **user-facing MCP management CLI** (`claude mcp ...`) to avoid confusion with the internal `--mcp-cli`.[0m
[32m2. Add a chapter for **marketplace + plugin CLI management** (`claude marketplace`, `claude plugin`) and `setup-token` (these are substantial and currently ‚Äúinvisible‚Äù in the encyclopedia headings).[0m
[32m3. Clarify in Chapter 1 that some 2.0.69 anchors (e.g. `cli.js:4750`) point to **usage sites** (e.g. `parseInt(...)||se()`) rather than the function definition site; this is accurate but easy to misread during verification.[0m
[32m4. In Chapter 5.3, note that Windows policy directory selection is ‚ÄúProgram Files if exists else ProgramData‚Äù in the bundles; TS currently always uses ProgramData unless further logic is added.[0m
[32m[0m
[32m## Missing TypeScript Coverage[0m
[32m[0m
[32m1. Chapter 1 parity gaps: missing `info` command, missing state-file-mode direct connect for `call`/`read` (TS `--mcp-cli` restricts them to endpoint-only).[0m
[32m2. Chapter 4.9 parity gap: TS bash-redirection parser is a simplified tokenizer and does not match upstream edge cases.[0m
[32m3. Chapters 8‚Äì13: teleport/remote sessions, session browser/resume picker, slash commands UX, update/install plumbing, and background agents (Magic Docs/classifier/session memory/prompt suggestion) are not implemented in `src/`.[0m
[32m4. Undocumented bundle CLI surfaces: `claude mcp`, `claude marketplace`, `claude plugin`, `claude setup-token` are not implemented in `src/`.[0m
[32m[0m
[32mapply_patch(auto_approved=true) exited 0 in 36ms:[0m
[2mSuccess. Updated the following files:[0m
[2mA investigation/iteration-2-encyclopedia-verification.md[0m
[3m[35mfile update:[0m[0m
diff --git a/investigation/iteration-2-encyclopedia-verification.md b/investigation/iteration-2-encyclopedia-verification.md
new file mode 100644
index 0000000000000000000000000000000000000000..ac3dedfee1068faac22210f0219c6612ad3155b8
--- /dev/null
+++ b/investigation/iteration-2-encyclopedia-verification.md
@@ -0,0 +1,334 @@
+# Iteration 2: Encyclopedia Verification
+
+Goal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.
+
+Authoritative inputs used:
+- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)
+- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)
+- `src/`
+- `CLI_ENCYCLOPEDIA.md`
+- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`
+
+## Section-by-Section Audit
+
+### How to read minified symbols (practical decoding rules)
+- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.
+- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.
+- TypeScript has: N/A (documentation/strategy).
+- Accuracy: ‚úÖ ACCURATE
+
+### Canonicalization strategy for the TS rewrite
+- Encyclopedia says: prefer behavioral canonical names and keep a mapping (build symbol ‚Üî canonical TS).
+- CLI.js actually: minified symbol differences across 2.0.67/2.0.69 are real and pervasive; mapping-by-behavior is necessary.
+- TypeScript has: partial ‚Äúcanonicalization‚Äù infrastructure in places (e.g. legacy tool name mapping via `src/core/migration/toolMapping.ts`), but no universal symbol map is enforced.
+- Accuracy: ‚ö†Ô∏è PARTIAL (strategy is sound; repo-wide mapping discipline is not fully realized yet)
+
+### TS rewrite notes (this repo)
+- Encyclopedia says: `-p/--prompt` mimics Claude Code OAuth request shape (Bearer token UA/betas, avoid `/v1/messages?beta=true`), and OAuth refresh / OAuth‚ÜíAPI-key exchange exist but are gated.
+- CLI.js actually: this section is TS-specific; it doesn‚Äôt claim CLI.js behavior beyond request-shape constraints.
+- TypeScript has: implemented in `src/cli/prompt.ts` (Bearer auth for OAuth, UA `claude-cli/<version> (external, <entrypoint>...)`, sets `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20`, avoids SDK beta endpoint; refresh/exchange gated by `CLAUDE_TS_ENABLE_OAUTH_REFRESH` / `CLAUDE_TS_ENABLE_OAUTH_API_KEY_EXCHANGE`).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
+- Encyclopedia says: internal `--mcp-cli` mode; endpoint vs state-file mode; lists/calls/tools/resources.
+- CLI.js actually: `--mcp-cli` entry exists in both bundles‚Äô bootstrap (`dD5`/`XF5`) and contains endpoint + state-file logic.
+- TypeScript has: implemented as `--mcp-cli` in `src/cli.ts` and `src/cli/mcpCli.ts`, but with reduced parity (notably missing direct-connect call/read).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.1 Feature gates & timeouts
+- Encyclopedia says: `MCP_TOOL_TIMEOUT` env var; experimental gate `ENABLE_EXPERIMENTAL_MCP_CLI`; endpoint gate `ENABLE_MCP_CLI_ENDPOINT` (explicit false strings disable).
+- CLI.js actually: 2.0.67 defines `function KAA(){ return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5 }`, `hZ()` checks `ENABLE_EXPERIMENTAL_MCP_CLI`, `_XA()` combines with explicit-false parsing for `ENABLE_MCP_CLI_ENDPOINT`; 2.0.69 mirrors via `se/uZ/_n` (definition vs usage is split across different line anchors in the encyclopedia).
+- TypeScript has: `computeMcpCliGateSnapshotFromEnv` in `src/core/settings/effectiveConfig.ts` + `runMcpCli` fallback timeout `100_000_000` in `src/cli/mcpCli.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.2 Endpoint discovery & mode selection
+- Encyclopedia says: memoized endpoint config loader, endpoint-mode predicate, and a warn-once when endpoint allowed but config missing.
+- CLI.js actually: both bundles memoize endpoint config (`Uu2/qm2`) and gate endpoint-mode (`lH/mH`) with a warning when config is missing.
+- TypeScript has: endpoint config provider + caching via `createMcpEndpointConfigProvider` (`src/core/mcp/client.ts`), and warn-once behavior exists but message is generic (does not include the legacy endpoint-file path + session id).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS warning behavior differs; CLI.js description matches)
+
+### 1.3 Error types
+- Encyclopedia says: `ConnectionFailedError` thrown when MCP connection isn‚Äôt established/connected.
+- CLI.js actually: both bundles define `class VjA/ZjA extends Error { name="ConnectionFailedError" }`.
+- TypeScript has: `ConnectionFailedError` implemented as an `McpError` subclass in `src/core/mcp/errors.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.4 Analytics wrapper for MCP CLI commands
+- Encyclopedia says: wrapper measures `duration_ms`, emits `tengu_mcp_cli_command_executed`, wraps success/failure.
+- CLI.js actually: both builds have `EjA/YjA` wrappers and emit `tengu_mcp_cli_command_executed`.
+- TypeScript has: `withTelemetry(...)` wrapper in `src/cli/mcpCli.ts` and telemetry plumbing in `src/core/observability/telemetry.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.5 State file access & name normalization
+- Encyclopedia says: legacy state file lives under an OS tmpdir path keyed by session id; name normalization used to map `mcp__<server>__<tool>` names.
+- CLI.js actually: both builds read legacy session state and normalize server/tool identifiers (server-level prefixes and `mcp__...` name parsing).
+- TypeScript has: legacy state reader + legacy directory logic in `src/cli/mcpCli.ts`, plus normalization/mapping helpers (`src/core/migration/toolMapping.ts`, `src/core/tools/names.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.6 Endpoint HTTP client (`/mcp`)
+- Encyclopedia says: endpoint calls POST `${endpoint.url}/mcp`, `Authorization: Bearer <key>`, robust error normalization, parses schema.
+- CLI.js actually: both bundles implement `/mcp` endpoint POST and map network/status errors into typed errors (names set from returned `{ type }` when present).
+- TypeScript has: `callMcpEndpoint(...)` in `src/core/mcp/endpointTransport.ts` (fetch-based, validates request/response envelopes, maps HTTP status into `AuthFailedError`/`RateLimitedError`/`ConnectionFailedError`/`ProtocolError`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.7 Direct-connect tool invocation (state-file mode)
+- Encyclopedia says: state-file mode can directly connect and call tools/read resources when endpoint mode isn‚Äôt used (`LV5/pE5`, etc.).
+- CLI.js actually: both bundles implement state-file-mode direct connects and can `tools/call` and `readResource` via connected clients.
+- TypeScript has: **not implemented** (TS `--mcp-cli` help explicitly says `call`/`read` are endpoint-only; state-file mode only supports listing/grep).
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS coverage missing)
+
+### 1.8 CLI command group and subcommands (`commander`)
+- Encyclopedia says: `commander` program with `servers/tools/info/call/grep/resources/read`, switching between endpoint and state-file modes.
+- CLI.js actually: `mcp-cli` is built with commander and includes `info`, plus endpoint vs state-file switching.
+- TypeScript has: implements `servers/tools/resources/grep/call/read` but **no `info` subcommand**, and TS uses manual arg parsing (not commander); state-file mode is reduced (no direct call/read/info).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.9 `--mcp-cli` entry
+- Encyclopedia says: wrapper initializes, parses args, flushes telemetry when not in endpoint mode.
+- CLI.js actually: both builds have `wu2/Mm2` calling `parseAsync` with conditional telemetry flush.
+- TypeScript has: entry exists via `src/cli.ts` dispatch ‚Üí `runMcpCli`, and emits telemetry per command; explicit ‚Äúflush at end‚Äù parity is not clearly replicated.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
+- Encyclopedia says: protocol is `<uint32le len><utf8 payload>`, max len 1,048,576, streaming reader class.
+- CLI.js actually: both bundles set max to `1048576` and implement streaming buffer logic (`RV5` / `nE5`).
+- TypeScript has: `MAX_NATIVE_MESSAGE_BYTES`, `nativeHostLog`, and `NativeHostReader` implemented in `src/platform/desktop/chromeNativeMessaging.ts` (plus `NativeHostWriter`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.1 Constants and logging
+- Encyclopedia says: max payload size = 1,048,576; log prefix `[Claude Chrome Native Host]`.
+- CLI.js actually: matches (`qu2/Rm2 = 1048576`, `OV5/iE5` prefix).
+- TypeScript has: matches exactly (`src/platform/desktop/chromeNativeMessaging.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
+- Encyclopedia says: buffer accumulation, pending resolver, close-on-end/error; validates length and reads full frames.
+- CLI.js actually: matches the described state machine (including invalid length handling).
+- TypeScript has: matches behavior closely (with a minor difference: TS closes on invalid length and resolves null; bundle resolves null without necessarily closing stream).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 3 ‚Äî CLI bootstrap / fast paths
+- Encyclopedia says: bootstrap fast-paths for `--version`, `--mcp-cli`, `--ripgrep`, else dynamic-import main.
+- CLI.js actually: 2.0.67 `dD5()` and 2.0.69 `XF5()` implement exactly that decision tree.
+- TypeScript has: `src/cli.ts` implements `--version`, `--mcp-cli`, `--ripgrep`, plus TS-only commands (`doctor`, `engine-only`, `--print-frame`, `-p/--prompt`); does not replicate all upstream flags (e.g., `--teleport`, `--remote`, etc.).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 3.1 Entry function: `dD5()` vs `XF5()`
+- Encyclopedia says: detailed order of checks and behavior of each fast path.
+- CLI.js actually: matches (including `process.exit(await mainMcpCli(...))` and `process.exitCode = ripgrepMain(...)`).
+- TypeScript has: conceptually similar, but the ‚Äúmain app‚Äù is a different TS engine (`runNodeCli`/Ink adapter) and upstream parity is incomplete.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 4 ‚Äî Permissions, rules, and tool approval
+- Encyclopedia says: permission pipeline with modes + flattened rules + tool-specific checks + Bash special casing + rule persistence.
+- CLI.js actually: permission parsing (`NL/IL`), explanation builder (`YK/JK`), Bash redirection parsing (`OT/UT`), and the decision/persist pipeline exist in both bundles.
+- TypeScript has: substantial implementation in `src/core/permissions/*`, but not 1:1 (see 4.9).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 4.1 Data model: `ToolPermissionContext`
+- Encyclopedia says: stable, non-minified property names (mode + rule buckets + working dirs + bypass availability).
+- CLI.js actually: the object shape uses stable field names as documented.
+- TypeScript has: `ToolPermissionContext` and related unions in `src/core/permissions/types.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.2 Rule syntax: `Tool(ruleContent)` and plain tool rules
+- Encyclopedia says: simple regex parser and stringifier with no nested/escaped parentheses support.
+- CLI.js actually: `NL/IL` are simple `^([^(]+)\\(([^)]+)\\)$` parsers; `X5/B5` are simple formatters.
+- TypeScript has: `parsePermissionRuleString` and `formatPermissionRuleValue` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.3 Flattening rules across sources (precedence list)
+- Encyclopedia says: merge/flatten allow/deny/ask sources using an explicit precedence list.
+- CLI.js actually: both builds fold multiple source buckets into ordered rule lists (preference order matters for ‚Äúfirst match‚Äù).
+- TypeScript has: `LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE` + `flattenRules(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.4 Matching rules to a tool (including MCP server-level rules)
+- Encyclopedia says: tool name matches, plus MCP server-level match (`mcp__server__` matches all that server‚Äôs tools).
+- CLI.js actually: bundle checks MCP name parts and allows server-level rules.
+- TypeScript has: `parseMcpToolName` + `matchesToolName` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.5 First-match queries: find allow/deny/ask rules
+- Encyclopedia says: ‚Äúfirst match wins‚Äù queries for deny/ask/allow.
+- CLI.js actually: permission checks short-circuit by rule order.
+- TypeScript has: `findFirstPlainRule(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.6 Content-keyed rules for a specific tool (domain/path/etc.)
+- Encyclopedia says: index rules keyed by `ruleContent` for tool-specific checks (e.g. WebFetch domain).
+- CLI.js actually: bundle builds per-tool keyed maps for some tools.
+- TypeScript has: `buildContentRuleIndex(...)` in `src/core/permissions/evaluate.ts` (exact-tool-name + `ruleContent` keying).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.7 Core decision function: tool permission gate
+- Encyclopedia says: decision uses deny‚Üíask‚Üítool-specific‚Üímode overrides‚Üíallow‚Üídefault ask; has reasons for UI.
+- CLI.js actually: bundle follows the same broad ordering and generates structured ‚Äúwhy‚Äù reasons.
+- TypeScript has: `decideToolInvocationPermission(...)` in `src/core/permissions/evaluate.ts` (mode overrides + deny/ask/allow + tool-specific check hooks).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.8 Permission-denial messaging and ‚Äúwhy are we asking?‚Äù
+- Encyclopedia says: helper formats human-facing explanation strings by reason kind (rule/mode/sandbox override/etc.).
+- CLI.js actually: `YK/JK` switch across reason types including redirection-aware summaries for Bash subcommands.
+- TypeScript has: `formatPermissionExplanation(...)` and `formatPermissionModeLabel(...)` in `src/core/permissions/explain.ts`; also `PermissionPromptRequest.why` types exist (`src/core/permissions/types.ts`).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS explanations exist, but upstream has more nuanced multi-operation summaries)
+
+### 4.9 Bash redirection parsing used in permission reasoning
+- Encyclopedia says: upstream tokenizes bash, tracks parentheses groups, detects many redirection shapes, returns `{ commandWithoutRedirections, redirections[] }`.
+- CLI.js actually: upstream parsing is sophisticated (it operates on token streams, recognizes `>&`, pipes into redirection, process substitution, etc.).
+- TypeScript has: `parseBashRedirections(...)` in `src/core/permissions/bash.ts`, but it is a much simpler whitespace tokenizer and only handles basic `>` / `>>` (and inline `2>file` forms). It does not match the upstream tokenizer/edge cases.
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS implementation is a simplification)
+
+### 4.10 Applying permission updates to `ToolPermissionContext`
+- Encyclopedia says: update variants (`setMode`, `add/replace/removeRules`, `add/removeDirectories`) + batch apply + persistence to specific settings scopes.
+- CLI.js actually: bundle has update folding and persistence gating to user/project/local settings.
+- TypeScript has: `applyPermissionUpdates(...)` in `src/core/permissions/updates.ts` and persistence via `persistPermissionUpdates(...)` in `src/core/permissions/persistence.ts` (with policy enforcement).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 5 ‚Äî Settings system (schema, merge, IO, watchers)
+- Encyclopedia says: settings sources + paths + parsing/validation + merge + patch writes + watcher/subscription system.
+- CLI.js actually: both bundles have this pipeline and treat settings as a core dependency.
+- TypeScript has: implemented in `src/core/settings/*` with storage-based IO and subscription.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.1 Settings sources (conceptual model)
+- Encyclopedia says: file-backed (user/project/local/policy/flag) + overlays (cliArg/command/session).
+- CLI.js actually: source keys match and are used in both settings and permissions.
+- TypeScript has: `SettingsSource` unions and overlays in `src/core/settings/types.ts` and `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.2 ‚ÄúWhich sources are enabled?‚Äù (`allowedSettingSources`)
+- Encyclopedia says: runtime allowed list + always includes policy+flag; parses CLI comma list.
+- CLI.js actually: both builds compute enabled sources by de-duping allowed + adding policy/flag.
+- TypeScript has: `parseEnabledSettingSourcesFlag(...)` + `computeEnabledFileSettingsSources(...)` in `src/core/settings/sources.ts`, and default allowed list in `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.3 Paths: where each settings source lives
+- Encyclopedia says: stable mapping; Windows policy dir is Program Files if exists else ProgramData; policy settings file is `managed-settings.json`.
+- CLI.js actually: uses platform switches and existence checks for Windows policy dir; file names match.
+- TypeScript has: path logic split across host + legacy paths:
+  - config dir default is `~/.claude` in `src/platform/node/host.ts` (matches docs),
+  - but Windows policy system dir in `src/core/settings/legacyPaths.ts` is simplified to always `C:\\\\ProgramData\\\\ClaudeCode` (missing the Program Files existence check described).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS Windows policy-dir logic differs)
+
+### 5.4 Reading + validating a single settings file
+- Encyclopedia says: read JSON + validate against schema; report errors; corrupted-file handling exists.
+- CLI.js actually: both bundles parse, validate, and include ‚Äúcorrupted config‚Äù backup/restore messaging paths.
+- TypeScript has: storage-backed read + schema validation in `src/core/settings/storage.ts` and `src/core/settings/schema.ts` (file corruption backup UI parity is not implemented because TS stores settings in storage abstraction, not raw files).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 5.5 Getting settings for a *source*: `uB(source)`
+- Encyclopedia says: per-source getter used throughout the app.
+- CLI.js actually: both builds have per-source accessors for settings fragments.
+- TypeScript has: per-source snapshot via `SettingsManager.getEffective().perSource[...]` (`src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.6 Merging settings into ‚Äúeffective settings‚Äù
+- Encyclopedia says: merge pipeline yields ‚Äúeffective settings‚Äù and errors.
+- CLI.js actually: both builds merge across ordered sources and track errors.
+- TypeScript has: merge via `mergeSettingsObjectsInOrder(...)` + manager recomputation (`src/core/settings/merge.ts`, `src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.7 Writing settings patches (partial updates)
+- Encyclopedia says: partial updates/patch writes; atomic persistence; source gating.
+- CLI.js actually: both builds apply partial updates and persist to destination.
+- TypeScript has: `patchSource(...)` and `updateSource(...)` with internal-write suppression in `src/core/settings/manager.ts`, patch application in `src/core/settings/patch.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.8 Watchers + subscriptions (`SF` / `NF`)
+- Encyclopedia says: watcher/subscription system with internal-write suppression and app-side subscription.
+- CLI.js actually: both builds have change notifications and React-side subscribers.
+- TypeScript has: subscription via storage events + event bus in `src/core/settings/manager.ts`; React/Ink-side wiring is different from upstream but the ‚Äúsettings updated‚Äù events exist.
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)
+- Encyclopedia says: hooks multiplexing (settings + plugin + session), matchers, streaming vs non-streaming execution, parsing outputs into effects.
+- CLI.js actually: extensive hooks engine exists in both bundles (`gn/Ln` streaming generators, `hY0/XJ0`, matchers, command hooks).
+- TypeScript has: substantial hooks system in `src/core/hooks/*` (matchers, runner, interpreter, tool pipeline hooks), but it is not yet wired into an end-to-end model/tool loop (see iteration-1 findings).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)
+- Encyclopedia says: AppState provider + notification queue semantics; defines priority/timeouts/invalidations.
+- CLI.js actually: AppState + notifications exist (symbol maps and described queue semantics); deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: notification queue logic exists and matches the documented semantics (`src/core/state/notifications.ts`), but upstream‚Äôs React/Ink AppState provider architecture is not reproduced 1:1.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 8 ‚Äî Teleport + remote sessions (resume web sessions across machines)
+- Encyclopedia says: teleport/remote session flows and key helpers; OAuth-only requirement.
+- CLI.js actually: teleport UI/logic exists (e.g. `tengu_teleport_*` telemetry and resume UI components; symbol map entries appear in the bundle).
+- TypeScript has: no teleport/remote session implementation found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 9 ‚Äî Main REPL UI (Ink/React root component)
+- Encyclopedia says: main REPL UI root, tool-use context and UI overlays, worker/leader prompts, transcript hotkeys.
+- CLI.js actually: REPL root exists and integrates tools/permissions/hooks; deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: TS has a CLI UI (`src/ui/*`) and engine scaffolding, but no upstream-equivalent main model loop/tool calling yet (per iteration-1).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 10 ‚Äî Session browser / resume picker UI
+- Encyclopedia says: resume picker screen/list UI, cross-project helpers, and feature-gated tree browser.
+- CLI.js actually: session browser UI exists (commands/components mentioned in the encyclopedia appear in the bundle).
+- TypeScript has: no equivalent session browser UI found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)
+- Encyclopedia says: command object ‚Äúkinds‚Äù, `/resume` behavior, and plugin migration patterns (e.g. `/review` moved to marketplace plugin).
+- CLI.js actually: slash command system is present and integrated into the REPL.
+- TypeScript has: no upstream-equivalent slash command system found (TS has `src/core/commands/*`, but it is an internal engine command registry, not the REPL slash command UX).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep
+- Encyclopedia says: `update/install/doctor` commands and internal `--ripgrep` fast path.
+- CLI.js actually: all exist (including `--ripgrep` in bootstrap).
+- TypeScript has: `--ripgrep` exists (`src/cli/ripgrep.ts`) and `doctor` exists (`src/cli/doctor.ts`), but `update/install` parity is not implemented.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)
+- Encyclopedia says: Magic Docs agent (parses `# MAGIC DOC: ...`), session quality classifier, and shared helpers; provides bundle line anchors (~4543/4533, etc.).
+- CLI.js actually: verified: both bundles contain the Magic Docs prompt text and `# MAGIC DOC` parsing logic at the referenced lines (e.g. 2.0.67 `tV5` at `cli.js:4543`, 2.0.69 `UD5` at `cli.js:4533`), plus the classifier helpers nearby.
+- TypeScript has: no Magic Docs/classifier/session-memory/prompt-suggestion background agents found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Next chapters (to expand)
+- Encyclopedia says: roadmap of future chapters (git, plugin system, etc.).
+- CLI.js actually: many additional subsystems exist (see ‚ÄúUndocumented Functionality Found‚Äù).
+- TypeScript has: varies by subsystem; many are not yet implemented.
+- Accuracy: ‚úÖ ACCURATE
+
+## Undocumented Functionality Found
+
+The encyclopedia focuses on internal `--mcp-cli` and several core subsystems, but the bundles also expose major **user-facing** command groups that are not described as their own chapters yet.
+
+Extracted from both bundles via `.command("...")` scan (unique command strings):
+
+| Function/Class / CLI Surface | In CLI.js | In Encyclopedia | In TypeScript |
+|------------------------------|-----------|-----------------|---------------|
+| `claude mcp ...` (user-facing MCP management) incl. `serve`, `add*`, `remove`, `get`, `list`, `reset-project-choices` | ‚úÖ | ‚ùå (only `--mcp-cli`) | ‚ùå |
+| `claude plugin ...` (validate/install/update/enable/disable/uninstall) | ‚úÖ | ‚ùå (plugin system mentioned, but not CLI commands) | ‚ùå |
+| `claude marketplace ...` (add/list/update marketplaces) | ‚úÖ | ‚ùå | ‚ùå |
+| `claude setup-token` (long-lived token setup flow) | ‚úÖ | ‚ùå | ‚ùå |
+
+## Version Check
+
+- Encyclopedia versions: 2.0.67, 2.0.69
+- Actual bundle versions (matched via `rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js`):
+  - `bundles/ClaudeAgentSDKCode/cli.js`: `VERSION:"2.0.67"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+  - `bundles/ClaudeCodeCode/cli.js`: `VERSION:"2.0.69"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+- TypeScript version:
+  - package version: `0.1.0` (`package.json`)
+  - default upstream version used for UA shaping in `-p`: `2.0.69` (`src/cli/prompt.ts`, env override `CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION`)
+
+## Encyclopedia Corrections Needed
+
+1. Add a dedicated chapter for the **user-facing MCP management CLI** (`claude mcp ...`) to avoid confusion with the internal `--mcp-cli`.
+2. Add a chapter for **marketplace + plugin CLI management** (`claude marketplace`, `claude plugin`) and `setup-token` (these are substantial and currently ‚Äúinvisible‚Äù in the encyclopedia headings).
+3. Clarify in Chapter 1 that some 2.0.69 anchors (e.g. `cli.js:4750`) point to **usage sites** (e.g. `parseInt(...)||se()`) rather than the function definition site; this is accurate but easy to misread during verification.
+4. In Chapter 5.3, note that Windows policy directory selection is ‚ÄúProgram Files if exists else ProgramData‚Äù in the bundles; TS currently always uses ProgramData unless further logic is added.
+
+## Missing TypeScript Coverage
+
+1. Chapter 1 parity gaps: missing `info` command, missing state-file-mode direct connect for `call`/`read` (TS `--mcp-cli` restricts them to endpoint-only).
+2. Chapter 4.9 parity gap: TS bash-redirection parser is a simplified tokenizer and does not match upstream edge cases.
+3. Chapters 8‚Äì13: teleport/remote sessions, session browser/resume picker, slash commands UX, update/install plumbing, and background agents (Magic Docs/classifier/session memory/prompt suggestion) are not implemented in `src/`.
+4. Undocumented bundle CLI surfaces: `claude mcp`, `claude marketplace`, `claude plugin`, `claude setup-token` are not implemented in `src/`.
+


[35m[3mthinking[0m[0m
**Verifying report details**

I need to make sure the report file includes everything and is correct. So, I‚Äôll update step 5 to include verifying the versions and confirming the report is done. It would be wise to run a quick check to see if the file exists and is properly created. Listing the files and maybe showing the first lines could be a helpful way to double-check everything. I want to be thorough!
[3m[35mfile update:[0m[0m
diff --git a/investigation/iteration-2-encyclopedia-verification.md b/investigation/iteration-2-encyclopedia-verification.md
new file mode 100644
index 0000000000000000000000000000000000000000..ac3dedfee1068faac22210f0219c6612ad3155b8
--- /dev/null
+++ b/investigation/iteration-2-encyclopedia-verification.md
@@ -0,0 +1,334 @@
+# Iteration 2: Encyclopedia Verification
+
+Goal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.
+
+Authoritative inputs used:
+- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)
+- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)
+- `src/`
+- `CLI_ENCYCLOPEDIA.md`
+- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`
+
+## Section-by-Section Audit
+
+### How to read minified symbols (practical decoding rules)
+- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.
+- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.
+- TypeScript has: N/A (documentation/strategy).
+- Accuracy: ‚úÖ ACCURATE
+
+### Canonicalization strategy for the TS rewrite
+- Encyclopedia says: prefer behavioral canonical names and keep a mapping (build symbol ‚Üî canonical TS).
+- CLI.js actually: minified symbol differences across 2.0.67/2.0.69 are real and pervasive; mapping-by-behavior is necessary.
+- TypeScript has: partial ‚Äúcanonicalization‚Äù infrastructure in places (e.g. legacy tool name mapping via `src/core/migration/toolMapping.ts`), but no universal symbol map is enforced.
+- Accuracy: ‚ö†Ô∏è PARTIAL (strategy is sound; repo-wide mapping discipline is not fully realized yet)
+
+### TS rewrite notes (this repo)
+- Encyclopedia says: `-p/--prompt` mimics Claude Code OAuth request shape (Bearer token UA/betas, avoid `/v1/messages?beta=true`), and OAuth refresh / OAuth‚ÜíAPI-key exchange exist but are gated.
+- CLI.js actually: this section is TS-specific; it doesn‚Äôt claim CLI.js behavior beyond request-shape constraints.
+- TypeScript has: implemented in `src/cli/prompt.ts` (Bearer auth for OAuth, UA `claude-cli/<version> (external, <entrypoint>...)`, sets `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20`, avoids SDK beta endpoint; refresh/exchange gated by `CLAUDE_TS_ENABLE_OAUTH_REFRESH` / `CLAUDE_TS_ENABLE_OAUTH_API_KEY_EXCHANGE`).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
+- Encyclopedia says: internal `--mcp-cli` mode; endpoint vs state-file mode; lists/calls/tools/resources.
+- CLI.js actually: `--mcp-cli` entry exists in both bundles‚Äô bootstrap (`dD5`/`XF5`) and contains endpoint + state-file logic.
+- TypeScript has: implemented as `--mcp-cli` in `src/cli.ts` and `src/cli/mcpCli.ts`, but with reduced parity (notably missing direct-connect call/read).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.1 Feature gates & timeouts
+- Encyclopedia says: `MCP_TOOL_TIMEOUT` env var; experimental gate `ENABLE_EXPERIMENTAL_MCP_CLI`; endpoint gate `ENABLE_MCP_CLI_ENDPOINT` (explicit false strings disable).
+- CLI.js actually: 2.0.67 defines `function KAA(){ return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5 }`, `hZ()` checks `ENABLE_EXPERIMENTAL_MCP_CLI`, `_XA()` combines with explicit-false parsing for `ENABLE_MCP_CLI_ENDPOINT`; 2.0.69 mirrors via `se/uZ/_n` (definition vs usage is split across different line anchors in the encyclopedia).
+- TypeScript has: `computeMcpCliGateSnapshotFromEnv` in `src/core/settings/effectiveConfig.ts` + `runMcpCli` fallback timeout `100_000_000` in `src/cli/mcpCli.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.2 Endpoint discovery & mode selection
+- Encyclopedia says: memoized endpoint config loader, endpoint-mode predicate, and a warn-once when endpoint allowed but config missing.
+- CLI.js actually: both bundles memoize endpoint config (`Uu2/qm2`) and gate endpoint-mode (`lH/mH`) with a warning when config is missing.
+- TypeScript has: endpoint config provider + caching via `createMcpEndpointConfigProvider` (`src/core/mcp/client.ts`), and warn-once behavior exists but message is generic (does not include the legacy endpoint-file path + session id).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS warning behavior differs; CLI.js description matches)
+
+### 1.3 Error types
+- Encyclopedia says: `ConnectionFailedError` thrown when MCP connection isn‚Äôt established/connected.
+- CLI.js actually: both bundles define `class VjA/ZjA extends Error { name="ConnectionFailedError" }`.
+- TypeScript has: `ConnectionFailedError` implemented as an `McpError` subclass in `src/core/mcp/errors.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.4 Analytics wrapper for MCP CLI commands
+- Encyclopedia says: wrapper measures `duration_ms`, emits `tengu_mcp_cli_command_executed`, wraps success/failure.
+- CLI.js actually: both builds have `EjA/YjA` wrappers and emit `tengu_mcp_cli_command_executed`.
+- TypeScript has: `withTelemetry(...)` wrapper in `src/cli/mcpCli.ts` and telemetry plumbing in `src/core/observability/telemetry.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.5 State file access & name normalization
+- Encyclopedia says: legacy state file lives under an OS tmpdir path keyed by session id; name normalization used to map `mcp__<server>__<tool>` names.
+- CLI.js actually: both builds read legacy session state and normalize server/tool identifiers (server-level prefixes and `mcp__...` name parsing).
+- TypeScript has: legacy state reader + legacy directory logic in `src/cli/mcpCli.ts`, plus normalization/mapping helpers (`src/core/migration/toolMapping.ts`, `src/core/tools/names.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.6 Endpoint HTTP client (`/mcp`)
+- Encyclopedia says: endpoint calls POST `${endpoint.url}/mcp`, `Authorization: Bearer <key>`, robust error normalization, parses schema.
+- CLI.js actually: both bundles implement `/mcp` endpoint POST and map network/status errors into typed errors (names set from returned `{ type }` when present).
+- TypeScript has: `callMcpEndpoint(...)` in `src/core/mcp/endpointTransport.ts` (fetch-based, validates request/response envelopes, maps HTTP status into `AuthFailedError`/`RateLimitedError`/`ConnectionFailedError`/`ProtocolError`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.7 Direct-connect tool invocation (state-file mode)
+- Encyclopedia says: state-file mode can directly connect and call tools/read resources when endpoint mode isn‚Äôt used (`LV5/pE5`, etc.).
+- CLI.js actually: both bundles implement state-file-mode direct connects and can `tools/call` and `readResource` via connected clients.
+- TypeScript has: **not implemented** (TS `--mcp-cli` help explicitly says `call`/`read` are endpoint-only; state-file mode only supports listing/grep).
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS coverage missing)
+
+### 1.8 CLI command group and subcommands (`commander`)
+- Encyclopedia says: `commander` program with `servers/tools/info/call/grep/resources/read`, switching between endpoint and state-file modes.
+- CLI.js actually: `mcp-cli` is built with commander and includes `info`, plus endpoint vs state-file switching.
+- TypeScript has: implements `servers/tools/resources/grep/call/read` but **no `info` subcommand**, and TS uses manual arg parsing (not commander); state-file mode is reduced (no direct call/read/info).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.9 `--mcp-cli` entry
+- Encyclopedia says: wrapper initializes, parses args, flushes telemetry when not in endpoint mode.
+- CLI.js actually: both builds have `wu2/Mm2` calling `parseAsync` with conditional telemetry flush.
+- TypeScript has: entry exists via `src/cli.ts` dispatch ‚Üí `runMcpCli`, and emits telemetry per command; explicit ‚Äúflush at end‚Äù parity is not clearly replicated.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
+- Encyclopedia says: protocol is `<uint32le len><utf8 payload>`, max len 1,048,576, streaming reader class.
+- CLI.js actually: both bundles set max to `1048576` and implement streaming buffer logic (`RV5` / `nE5`).
+- TypeScript has: `MAX_NATIVE_MESSAGE_BYTES`, `nativeHostLog`, and `NativeHostReader` implemented in `src/platform/desktop/chromeNativeMessaging.ts` (plus `NativeHostWriter`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.1 Constants and logging
+- Encyclopedia says: max payload size = 1,048,576; log prefix `[Claude Chrome Native Host]`.
+- CLI.js actually: matches (`qu2/Rm2 = 1048576`, `OV5/iE5` prefix).
+- TypeScript has: matches exactly (`src/platform/desktop/chromeNativeMessaging.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
+- Encyclopedia says: buffer accumulation, pending resolver, close-on-end/error; validates length and reads full frames.
+- CLI.js actually: matches the described state machine (including invalid length handling).
+- TypeScript has: matches behavior closely (with a minor difference: TS closes on invalid length and resolves null; bundle resolves null without necessarily closing stream).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 3 ‚Äî CLI bootstrap / fast paths
+- Encyclopedia says: bootstrap fast-paths for `--version`, `--mcp-cli`, `--ripgrep`, else dynamic-import main.
+- CLI.js actually: 2.0.67 `dD5()` and 2.0.69 `XF5()` implement exactly that decision tree.
+- TypeScript has: `src/cli.ts` implements `--version`, `--mcp-cli`, `--ripgrep`, plus TS-only commands (`doctor`, `engine-only`, `--print-frame`, `-p/--prompt`); does not replicate all upstream flags (e.g., `--teleport`, `--remote`, etc.).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 3.1 Entry function: `dD5()` vs `XF5()`
+- Encyclopedia says: detailed order of checks and behavior of each fast path.
+- CLI.js actually: matches (including `process.exit(await mainMcpCli(...))` and `process.exitCode = ripgrepMain(...)`).
+- TypeScript has: conceptually similar, but the ‚Äúmain app‚Äù is a different TS engine (`runNodeCli`/Ink adapter) and upstream parity is incomplete.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 4 ‚Äî Permissions, rules, and tool approval
+- Encyclopedia says: permission pipeline with modes + flattened rules + tool-specific checks + Bash special casing + rule persistence.
+- CLI.js actually: permission parsing (`NL/IL`), explanation builder (`YK/JK`), Bash redirection parsing (`OT/UT`), and the decision/persist pipeline exist in both bundles.
+- TypeScript has: substantial implementation in `src/core/permissions/*`, but not 1:1 (see 4.9).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 4.1 Data model: `ToolPermissionContext`
+- Encyclopedia says: stable, non-minified property names (mode + rule buckets + working dirs + bypass availability).
+- CLI.js actually: the object shape uses stable field names as documented.
+- TypeScript has: `ToolPermissionContext` and related unions in `src/core/permissions/types.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.2 Rule syntax: `Tool(ruleContent)` and plain tool rules
+- Encyclopedia says: simple regex parser and stringifier with no nested/escaped parentheses support.
+- CLI.js actually: `NL/IL` are simple `^([^(]+)\\(([^)]+)\\)$` parsers; `X5/B5` are simple formatters.
+- TypeScript has: `parsePermissionRuleString` and `formatPermissionRuleValue` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.3 Flattening rules across sources (precedence list)
+- Encyclopedia says: merge/flatten allow/deny/ask sources using an explicit precedence list.
+- CLI.js actually: both builds fold multiple source buckets into ordered rule lists (preference order matters for ‚Äúfirst match‚Äù).
+- TypeScript has: `LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE` + `flattenRules(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.4 Matching rules to a tool (including MCP server-level rules)
+- Encyclopedia says: tool name matches, plus MCP server-level match (`mcp__server__` matches all that server‚Äôs tools).
+- CLI.js actually: bundle checks MCP name parts and allows server-level rules.
+- TypeScript has: `parseMcpToolName` + `matchesToolName` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.5 First-match queries: find allow/deny/ask rules
+- Encyclopedia says: ‚Äúfirst match wins‚Äù queries for deny/ask/allow.
+- CLI.js actually: permission checks short-circuit by rule order.
+- TypeScript has: `findFirstPlainRule(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.6 Content-keyed rules for a specific tool (domain/path/etc.)
+- Encyclopedia says: index rules keyed by `ruleContent` for tool-specific checks (e.g. WebFetch domain).
+- CLI.js actually: bundle builds per-tool keyed maps for some tools.
+- TypeScript has: `buildContentRuleIndex(...)` in `src/core/permissions/evaluate.ts` (exact-tool-name + `ruleContent` keying).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.7 Core decision function: tool permission gate
+- Encyclopedia says: decision uses deny‚Üíask‚Üítool-specific‚Üímode overrides‚Üíallow‚Üídefault ask; has reasons for UI.
+- CLI.js actually: bundle follows the same broad ordering and generates structured ‚Äúwhy‚Äù reasons.
+- TypeScript has: `decideToolInvocationPermission(...)` in `src/core/permissions/evaluate.ts` (mode overrides + deny/ask/allow + tool-specific check hooks).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.8 Permission-denial messaging and ‚Äúwhy are we asking?‚Äù
+- Encyclopedia says: helper formats human-facing explanation strings by reason kind (rule/mode/sandbox override/etc.).
+- CLI.js actually: `YK/JK` switch across reason types including redirection-aware summaries for Bash subcommands.
+- TypeScript has: `formatPermissionExplanation(...)` and `formatPermissionModeLabel(...)` in `src/core/permissions/explain.ts`; also `PermissionPromptRequest.why` types exist (`src/core/permissions/types.ts`).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS explanations exist, but upstream has more nuanced multi-operation summaries)
+
+### 4.9 Bash redirection parsing used in permission reasoning
+- Encyclopedia says: upstream tokenizes bash, tracks parentheses groups, detects many redirection shapes, returns `{ commandWithoutRedirections, redirections[] }`.
+- CLI.js actually: upstream parsing is sophisticated (it operates on token streams, recognizes `>&`, pipes into redirection, process substitution, etc.).
+- TypeScript has: `parseBashRedirections(...)` in `src/core/permissions/bash.ts`, but it is a much simpler whitespace tokenizer and only handles basic `>` / `>>` (and inline `2>file` forms). It does not match the upstream tokenizer/edge cases.
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS implementation is a simplification)
+
+### 4.10 Applying permission updates to `ToolPermissionContext`
+- Encyclopedia says: update variants (`setMode`, `add/replace/removeRules`, `add/removeDirectories`) + batch apply + persistence to specific settings scopes.
+- CLI.js actually: bundle has update folding and persistence gating to user/project/local settings.
+- TypeScript has: `applyPermissionUpdates(...)` in `src/core/permissions/updates.ts` and persistence via `persistPermissionUpdates(...)` in `src/core/permissions/persistence.ts` (with policy enforcement).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 5 ‚Äî Settings system (schema, merge, IO, watchers)
+- Encyclopedia says: settings sources + paths + parsing/validation + merge + patch writes + watcher/subscription system.
+- CLI.js actually: both bundles have this pipeline and treat settings as a core dependency.
+- TypeScript has: implemented in `src/core/settings/*` with storage-based IO and subscription.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.1 Settings sources (conceptual model)
+- Encyclopedia says: file-backed (user/project/local/policy/flag) + overlays (cliArg/command/session).
+- CLI.js actually: source keys match and are used in both settings and permissions.
+- TypeScript has: `SettingsSource` unions and overlays in `src/core/settings/types.ts` and `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.2 ‚ÄúWhich sources are enabled?‚Äù (`allowedSettingSources`)
+- Encyclopedia says: runtime allowed list + always includes policy+flag; parses CLI comma list.
+- CLI.js actually: both builds compute enabled sources by de-duping allowed + adding policy/flag.
+- TypeScript has: `parseEnabledSettingSourcesFlag(...)` + `computeEnabledFileSettingsSources(...)` in `src/core/settings/sources.ts`, and default allowed list in `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.3 Paths: where each settings source lives
+- Encyclopedia says: stable mapping; Windows policy dir is Program Files if exists else ProgramData; policy settings file is `managed-settings.json`.
+- CLI.js actually: uses platform switches and existence checks for Windows policy dir; file names match.
+- TypeScript has: path logic split across host + legacy paths:
+  - config dir default is `~/.claude` in `src/platform/node/host.ts` (matches docs),
+  - but Windows policy system dir in `src/core/settings/legacyPaths.ts` is simplified to always `C:\\\\ProgramData\\\\ClaudeCode` (missing the Program Files existence check described).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS Windows policy-dir logic differs)
+
+### 5.4 Reading + validating a single settings file
+- Encyclopedia says: read JSON + validate against schema; report errors; corrupted-file handling exists.
+- CLI.js actually: both bundles parse, validate, and include ‚Äúcorrupted config‚Äù backup/restore messaging paths.
+- TypeScript has: storage-backed read + schema validation in `src/core/settings/storage.ts` and `src/core/settings/schema.ts` (file corruption backup UI parity is not implemented because TS stores settings in storage abstraction, not raw files).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 5.5 Getting settings for a *source*: `uB(source)`
+- Encyclopedia says: per-source getter used throughout the app.
+- CLI.js actually: both builds have per-source accessors for settings fragments.
+- TypeScript has: per-source snapshot via `SettingsManager.getEffective().perSource[...]` (`src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.6 Merging settings into ‚Äúeffective settings‚Äù
+- Encyclopedia says: merge pipeline yields ‚Äúeffective settings‚Äù and errors.
+- CLI.js actually: both builds merge across ordered sources and track errors.
+- TypeScript has: merge via `mergeSettingsObjectsInOrder(...)` + manager recomputation (`src/core/settings/merge.ts`, `src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.7 Writing settings patches (partial updates)
+- Encyclopedia says: partial updates/patch writes; atomic persistence; source gating.
+- CLI.js actually: both builds apply partial updates and persist to destination.
+- TypeScript has: `patchSource(...)` and `updateSource(...)` with internal-write suppression in `src/core/settings/manager.ts`, patch application in `src/core/settings/patch.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.8 Watchers + subscriptions (`SF` / `NF`)
+- Encyclopedia says: watcher/subscription system with internal-write suppression and app-side subscription.
+- CLI.js actually: both builds have change notifications and React-side subscribers.
+- TypeScript has: subscription via storage events + event bus in `src/core/settings/manager.ts`; React/Ink-side wiring is different from upstream but the ‚Äúsettings updated‚Äù events exist.
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)
+- Encyclopedia says: hooks multiplexing (settings + plugin + session), matchers, streaming vs non-streaming execution, parsing outputs into effects.
+- CLI.js actually: extensive hooks engine exists in both bundles (`gn/Ln` streaming generators, `hY0/XJ0`, matchers, command hooks).
+- TypeScript has: substantial hooks system in `src/core/hooks/*` (matchers, runner, interpreter, tool pipeline hooks), but it is not yet wired into an end-to-end model/tool loop (see iteration-1 findings).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)
+- Encyclopedia says: AppState provider + notification queue semantics; defines priority/timeouts/invalidations.
+- CLI.js actually: AppState + notifications exist (symbol maps and described queue semantics); deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: notification queue logic exists and matches the documented semantics (`src/core/state/notifications.ts`), but upstream‚Äôs React/Ink AppState provider architecture is not reproduced 1:1.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 8 ‚Äî Teleport + remote sessions (resume web sessions across machines)
+- Encyclopedia says: teleport/remote session flows and key helpers; OAuth-only requirement.
+- CLI.js actually: teleport UI/logic exists (e.g. `tengu_teleport_*` telemetry and resume UI components; symbol map entries appear in the bundle).
+- TypeScript has: no teleport/remote session implementation found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 9 ‚Äî Main REPL UI (Ink/React root component)
+- Encyclopedia says: main REPL UI root, tool-use context and UI overlays, worker/leader prompts, transcript hotkeys.
+- CLI.js actually: REPL root exists and integrates tools/permissions/hooks; deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: TS has a CLI UI (`src/ui/*`) and engine scaffolding, but no upstream-equivalent main model loop/tool calling yet (per iteration-1).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 10 ‚Äî Session browser / resume picker UI
+- Encyclopedia says: resume picker screen/list UI, cross-project helpers, and feature-gated tree browser.
+- CLI.js actually: session browser UI exists (commands/components mentioned in the encyclopedia appear in the bundle).
+- TypeScript has: no equivalent session browser UI found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)
+- Encyclopedia says: command object ‚Äúkinds‚Äù, `/resume` behavior, and plugin migration patterns (e.g. `/review` moved to marketplace plugin).
+- CLI.js actually: slash command system is present and integrated into the REPL.
+- TypeScript has: no upstream-equivalent slash command system found (TS has `src/core/commands/*`, but it is an internal engine command registry, not the REPL slash command UX).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep
+- Encyclopedia says: `update/install/doctor` commands and internal `--ripgrep` fast path.
+- CLI.js actually: all exist (including `--ripgrep` in bootstrap).
+- TypeScript has: `--ripgrep` exists (`src/cli/ripgrep.ts`) and `doctor` exists (`src/cli/doctor.ts`), but `update/install` parity is not implemented.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)
+- Encyclopedia says: Magic Docs agent (parses `# MAGIC DOC: ...`), session quality classifier, and shared helpers; provides bundle line anchors (~4543/4533, etc.).
+- CLI.js actually: verified: both bundles contain the Magic Docs prompt text and `# MAGIC DOC` parsing logic at the referenced lines (e.g. 2.0.67 `tV5` at `cli.js:4543`, 2.0.69 `UD5` at `cli.js:4533`), plus the classifier helpers nearby.
+- TypeScript has: no Magic Docs/classifier/session-memory/prompt-suggestion background agents found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Next chapters (to expand)
+- Encyclopedia says: roadmap of future chapters (git, plugin system, etc.).
+- CLI.js actually: many additional subsystems exist (see ‚ÄúUndocumented Functionality Found‚Äù).
+- TypeScript has: varies by subsystem; many are not yet implemented.
+- Accuracy: ‚úÖ ACCURATE
+
+## Undocumented Functionality Found
+
+The encyclopedia focuses on internal `--mcp-cli` and several core subsystems, but the bundles also expose major **user-facing** command groups that are not described as their own chapters yet.
+
+Extracted from both bundles via `.command("...")` scan (unique command strings):
+
+| Function/Class / CLI Surface | In CLI.js | In Encyclopedia | In TypeScript |
+|------------------------------|-----------|-----------------|---------------|
+| `claude mcp ...` (user-facing MCP management) incl. `serve`, `add*`, `remove`, `get`, `list`, `reset-project-choices` | ‚úÖ | ‚ùå (only `--mcp-cli`) | ‚ùå |
+| `claude plugin ...` (validate/install/update/enable/disable/uninstall) | ‚úÖ | ‚ùå (plugin system mentioned, but not CLI commands) | ‚ùå |
+| `claude marketplace ...` (add/list/update marketplaces) | ‚úÖ | ‚ùå | ‚ùå |
+| `claude setup-token` (long-lived token setup flow) | ‚úÖ | ‚ùå | ‚ùå |
+
+## Version Check
+
+- Encyclopedia versions: 2.0.67, 2.0.69
+- Actual bundle versions (matched via `rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js`):
+  - `bundles/ClaudeAgentSDKCode/cli.js`: `VERSION:"2.0.67"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+  - `bundles/ClaudeCodeCode/cli.js`: `VERSION:"2.0.69"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+- TypeScript version:
+  - package version: `0.1.0` (`package.json`)
+  - default upstream version used for UA shaping in `-p`: `2.0.69` (`src/cli/prompt.ts`, env override `CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION`)
+
+## Encyclopedia Corrections Needed
+
+1. Add a dedicated chapter for the **user-facing MCP management CLI** (`claude mcp ...`) to avoid confusion with the internal `--mcp-cli`.
+2. Add a chapter for **marketplace + plugin CLI management** (`claude marketplace`, `claude plugin`) and `setup-token` (these are substantial and currently ‚Äúinvisible‚Äù in the encyclopedia headings).
+3. Clarify in Chapter 1 that some 2.0.69 anchors (e.g. `cli.js:4750`) point to **usage sites** (e.g. `parseInt(...)||se()`) rather than the function definition site; this is accurate but easy to misread during verification.
+4. In Chapter 5.3, note that Windows policy directory selection is ‚ÄúProgram Files if exists else ProgramData‚Äù in the bundles; TS currently always uses ProgramData unless further logic is added.
+
+## Missing TypeScript Coverage
+
+1. Chapter 1 parity gaps: missing `info` command, missing state-file-mode direct connect for `call`/`read` (TS `--mcp-cli` restricts them to endpoint-only).
+2. Chapter 4.9 parity gap: TS bash-redirection parser is a simplified tokenizer and does not match upstream edge cases.
+3. Chapters 8‚Äì13: teleport/remote sessions, session browser/resume picker, slash commands UX, update/install plumbing, and background agents (Magic Docs/classifier/session memory/prompt suggestion) are not implemented in `src/`.
+4. Undocumented bundle CLI surfaces: `claude mcp`, `claude marketplace`, `claude plugin`, `claude setup-token` are not implemented in `src/`.
+

[35m[3mexec[0m[0m
[1m/bin/zsh -lc "ls -la investigation/iteration-2-encyclopedia-verification.md && sed -n '1,40p' investigation/iteration-2-encyclopedia-verification.md"[0m in /Users/ronaldeddings/ClaudeCodeTS[32m succeeded in 52ms:[0m
[2m-rw-r--r--  1 ronaldeddings  staff  26387 Dec 20 11:58 investigation/iteration-2-encyclopedia-verification.md
# Iteration 2: Encyclopedia Verification

Goal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.

Authoritative inputs used:
- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)
- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)
- `src/`
- `CLI_ENCYCLOPEDIA.md`
- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`

## Section-by-Section Audit

### How to read minified symbols (practical decoding rules)
- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.
- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.
- TypeScript has: N/A (documentation/strategy).
- Accuracy: ‚úÖ ACCURATE
[0m
[3m[35mfile update:[0m[0m
diff --git a/investigation/iteration-2-encyclopedia-verification.md b/investigation/iteration-2-encyclopedia-verification.md
new file mode 100644
index 0000000000000000000000000000000000000000..ac3dedfee1068faac22210f0219c6612ad3155b8
--- /dev/null
+++ b/investigation/iteration-2-encyclopedia-verification.md
@@ -0,0 +1,334 @@
+# Iteration 2: Encyclopedia Verification
+
+Goal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.
+
+Authoritative inputs used:
+- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)
+- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)
+- `src/`
+- `CLI_ENCYCLOPEDIA.md`
+- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`
+
+## Section-by-Section Audit
+
+### How to read minified symbols (practical decoding rules)
+- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.
+- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.
+- TypeScript has: N/A (documentation/strategy).
+- Accuracy: ‚úÖ ACCURATE
+
+### Canonicalization strategy for the TS rewrite
+- Encyclopedia says: prefer behavioral canonical names and keep a mapping (build symbol ‚Üî canonical TS).
+- CLI.js actually: minified symbol differences across 2.0.67/2.0.69 are real and pervasive; mapping-by-behavior is necessary.
+- TypeScript has: partial ‚Äúcanonicalization‚Äù infrastructure in places (e.g. legacy tool name mapping via `src/core/migration/toolMapping.ts`), but no universal symbol map is enforced.
+- Accuracy: ‚ö†Ô∏è PARTIAL (strategy is sound; repo-wide mapping discipline is not fully realized yet)
+
+### TS rewrite notes (this repo)
+- Encyclopedia says: `-p/--prompt` mimics Claude Code OAuth request shape (Bearer token UA/betas, avoid `/v1/messages?beta=true`), and OAuth refresh / OAuth‚ÜíAPI-key exchange exist but are gated.
+- CLI.js actually: this section is TS-specific; it doesn‚Äôt claim CLI.js behavior beyond request-shape constraints.
+- TypeScript has: implemented in `src/cli/prompt.ts` (Bearer auth for OAuth, UA `claude-cli/<version> (external, <entrypoint>...)`, sets `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20`, avoids SDK beta endpoint; refresh/exchange gated by `CLAUDE_TS_ENABLE_OAUTH_REFRESH` / `CLAUDE_TS_ENABLE_OAUTH_API_KEY_EXCHANGE`).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
+- Encyclopedia says: internal `--mcp-cli` mode; endpoint vs state-file mode; lists/calls/tools/resources.
+- CLI.js actually: `--mcp-cli` entry exists in both bundles‚Äô bootstrap (`dD5`/`XF5`) and contains endpoint + state-file logic.
+- TypeScript has: implemented as `--mcp-cli` in `src/cli.ts` and `src/cli/mcpCli.ts`, but with reduced parity (notably missing direct-connect call/read).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.1 Feature gates & timeouts
+- Encyclopedia says: `MCP_TOOL_TIMEOUT` env var; experimental gate `ENABLE_EXPERIMENTAL_MCP_CLI`; endpoint gate `ENABLE_MCP_CLI_ENDPOINT` (explicit false strings disable).
+- CLI.js actually: 2.0.67 defines `function KAA(){ return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5 }`, `hZ()` checks `ENABLE_EXPERIMENTAL_MCP_CLI`, `_XA()` combines with explicit-false parsing for `ENABLE_MCP_CLI_ENDPOINT`; 2.0.69 mirrors via `se/uZ/_n` (definition vs usage is split across different line anchors in the encyclopedia).
+- TypeScript has: `computeMcpCliGateSnapshotFromEnv` in `src/core/settings/effectiveConfig.ts` + `runMcpCli` fallback timeout `100_000_000` in `src/cli/mcpCli.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.2 Endpoint discovery & mode selection
+- Encyclopedia says: memoized endpoint config loader, endpoint-mode predicate, and a warn-once when endpoint allowed but config missing.
+- CLI.js actually: both bundles memoize endpoint config (`Uu2/qm2`) and gate endpoint-mode (`lH/mH`) with a warning when config is missing.
+- TypeScript has: endpoint config provider + caching via `createMcpEndpointConfigProvider` (`src/core/mcp/client.ts`), and warn-once behavior exists but message is generic (does not include the legacy endpoint-file path + session id).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS warning behavior differs; CLI.js description matches)
+
+### 1.3 Error types
+- Encyclopedia says: `ConnectionFailedError` thrown when MCP connection isn‚Äôt established/connected.
+- CLI.js actually: both bundles define `class VjA/ZjA extends Error { name="ConnectionFailedError" }`.
+- TypeScript has: `ConnectionFailedError` implemented as an `McpError` subclass in `src/core/mcp/errors.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.4 Analytics wrapper for MCP CLI commands
+- Encyclopedia says: wrapper measures `duration_ms`, emits `tengu_mcp_cli_command_executed`, wraps success/failure.
+- CLI.js actually: both builds have `EjA/YjA` wrappers and emit `tengu_mcp_cli_command_executed`.
+- TypeScript has: `withTelemetry(...)` wrapper in `src/cli/mcpCli.ts` and telemetry plumbing in `src/core/observability/telemetry.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.5 State file access & name normalization
+- Encyclopedia says: legacy state file lives under an OS tmpdir path keyed by session id; name normalization used to map `mcp__<server>__<tool>` names.
+- CLI.js actually: both builds read legacy session state and normalize server/tool identifiers (server-level prefixes and `mcp__...` name parsing).
+- TypeScript has: legacy state reader + legacy directory logic in `src/cli/mcpCli.ts`, plus normalization/mapping helpers (`src/core/migration/toolMapping.ts`, `src/core/tools/names.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.6 Endpoint HTTP client (`/mcp`)
+- Encyclopedia says: endpoint calls POST `${endpoint.url}/mcp`, `Authorization: Bearer <key>`, robust error normalization, parses schema.
+- CLI.js actually: both bundles implement `/mcp` endpoint POST and map network/status errors into typed errors (names set from returned `{ type }` when present).
+- TypeScript has: `callMcpEndpoint(...)` in `src/core/mcp/endpointTransport.ts` (fetch-based, validates request/response envelopes, maps HTTP status into `AuthFailedError`/`RateLimitedError`/`ConnectionFailedError`/`ProtocolError`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.7 Direct-connect tool invocation (state-file mode)
+- Encyclopedia says: state-file mode can directly connect and call tools/read resources when endpoint mode isn‚Äôt used (`LV5/pE5`, etc.).
+- CLI.js actually: both bundles implement state-file-mode direct connects and can `tools/call` and `readResource` via connected clients.
+- TypeScript has: **not implemented** (TS `--mcp-cli` help explicitly says `call`/`read` are endpoint-only; state-file mode only supports listing/grep).
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS coverage missing)
+
+### 1.8 CLI command group and subcommands (`commander`)
+- Encyclopedia says: `commander` program with `servers/tools/info/call/grep/resources/read`, switching between endpoint and state-file modes.
+- CLI.js actually: `mcp-cli` is built with commander and includes `info`, plus endpoint vs state-file switching.
+- TypeScript has: implements `servers/tools/resources/grep/call/read` but **no `info` subcommand**, and TS uses manual arg parsing (not commander); state-file mode is reduced (no direct call/read/info).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.9 `--mcp-cli` entry
+- Encyclopedia says: wrapper initializes, parses args, flushes telemetry when not in endpoint mode.
+- CLI.js actually: both builds have `wu2/Mm2` calling `parseAsync` with conditional telemetry flush.
+- TypeScript has: entry exists via `src/cli.ts` dispatch ‚Üí `runMcpCli`, and emits telemetry per command; explicit ‚Äúflush at end‚Äù parity is not clearly replicated.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
+- Encyclopedia says: protocol is `<uint32le len><utf8 payload>`, max len 1,048,576, streaming reader class.
+- CLI.js actually: both bundles set max to `1048576` and implement streaming buffer logic (`RV5` / `nE5`).
+- TypeScript has: `MAX_NATIVE_MESSAGE_BYTES`, `nativeHostLog`, and `NativeHostReader` implemented in `src/platform/desktop/chromeNativeMessaging.ts` (plus `NativeHostWriter`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.1 Constants and logging
+- Encyclopedia says: max payload size = 1,048,576; log prefix `[Claude Chrome Native Host]`.
+- CLI.js actually: matches (`qu2/Rm2 = 1048576`, `OV5/iE5` prefix).
+- TypeScript has: matches exactly (`src/platform/desktop/chromeNativeMessaging.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
+- Encyclopedia says: buffer accumulation, pending resolver, close-on-end/error; validates length and reads full frames.
+- CLI.js actually: matches the described state machine (including invalid length handling).
+- TypeScript has: matches behavior closely (with a minor difference: TS closes on invalid length and resolves null; bundle resolves null without necessarily closing stream).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 3 ‚Äî CLI bootstrap / fast paths
+- Encyclopedia says: bootstrap fast-paths for `--version`, `--mcp-cli`, `--ripgrep`, else dynamic-import main.
+- CLI.js actually: 2.0.67 `dD5()` and 2.0.69 `XF5()` implement exactly that decision tree.
+- TypeScript has: `src/cli.ts` implements `--version`, `--mcp-cli`, `--ripgrep`, plus TS-only commands (`doctor`, `engine-only`, `--print-frame`, `-p/--prompt`); does not replicate all upstream flags (e.g., `--teleport`, `--remote`, etc.).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 3.1 Entry function: `dD5()` vs `XF5()`
+- Encyclopedia says: detailed order of checks and behavior of each fast path.
+- CLI.js actually: matches (including `process.exit(await mainMcpCli(...))` and `process.exitCode = ripgrepMain(...)`).
+- TypeScript has: conceptually similar, but the ‚Äúmain app‚Äù is a different TS engine (`runNodeCli`/Ink adapter) and upstream parity is incomplete.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 4 ‚Äî Permissions, rules, and tool approval
+- Encyclopedia says: permission pipeline with modes + flattened rules + tool-specific checks + Bash special casing + rule persistence.
+- CLI.js actually: permission parsing (`NL/IL`), explanation builder (`YK/JK`), Bash redirection parsing (`OT/UT`), and the decision/persist pipeline exist in both bundles.
+- TypeScript has: substantial implementation in `src/core/permissions/*`, but not 1:1 (see 4.9).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 4.1 Data model: `ToolPermissionContext`
+- Encyclopedia says: stable, non-minified property names (mode + rule buckets + working dirs + bypass availability).
+- CLI.js actually: the object shape uses stable field names as documented.
+- TypeScript has: `ToolPermissionContext` and related unions in `src/core/permissions/types.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.2 Rule syntax: `Tool(ruleContent)` and plain tool rules
+- Encyclopedia says: simple regex parser and stringifier with no nested/escaped parentheses support.
+- CLI.js actually: `NL/IL` are simple `^([^(]+)\\(([^)]+)\\)$` parsers; `X5/B5` are simple formatters.
+- TypeScript has: `parsePermissionRuleString` and `formatPermissionRuleValue` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.3 Flattening rules across sources (precedence list)
+- Encyclopedia says: merge/flatten allow/deny/ask sources using an explicit precedence list.
+- CLI.js actually: both builds fold multiple source buckets into ordered rule lists (preference order matters for ‚Äúfirst match‚Äù).
+- TypeScript has: `LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE` + `flattenRules(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.4 Matching rules to a tool (including MCP server-level rules)
+- Encyclopedia says: tool name matches, plus MCP server-level match (`mcp__server__` matches all that server‚Äôs tools).
+- CLI.js actually: bundle checks MCP name parts and allows server-level rules.
+- TypeScript has: `parseMcpToolName` + `matchesToolName` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.5 First-match queries: find allow/deny/ask rules
+- Encyclopedia says: ‚Äúfirst match wins‚Äù queries for deny/ask/allow.
+- CLI.js actually: permission checks short-circuit by rule order.
+- TypeScript has: `findFirstPlainRule(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.6 Content-keyed rules for a specific tool (domain/path/etc.)
+- Encyclopedia says: index rules keyed by `ruleContent` for tool-specific checks (e.g. WebFetch domain).
+- CLI.js actually: bundle builds per-tool keyed maps for some tools.
+- TypeScript has: `buildContentRuleIndex(...)` in `src/core/permissions/evaluate.ts` (exact-tool-name + `ruleContent` keying).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.7 Core decision function: tool permission gate
+- Encyclopedia says: decision uses deny‚Üíask‚Üítool-specific‚Üímode overrides‚Üíallow‚Üídefault ask; has reasons for UI.
+- CLI.js actually: bundle follows the same broad ordering and generates structured ‚Äúwhy‚Äù reasons.
+- TypeScript has: `decideToolInvocationPermission(...)` in `src/core/permissions/evaluate.ts` (mode overrides + deny/ask/allow + tool-specific check hooks).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.8 Permission-denial messaging and ‚Äúwhy are we asking?‚Äù
+- Encyclopedia says: helper formats human-facing explanation strings by reason kind (rule/mode/sandbox override/etc.).
+- CLI.js actually: `YK/JK` switch across reason types including redirection-aware summaries for Bash subcommands.
+- TypeScript has: `formatPermissionExplanation(...)` and `formatPermissionModeLabel(...)` in `src/core/permissions/explain.ts`; also `PermissionPromptRequest.why` types exist (`src/core/permissions/types.ts`).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS explanations exist, but upstream has more nuanced multi-operation summaries)
+
+### 4.9 Bash redirection parsing used in permission reasoning
+- Encyclopedia says: upstream tokenizes bash, tracks parentheses groups, detects many redirection shapes, returns `{ commandWithoutRedirections, redirections[] }`.
+- CLI.js actually: upstream parsing is sophisticated (it operates on token streams, recognizes `>&`, pipes into redirection, process substitution, etc.).
+- TypeScript has: `parseBashRedirections(...)` in `src/core/permissions/bash.ts`, but it is a much simpler whitespace tokenizer and only handles basic `>` / `>>` (and inline `2>file` forms). It does not match the upstream tokenizer/edge cases.
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS implementation is a simplification)
+
+### 4.10 Applying permission updates to `ToolPermissionContext`
+- Encyclopedia says: update variants (`setMode`, `add/replace/removeRules`, `add/removeDirectories`) + batch apply + persistence to specific settings scopes.
+- CLI.js actually: bundle has update folding and persistence gating to user/project/local settings.
+- TypeScript has: `applyPermissionUpdates(...)` in `src/core/permissions/updates.ts` and persistence via `persistPermissionUpdates(...)` in `src/core/permissions/persistence.ts` (with policy enforcement).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 5 ‚Äî Settings system (schema, merge, IO, watchers)
+- Encyclopedia says: settings sources + paths + parsing/validation + merge + patch writes + watcher/subscription system.
+- CLI.js actually: both bundles have this pipeline and treat settings as a core dependency.
+- TypeScript has: implemented in `src/core/settings/*` with storage-based IO and subscription.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.1 Settings sources (conceptual model)
+- Encyclopedia says: file-backed (user/project/local/policy/flag) + overlays (cliArg/command/session).
+- CLI.js actually: source keys match and are used in both settings and permissions.
+- TypeScript has: `SettingsSource` unions and overlays in `src/core/settings/types.ts` and `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.2 ‚ÄúWhich sources are enabled?‚Äù (`allowedSettingSources`)
+- Encyclopedia says: runtime allowed list + always includes policy+flag; parses CLI comma list.
+- CLI.js actually: both builds compute enabled sources by de-duping allowed + adding policy/flag.
+- TypeScript has: `parseEnabledSettingSourcesFlag(...)` + `computeEnabledFileSettingsSources(...)` in `src/core/settings/sources.ts`, and default allowed list in `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.3 Paths: where each settings source lives
+- Encyclopedia says: stable mapping; Windows policy dir is Program Files if exists else ProgramData; policy settings file is `managed-settings.json`.
+- CLI.js actually: uses platform switches and existence checks for Windows policy dir; file names match.
+- TypeScript has: path logic split across host + legacy paths:
+  - config dir default is `~/.claude` in `src/platform/node/host.ts` (matches docs),
+  - but Windows policy system dir in `src/core/settings/legacyPaths.ts` is simplified to always `C:\\\\ProgramData\\\\ClaudeCode` (missing the Program Files existence check described).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS Windows policy-dir logic differs)
+
+### 5.4 Reading + validating a single settings file
+- Encyclopedia says: read JSON + validate against schema; report errors; corrupted-file handling exists.
+- CLI.js actually: both bundles parse, validate, and include ‚Äúcorrupted config‚Äù backup/restore messaging paths.
+- TypeScript has: storage-backed read + schema validation in `src/core/settings/storage.ts` and `src/core/settings/schema.ts` (file corruption backup UI parity is not implemented because TS stores settings in storage abstraction, not raw files).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 5.5 Getting settings for a *source*: `uB(source)`
+- Encyclopedia says: per-source getter used throughout the app.
+- CLI.js actually: both builds have per-source accessors for settings fragments.
+- TypeScript has: per-source snapshot via `SettingsManager.getEffective().perSource[...]` (`src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.6 Merging settings into ‚Äúeffective settings‚Äù
+- Encyclopedia says: merge pipeline yields ‚Äúeffective settings‚Äù and errors.
+- CLI.js actually: both builds merge across ordered sources and track errors.
+- TypeScript has: merge via `mergeSettingsObjectsInOrder(...)` + manager recomputation (`src/core/settings/merge.ts`, `src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.7 Writing settings patches (partial updates)
+- Encyclopedia says: partial updates/patch writes; atomic persistence; source gating.
+- CLI.js actually: both builds apply partial updates and persist to destination.
+- TypeScript has: `patchSource(...)` and `updateSource(...)` with internal-write suppression in `src/core/settings/manager.ts`, patch application in `src/core/settings/patch.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.8 Watchers + subscriptions (`SF` / `NF`)
+- Encyclopedia says: watcher/subscription system with internal-write suppression and app-side subscription.
+- CLI.js actually: both builds have change notifications and React-side subscribers.
+- TypeScript has: subscription via storage events + event bus in `src/core/settings/manager.ts`; React/Ink-side wiring is different from upstream but the ‚Äúsettings updated‚Äù events exist.
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)
+- Encyclopedia says: hooks multiplexing (settings + plugin + session), matchers, streaming vs non-streaming execution, parsing outputs into effects.
+- CLI.js actually: extensive hooks engine exists in both bundles (`gn/Ln` streaming generators, `hY0/XJ0`, matchers, command hooks).
+- TypeScript has: substantial hooks system in `src/core/hooks/*` (matchers, runner, interpreter, tool pipeline hooks), but it is not yet wired into an end-to-end model/tool loop (see iteration-1 findings).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)
+- Encyclopedia says: AppState provider + notification queue semantics; defines priority/timeouts/invalidations.
+- CLI.js actually: AppState + notifications exist (symbol maps and described queue semantics); deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: notification queue logic exists and matches the documented semantics (`src/core/state/notifications.ts`), but upstream‚Äôs React/Ink AppState provider architecture is not reproduced 1:1.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 8 ‚Äî Teleport + remote sessions (resume web sessions across machines)
+- Encyclopedia says: teleport/remote session flows and key helpers; OAuth-only requirement.
+- CLI.js actually: teleport UI/logic exists (e.g. `tengu_teleport_*` telemetry and resume UI components; symbol map entries appear in the bundle).
+- TypeScript has: no teleport/remote session implementation found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 9 ‚Äî Main REPL UI (Ink/React root component)
+- Encyclopedia says: main REPL UI root, tool-use context and UI overlays, worker/leader prompts, transcript hotkeys.
+- CLI.js actually: REPL root exists and integrates tools/permissions/hooks; deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: TS has a CLI UI (`src/ui/*`) and engine scaffolding, but no upstream-equivalent main model loop/tool calling yet (per iteration-1).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 10 ‚Äî Session browser / resume picker UI
+- Encyclopedia says: resume picker screen/list UI, cross-project helpers, and feature-gated tree browser.
+- CLI.js actually: session browser UI exists (commands/components mentioned in the encyclopedia appear in the bundle).
+- TypeScript has: no equivalent session browser UI found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)
+- Encyclopedia says: command object ‚Äúkinds‚Äù, `/resume` behavior, and plugin migration patterns (e.g. `/review` moved to marketplace plugin).
+- CLI.js actually: slash command system is present and integrated into the REPL.
+- TypeScript has: no upstream-equivalent slash command system found (TS has `src/core/commands/*`, but it is an internal engine command registry, not the REPL slash command UX).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep
+- Encyclopedia says: `update/install/doctor` commands and internal `--ripgrep` fast path.
+- CLI.js actually: all exist (including `--ripgrep` in bootstrap).
+- TypeScript has: `--ripgrep` exists (`src/cli/ripgrep.ts`) and `doctor` exists (`src/cli/doctor.ts`), but `update/install` parity is not implemented.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)
+- Encyclopedia says: Magic Docs agent (parses `# MAGIC DOC: ...`), session quality classifier, and shared helpers; provides bundle line anchors (~4543/4533, etc.).
+- CLI.js actually: verified: both bundles contain the Magic Docs prompt text and `# MAGIC DOC` parsing logic at the referenced lines (e.g. 2.0.67 `tV5` at `cli.js:4543`, 2.0.69 `UD5` at `cli.js:4533`), plus the classifier helpers nearby.
+- TypeScript has: no Magic Docs/classifier/session-memory/prompt-suggestion background agents found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Next chapters (to expand)
+- Encyclopedia says: roadmap of future chapters (git, plugin system, etc.).
+- CLI.js actually: many additional subsystems exist (see ‚ÄúUndocumented Functionality Found‚Äù).
+- TypeScript has: varies by subsystem; many are not yet implemented.
+- Accuracy: ‚úÖ ACCURATE
+
+## Undocumented Functionality Found
+
+The encyclopedia focuses on internal `--mcp-cli` and several core subsystems, but the bundles also expose major **user-facing** command groups that are not described as their own chapters yet.
+
+Extracted from both bundles via `.command("...")` scan (unique command strings):
+
+| Function/Class / CLI Surface | In CLI.js | In Encyclopedia | In TypeScript |
+|------------------------------|-----------|-----------------|---------------|
+| `claude mcp ...` (user-facing MCP management) incl. `serve`, `add*`, `remove`, `get`, `list`, `reset-project-choices` | ‚úÖ | ‚ùå (only `--mcp-cli`) | ‚ùå |
+| `claude plugin ...` (validate/install/update/enable/disable/uninstall) | ‚úÖ | ‚ùå (plugin system mentioned, but not CLI commands) | ‚ùå |
+| `claude marketplace ...` (add/list/update marketplaces) | ‚úÖ | ‚ùå | ‚ùå |
+| `claude setup-token` (long-lived token setup flow) | ‚úÖ | ‚ùå | ‚ùå |
+
+## Version Check
+
+- Encyclopedia versions: 2.0.67, 2.0.69
+- Actual bundle versions (matched via `rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js`):
+  - `bundles/ClaudeAgentSDKCode/cli.js`: `VERSION:"2.0.67"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+  - `bundles/ClaudeCodeCode/cli.js`: `VERSION:"2.0.69"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+- TypeScript version:
+  - package version: `0.1.0` (`package.json`)
+  - default upstream version used for UA shaping in `-p`: `2.0.69` (`src/cli/prompt.ts`, env override `CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION`)
+
+## Encyclopedia Corrections Needed
+
+1. Add a dedicated chapter for the **user-facing MCP management CLI** (`claude mcp ...`) to avoid confusion with the internal `--mcp-cli`.
+2. Add a chapter for **marketplace + plugin CLI management** (`claude marketplace`, `claude plugin`) and `setup-token` (these are substantial and currently ‚Äúinvisible‚Äù in the encyclopedia headings).
+3. Clarify in Chapter 1 that some 2.0.69 anchors (e.g. `cli.js:4750`) point to **usage sites** (e.g. `parseInt(...)||se()`) rather than the function definition site; this is accurate but easy to misread during verification.
+4. In Chapter 5.3, note that Windows policy directory selection is ‚ÄúProgram Files if exists else ProgramData‚Äù in the bundles; TS currently always uses ProgramData unless further logic is added.
+
+## Missing TypeScript Coverage
+
+1. Chapter 1 parity gaps: missing `info` command, missing state-file-mode direct connect for `call`/`read` (TS `--mcp-cli` restricts them to endpoint-only).
+2. Chapter 4.9 parity gap: TS bash-redirection parser is a simplified tokenizer and does not match upstream edge cases.
+3. Chapters 8‚Äì13: teleport/remote sessions, session browser/resume picker, slash commands UX, update/install plumbing, and background agents (Magic Docs/classifier/session memory/prompt suggestion) are not implemented in `src/`.
+4. Undocumented bundle CLI surfaces: `claude mcp`, `claude marketplace`, `claude plugin`, `claude setup-token` are not implemented in `src/`.
+

[35mPlan update[0m
[3mCreated the iteration-2 verification report with a section-by-section audit, an undocumented bundle functionality table, version verification, and concrete corrections/missing-coverage lists.[0m
  [32m‚úì[0m Read encyclopedia and iteration-1 findings
  [32m‚úì[0m Audit each encyclopedia section vs bundles
  [32m‚úì[0m Search bundles for undocumented features
  [32m‚úì[0m Check TypeScript coverage in src
  [32m‚úì[0m Verify versions and write report
[35m[3mcodex[0m[0m
Wrote the verification report to `investigation/iteration-2-encyclopedia-verification.md`.

Key findings captured there:
- Chapters 1‚Äì5 are largely accurate vs both bundles, with notable TS parity gaps in MCP CLI direct-connect (`call`/`read`/`info`) and Bash redirection parsing.
- Major bundled user-facing CLIs not represented as encyclopedia chapters: `claude mcp ...`, `claude marketplace ...`, `claude plugin ...`, `claude setup-token`.
- Versions verified: bundles contain `VERSION:"2.0.67"` and `VERSION:"2.0.69"`; TS package is `0.1.0` (prompt UA defaults to `2.0.69`).
[3m[35mfile update:[0m[0m
diff --git a/investigation/iteration-2-encyclopedia-verification.md b/investigation/iteration-2-encyclopedia-verification.md
new file mode 100644
index 0000000000000000000000000000000000000000..ac3dedfee1068faac22210f0219c6612ad3155b8
--- /dev/null
+++ b/investigation/iteration-2-encyclopedia-verification.md
@@ -0,0 +1,334 @@
+# Iteration 2: Encyclopedia Verification
+
+Goal: verify `CLI_ENCYCLOPEDIA.md` against the authoritative bundled CLIs (`bundles/*/cli.js`) and check what the TypeScript rewrite (`src/`) currently covers.
+
+Authoritative inputs used:
+- `bundles/ClaudeAgentSDKCode/cli.js` (contains `VERSION:"2.0.67"`)
+- `bundles/ClaudeCodeCode/cli.js` (contains `VERSION:"2.0.69"`)
+- `src/`
+- `CLI_ENCYCLOPEDIA.md`
+- Prior findings: `investigation/investigation-20251220-112837/iterations/iteration-1-output.md`
+
+## Section-by-Section Audit
+
+### How to read minified symbols (practical decoding rules)
+- Encyclopedia says: bundled module patterns (`q(()=>{...})` init thunks, wrappers, interop helpers) and why names aren‚Äôt stable.
+- CLI.js actually: both bundles use `var <X>=q(()=>{...})` module init thunks (e.g. around the MCP gates block) and wrappers like `var <X>=w((exports)=>{...})` plus interop like `o(KA(),1)`.
+- TypeScript has: N/A (documentation/strategy).
+- Accuracy: ‚úÖ ACCURATE
+
+### Canonicalization strategy for the TS rewrite
+- Encyclopedia says: prefer behavioral canonical names and keep a mapping (build symbol ‚Üî canonical TS).
+- CLI.js actually: minified symbol differences across 2.0.67/2.0.69 are real and pervasive; mapping-by-behavior is necessary.
+- TypeScript has: partial ‚Äúcanonicalization‚Äù infrastructure in places (e.g. legacy tool name mapping via `src/core/migration/toolMapping.ts`), but no universal symbol map is enforced.
+- Accuracy: ‚ö†Ô∏è PARTIAL (strategy is sound; repo-wide mapping discipline is not fully realized yet)
+
+### TS rewrite notes (this repo)
+- Encyclopedia says: `-p/--prompt` mimics Claude Code OAuth request shape (Bearer token UA/betas, avoid `/v1/messages?beta=true`), and OAuth refresh / OAuth‚ÜíAPI-key exchange exist but are gated.
+- CLI.js actually: this section is TS-specific; it doesn‚Äôt claim CLI.js behavior beyond request-shape constraints.
+- TypeScript has: implemented in `src/cli/prompt.ts` (Bearer auth for OAuth, UA `claude-cli/<version> (external, <entrypoint>...)`, sets `anthropic-beta` including `claude-code-20250219` + `oauth-2025-04-20`, avoids SDK beta endpoint; refresh/exchange gated by `CLAUDE_TS_ENABLE_OAUTH_REFRESH` / `CLAUDE_TS_ENABLE_OAUTH_API_KEY_EXCHANGE`).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 1 ‚Äî MCP CLI (internal `--mcp-cli` tool)
+- Encyclopedia says: internal `--mcp-cli` mode; endpoint vs state-file mode; lists/calls/tools/resources.
+- CLI.js actually: `--mcp-cli` entry exists in both bundles‚Äô bootstrap (`dD5`/`XF5`) and contains endpoint + state-file logic.
+- TypeScript has: implemented as `--mcp-cli` in `src/cli.ts` and `src/cli/mcpCli.ts`, but with reduced parity (notably missing direct-connect call/read).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.1 Feature gates & timeouts
+- Encyclopedia says: `MCP_TOOL_TIMEOUT` env var; experimental gate `ENABLE_EXPERIMENTAL_MCP_CLI`; endpoint gate `ENABLE_MCP_CLI_ENDPOINT` (explicit false strings disable).
+- CLI.js actually: 2.0.67 defines `function KAA(){ return parseInt(process.env.MCP_TOOL_TIMEOUT||"",10)||wK5 }`, `hZ()` checks `ENABLE_EXPERIMENTAL_MCP_CLI`, `_XA()` combines with explicit-false parsing for `ENABLE_MCP_CLI_ENDPOINT`; 2.0.69 mirrors via `se/uZ/_n` (definition vs usage is split across different line anchors in the encyclopedia).
+- TypeScript has: `computeMcpCliGateSnapshotFromEnv` in `src/core/settings/effectiveConfig.ts` + `runMcpCli` fallback timeout `100_000_000` in `src/cli/mcpCli.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.2 Endpoint discovery & mode selection
+- Encyclopedia says: memoized endpoint config loader, endpoint-mode predicate, and a warn-once when endpoint allowed but config missing.
+- CLI.js actually: both bundles memoize endpoint config (`Uu2/qm2`) and gate endpoint-mode (`lH/mH`) with a warning when config is missing.
+- TypeScript has: endpoint config provider + caching via `createMcpEndpointConfigProvider` (`src/core/mcp/client.ts`), and warn-once behavior exists but message is generic (does not include the legacy endpoint-file path + session id).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS warning behavior differs; CLI.js description matches)
+
+### 1.3 Error types
+- Encyclopedia says: `ConnectionFailedError` thrown when MCP connection isn‚Äôt established/connected.
+- CLI.js actually: both bundles define `class VjA/ZjA extends Error { name="ConnectionFailedError" }`.
+- TypeScript has: `ConnectionFailedError` implemented as an `McpError` subclass in `src/core/mcp/errors.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.4 Analytics wrapper for MCP CLI commands
+- Encyclopedia says: wrapper measures `duration_ms`, emits `tengu_mcp_cli_command_executed`, wraps success/failure.
+- CLI.js actually: both builds have `EjA/YjA` wrappers and emit `tengu_mcp_cli_command_executed`.
+- TypeScript has: `withTelemetry(...)` wrapper in `src/cli/mcpCli.ts` and telemetry plumbing in `src/core/observability/telemetry.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.5 State file access & name normalization
+- Encyclopedia says: legacy state file lives under an OS tmpdir path keyed by session id; name normalization used to map `mcp__<server>__<tool>` names.
+- CLI.js actually: both builds read legacy session state and normalize server/tool identifiers (server-level prefixes and `mcp__...` name parsing).
+- TypeScript has: legacy state reader + legacy directory logic in `src/cli/mcpCli.ts`, plus normalization/mapping helpers (`src/core/migration/toolMapping.ts`, `src/core/tools/names.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.6 Endpoint HTTP client (`/mcp`)
+- Encyclopedia says: endpoint calls POST `${endpoint.url}/mcp`, `Authorization: Bearer <key>`, robust error normalization, parses schema.
+- CLI.js actually: both bundles implement `/mcp` endpoint POST and map network/status errors into typed errors (names set from returned `{ type }` when present).
+- TypeScript has: `callMcpEndpoint(...)` in `src/core/mcp/endpointTransport.ts` (fetch-based, validates request/response envelopes, maps HTTP status into `AuthFailedError`/`RateLimitedError`/`ConnectionFailedError`/`ProtocolError`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 1.7 Direct-connect tool invocation (state-file mode)
+- Encyclopedia says: state-file mode can directly connect and call tools/read resources when endpoint mode isn‚Äôt used (`LV5/pE5`, etc.).
+- CLI.js actually: both bundles implement state-file-mode direct connects and can `tools/call` and `readResource` via connected clients.
+- TypeScript has: **not implemented** (TS `--mcp-cli` help explicitly says `call`/`read` are endpoint-only; state-file mode only supports listing/grep).
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS coverage missing)
+
+### 1.8 CLI command group and subcommands (`commander`)
+- Encyclopedia says: `commander` program with `servers/tools/info/call/grep/resources/read`, switching between endpoint and state-file modes.
+- CLI.js actually: `mcp-cli` is built with commander and includes `info`, plus endpoint vs state-file switching.
+- TypeScript has: implements `servers/tools/resources/grep/call/read` but **no `info` subcommand**, and TS uses manual arg parsing (not commander); state-file mode is reduced (no direct call/read/info).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 1.9 `--mcp-cli` entry
+- Encyclopedia says: wrapper initializes, parses args, flushes telemetry when not in endpoint mode.
+- CLI.js actually: both builds have `wu2/Mm2` calling `parseAsync` with conditional telemetry flush.
+- TypeScript has: entry exists via `src/cli.ts` dispatch ‚Üí `runMcpCli`, and emits telemetry per command; explicit ‚Äúflush at end‚Äù parity is not clearly replicated.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 2 ‚Äî Chrome Native Host message reader (length-prefixed stdin)
+- Encyclopedia says: protocol is `<uint32le len><utf8 payload>`, max len 1,048,576, streaming reader class.
+- CLI.js actually: both bundles set max to `1048576` and implement streaming buffer logic (`RV5` / `nE5`).
+- TypeScript has: `MAX_NATIVE_MESSAGE_BYTES`, `nativeHostLog`, and `NativeHostReader` implemented in `src/platform/desktop/chromeNativeMessaging.ts` (plus `NativeHostWriter`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.1 Constants and logging
+- Encyclopedia says: max payload size = 1,048,576; log prefix `[Claude Chrome Native Host]`.
+- CLI.js actually: matches (`qu2/Rm2 = 1048576`, `OV5/iE5` prefix).
+- TypeScript has: matches exactly (`src/platform/desktop/chromeNativeMessaging.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 2.2 `class RV5` / `class nE5` ‚Äî streaming length-prefixed reader
+- Encyclopedia says: buffer accumulation, pending resolver, close-on-end/error; validates length and reads full frames.
+- CLI.js actually: matches the described state machine (including invalid length handling).
+- TypeScript has: matches behavior closely (with a minor difference: TS closes on invalid length and resolves null; bundle resolves null without necessarily closing stream).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 3 ‚Äî CLI bootstrap / fast paths
+- Encyclopedia says: bootstrap fast-paths for `--version`, `--mcp-cli`, `--ripgrep`, else dynamic-import main.
+- CLI.js actually: 2.0.67 `dD5()` and 2.0.69 `XF5()` implement exactly that decision tree.
+- TypeScript has: `src/cli.ts` implements `--version`, `--mcp-cli`, `--ripgrep`, plus TS-only commands (`doctor`, `engine-only`, `--print-frame`, `-p/--prompt`); does not replicate all upstream flags (e.g., `--teleport`, `--remote`, etc.).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 3.1 Entry function: `dD5()` vs `XF5()`
+- Encyclopedia says: detailed order of checks and behavior of each fast path.
+- CLI.js actually: matches (including `process.exit(await mainMcpCli(...))` and `process.exitCode = ripgrepMain(...)`).
+- TypeScript has: conceptually similar, but the ‚Äúmain app‚Äù is a different TS engine (`runNodeCli`/Ink adapter) and upstream parity is incomplete.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 4 ‚Äî Permissions, rules, and tool approval
+- Encyclopedia says: permission pipeline with modes + flattened rules + tool-specific checks + Bash special casing + rule persistence.
+- CLI.js actually: permission parsing (`NL/IL`), explanation builder (`YK/JK`), Bash redirection parsing (`OT/UT`), and the decision/persist pipeline exist in both bundles.
+- TypeScript has: substantial implementation in `src/core/permissions/*`, but not 1:1 (see 4.9).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 4.1 Data model: `ToolPermissionContext`
+- Encyclopedia says: stable, non-minified property names (mode + rule buckets + working dirs + bypass availability).
+- CLI.js actually: the object shape uses stable field names as documented.
+- TypeScript has: `ToolPermissionContext` and related unions in `src/core/permissions/types.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.2 Rule syntax: `Tool(ruleContent)` and plain tool rules
+- Encyclopedia says: simple regex parser and stringifier with no nested/escaped parentheses support.
+- CLI.js actually: `NL/IL` are simple `^([^(]+)\\(([^)]+)\\)$` parsers; `X5/B5` are simple formatters.
+- TypeScript has: `parsePermissionRuleString` and `formatPermissionRuleValue` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.3 Flattening rules across sources (precedence list)
+- Encyclopedia says: merge/flatten allow/deny/ask sources using an explicit precedence list.
+- CLI.js actually: both builds fold multiple source buckets into ordered rule lists (preference order matters for ‚Äúfirst match‚Äù).
+- TypeScript has: `LEGACY_PERMISSION_RULE_SOURCE_PRECEDENCE` + `flattenRules(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.4 Matching rules to a tool (including MCP server-level rules)
+- Encyclopedia says: tool name matches, plus MCP server-level match (`mcp__server__` matches all that server‚Äôs tools).
+- CLI.js actually: bundle checks MCP name parts and allows server-level rules.
+- TypeScript has: `parseMcpToolName` + `matchesToolName` in `src/core/permissions/rules.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.5 First-match queries: find allow/deny/ask rules
+- Encyclopedia says: ‚Äúfirst match wins‚Äù queries for deny/ask/allow.
+- CLI.js actually: permission checks short-circuit by rule order.
+- TypeScript has: `findFirstPlainRule(...)` in `src/core/permissions/evaluate.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.6 Content-keyed rules for a specific tool (domain/path/etc.)
+- Encyclopedia says: index rules keyed by `ruleContent` for tool-specific checks (e.g. WebFetch domain).
+- CLI.js actually: bundle builds per-tool keyed maps for some tools.
+- TypeScript has: `buildContentRuleIndex(...)` in `src/core/permissions/evaluate.ts` (exact-tool-name + `ruleContent` keying).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.7 Core decision function: tool permission gate
+- Encyclopedia says: decision uses deny‚Üíask‚Üítool-specific‚Üímode overrides‚Üíallow‚Üídefault ask; has reasons for UI.
+- CLI.js actually: bundle follows the same broad ordering and generates structured ‚Äúwhy‚Äù reasons.
+- TypeScript has: `decideToolInvocationPermission(...)` in `src/core/permissions/evaluate.ts` (mode overrides + deny/ask/allow + tool-specific check hooks).
+- Accuracy: ‚úÖ ACCURATE
+
+### 4.8 Permission-denial messaging and ‚Äúwhy are we asking?‚Äù
+- Encyclopedia says: helper formats human-facing explanation strings by reason kind (rule/mode/sandbox override/etc.).
+- CLI.js actually: `YK/JK` switch across reason types including redirection-aware summaries for Bash subcommands.
+- TypeScript has: `formatPermissionExplanation(...)` and `formatPermissionModeLabel(...)` in `src/core/permissions/explain.ts`; also `PermissionPromptRequest.why` types exist (`src/core/permissions/types.ts`).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS explanations exist, but upstream has more nuanced multi-operation summaries)
+
+### 4.9 Bash redirection parsing used in permission reasoning
+- Encyclopedia says: upstream tokenizes bash, tracks parentheses groups, detects many redirection shapes, returns `{ commandWithoutRedirections, redirections[] }`.
+- CLI.js actually: upstream parsing is sophisticated (it operates on token streams, recognizes `>&`, pipes into redirection, process substitution, etc.).
+- TypeScript has: `parseBashRedirections(...)` in `src/core/permissions/bash.ts`, but it is a much simpler whitespace tokenizer and only handles basic `>` / `>>` (and inline `2>file` forms). It does not match the upstream tokenizer/edge cases.
+- Accuracy: ‚ö†Ô∏è PARTIAL (encyclopedia matches CLI.js; TS implementation is a simplification)
+
+### 4.10 Applying permission updates to `ToolPermissionContext`
+- Encyclopedia says: update variants (`setMode`, `add/replace/removeRules`, `add/removeDirectories`) + batch apply + persistence to specific settings scopes.
+- CLI.js actually: bundle has update folding and persistence gating to user/project/local settings.
+- TypeScript has: `applyPermissionUpdates(...)` in `src/core/permissions/updates.ts` and persistence via `persistPermissionUpdates(...)` in `src/core/permissions/persistence.ts` (with policy enforcement).
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 5 ‚Äî Settings system (schema, merge, IO, watchers)
+- Encyclopedia says: settings sources + paths + parsing/validation + merge + patch writes + watcher/subscription system.
+- CLI.js actually: both bundles have this pipeline and treat settings as a core dependency.
+- TypeScript has: implemented in `src/core/settings/*` with storage-based IO and subscription.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.1 Settings sources (conceptual model)
+- Encyclopedia says: file-backed (user/project/local/policy/flag) + overlays (cliArg/command/session).
+- CLI.js actually: source keys match and are used in both settings and permissions.
+- TypeScript has: `SettingsSource` unions and overlays in `src/core/settings/types.ts` and `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.2 ‚ÄúWhich sources are enabled?‚Äù (`allowedSettingSources`)
+- Encyclopedia says: runtime allowed list + always includes policy+flag; parses CLI comma list.
+- CLI.js actually: both builds compute enabled sources by de-duping allowed + adding policy/flag.
+- TypeScript has: `parseEnabledSettingSourcesFlag(...)` + `computeEnabledFileSettingsSources(...)` in `src/core/settings/sources.ts`, and default allowed list in `src/core/settings/manager.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.3 Paths: where each settings source lives
+- Encyclopedia says: stable mapping; Windows policy dir is Program Files if exists else ProgramData; policy settings file is `managed-settings.json`.
+- CLI.js actually: uses platform switches and existence checks for Windows policy dir; file names match.
+- TypeScript has: path logic split across host + legacy paths:
+  - config dir default is `~/.claude` in `src/platform/node/host.ts` (matches docs),
+  - but Windows policy system dir in `src/core/settings/legacyPaths.ts` is simplified to always `C:\\\\ProgramData\\\\ClaudeCode` (missing the Program Files existence check described).
+- Accuracy: ‚ö†Ô∏è PARTIAL (TS Windows policy-dir logic differs)
+
+### 5.4 Reading + validating a single settings file
+- Encyclopedia says: read JSON + validate against schema; report errors; corrupted-file handling exists.
+- CLI.js actually: both bundles parse, validate, and include ‚Äúcorrupted config‚Äù backup/restore messaging paths.
+- TypeScript has: storage-backed read + schema validation in `src/core/settings/storage.ts` and `src/core/settings/schema.ts` (file corruption backup UI parity is not implemented because TS stores settings in storage abstraction, not raw files).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### 5.5 Getting settings for a *source*: `uB(source)`
+- Encyclopedia says: per-source getter used throughout the app.
+- CLI.js actually: both builds have per-source accessors for settings fragments.
+- TypeScript has: per-source snapshot via `SettingsManager.getEffective().perSource[...]` (`src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.6 Merging settings into ‚Äúeffective settings‚Äù
+- Encyclopedia says: merge pipeline yields ‚Äúeffective settings‚Äù and errors.
+- CLI.js actually: both builds merge across ordered sources and track errors.
+- TypeScript has: merge via `mergeSettingsObjectsInOrder(...)` + manager recomputation (`src/core/settings/merge.ts`, `src/core/settings/manager.ts`).
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.7 Writing settings patches (partial updates)
+- Encyclopedia says: partial updates/patch writes; atomic persistence; source gating.
+- CLI.js actually: both builds apply partial updates and persist to destination.
+- TypeScript has: `patchSource(...)` and `updateSource(...)` with internal-write suppression in `src/core/settings/manager.ts`, patch application in `src/core/settings/patch.ts`.
+- Accuracy: ‚úÖ ACCURATE
+
+### 5.8 Watchers + subscriptions (`SF` / `NF`)
+- Encyclopedia says: watcher/subscription system with internal-write suppression and app-side subscription.
+- CLI.js actually: both builds have change notifications and React-side subscribers.
+- TypeScript has: subscription via storage events + event bus in `src/core/settings/manager.ts`; React/Ink-side wiring is different from upstream but the ‚Äúsettings updated‚Äù events exist.
+- Accuracy: ‚úÖ ACCURATE
+
+### Chapter 6 ‚Äî Hooks subsystem (commands, prompts, agents)
+- Encyclopedia says: hooks multiplexing (settings + plugin + session), matchers, streaming vs non-streaming execution, parsing outputs into effects.
+- CLI.js actually: extensive hooks engine exists in both bundles (`gn/Ln` streaming generators, `hY0/XJ0`, matchers, command hooks).
+- TypeScript has: substantial hooks system in `src/core/hooks/*` (matchers, runner, interpreter, tool pipeline hooks), but it is not yet wired into an end-to-end model/tool loop (see iteration-1 findings).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 7 ‚Äî AppState runtime + notifications (React/Ink state backbone)
+- Encyclopedia says: AppState provider + notification queue semantics; defines priority/timeouts/invalidations.
+- CLI.js actually: AppState + notifications exist (symbol maps and described queue semantics); deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: notification queue logic exists and matches the documented semantics (`src/core/state/notifications.ts`), but upstream‚Äôs React/Ink AppState provider architecture is not reproduced 1:1.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 8 ‚Äî Teleport + remote sessions (resume web sessions across machines)
+- Encyclopedia says: teleport/remote session flows and key helpers; OAuth-only requirement.
+- CLI.js actually: teleport UI/logic exists (e.g. `tengu_teleport_*` telemetry and resume UI components; symbol map entries appear in the bundle).
+- TypeScript has: no teleport/remote session implementation found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 9 ‚Äî Main REPL UI (Ink/React root component)
+- Encyclopedia says: main REPL UI root, tool-use context and UI overlays, worker/leader prompts, transcript hotkeys.
+- CLI.js actually: REPL root exists and integrates tools/permissions/hooks; deeper verification beyond spot-check is not completed in this iteration.
+- TypeScript has: TS has a CLI UI (`src/ui/*`) and engine scaffolding, but no upstream-equivalent main model loop/tool calling yet (per iteration-1).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 10 ‚Äî Session browser / resume picker UI
+- Encyclopedia says: resume picker screen/list UI, cross-project helpers, and feature-gated tree browser.
+- CLI.js actually: session browser UI exists (commands/components mentioned in the encyclopedia appear in the bundle).
+- TypeScript has: no equivalent session browser UI found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 11 ‚Äî Slash commands (command objects + `/resume` deep dive)
+- Encyclopedia says: command object ‚Äúkinds‚Äù, `/resume` behavior, and plugin migration patterns (e.g. `/review` moved to marketplace plugin).
+- CLI.js actually: slash command system is present and integrated into the REPL.
+- TypeScript has: no upstream-equivalent slash command system found (TS has `src/core/commands/*`, but it is an internal engine command registry, not the REPL slash command UX).
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 12 ‚Äî Update/install/doctor + embedded ripgrep
+- Encyclopedia says: `update/install/doctor` commands and internal `--ripgrep` fast path.
+- CLI.js actually: all exist (including `--ripgrep` in bootstrap).
+- TypeScript has: `--ripgrep` exists (`src/cli/ripgrep.ts`) and `doctor` exists (`src/cli/doctor.ts`), but `update/install` parity is not implemented.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Chapter 13 ‚Äî Built-in background agents (Magic Docs + classifier + session memory + prompt suggestion)
+- Encyclopedia says: Magic Docs agent (parses `# MAGIC DOC: ...`), session quality classifier, and shared helpers; provides bundle line anchors (~4543/4533, etc.).
+- CLI.js actually: verified: both bundles contain the Magic Docs prompt text and `# MAGIC DOC` parsing logic at the referenced lines (e.g. 2.0.67 `tV5` at `cli.js:4543`, 2.0.69 `UD5` at `cli.js:4533`), plus the classifier helpers nearby.
+- TypeScript has: no Magic Docs/classifier/session-memory/prompt-suggestion background agents found in `src/`.
+- Accuracy: ‚ö†Ô∏è PARTIAL
+
+### Next chapters (to expand)
+- Encyclopedia says: roadmap of future chapters (git, plugin system, etc.).
+- CLI.js actually: many additional subsystems exist (see ‚ÄúUndocumented Functionality Found‚Äù).
+- TypeScript has: varies by subsystem; many are not yet implemented.
+- Accuracy: ‚úÖ ACCURATE
+
+## Undocumented Functionality Found
+
+The encyclopedia focuses on internal `--mcp-cli` and several core subsystems, but the bundles also expose major **user-facing** command groups that are not described as their own chapters yet.
+
+Extracted from both bundles via `.command("...")` scan (unique command strings):
+
+| Function/Class / CLI Surface | In CLI.js | In Encyclopedia | In TypeScript |
+|------------------------------|-----------|-----------------|---------------|
+| `claude mcp ...` (user-facing MCP management) incl. `serve`, `add*`, `remove`, `get`, `list`, `reset-project-choices` | ‚úÖ | ‚ùå (only `--mcp-cli`) | ‚ùå |
+| `claude plugin ...` (validate/install/update/enable/disable/uninstall) | ‚úÖ | ‚ùå (plugin system mentioned, but not CLI commands) | ‚ùå |
+| `claude marketplace ...` (add/list/update marketplaces) | ‚úÖ | ‚ùå | ‚ùå |
+| `claude setup-token` (long-lived token setup flow) | ‚úÖ | ‚ùå | ‚ùå |
+
+## Version Check
+
+- Encyclopedia versions: 2.0.67, 2.0.69
+- Actual bundle versions (matched via `rg -o 'VERSION:\"2\\.0\\.[0-9]+\"' bundles/*/cli.js`):
+  - `bundles/ClaudeAgentSDKCode/cli.js`: `VERSION:"2.0.67"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+  - `bundles/ClaudeCodeCode/cli.js`: `VERSION:"2.0.69"` (also contains `VERSION:"2.0.0"` in other embedded metadata)
+- TypeScript version:
+  - package version: `0.1.0` (`package.json`)
+  - default upstream version used for UA shaping in `-p`: `2.0.69` (`src/cli/prompt.ts`, env override `CLAUDE_TS_UPSTREAM_CLAUDE_CLI_VERSION`)
+
+## Encyclopedia Corrections Needed
+
+1. Add a dedicated chapter for the **user-facing MCP management CLI** (`claude mcp ...`) to avoid confusion with the internal `--mcp-cli`.
+2. Add a chapter for **marketplace + plugin CLI management** (`claude marketplace`, `claude plugin`) and `setup-token` (these are substantial and currently ‚Äúinvisible‚Äù in the encyclopedia headings).
+3. Clarify in Chapter 1 that some 2.0.69 anchors (e.g. `cli.js:4750`) point to **usage sites** (e.g. `parseInt(...)||se()`) rather than the function definition site; this is accurate but easy to misread during verification.
+4. In Chapter 5.3, note that Windows policy directory selection is ‚ÄúProgram Files if exists else ProgramData‚Äù in the bundles; TS currently always uses ProgramData unless further logic is added.
+
+## Missing TypeScript Coverage
+
+1. Chapter 1 parity gaps: missing `info` command, missing state-file-mode direct connect for `call`/`read` (TS `--mcp-cli` restricts them to endpoint-only).
+2. Chapter 4.9 parity gap: TS bash-redirection parser is a simplified tokenizer and does not match upstream edge cases.
+3. Chapters 8‚Äì13: teleport/remote sessions, session browser/resume picker, slash commands UX, update/install plumbing, and background agents (Magic Docs/classifier/session memory/prompt suggestion) are not implemented in `src/`.
+4. Undocumented bundle CLI surfaces: `claude mcp`, `claude marketplace`, `claude plugin`, `claude setup-token` are not implemented in `src/`.
+

[3m[35mtokens used[0m[0m
688,164
Wrote the verification report to `investigation/iteration-2-encyclopedia-verification.md`.

Key findings captured there:
- Chapters 1‚Äì5 are largely accurate vs both bundles, with notable TS parity gaps in MCP CLI direct-connect (`call`/`read`/`info`) and Bash redirection parsing.
- Major bundled user-facing CLIs not represented as encyclopedia chapters: `claude mcp ...`, `claude marketplace ...`, `claude plugin ...`, `claude setup-token`.
- Versions verified: bundles contain `VERSION:"2.0.67"` and `VERSION:"2.0.69"`; TS package is `0.1.0` (prompt UA defaults to `2.0.69`).
